webpackJsonpac__name_([6],{

/***/ 1169:
/* unknown exports provided */
/* all exports used */
/*!*************************************************************************!*\
  !*** ./src/app/pages/editors/components/ckeditor/ckeditor.component.ts ***!
  \*************************************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar core_1 = __webpack_require__(/*! @angular/core */ 0);\r\n__webpack_require__(/*! ./ckeditor.loader.ts */ 1316);\r\nvar Ckeditor = (function () {\r\n    function Ckeditor() {\r\n        this.ckeditorContent = '<p>Hello CKEditor</p>';\r\n        this.config = {\r\n            uiColor: '#F0F3F4',\r\n            height: '600'\r\n        };\r\n    }\r\n    Ckeditor = __decorate([\r\n        core_1.Component({\r\n            selector: 'ckeditor-component',\r\n            encapsulation: core_1.ViewEncapsulation.None,\r\n            template: __webpack_require__(/*! ./ckeditor.html */ 1725),\r\n            styles: [__webpack_require__(/*! ./ckeditor.scss */ 1699)]\r\n        }), \r\n        __metadata('design:paramtypes', [])\r\n    ], Ckeditor);\r\n    return Ckeditor;\r\n}());\r\nexports.Ckeditor = Ckeditor;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTE2OS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9hcHAvcGFnZXMvZWRpdG9ycy9jb21wb25lbnRzL2NrZWRpdG9yL2NrZWRpdG9yLmNvbXBvbmVudC50cz83OWIzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbXBvbmVudCwgVmlld0VuY2Fwc3VsYXRpb24gfSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuXHJcbmltcG9ydCAnLi9ja2VkaXRvci5sb2FkZXIudHMnO1xyXG5cclxuQENvbXBvbmVudCh7XHJcbiAgc2VsZWN0b3I6ICdja2VkaXRvci1jb21wb25lbnQnLFxyXG4gIGVuY2Fwc3VsYXRpb246IFZpZXdFbmNhcHN1bGF0aW9uLk5vbmUsXHJcbiAgdGVtcGxhdGU6IHJlcXVpcmUoJy4vY2tlZGl0b3IuaHRtbCcpLFxyXG4gIHN0eWxlczogW3JlcXVpcmUoJy4vY2tlZGl0b3Iuc2NzcycpXVxyXG59KVxyXG5cclxuZXhwb3J0IGNsYXNzIENrZWRpdG9yIHtcclxuICBwdWJsaWMgY2tlZGl0b3JDb250ZW50OnN0cmluZyA9ICc8cD5IZWxsbyBDS0VkaXRvcjwvcD4nO1xyXG4gIHB1YmxpYyBjb25maWcgPSB7XHJcbiAgICB1aUNvbG9yOiAnI0YwRjNGNCcsXHJcbiAgICBoZWlnaHQ6ICc2MDAnXHJcbiAgfTtcclxuXHJcbiAgY29uc3RydWN0b3IoKSB7XHJcbiAgfVxyXG59XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBub2RlX21vZHVsZXMvYW5ndWxhcjItdGVtcGxhdGUtbG9hZGVyIS4vfi9hbmd1bGFyMi1yb3V0ZXItbG9hZGVyL3NyYyEuL34vc3RyaW5nLXJlcGxhY2UtbG9hZGVyP3tcInNlYXJjaFwiOnt9LFwicmVwbGFjZVwiOlwiJDEuaW1wb3J0KCQzKS50aGVuKG1vZCA9PiAobW9kLl9fZXNNb2R1bGUgJiYgbW9kLmRlZmF1bHQpID8gbW9kLmRlZmF1bHQgOiBtb2QpXCJ9IS4vc3JjL2FwcC9wYWdlcy9lZGl0b3JzL2NvbXBvbmVudHMvY2tlZGl0b3IvY2tlZGl0b3IuY29tcG9uZW50LnRzIl0sIm1hcHBpbmdzIjoiO0FBQUE7QUFFQTtBQVNBO0FBT0E7QUFOQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFmQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFBQTtBQVdBO0FBQUE7QUFUQTsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),

/***/ 1170:
/* unknown exports provided */
/* all exports used */
/*!****************************************************!*\
  !*** ./src/app/pages/editors/editors.component.ts ***!
  \****************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar core_1 = __webpack_require__(/*! @angular/core */ 0);\r\nvar Editors = (function () {\r\n    function Editors() {\r\n    }\r\n    Editors = __decorate([\r\n        core_1.Component({\r\n            selector: 'editors',\r\n            template: \"<router-outlet></router-outlet>\"\r\n        }), \r\n        __metadata('design:paramtypes', [])\r\n    ], Editors);\r\n    return Editors;\r\n}());\r\nexports.Editors = Editors;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTE3MC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9hcHAvcGFnZXMvZWRpdG9ycy9lZGl0b3JzLmNvbXBvbmVudC50cz9kNWUyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7Q29tcG9uZW50fSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuXHJcbkBDb21wb25lbnQoe1xyXG4gIHNlbGVjdG9yOiAnZWRpdG9ycycsXHJcbiAgdGVtcGxhdGU6IGA8cm91dGVyLW91dGxldD48L3JvdXRlci1vdXRsZXQ+YFxyXG59KVxyXG5leHBvcnQgY2xhc3MgRWRpdG9ycyB7XHJcbiAgY29uc3RydWN0b3IoKSB7XHJcbiAgfVxyXG59XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBub2RlX21vZHVsZXMvYW5ndWxhcjItdGVtcGxhdGUtbG9hZGVyIS4vfi9hbmd1bGFyMi1yb3V0ZXItbG9hZGVyL3NyYyEuL34vc3RyaW5nLXJlcGxhY2UtbG9hZGVyP3tcInNlYXJjaFwiOnt9LFwicmVwbGFjZVwiOlwiJDEuaW1wb3J0KCQzKS50aGVuKG1vZCA9PiAobW9kLl9fZXNNb2R1bGUgJiYgbW9kLmRlZmF1bHQpID8gbW9kLmRlZmF1bHQgOiBtb2QpXCJ9IS4vc3JjL2FwcC9wYWdlcy9lZGl0b3JzL2VkaXRvcnMuY29tcG9uZW50LnRzIl0sIm1hcHBpbmdzIjoiO0FBQUE7QUFNQTtBQUNBO0FBQ0E7QUFOQTtBQUFBO0FBQ0E7QUFDQTtBQUNBOztBQUFBO0FBSUE7QUFBQTtBQUhBOyIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),

/***/ 1316:
/* unknown exports provided */
/* all exports used */
/*!**********************************************************************!*\
  !*** ./src/app/pages/editors/components/ckeditor/ckeditor.loader.ts ***!
  \**********************************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nwindow['CKEDITOR_BASEPATH'] = '//cdn.ckeditor.com/4.6.0/standard/';\r\n__webpack_require__(/*! ckeditor */ 1382);\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTMxNi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9hcHAvcGFnZXMvZWRpdG9ycy9jb21wb25lbnRzL2NrZWRpdG9yL2NrZWRpdG9yLmxvYWRlci50cz8wNDI0Il0sInNvdXJjZXNDb250ZW50IjpbIndpbmRvd1snQ0tFRElUT1JfQkFTRVBBVEgnXSA9ICcvL2Nkbi5ja2VkaXRvci5jb20vNC42LjAvc3RhbmRhcmQvJztcclxucmVxdWlyZSgnY2tlZGl0b3InKTtcclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIG5vZGVfbW9kdWxlcy9hbmd1bGFyMi10ZW1wbGF0ZS1sb2FkZXIhLi9+L2FuZ3VsYXIyLXJvdXRlci1sb2FkZXIvc3JjIS4vfi9zdHJpbmctcmVwbGFjZS1sb2FkZXI/e1wic2VhcmNoXCI6e30sXCJyZXBsYWNlXCI6XCIkMS5pbXBvcnQoJDMpLnRoZW4obW9kID0+IChtb2QuX19lc01vZHVsZSAmJiBtb2QuZGVmYXVsdCkgPyBtb2QuZGVmYXVsdCA6IG1vZClcIn0hLi9zcmMvYXBwL3BhZ2VzL2VkaXRvcnMvY29tcG9uZW50cy9ja2VkaXRvci9ja2VkaXRvci5sb2FkZXIudHMiXSwibWFwcGluZ3MiOiI7QUFBQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),

/***/ 1317:
/* unknown exports provided */
/* all exports used */
/*!**************************************************!*\
  !*** ./src/app/pages/editors/editors.routing.ts ***!
  \**************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar router_1 = __webpack_require__(/*! @angular/router */ 51);\r\nvar editors_component_1 = __webpack_require__(/*! ./editors.component */ 1170);\r\nvar ckeditor_component_1 = __webpack_require__(/*! ./components/ckeditor/ckeditor.component */ 1169);\r\n// noinspection TypeScriptValidateTypes\r\nvar routes = [\r\n    {\r\n        path: '',\r\n        component: editors_component_1.Editors,\r\n        children: [\r\n            { path: 'ckeditor', component: ckeditor_component_1.Ckeditor }\r\n        ]\r\n    }\r\n];\r\nexports.routing = router_1.RouterModule.forChild(routes);\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTMxNy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9hcHAvcGFnZXMvZWRpdG9ycy9lZGl0b3JzLnJvdXRpbmcudHM/ODZlMSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBSb3V0ZXMsIFJvdXRlck1vZHVsZSB9ICBmcm9tICdAYW5ndWxhci9yb3V0ZXInO1xyXG5cclxuaW1wb3J0IHsgRWRpdG9ycyB9IGZyb20gJy4vZWRpdG9ycy5jb21wb25lbnQnO1xyXG5pbXBvcnQgeyBDa2VkaXRvciB9IGZyb20gJy4vY29tcG9uZW50cy9ja2VkaXRvci9ja2VkaXRvci5jb21wb25lbnQnO1xyXG5cclxuLy8gbm9pbnNwZWN0aW9uIFR5cGVTY3JpcHRWYWxpZGF0ZVR5cGVzXHJcbmNvbnN0IHJvdXRlczogUm91dGVzID0gW1xyXG4gIHtcclxuICAgIHBhdGg6ICcnLFxyXG4gICAgY29tcG9uZW50OiBFZGl0b3JzLFxyXG4gICAgY2hpbGRyZW46IFtcclxuICAgICAgeyBwYXRoOiAnY2tlZGl0b3InLCBjb21wb25lbnQ6IENrZWRpdG9yIH1cclxuICAgIF1cclxuICB9XHJcbl07XHJcblxyXG5leHBvcnQgY29uc3Qgcm91dGluZyA9IFJvdXRlck1vZHVsZS5mb3JDaGlsZChyb3V0ZXMpO1xyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gbm9kZV9tb2R1bGVzL2FuZ3VsYXIyLXRlbXBsYXRlLWxvYWRlciEuL34vYW5ndWxhcjItcm91dGVyLWxvYWRlci9zcmMhLi9+L3N0cmluZy1yZXBsYWNlLWxvYWRlcj97XCJzZWFyY2hcIjp7fSxcInJlcGxhY2VcIjpcIiQxLmltcG9ydCgkMykudGhlbihtb2QgPT4gKG1vZC5fX2VzTW9kdWxlICYmIG1vZC5kZWZhdWx0KSA/IG1vZC5kZWZhdWx0IDogbW9kKVwifSEuL3NyYy9hcHAvcGFnZXMvZWRpdG9ycy9lZGl0b3JzLnJvdXRpbmcudHMiXSwibWFwcGluZ3MiOiI7QUFBQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOyIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),

/***/ 1382:
/* unknown exports provided */
/* all exports used */
/*!********************************!*\
  !*** ./~/ckeditor/ckeditor.js ***!
  \********************************/
/***/ (function(module, exports) {

eval("﻿/*\nCopyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\nFor licensing, see LICENSE.md or http://ckeditor.com/license\n*/\n(function(){window.CKEDITOR&&window.CKEDITOR.dom||(window.CKEDITOR||(window.CKEDITOR=function(){var a=/(^|.*[\\\\\\/])ckeditor\\.js(?:\\?.*|;.*)?$/i,f={timestamp:\"GAGE\",version:\"4.6.0 (Standard)\",revision:\"5877d8b\",rnd:Math.floor(900*Math.random())+100,_:{pending:[],basePathSrcPattern:a},status:\"unloaded\",basePath:function(){var b=window.CKEDITOR_BASEPATH||\"\";if(!b)for(var c=document.getElementsByTagName(\"script\"),f=0;f<c.length;f++){var d=c[f].src.match(a);if(d){b=d[1];break}}-1==b.indexOf(\":/\")&&\"//\"!=\nb.slice(0,2)&&(b=0===b.indexOf(\"/\")?location.href.match(/^.*?:\\/\\/[^\\/]*/)[0]+b:location.href.match(/^[^\\?]*\\/(?:)/)[0]+b);if(!b)throw'The CKEditor installation path could not be automatically detected. Please set the global variable \"CKEDITOR_BASEPATH\" before creating editor instances.';return b}(),getUrl:function(a){-1==a.indexOf(\":/\")&&0!==a.indexOf(\"/\")&&(a=this.basePath+a);this.timestamp&&\"/\"!=a.charAt(a.length-1)&&!/[&?]t=/.test(a)&&(a+=(0<=a.indexOf(\"?\")?\"\\x26\":\"?\")+\"t\\x3d\"+this.timestamp);\nreturn a},domReady:function(){function a(){try{document.addEventListener?(document.removeEventListener(\"DOMContentLoaded\",a,!1),b()):document.attachEvent&&\"complete\"===document.readyState&&(document.detachEvent(\"onreadystatechange\",a),b())}catch(d){}}function b(){for(var a;a=c.shift();)a()}var c=[];return function(d){function b(){try{document.documentElement.doScroll(\"left\")}catch(g){setTimeout(b,1);return}a()}c.push(d);\"complete\"===document.readyState&&setTimeout(a,1);if(1==c.length)if(document.addEventListener)document.addEventListener(\"DOMContentLoaded\",\na,!1),window.addEventListener(\"load\",a,!1);else if(document.attachEvent){document.attachEvent(\"onreadystatechange\",a);window.attachEvent(\"onload\",a);d=!1;try{d=!window.frameElement}catch(k){}document.documentElement.doScroll&&d&&b()}}}()},b=window.CKEDITOR_GETURL;if(b){var c=f.getUrl;f.getUrl=function(a){return b.call(f,a)||c.call(f,a)}}return f}()),CKEDITOR.event||(CKEDITOR.event=function(){},CKEDITOR.event.implementOn=function(a){var f=CKEDITOR.event.prototype,b;for(b in f)null==a[b]&&(a[b]=f[b])},\nCKEDITOR.event.prototype=function(){function a(a){var e=f(this);return e[a]||(e[a]=new b(a))}var f=function(a){a=a.getPrivate&&a.getPrivate()||a._||(a._={});return a.events||(a.events={})},b=function(a){this.name=a;this.listeners=[]};b.prototype={getListenerIndex:function(a){for(var b=0,f=this.listeners;b<f.length;b++)if(f[b].fn==a)return b;return-1}};return{define:function(b,e){var f=a.call(this,b);CKEDITOR.tools.extend(f,e,!0)},on:function(b,e,f,l,d){function h(a,g,d,h){a={name:b,sender:this,editor:a,\ndata:g,listenerData:l,stop:d,cancel:h,removeListener:k};return!1===e.call(f,a)?!1:a.data}function k(){n.removeListener(b,e)}var g=a.call(this,b);if(0>g.getListenerIndex(e)){g=g.listeners;f||(f=this);isNaN(d)&&(d=10);var n=this;h.fn=e;h.priority=d;for(var q=g.length-1;0<=q;q--)if(g[q].priority<=d)return g.splice(q+1,0,h),{removeListener:k};g.unshift(h)}return{removeListener:k}},once:function(){var a=Array.prototype.slice.call(arguments),b=a[1];a[1]=function(a){a.removeListener();return b.apply(this,\narguments)};return this.on.apply(this,a)},capture:function(){CKEDITOR.event.useCapture=1;var a=this.on.apply(this,arguments);CKEDITOR.event.useCapture=0;return a},fire:function(){var a=0,b=function(){a=1},m=0,l=function(){m=1};return function(d,h,k){var g=f(this)[d];d=a;var n=m;a=m=0;if(g){var q=g.listeners;if(q.length)for(var q=q.slice(0),p,t=0;t<q.length;t++){if(g.errorProof)try{p=q[t].call(this,k,h,b,l)}catch(v){}else p=q[t].call(this,k,h,b,l);!1===p?m=1:\"undefined\"!=typeof p&&(h=p);if(a||m)break}}h=\nm?!1:\"undefined\"==typeof h?!0:h;a=d;m=n;return h}}(),fireOnce:function(a,b,m){b=this.fire(a,b,m);delete f(this)[a];return b},removeListener:function(a,b){var m=f(this)[a];if(m){var l=m.getListenerIndex(b);0<=l&&m.listeners.splice(l,1)}},removeAllListeners:function(){var a=f(this),b;for(b in a)delete a[b]},hasListeners:function(a){return(a=f(this)[a])&&0<a.listeners.length}}}()),CKEDITOR.editor||(CKEDITOR.editor=function(){CKEDITOR._.pending.push([this,arguments]);CKEDITOR.event.call(this)},CKEDITOR.editor.prototype.fire=\nfunction(a,f){a in{instanceReady:1,loaded:1}&&(this[a]=!0);return CKEDITOR.event.prototype.fire.call(this,a,f,this)},CKEDITOR.editor.prototype.fireOnce=function(a,f){a in{instanceReady:1,loaded:1}&&(this[a]=!0);return CKEDITOR.event.prototype.fireOnce.call(this,a,f,this)},CKEDITOR.event.implementOn(CKEDITOR.editor.prototype)),CKEDITOR.env||(CKEDITOR.env=function(){var a=navigator.userAgent.toLowerCase(),f=a.match(/edge[ \\/](\\d+.?\\d*)/),b=-1<a.indexOf(\"trident/\"),b=!(!f&&!b),b={ie:b,edge:!!f,webkit:!b&&\n-1<a.indexOf(\" applewebkit/\"),air:-1<a.indexOf(\" adobeair/\"),mac:-1<a.indexOf(\"macintosh\"),quirks:\"BackCompat\"==document.compatMode&&(!document.documentMode||10>document.documentMode),mobile:-1<a.indexOf(\"mobile\"),iOS:/(ipad|iphone|ipod)/.test(a),isCustomDomain:function(){if(!this.ie)return!1;var a=document.domain,b=window.location.hostname;return a!=b&&a!=\"[\"+b+\"]\"},secure:\"https:\"==location.protocol};b.gecko=\"Gecko\"==navigator.product&&!b.webkit&&!b.ie;b.webkit&&(-1<a.indexOf(\"chrome\")?b.chrome=\n!0:b.safari=!0);var c=0;b.ie&&(c=f?parseFloat(f[1]):b.quirks||!document.documentMode?parseFloat(a.match(/msie (\\d+)/)[1]):document.documentMode,b.ie9Compat=9==c,b.ie8Compat=8==c,b.ie7Compat=7==c,b.ie6Compat=7>c||b.quirks);b.gecko&&(f=a.match(/rv:([\\d\\.]+)/))&&(f=f[1].split(\".\"),c=1E4*f[0]+100*(f[1]||0)+1*(f[2]||0));b.air&&(c=parseFloat(a.match(/ adobeair\\/(\\d+)/)[1]));b.webkit&&(c=parseFloat(a.match(/ applewebkit\\/(\\d+)/)[1]));b.version=c;b.isCompatible=!(b.ie&&7>c)&&!(b.gecko&&4E4>c)&&!(b.webkit&&\n534>c);b.hidpi=2<=window.devicePixelRatio;b.needsBrFiller=b.gecko||b.webkit||b.ie&&10<c;b.needsNbspFiller=b.ie&&11>c;b.cssClass=\"cke_browser_\"+(b.ie?\"ie\":b.gecko?\"gecko\":b.webkit?\"webkit\":\"unknown\");b.quirks&&(b.cssClass+=\" cke_browser_quirks\");b.ie&&(b.cssClass+=\" cke_browser_ie\"+(b.quirks?\"6 cke_browser_iequirks\":b.version));b.air&&(b.cssClass+=\" cke_browser_air\");b.iOS&&(b.cssClass+=\" cke_browser_ios\");b.hidpi&&(b.cssClass+=\" cke_hidpi\");return b}()),\"unloaded\"==CKEDITOR.status&&function(){CKEDITOR.event.implementOn(CKEDITOR);\nCKEDITOR.loadFullCore=function(){if(\"basic_ready\"!=CKEDITOR.status)CKEDITOR.loadFullCore._load=1;else{delete CKEDITOR.loadFullCore;var a=document.createElement(\"script\");a.type=\"text/javascript\";a.src=CKEDITOR.basePath+\"ckeditor.js\";document.getElementsByTagName(\"head\")[0].appendChild(a)}};CKEDITOR.loadFullCoreTimeout=0;CKEDITOR.add=function(a){(this._.pending||(this._.pending=[])).push(a)};(function(){CKEDITOR.domReady(function(){var a=CKEDITOR.loadFullCore,f=CKEDITOR.loadFullCoreTimeout;a&&(CKEDITOR.status=\n\"basic_ready\",a&&a._load?a():f&&setTimeout(function(){CKEDITOR.loadFullCore&&CKEDITOR.loadFullCore()},1E3*f))})})();CKEDITOR.status=\"basic_loaded\"}(),\"use strict\",CKEDITOR.VERBOSITY_WARN=1,CKEDITOR.VERBOSITY_ERROR=2,CKEDITOR.verbosity=CKEDITOR.VERBOSITY_WARN|CKEDITOR.VERBOSITY_ERROR,CKEDITOR.warn=function(a,f){CKEDITOR.verbosity&CKEDITOR.VERBOSITY_WARN&&CKEDITOR.fire(\"log\",{type:\"warn\",errorCode:a,additionalData:f})},CKEDITOR.error=function(a,f){CKEDITOR.verbosity&CKEDITOR.VERBOSITY_ERROR&&CKEDITOR.fire(\"log\",\n{type:\"error\",errorCode:a,additionalData:f})},CKEDITOR.on(\"log\",function(a){if(window.console&&window.console.log){var f=console[a.data.type]?a.data.type:\"log\",b=a.data.errorCode;if(a=a.data.additionalData)console[f](\"[CKEDITOR] Error code: \"+b+\".\",a);else console[f](\"[CKEDITOR] Error code: \"+b+\".\");console[f](\"[CKEDITOR] For more information about this error go to http://docs.ckeditor.com/#!/guide/dev_errors-section-\"+b)}},null,null,999),CKEDITOR.dom={},function(){var a=[],f=CKEDITOR.env.gecko?\"-moz-\":\nCKEDITOR.env.webkit?\"-webkit-\":CKEDITOR.env.ie?\"-ms-\":\"\",b=/&/g,c=/>/g,e=/</g,m=/\"/g,l=/&(lt|gt|amp|quot|nbsp|shy|#\\d{1,5});/g,d={lt:\"\\x3c\",gt:\"\\x3e\",amp:\"\\x26\",quot:'\"',nbsp:\" \",shy:\"­\"},h=function(a,g){return\"#\"==g[0]?String.fromCharCode(parseInt(g.slice(1),10)):d[g]};CKEDITOR.on(\"reset\",function(){a=[]});CKEDITOR.tools={arrayCompare:function(a,g){if(!a&&!g)return!0;if(!a||!g||a.length!=g.length)return!1;for(var d=0;d<a.length;d++)if(a[d]!=g[d])return!1;return!0},getIndex:function(a,g){for(var d=\n0;d<a.length;++d)if(g(a[d]))return d;return-1},clone:function(a){var g;if(a&&a instanceof Array){g=[];for(var d=0;d<a.length;d++)g[d]=CKEDITOR.tools.clone(a[d]);return g}if(null===a||\"object\"!=typeof a||a instanceof String||a instanceof Number||a instanceof Boolean||a instanceof Date||a instanceof RegExp||a.nodeType||a.window===a)return a;g=new a.constructor;for(d in a)g[d]=CKEDITOR.tools.clone(a[d]);return g},capitalize:function(a,g){return a.charAt(0).toUpperCase()+(g?a.slice(1):a.slice(1).toLowerCase())},\nextend:function(a){var g=arguments.length,d,b;\"boolean\"==typeof(d=arguments[g-1])?g--:\"boolean\"==typeof(d=arguments[g-2])&&(b=arguments[g-1],g-=2);for(var h=1;h<g;h++){var c=arguments[h],e;for(e in c)if(!0===d||null==a[e])if(!b||e in b)a[e]=c[e]}return a},prototypedCopy:function(a){var g=function(){};g.prototype=a;return new g},copy:function(a){var g={},d;for(d in a)g[d]=a[d];return g},isArray:function(a){return\"[object Array]\"==Object.prototype.toString.call(a)},isEmpty:function(a){for(var g in a)if(a.hasOwnProperty(g))return!1;\nreturn!0},cssVendorPrefix:function(a,g,d){if(d)return f+a+\":\"+g+\";\"+a+\":\"+g;d={};d[a]=g;d[f+a]=g;return d},cssStyleToDomStyle:function(){var a=document.createElement(\"div\").style,g=\"undefined\"!=typeof a.cssFloat?\"cssFloat\":\"undefined\"!=typeof a.styleFloat?\"styleFloat\":\"float\";return function(a){return\"float\"==a?g:a.replace(/-./g,function(a){return a.substr(1).toUpperCase()})}}(),buildStyleHtml:function(a){a=[].concat(a);for(var g,d=[],b=0;b<a.length;b++)if(g=a[b])/@import|[{}]/.test(g)?d.push(\"\\x3cstyle\\x3e\"+\ng+\"\\x3c/style\\x3e\"):d.push('\\x3clink type\\x3d\"text/css\" rel\\x3dstylesheet href\\x3d\"'+g+'\"\\x3e');return d.join(\"\")},htmlEncode:function(a){return void 0===a||null===a?\"\":String(a).replace(b,\"\\x26amp;\").replace(c,\"\\x26gt;\").replace(e,\"\\x26lt;\")},htmlDecode:function(a){return a.replace(l,h)},htmlEncodeAttr:function(a){return CKEDITOR.tools.htmlEncode(a).replace(m,\"\\x26quot;\")},htmlDecodeAttr:function(a){return CKEDITOR.tools.htmlDecode(a)},transformPlainTextToHtml:function(a,g){var d=g==CKEDITOR.ENTER_BR,\nb=this.htmlEncode(a.replace(/\\r\\n/g,\"\\n\")),b=b.replace(/\\t/g,\"\\x26nbsp;\\x26nbsp; \\x26nbsp;\"),h=g==CKEDITOR.ENTER_P?\"p\":\"div\";if(!d){var c=/\\n{2}/g;if(c.test(b))var e=\"\\x3c\"+h+\"\\x3e\",f=\"\\x3c/\"+h+\"\\x3e\",b=e+b.replace(c,function(){return f+e})+f}b=b.replace(/\\n/g,\"\\x3cbr\\x3e\");d||(b=b.replace(new RegExp(\"\\x3cbr\\x3e(?\\x3d\\x3c/\"+h+\"\\x3e)\"),function(a){return CKEDITOR.tools.repeat(a,2)}));b=b.replace(/^ | $/g,\"\\x26nbsp;\");return b=b.replace(/(>|\\s) /g,function(a,g){return g+\"\\x26nbsp;\"}).replace(/ (?=<)/g,\n\"\\x26nbsp;\")},getNextNumber:function(){var a=0;return function(){return++a}}(),getNextId:function(){return\"cke_\"+this.getNextNumber()},getUniqueId:function(){for(var a=\"e\",g=0;8>g;g++)a+=Math.floor(65536*(1+Math.random())).toString(16).substring(1);return a},override:function(a,g){var d=g(a);d.prototype=a.prototype;return d},setTimeout:function(a,g,d,b,h){h||(h=window);d||(d=h);return h.setTimeout(function(){b?a.apply(d,[].concat(b)):a.apply(d)},g||0)},trim:function(){var a=/(?:^[ \\t\\n\\r]+)|(?:[ \\t\\n\\r]+$)/g;\nreturn function(g){return g.replace(a,\"\")}}(),ltrim:function(){var a=/^[ \\t\\n\\r]+/g;return function(g){return g.replace(a,\"\")}}(),rtrim:function(){var a=/[ \\t\\n\\r]+$/g;return function(g){return g.replace(a,\"\")}}(),indexOf:function(a,g){if(\"function\"==typeof g)for(var d=0,b=a.length;d<b;d++){if(g(a[d]))return d}else{if(a.indexOf)return a.indexOf(g);d=0;for(b=a.length;d<b;d++)if(a[d]===g)return d}return-1},search:function(a,g){var d=CKEDITOR.tools.indexOf(a,g);return 0<=d?a[d]:null},bind:function(a,\ng){return function(){return a.apply(g,arguments)}},createClass:function(a){var g=a.$,d=a.base,b=a.privates||a._,h=a.proto;a=a.statics;!g&&(g=function(){d&&this.base.apply(this,arguments)});if(b)var c=g,g=function(){var a=this._||(this._={}),g;for(g in b){var d=b[g];a[g]=\"function\"==typeof d?CKEDITOR.tools.bind(d,this):d}c.apply(this,arguments)};d&&(g.prototype=this.prototypedCopy(d.prototype),g.prototype.constructor=g,g.base=d,g.baseProto=d.prototype,g.prototype.base=function(){this.base=d.prototype.base;\nd.apply(this,arguments);this.base=arguments.callee});h&&this.extend(g.prototype,h,!0);a&&this.extend(g,a,!0);return g},addFunction:function(d,g){return a.push(function(){return d.apply(g||this,arguments)})-1},removeFunction:function(d){a[d]=null},callFunction:function(d){var g=a[d];return g&&g.apply(window,Array.prototype.slice.call(arguments,1))},cssLength:function(){var a=/^-?\\d+\\.?\\d*px$/,g;return function(d){g=CKEDITOR.tools.trim(d+\"\")+\"px\";return a.test(g)?g:d||\"\"}}(),convertToPx:function(){var a;\nreturn function(g){a||(a=CKEDITOR.dom.element.createFromHtml('\\x3cdiv style\\x3d\"position:absolute;left:-9999px;top:-9999px;margin:0px;padding:0px;border:0px;\"\\x3e\\x3c/div\\x3e',CKEDITOR.document),CKEDITOR.document.getBody().append(a));return/%$/.test(g)?g:(a.setStyle(\"width\",g),a.$.clientWidth)}}(),repeat:function(a,g){return Array(g+1).join(a)},tryThese:function(){for(var a,g=0,d=arguments.length;g<d;g++){var b=arguments[g];try{a=b();break}catch(h){}}return a},genKey:function(){return Array.prototype.slice.call(arguments).join(\"-\")},\ndefer:function(a){return function(){var g=arguments,d=this;window.setTimeout(function(){a.apply(d,g)},0)}},normalizeCssText:function(a,g){var d=[],b,h=CKEDITOR.tools.parseCssText(a,!0,g);for(b in h)d.push(b+\":\"+h[b]);d.sort();return d.length?d.join(\";\")+\";\":\"\"},convertRgbToHex:function(a){return a.replace(/(?:rgb\\(\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*\\))/gi,function(a,d,b,h){a=[d,b,h];for(d=0;3>d;d++)a[d]=(\"0\"+parseInt(a[d],10).toString(16)).slice(-2);return\"#\"+a.join(\"\")})},normalizeHex:function(a){return a.replace(/#(([0-9a-f]{3}){1,2})($|;|\\s+)/gi,\nfunction(a,d,b,h){a=d.toLowerCase();3==a.length&&(a=a.split(\"\"),a=[a[0],a[0],a[1],a[1],a[2],a[2]].join(\"\"));return\"#\"+a+h})},parseCssText:function(a,g,d){var b={};d&&(a=(new CKEDITOR.dom.element(\"span\")).setAttribute(\"style\",a).getAttribute(\"style\")||\"\");a&&(a=CKEDITOR.tools.normalizeHex(CKEDITOR.tools.convertRgbToHex(a)));if(!a||\";\"==a)return b;a.replace(/&quot;/g,'\"').replace(/\\s*([^:;\\s]+)\\s*:\\s*([^;]+)\\s*(?=;|$)/g,function(a,d,h){g&&(d=d.toLowerCase(),\"font-family\"==d&&(h=h.replace(/\\s*,\\s*/g,\n\",\")),h=CKEDITOR.tools.trim(h));b[d]=h});return b},writeCssText:function(a,g){var d,b=[];for(d in a)b.push(d+\":\"+a[d]);g&&b.sort();return b.join(\"; \")},objectCompare:function(a,g,d){var b;if(!a&&!g)return!0;if(!a||!g)return!1;for(b in a)if(a[b]!=g[b])return!1;if(!d)for(b in g)if(a[b]!=g[b])return!1;return!0},objectKeys:function(a){var g=[],d;for(d in a)g.push(d);return g},convertArrayToObject:function(a,g){var d={};1==arguments.length&&(g=!0);for(var b=0,h=a.length;b<h;++b)d[a[b]]=g;return d},fixDomain:function(){for(var a;;)try{a=\nwindow.parent.document.domain;break}catch(g){a=a?a.replace(/.+?(?:\\.|$)/,\"\"):document.domain;if(!a)break;document.domain=a}return!!a},eventsBuffer:function(a,g,d){function b(){c=(new Date).getTime();h=!1;d?g.call(d):g()}var h,c=0;return{input:function(){if(!h){var g=(new Date).getTime()-c;g<a?h=setTimeout(b,a-g):b()}},reset:function(){h&&clearTimeout(h);h=c=0}}},enableHtml5Elements:function(a,g){for(var d=\"abbr article aside audio bdi canvas data datalist details figcaption figure footer header hgroup main mark meter nav output progress section summary time video\".split(\" \"),\nb=d.length,h;b--;)h=a.createElement(d[b]),g&&a.appendChild(h)},checkIfAnyArrayItemMatches:function(a,g){for(var d=0,b=a.length;d<b;++d)if(a[d].match(g))return!0;return!1},checkIfAnyObjectPropertyMatches:function(a,g){for(var d in a)if(d.match(g))return!0;return!1},keystrokeToString:function(a,g){var d=g&16711680,b=g&65535,h=CKEDITOR.env.mac,c=[],e=[];d&CKEDITOR.CTRL&&(c.push(h?\"⌘\":a[17]),e.push(h?a[224]:a[17]));d&CKEDITOR.ALT&&(c.push(h?\"⌥\":a[18]),e.push(a[18]));d&CKEDITOR.SHIFT&&(c.push(h?\"⇧\":a[16]),\ne.push(a[16]));b&&(a[b]?(c.push(a[b]),e.push(a[b])):(c.push(String.fromCharCode(b)),e.push(String.fromCharCode(b))));return{display:c.join(\"+\"),aria:e.join(\"+\")}},transparentImageData:\"data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw\\x3d\\x3d\",getCookie:function(a){a=a.toLowerCase();for(var g=document.cookie.split(\";\"),d,b,h=0;h<g.length;h++)if(d=g[h].split(\"\\x3d\"),b=decodeURIComponent(CKEDITOR.tools.trim(d[0]).toLowerCase()),b===a)return decodeURIComponent(1<d.length?\nd[1]:\"\");return null},setCookie:function(a,g){document.cookie=encodeURIComponent(a)+\"\\x3d\"+encodeURIComponent(g)+\";path\\x3d/\"},getCsrfToken:function(){var a=CKEDITOR.tools.getCookie(\"ckCsrfToken\");if(!a||40!=a.length){var a=[],g=\"\";if(window.crypto&&window.crypto.getRandomValues)a=new Uint8Array(40),window.crypto.getRandomValues(a);else for(var d=0;40>d;d++)a.push(Math.floor(256*Math.random()));for(d=0;d<a.length;d++)var b=\"abcdefghijklmnopqrstuvwxyz0123456789\".charAt(a[d]%36),g=g+(.5<Math.random()?\nb.toUpperCase():b);a=g;CKEDITOR.tools.setCookie(\"ckCsrfToken\",a)}return a},escapeCss:function(a){return a?window.CSS&&CSS.escape?CSS.escape(a):isNaN(parseInt(a.charAt(0),10))?a:\"\\\\3\"+a.charAt(0)+\" \"+a.substring(1,a.length):\"\"}}}(),CKEDITOR.dtd=function(){var a=CKEDITOR.tools.extend,f=function(a,g){for(var d=CKEDITOR.tools.clone(a),b=1;b<arguments.length;b++){g=arguments[b];for(var h in g)delete d[h]}return d},b={},c={},e={address:1,article:1,aside:1,blockquote:1,details:1,div:1,dl:1,fieldset:1,figure:1,\nfooter:1,form:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,header:1,hgroup:1,hr:1,main:1,menu:1,nav:1,ol:1,p:1,pre:1,section:1,table:1,ul:1},m={command:1,link:1,meta:1,noscript:1,script:1,style:1},l={},d={\"#\":1},h={center:1,dir:1,noframes:1};a(b,{a:1,abbr:1,area:1,audio:1,b:1,bdi:1,bdo:1,br:1,button:1,canvas:1,cite:1,code:1,command:1,datalist:1,del:1,dfn:1,em:1,embed:1,i:1,iframe:1,img:1,input:1,ins:1,kbd:1,keygen:1,label:1,map:1,mark:1,meter:1,noscript:1,object:1,output:1,progress:1,q:1,ruby:1,s:1,samp:1,script:1,\nselect:1,small:1,span:1,strong:1,sub:1,sup:1,textarea:1,time:1,u:1,\"var\":1,video:1,wbr:1},d,{acronym:1,applet:1,basefont:1,big:1,font:1,isindex:1,strike:1,style:1,tt:1});a(c,e,b,h);f={a:f(b,{a:1,button:1}),abbr:b,address:c,area:l,article:c,aside:c,audio:a({source:1,track:1},c),b:b,base:l,bdi:b,bdo:b,blockquote:c,body:c,br:l,button:f(b,{a:1,button:1}),canvas:b,caption:c,cite:b,code:b,col:l,colgroup:{col:1},command:l,datalist:a({option:1},b),dd:c,del:b,details:a({summary:1},c),dfn:b,div:c,dl:{dt:1,\ndd:1},dt:c,em:b,embed:l,fieldset:a({legend:1},c),figcaption:c,figure:a({figcaption:1},c),footer:c,form:c,h1:b,h2:b,h3:b,h4:b,h5:b,h6:b,head:a({title:1,base:1},m),header:c,hgroup:{h1:1,h2:1,h3:1,h4:1,h5:1,h6:1},hr:l,html:a({head:1,body:1},c,m),i:b,iframe:d,img:l,input:l,ins:b,kbd:b,keygen:l,label:b,legend:b,li:c,link:l,main:c,map:c,mark:b,menu:a({li:1},c),meta:l,meter:f(b,{meter:1}),nav:c,noscript:a({link:1,meta:1,style:1},b),object:a({param:1},b),ol:{li:1},optgroup:{option:1},option:d,output:b,p:b,\nparam:l,pre:b,progress:f(b,{progress:1}),q:b,rp:b,rt:b,ruby:a({rp:1,rt:1},b),s:b,samp:b,script:d,section:c,select:{optgroup:1,option:1},small:b,source:l,span:b,strong:b,style:d,sub:b,summary:a({h1:1,h2:1,h3:1,h4:1,h5:1,h6:1},b),sup:b,table:{caption:1,colgroup:1,thead:1,tfoot:1,tbody:1,tr:1},tbody:{tr:1},td:c,textarea:d,tfoot:{tr:1},th:c,thead:{tr:1},time:f(b,{time:1}),title:d,tr:{th:1,td:1},track:l,u:b,ul:{li:1},\"var\":b,video:a({source:1,track:1},c),wbr:l,acronym:b,applet:a({param:1},c),basefont:l,\nbig:b,center:c,dialog:l,dir:{li:1},font:b,isindex:l,noframes:c,strike:b,tt:b};a(f,{$block:a({audio:1,dd:1,dt:1,figcaption:1,li:1,video:1},e,h),$blockLimit:{article:1,aside:1,audio:1,body:1,caption:1,details:1,dir:1,div:1,dl:1,fieldset:1,figcaption:1,figure:1,footer:1,form:1,header:1,hgroup:1,main:1,menu:1,nav:1,ol:1,section:1,table:1,td:1,th:1,tr:1,ul:1,video:1},$cdata:{script:1,style:1},$editable:{address:1,article:1,aside:1,blockquote:1,body:1,details:1,div:1,fieldset:1,figcaption:1,footer:1,form:1,\nh1:1,h2:1,h3:1,h4:1,h5:1,h6:1,header:1,hgroup:1,main:1,nav:1,p:1,pre:1,section:1},$empty:{area:1,base:1,basefont:1,br:1,col:1,command:1,dialog:1,embed:1,hr:1,img:1,input:1,isindex:1,keygen:1,link:1,meta:1,param:1,source:1,track:1,wbr:1},$inline:b,$list:{dl:1,ol:1,ul:1},$listItem:{dd:1,dt:1,li:1},$nonBodyContent:a({body:1,head:1,html:1},f.head),$nonEditable:{applet:1,audio:1,button:1,embed:1,iframe:1,map:1,object:1,option:1,param:1,script:1,textarea:1,video:1},$object:{applet:1,audio:1,button:1,hr:1,\niframe:1,img:1,input:1,object:1,select:1,table:1,textarea:1,video:1},$removeEmpty:{abbr:1,acronym:1,b:1,bdi:1,bdo:1,big:1,cite:1,code:1,del:1,dfn:1,em:1,font:1,i:1,ins:1,label:1,kbd:1,mark:1,meter:1,output:1,q:1,ruby:1,s:1,samp:1,small:1,span:1,strike:1,strong:1,sub:1,sup:1,time:1,tt:1,u:1,\"var\":1},$tabIndex:{a:1,area:1,button:1,input:1,object:1,select:1,textarea:1},$tableContent:{caption:1,col:1,colgroup:1,tbody:1,td:1,tfoot:1,th:1,thead:1,tr:1},$transparent:{a:1,audio:1,canvas:1,del:1,ins:1,map:1,\nnoscript:1,object:1,video:1},$intermediate:{caption:1,colgroup:1,dd:1,dt:1,figcaption:1,legend:1,li:1,optgroup:1,option:1,rp:1,rt:1,summary:1,tbody:1,td:1,tfoot:1,th:1,thead:1,tr:1}});return f}(),CKEDITOR.dom.event=function(a){this.$=a},CKEDITOR.dom.event.prototype={getKey:function(){return this.$.keyCode||this.$.which},getKeystroke:function(){var a=this.getKey();if(this.$.ctrlKey||this.$.metaKey)a+=CKEDITOR.CTRL;this.$.shiftKey&&(a+=CKEDITOR.SHIFT);this.$.altKey&&(a+=CKEDITOR.ALT);return a},preventDefault:function(a){var f=\nthis.$;f.preventDefault?f.preventDefault():f.returnValue=!1;a&&this.stopPropagation()},stopPropagation:function(){var a=this.$;a.stopPropagation?a.stopPropagation():a.cancelBubble=!0},getTarget:function(){var a=this.$.target||this.$.srcElement;return a?new CKEDITOR.dom.node(a):null},getPhase:function(){return this.$.eventPhase||2},getPageOffset:function(){var a=this.getTarget().getDocument().$;return{x:this.$.pageX||this.$.clientX+(a.documentElement.scrollLeft||a.body.scrollLeft),y:this.$.pageY||\nthis.$.clientY+(a.documentElement.scrollTop||a.body.scrollTop)}}},CKEDITOR.CTRL=1114112,CKEDITOR.SHIFT=2228224,CKEDITOR.ALT=4456448,CKEDITOR.EVENT_PHASE_CAPTURING=1,CKEDITOR.EVENT_PHASE_AT_TARGET=2,CKEDITOR.EVENT_PHASE_BUBBLING=3,CKEDITOR.dom.domObject=function(a){a&&(this.$=a)},CKEDITOR.dom.domObject.prototype=function(){var a=function(a,b){return function(c){\"undefined\"!=typeof CKEDITOR&&a.fire(b,new CKEDITOR.dom.event(c))}};return{getPrivate:function(){var a;(a=this.getCustomData(\"_\"))||this.setCustomData(\"_\",\na={});return a},on:function(f){var b=this.getCustomData(\"_cke_nativeListeners\");b||(b={},this.setCustomData(\"_cke_nativeListeners\",b));b[f]||(b=b[f]=a(this,f),this.$.addEventListener?this.$.addEventListener(f,b,!!CKEDITOR.event.useCapture):this.$.attachEvent&&this.$.attachEvent(\"on\"+f,b));return CKEDITOR.event.prototype.on.apply(this,arguments)},removeListener:function(a){CKEDITOR.event.prototype.removeListener.apply(this,arguments);if(!this.hasListeners(a)){var b=this.getCustomData(\"_cke_nativeListeners\"),\nc=b&&b[a];c&&(this.$.removeEventListener?this.$.removeEventListener(a,c,!1):this.$.detachEvent&&this.$.detachEvent(\"on\"+a,c),delete b[a])}},removeAllListeners:function(){var a=this.getCustomData(\"_cke_nativeListeners\"),b;for(b in a){var c=a[b];this.$.detachEvent?this.$.detachEvent(\"on\"+b,c):this.$.removeEventListener&&this.$.removeEventListener(b,c,!1);delete a[b]}CKEDITOR.event.prototype.removeAllListeners.call(this)}}}(),function(a){var f={};CKEDITOR.on(\"reset\",function(){f={}});a.equals=function(a){try{return a&&\na.$===this.$}catch(c){return!1}};a.setCustomData=function(a,c){var e=this.getUniqueId();(f[e]||(f[e]={}))[a]=c;return this};a.getCustomData=function(a){var c=this.$[\"data-cke-expando\"];return(c=c&&f[c])&&a in c?c[a]:null};a.removeCustomData=function(a){var c=this.$[\"data-cke-expando\"],c=c&&f[c],e,m;c&&(e=c[a],m=a in c,delete c[a]);return m?e:null};a.clearCustomData=function(){this.removeAllListeners();var a=this.$[\"data-cke-expando\"];a&&delete f[a]};a.getUniqueId=function(){return this.$[\"data-cke-expando\"]||\n(this.$[\"data-cke-expando\"]=CKEDITOR.tools.getNextNumber())};CKEDITOR.event.implementOn(a)}(CKEDITOR.dom.domObject.prototype),CKEDITOR.dom.node=function(a){return a?new CKEDITOR.dom[a.nodeType==CKEDITOR.NODE_DOCUMENT?\"document\":a.nodeType==CKEDITOR.NODE_ELEMENT?\"element\":a.nodeType==CKEDITOR.NODE_TEXT?\"text\":a.nodeType==CKEDITOR.NODE_COMMENT?\"comment\":a.nodeType==CKEDITOR.NODE_DOCUMENT_FRAGMENT?\"documentFragment\":\"domObject\"](a):this},CKEDITOR.dom.node.prototype=new CKEDITOR.dom.domObject,CKEDITOR.NODE_ELEMENT=\n1,CKEDITOR.NODE_DOCUMENT=9,CKEDITOR.NODE_TEXT=3,CKEDITOR.NODE_COMMENT=8,CKEDITOR.NODE_DOCUMENT_FRAGMENT=11,CKEDITOR.POSITION_IDENTICAL=0,CKEDITOR.POSITION_DISCONNECTED=1,CKEDITOR.POSITION_FOLLOWING=2,CKEDITOR.POSITION_PRECEDING=4,CKEDITOR.POSITION_IS_CONTAINED=8,CKEDITOR.POSITION_CONTAINS=16,CKEDITOR.tools.extend(CKEDITOR.dom.node.prototype,{appendTo:function(a,f){a.append(this,f);return a},clone:function(a,f){function b(c){c[\"data-cke-expando\"]&&(c[\"data-cke-expando\"]=!1);if(c.nodeType==CKEDITOR.NODE_ELEMENT||\nc.nodeType==CKEDITOR.NODE_DOCUMENT_FRAGMENT)if(f||c.nodeType!=CKEDITOR.NODE_ELEMENT||c.removeAttribute(\"id\",!1),a){c=c.childNodes;for(var e=0;e<c.length;e++)b(c[e])}}function c(b){if(b.type==CKEDITOR.NODE_ELEMENT||b.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT){if(b.type!=CKEDITOR.NODE_DOCUMENT_FRAGMENT){var e=b.getName();\":\"==e[0]&&b.renameNode(e.substring(1))}if(a)for(e=0;e<b.getChildCount();e++)c(b.getChild(e))}}var e=this.$.cloneNode(a);b(e);e=new CKEDITOR.dom.node(e);CKEDITOR.env.ie&&9>CKEDITOR.env.version&&\n(this.type==CKEDITOR.NODE_ELEMENT||this.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT)&&c(e);return e},hasPrevious:function(){return!!this.$.previousSibling},hasNext:function(){return!!this.$.nextSibling},insertAfter:function(a){a.$.parentNode.insertBefore(this.$,a.$.nextSibling);return a},insertBefore:function(a){a.$.parentNode.insertBefore(this.$,a.$);return a},insertBeforeMe:function(a){this.$.parentNode.insertBefore(a.$,this.$);return a},getAddress:function(a){for(var f=[],b=this.getDocument().$.documentElement,\nc=this.$;c&&c!=b;){var e=c.parentNode;e&&f.unshift(this.getIndex.call({$:c},a));c=e}return f},getDocument:function(){return new CKEDITOR.dom.document(this.$.ownerDocument||this.$.parentNode.ownerDocument)},getIndex:function(a){function f(a,d){var h=d?a.nextSibling:a.previousSibling;return h&&h.nodeType==CKEDITOR.NODE_TEXT?b(h)?f(h,d):h:null}function b(a){return!a.nodeValue||a.nodeValue==CKEDITOR.dom.selection.FILLING_CHAR_SEQUENCE}var c=this.$,e=-1,m;if(!this.$.parentNode||a&&c.nodeType==CKEDITOR.NODE_TEXT&&\nb(c)&&!f(c)&&!f(c,!0))return-1;do a&&c!=this.$&&c.nodeType==CKEDITOR.NODE_TEXT&&(m||b(c))||(e++,m=c.nodeType==CKEDITOR.NODE_TEXT);while(c=c.previousSibling);return e},getNextSourceNode:function(a,f,b){if(b&&!b.call){var c=b;b=function(a){return!a.equals(c)}}a=!a&&this.getFirst&&this.getFirst();var e;if(!a){if(this.type==CKEDITOR.NODE_ELEMENT&&b&&!1===b(this,!0))return null;a=this.getNext()}for(;!a&&(e=(e||this).getParent());){if(b&&!1===b(e,!0))return null;a=e.getNext()}return!a||b&&!1===b(a)?null:\nf&&f!=a.type?a.getNextSourceNode(!1,f,b):a},getPreviousSourceNode:function(a,f,b){if(b&&!b.call){var c=b;b=function(a){return!a.equals(c)}}a=!a&&this.getLast&&this.getLast();var e;if(!a){if(this.type==CKEDITOR.NODE_ELEMENT&&b&&!1===b(this,!0))return null;a=this.getPrevious()}for(;!a&&(e=(e||this).getParent());){if(b&&!1===b(e,!0))return null;a=e.getPrevious()}return!a||b&&!1===b(a)?null:f&&a.type!=f?a.getPreviousSourceNode(!1,f,b):a},getPrevious:function(a){var f=this.$,b;do b=(f=f.previousSibling)&&\n10!=f.nodeType&&new CKEDITOR.dom.node(f);while(b&&a&&!a(b));return b},getNext:function(a){var f=this.$,b;do b=(f=f.nextSibling)&&new CKEDITOR.dom.node(f);while(b&&a&&!a(b));return b},getParent:function(a){var f=this.$.parentNode;return f&&(f.nodeType==CKEDITOR.NODE_ELEMENT||a&&f.nodeType==CKEDITOR.NODE_DOCUMENT_FRAGMENT)?new CKEDITOR.dom.node(f):null},getParents:function(a){var f=this,b=[];do b[a?\"push\":\"unshift\"](f);while(f=f.getParent());return b},getCommonAncestor:function(a){if(a.equals(this))return this;\nif(a.contains&&a.contains(this))return a;var f=this.contains?this:this.getParent();do if(f.contains(a))return f;while(f=f.getParent());return null},getPosition:function(a){var f=this.$,b=a.$;if(f.compareDocumentPosition)return f.compareDocumentPosition(b);if(f==b)return CKEDITOR.POSITION_IDENTICAL;if(this.type==CKEDITOR.NODE_ELEMENT&&a.type==CKEDITOR.NODE_ELEMENT){if(f.contains){if(f.contains(b))return CKEDITOR.POSITION_CONTAINS+CKEDITOR.POSITION_PRECEDING;if(b.contains(f))return CKEDITOR.POSITION_IS_CONTAINED+\nCKEDITOR.POSITION_FOLLOWING}if(\"sourceIndex\"in f)return 0>f.sourceIndex||0>b.sourceIndex?CKEDITOR.POSITION_DISCONNECTED:f.sourceIndex<b.sourceIndex?CKEDITOR.POSITION_PRECEDING:CKEDITOR.POSITION_FOLLOWING}f=this.getAddress();a=a.getAddress();for(var b=Math.min(f.length,a.length),c=0;c<b;c++)if(f[c]!=a[c])return f[c]<a[c]?CKEDITOR.POSITION_PRECEDING:CKEDITOR.POSITION_FOLLOWING;return f.length<a.length?CKEDITOR.POSITION_CONTAINS+CKEDITOR.POSITION_PRECEDING:CKEDITOR.POSITION_IS_CONTAINED+CKEDITOR.POSITION_FOLLOWING},\ngetAscendant:function(a,f){var b=this.$,c,e;f||(b=b.parentNode);\"function\"==typeof a?(e=!0,c=a):(e=!1,c=function(b){b=\"string\"==typeof b.nodeName?b.nodeName.toLowerCase():\"\";return\"string\"==typeof a?b==a:b in a});for(;b;){if(c(e?new CKEDITOR.dom.node(b):b))return new CKEDITOR.dom.node(b);try{b=b.parentNode}catch(m){b=null}}return null},hasAscendant:function(a,f){var b=this.$;f||(b=b.parentNode);for(;b;){if(b.nodeName&&b.nodeName.toLowerCase()==a)return!0;b=b.parentNode}return!1},move:function(a,f){a.append(this.remove(),\nf)},remove:function(a){var f=this.$,b=f.parentNode;if(b){if(a)for(;a=f.firstChild;)b.insertBefore(f.removeChild(a),f);b.removeChild(f)}return this},replace:function(a){this.insertBefore(a);a.remove()},trim:function(){this.ltrim();this.rtrim()},ltrim:function(){for(var a;this.getFirst&&(a=this.getFirst());){if(a.type==CKEDITOR.NODE_TEXT){var f=CKEDITOR.tools.ltrim(a.getText()),b=a.getLength();if(f)f.length<b&&(a.split(b-f.length),this.$.removeChild(this.$.firstChild));else{a.remove();continue}}break}},\nrtrim:function(){for(var a;this.getLast&&(a=this.getLast());){if(a.type==CKEDITOR.NODE_TEXT){var f=CKEDITOR.tools.rtrim(a.getText()),b=a.getLength();if(f)f.length<b&&(a.split(f.length),this.$.lastChild.parentNode.removeChild(this.$.lastChild));else{a.remove();continue}}break}CKEDITOR.env.needsBrFiller&&(a=this.$.lastChild)&&1==a.type&&\"br\"==a.nodeName.toLowerCase()&&a.parentNode.removeChild(a)},isReadOnly:function(a){var f=this;this.type!=CKEDITOR.NODE_ELEMENT&&(f=this.getParent());CKEDITOR.env.edge&&\nf&&f.is(\"textarea\",\"input\")&&(a=!0);if(!a&&f&&\"undefined\"!=typeof f.$.isContentEditable)return!(f.$.isContentEditable||f.data(\"cke-editable\"));for(;f;){if(f.data(\"cke-editable\"))return!1;if(f.hasAttribute(\"contenteditable\"))return\"false\"==f.getAttribute(\"contenteditable\");f=f.getParent()}return!0}}),CKEDITOR.dom.window=function(a){CKEDITOR.dom.domObject.call(this,a)},CKEDITOR.dom.window.prototype=new CKEDITOR.dom.domObject,CKEDITOR.tools.extend(CKEDITOR.dom.window.prototype,{focus:function(){this.$.focus()},\ngetViewPaneSize:function(){var a=this.$.document,f=\"CSS1Compat\"==a.compatMode;return{width:(f?a.documentElement.clientWidth:a.body.clientWidth)||0,height:(f?a.documentElement.clientHeight:a.body.clientHeight)||0}},getScrollPosition:function(){var a=this.$;if(\"pageXOffset\"in a)return{x:a.pageXOffset||0,y:a.pageYOffset||0};a=a.document;return{x:a.documentElement.scrollLeft||a.body.scrollLeft||0,y:a.documentElement.scrollTop||a.body.scrollTop||0}},getFrame:function(){var a=this.$.frameElement;return a?\nnew CKEDITOR.dom.element.get(a):null}}),CKEDITOR.dom.document=function(a){CKEDITOR.dom.domObject.call(this,a)},CKEDITOR.dom.document.prototype=new CKEDITOR.dom.domObject,CKEDITOR.tools.extend(CKEDITOR.dom.document.prototype,{type:CKEDITOR.NODE_DOCUMENT,appendStyleSheet:function(a){if(this.$.createStyleSheet)this.$.createStyleSheet(a);else{var f=new CKEDITOR.dom.element(\"link\");f.setAttributes({rel:\"stylesheet\",type:\"text/css\",href:a});this.getHead().append(f)}},appendStyleText:function(a){if(this.$.createStyleSheet){var f=\nthis.$.createStyleSheet(\"\");f.cssText=a}else{var b=new CKEDITOR.dom.element(\"style\",this);b.append(new CKEDITOR.dom.text(a,this));this.getHead().append(b)}return f||b.$.sheet},createElement:function(a,f){var b=new CKEDITOR.dom.element(a,this);f&&(f.attributes&&b.setAttributes(f.attributes),f.styles&&b.setStyles(f.styles));return b},createText:function(a){return new CKEDITOR.dom.text(a,this)},focus:function(){this.getWindow().focus()},getActive:function(){var a;try{a=this.$.activeElement}catch(f){return null}return new CKEDITOR.dom.element(a)},\ngetById:function(a){return(a=this.$.getElementById(a))?new CKEDITOR.dom.element(a):null},getByAddress:function(a,f){for(var b=this.$.documentElement,c=0;b&&c<a.length;c++){var e=a[c];if(f)for(var m=-1,l=0;l<b.childNodes.length;l++){var d=b.childNodes[l];if(!0!==f||3!=d.nodeType||!d.previousSibling||3!=d.previousSibling.nodeType)if(m++,m==e){b=d;break}}else b=b.childNodes[e]}return b?new CKEDITOR.dom.node(b):null},getElementsByTag:function(a,f){CKEDITOR.env.ie&&8>=document.documentMode||!f||(a=f+\":\"+\na);return new CKEDITOR.dom.nodeList(this.$.getElementsByTagName(a))},getHead:function(){var a=this.$.getElementsByTagName(\"head\")[0];return a=a?new CKEDITOR.dom.element(a):this.getDocumentElement().append(new CKEDITOR.dom.element(\"head\"),!0)},getBody:function(){return new CKEDITOR.dom.element(this.$.body)},getDocumentElement:function(){return new CKEDITOR.dom.element(this.$.documentElement)},getWindow:function(){return new CKEDITOR.dom.window(this.$.parentWindow||this.$.defaultView)},write:function(a){this.$.open(\"text/html\",\n\"replace\");CKEDITOR.env.ie&&(a=a.replace(/(?:^\\s*<!DOCTYPE[^>]*?>)|^/i,'$\\x26\\n\\x3cscript data-cke-temp\\x3d\"1\"\\x3e('+CKEDITOR.tools.fixDomain+\")();\\x3c/script\\x3e\"));this.$.write(a);this.$.close()},find:function(a){return new CKEDITOR.dom.nodeList(this.$.querySelectorAll(a))},findOne:function(a){return(a=this.$.querySelector(a))?new CKEDITOR.dom.element(a):null},_getHtml5ShivFrag:function(){var a=this.getCustomData(\"html5ShivFrag\");a||(a=this.$.createDocumentFragment(),CKEDITOR.tools.enableHtml5Elements(a,\n!0),this.setCustomData(\"html5ShivFrag\",a));return a}}),CKEDITOR.dom.nodeList=function(a){this.$=a},CKEDITOR.dom.nodeList.prototype={count:function(){return this.$.length},getItem:function(a){return 0>a||a>=this.$.length?null:(a=this.$[a])?new CKEDITOR.dom.node(a):null}},CKEDITOR.dom.element=function(a,f){\"string\"==typeof a&&(a=(f?f.$:document).createElement(a));CKEDITOR.dom.domObject.call(this,a)},CKEDITOR.dom.element.get=function(a){return(a=\"string\"==typeof a?document.getElementById(a)||document.getElementsByName(a)[0]:\na)&&(a.$?a:new CKEDITOR.dom.element(a))},CKEDITOR.dom.element.prototype=new CKEDITOR.dom.node,CKEDITOR.dom.element.createFromHtml=function(a,f){var b=new CKEDITOR.dom.element(\"div\",f);b.setHtml(a);return b.getFirst().remove()},CKEDITOR.dom.element.setMarker=function(a,f,b,c){var e=f.getCustomData(\"list_marker_id\")||f.setCustomData(\"list_marker_id\",CKEDITOR.tools.getNextNumber()).getCustomData(\"list_marker_id\"),m=f.getCustomData(\"list_marker_names\")||f.setCustomData(\"list_marker_names\",{}).getCustomData(\"list_marker_names\");\na[e]=f;m[b]=1;return f.setCustomData(b,c)},CKEDITOR.dom.element.clearAllMarkers=function(a){for(var f in a)CKEDITOR.dom.element.clearMarkers(a,a[f],1)},CKEDITOR.dom.element.clearMarkers=function(a,f,b){var c=f.getCustomData(\"list_marker_names\"),e=f.getCustomData(\"list_marker_id\"),m;for(m in c)f.removeCustomData(m);f.removeCustomData(\"list_marker_names\");b&&(f.removeCustomData(\"list_marker_id\"),delete a[e])},function(){function a(a,b){return-1<(\" \"+a+\" \").replace(m,\" \").indexOf(\" \"+b+\" \")}function f(a){var b=\n!0;a.$.id||(a.$.id=\"cke_tmp_\"+CKEDITOR.tools.getNextNumber(),b=!1);return function(){b||a.removeAttribute(\"id\")}}function b(a,b){var c=CKEDITOR.tools.escapeCss(a.$.id);return\"#\"+c+\" \"+b.split(/,\\s*/).join(\", #\"+c+\" \")}function c(a){for(var b=0,c=0,g=l[a].length;c<g;c++)b+=parseInt(this.getComputedStyle(l[a][c])||0,10)||0;return b}var e=document.createElement(\"_\").classList,e=\"undefined\"!==typeof e&&null!==String(e.add).match(/\\[Native code\\]/gi),m=/[\\n\\t\\r]/g;CKEDITOR.tools.extend(CKEDITOR.dom.element.prototype,\n{type:CKEDITOR.NODE_ELEMENT,addClass:e?function(a){this.$.classList.add(a);return this}:function(d){var b=this.$.className;b&&(a(b,d)||(b+=\" \"+d));this.$.className=b||d;return this},removeClass:e?function(a){var b=this.$;b.classList.remove(a);b.className||b.removeAttribute(\"class\");return this}:function(d){var b=this.getAttribute(\"class\");b&&a(b,d)&&((b=b.replace(new RegExp(\"(?:^|\\\\s+)\"+d+\"(?\\x3d\\\\s|$)\"),\"\").replace(/^\\s+/,\"\"))?this.setAttribute(\"class\",b):this.removeAttribute(\"class\"));return this},\nhasClass:function(d){return a(this.$.className,d)},append:function(a,b){\"string\"==typeof a&&(a=this.getDocument().createElement(a));b?this.$.insertBefore(a.$,this.$.firstChild):this.$.appendChild(a.$);return a},appendHtml:function(a){if(this.$.childNodes.length){var b=new CKEDITOR.dom.element(\"div\",this.getDocument());b.setHtml(a);b.moveChildren(this)}else this.setHtml(a)},appendText:function(a){null!=this.$.text&&CKEDITOR.env.ie&&9>CKEDITOR.env.version?this.$.text+=a:this.append(new CKEDITOR.dom.text(a))},\nappendBogus:function(a){if(a||CKEDITOR.env.needsBrFiller){for(a=this.getLast();a&&a.type==CKEDITOR.NODE_TEXT&&!CKEDITOR.tools.rtrim(a.getText());)a=a.getPrevious();a&&a.is&&a.is(\"br\")||(a=this.getDocument().createElement(\"br\"),CKEDITOR.env.gecko&&a.setAttribute(\"type\",\"_moz\"),this.append(a))}},breakParent:function(a,b){var c=new CKEDITOR.dom.range(this.getDocument());c.setStartAfter(this);c.setEndAfter(a);var g=c.extractContents(!1,b||!1),e;c.insertNode(this.remove());if(CKEDITOR.env.ie&&!CKEDITOR.env.edge){for(c=\nnew CKEDITOR.dom.element(\"div\");e=g.getFirst();)e.$.style.backgroundColor&&(e.$.style.backgroundColor=e.$.style.backgroundColor),c.append(e);c.insertAfter(this);c.remove(!0)}else g.insertAfterNode(this)},contains:document.compareDocumentPosition?function(a){return!!(this.$.compareDocumentPosition(a.$)&16)}:function(a){var b=this.$;return a.type!=CKEDITOR.NODE_ELEMENT?b.contains(a.getParent().$):b!=a.$&&b.contains(a.$)},focus:function(){function a(){try{this.$.focus()}catch(b){}}return function(b){b?\nCKEDITOR.tools.setTimeout(a,100,this):a.call(this)}}(),getHtml:function(){var a=this.$.innerHTML;return CKEDITOR.env.ie?a.replace(/<\\?[^>]*>/g,\"\"):a},getOuterHtml:function(){if(this.$.outerHTML)return this.$.outerHTML.replace(/<\\?[^>]*>/,\"\");var a=this.$.ownerDocument.createElement(\"div\");a.appendChild(this.$.cloneNode(!0));return a.innerHTML},getClientRect:function(){var a=CKEDITOR.tools.extend({},this.$.getBoundingClientRect());!a.width&&(a.width=a.right-a.left);!a.height&&(a.height=a.bottom-a.top);\nreturn a},setHtml:CKEDITOR.env.ie&&9>CKEDITOR.env.version?function(a){try{var b=this.$;if(this.getParent())return b.innerHTML=a;var c=this.getDocument()._getHtml5ShivFrag();c.appendChild(b);b.innerHTML=a;c.removeChild(b);return a}catch(g){this.$.innerHTML=\"\";b=new CKEDITOR.dom.element(\"body\",this.getDocument());b.$.innerHTML=a;for(b=b.getChildren();b.count();)this.append(b.getItem(0));return a}}:function(a){return this.$.innerHTML=a},setText:function(){var a=document.createElement(\"p\");a.innerHTML=\n\"x\";a=a.textContent;return function(b){this.$[a?\"textContent\":\"innerText\"]=b}}(),getAttribute:function(){var a=function(a){return this.$.getAttribute(a,2)};return CKEDITOR.env.ie&&(CKEDITOR.env.ie7Compat||CKEDITOR.env.quirks)?function(a){switch(a){case \"class\":a=\"className\";break;case \"http-equiv\":a=\"httpEquiv\";break;case \"name\":return this.$.name;case \"tabindex\":return a=this.$.getAttribute(a,2),0!==a&&0===this.$.tabIndex&&(a=null),a;case \"checked\":return a=this.$.attributes.getNamedItem(a),(a.specified?\na.nodeValue:this.$.checked)?\"checked\":null;case \"hspace\":case \"value\":return this.$[a];case \"style\":return this.$.style.cssText;case \"contenteditable\":case \"contentEditable\":return this.$.attributes.getNamedItem(\"contentEditable\").specified?this.$.getAttribute(\"contentEditable\"):null}return this.$.getAttribute(a,2)}:a}(),getAttributes:function(a){var b={},c=this.$.attributes,g;a=CKEDITOR.tools.isArray(a)?a:[];for(g=0;g<c.length;g++)-1===CKEDITOR.tools.indexOf(a,c[g].name)&&(b[c[g].name]=c[g].value);\nreturn b},getChildren:function(){return new CKEDITOR.dom.nodeList(this.$.childNodes)},getComputedStyle:document.defaultView&&document.defaultView.getComputedStyle?function(a){var b=this.getWindow().$.getComputedStyle(this.$,null);return b?b.getPropertyValue(a):\"\"}:function(a){return this.$.currentStyle[CKEDITOR.tools.cssStyleToDomStyle(a)]},getDtd:function(){var a=CKEDITOR.dtd[this.getName()];this.getDtd=function(){return a};return a},getElementsByTag:CKEDITOR.dom.document.prototype.getElementsByTag,\ngetTabIndex:function(){var a=this.$.tabIndex;return 0!==a||CKEDITOR.dtd.$tabIndex[this.getName()]||0===parseInt(this.getAttribute(\"tabindex\"),10)?a:-1},getText:function(){return this.$.textContent||this.$.innerText||\"\"},getWindow:function(){return this.getDocument().getWindow()},getId:function(){return this.$.id||null},getNameAtt:function(){return this.$.name||null},getName:function(){var a=this.$.nodeName.toLowerCase();if(CKEDITOR.env.ie&&8>=document.documentMode){var b=this.$.scopeName;\"HTML\"!=\nb&&(a=b.toLowerCase()+\":\"+a)}this.getName=function(){return a};return this.getName()},getValue:function(){return this.$.value},getFirst:function(a){var b=this.$.firstChild;(b=b&&new CKEDITOR.dom.node(b))&&a&&!a(b)&&(b=b.getNext(a));return b},getLast:function(a){var b=this.$.lastChild;(b=b&&new CKEDITOR.dom.node(b))&&a&&!a(b)&&(b=b.getPrevious(a));return b},getStyle:function(a){return this.$.style[CKEDITOR.tools.cssStyleToDomStyle(a)]},is:function(){var a=this.getName();if(\"object\"==typeof arguments[0])return!!arguments[0][a];\nfor(var b=0;b<arguments.length;b++)if(arguments[b]==a)return!0;return!1},isEditable:function(a){var b=this.getName();return this.isReadOnly()||\"none\"==this.getComputedStyle(\"display\")||\"hidden\"==this.getComputedStyle(\"visibility\")||CKEDITOR.dtd.$nonEditable[b]||CKEDITOR.dtd.$empty[b]||this.is(\"a\")&&(this.data(\"cke-saved-name\")||this.hasAttribute(\"name\"))&&!this.getChildCount()?!1:!1!==a?(a=CKEDITOR.dtd[b]||CKEDITOR.dtd.span,!(!a||!a[\"#\"])):!0},isIdentical:function(a){var b=this.clone(0,1);a=a.clone(0,\n1);b.removeAttributes([\"_moz_dirty\",\"data-cke-expando\",\"data-cke-saved-href\",\"data-cke-saved-name\"]);a.removeAttributes([\"_moz_dirty\",\"data-cke-expando\",\"data-cke-saved-href\",\"data-cke-saved-name\"]);if(b.$.isEqualNode)return b.$.style.cssText=CKEDITOR.tools.normalizeCssText(b.$.style.cssText),a.$.style.cssText=CKEDITOR.tools.normalizeCssText(a.$.style.cssText),b.$.isEqualNode(a.$);b=b.getOuterHtml();a=a.getOuterHtml();if(CKEDITOR.env.ie&&9>CKEDITOR.env.version&&this.is(\"a\")){var c=this.getParent();\nc.type==CKEDITOR.NODE_ELEMENT&&(c=c.clone(),c.setHtml(b),b=c.getHtml(),c.setHtml(a),a=c.getHtml())}return b==a},isVisible:function(){var a=(this.$.offsetHeight||this.$.offsetWidth)&&\"hidden\"!=this.getComputedStyle(\"visibility\"),b,c;a&&CKEDITOR.env.webkit&&(b=this.getWindow(),!b.equals(CKEDITOR.document.getWindow())&&(c=b.$.frameElement)&&(a=(new CKEDITOR.dom.element(c)).isVisible()));return!!a},isEmptyInlineRemoveable:function(){if(!CKEDITOR.dtd.$removeEmpty[this.getName()])return!1;for(var a=this.getChildren(),\nb=0,c=a.count();b<c;b++){var g=a.getItem(b);if(g.type!=CKEDITOR.NODE_ELEMENT||!g.data(\"cke-bookmark\"))if(g.type==CKEDITOR.NODE_ELEMENT&&!g.isEmptyInlineRemoveable()||g.type==CKEDITOR.NODE_TEXT&&CKEDITOR.tools.trim(g.getText()))return!1}return!0},hasAttributes:CKEDITOR.env.ie&&(CKEDITOR.env.ie7Compat||CKEDITOR.env.quirks)?function(){for(var a=this.$.attributes,b=0;b<a.length;b++){var c=a[b];switch(c.nodeName){case \"class\":if(this.getAttribute(\"class\"))return!0;case \"data-cke-expando\":continue;default:if(c.specified)return!0}}return!1}:\nfunction(){var a=this.$.attributes,b=a.length,c={\"data-cke-expando\":1,_moz_dirty:1};return 0<b&&(2<b||!c[a[0].nodeName]||2==b&&!c[a[1].nodeName])},hasAttribute:function(){function a(b){var d=this.$.attributes.getNamedItem(b);if(\"input\"==this.getName())switch(b){case \"class\":return 0<this.$.className.length;case \"checked\":return!!this.$.checked;case \"value\":return b=this.getAttribute(\"type\"),\"checkbox\"==b||\"radio\"==b?\"on\"!=this.$.value:!!this.$.value}return d?d.specified:!1}return CKEDITOR.env.ie?\n8>CKEDITOR.env.version?function(b){return\"name\"==b?!!this.$.name:a.call(this,b)}:a:function(a){return!!this.$.attributes.getNamedItem(a)}}(),hide:function(){this.setStyle(\"display\",\"none\")},moveChildren:function(a,b){var c=this.$;a=a.$;if(c!=a){var g;if(b)for(;g=c.lastChild;)a.insertBefore(c.removeChild(g),a.firstChild);else for(;g=c.firstChild;)a.appendChild(c.removeChild(g))}},mergeSiblings:function(){function a(b,d,g){if(d&&d.type==CKEDITOR.NODE_ELEMENT){for(var c=[];d.data(\"cke-bookmark\")||d.isEmptyInlineRemoveable();)if(c.push(d),\nd=g?d.getNext():d.getPrevious(),!d||d.type!=CKEDITOR.NODE_ELEMENT)return;if(b.isIdentical(d)){for(var e=g?b.getLast():b.getFirst();c.length;)c.shift().move(b,!g);d.moveChildren(b,!g);d.remove();e&&e.type==CKEDITOR.NODE_ELEMENT&&e.mergeSiblings()}}}return function(b){if(!1===b||CKEDITOR.dtd.$removeEmpty[this.getName()]||this.is(\"a\"))a(this,this.getNext(),!0),a(this,this.getPrevious())}}(),show:function(){this.setStyles({display:\"\",visibility:\"\"})},setAttribute:function(){var a=function(a,b){this.$.setAttribute(a,\nb);return this};return CKEDITOR.env.ie&&(CKEDITOR.env.ie7Compat||CKEDITOR.env.quirks)?function(b,c){\"class\"==b?this.$.className=c:\"style\"==b?this.$.style.cssText=c:\"tabindex\"==b?this.$.tabIndex=c:\"checked\"==b?this.$.checked=c:\"contenteditable\"==b?a.call(this,\"contentEditable\",c):a.apply(this,arguments);return this}:CKEDITOR.env.ie8Compat&&CKEDITOR.env.secure?function(b,c){if(\"src\"==b&&c.match(/^http:\\/\\//))try{a.apply(this,arguments)}catch(g){}else a.apply(this,arguments);return this}:a}(),setAttributes:function(a){for(var b in a)this.setAttribute(b,\na[b]);return this},setValue:function(a){this.$.value=a;return this},removeAttribute:function(){var a=function(a){this.$.removeAttribute(a)};return CKEDITOR.env.ie&&(CKEDITOR.env.ie7Compat||CKEDITOR.env.quirks)?function(a){\"class\"==a?a=\"className\":\"tabindex\"==a?a=\"tabIndex\":\"contenteditable\"==a&&(a=\"contentEditable\");this.$.removeAttribute(a)}:a}(),removeAttributes:function(a){if(CKEDITOR.tools.isArray(a))for(var b=0;b<a.length;b++)this.removeAttribute(a[b]);else for(b in a=a||this.getAttributes(),\na)a.hasOwnProperty(b)&&this.removeAttribute(b)},removeStyle:function(a){var b=this.$.style;if(b.removeProperty||\"border\"!=a&&\"margin\"!=a&&\"padding\"!=a)b.removeProperty?b.removeProperty(a):b.removeAttribute(CKEDITOR.tools.cssStyleToDomStyle(a)),this.$.style.cssText||this.removeAttribute(\"style\");else{var c=[\"top\",\"left\",\"right\",\"bottom\"],g;\"border\"==a&&(g=[\"color\",\"style\",\"width\"]);for(var b=[],e=0;e<c.length;e++)if(g)for(var f=0;f<g.length;f++)b.push([a,c[e],g[f]].join(\"-\"));else b.push([a,c[e]].join(\"-\"));\nfor(a=0;a<b.length;a++)this.removeStyle(b[a])}},setStyle:function(a,b){this.$.style[CKEDITOR.tools.cssStyleToDomStyle(a)]=b;return this},setStyles:function(a){for(var b in a)this.setStyle(b,a[b]);return this},setOpacity:function(a){CKEDITOR.env.ie&&9>CKEDITOR.env.version?(a=Math.round(100*a),this.setStyle(\"filter\",100<=a?\"\":\"progid:DXImageTransform.Microsoft.Alpha(opacity\\x3d\"+a+\")\")):this.setStyle(\"opacity\",a)},unselectable:function(){this.setStyles(CKEDITOR.tools.cssVendorPrefix(\"user-select\",\"none\"));\nif(CKEDITOR.env.ie){this.setAttribute(\"unselectable\",\"on\");for(var a,b=this.getElementsByTag(\"*\"),c=0,g=b.count();c<g;c++)a=b.getItem(c),a.setAttribute(\"unselectable\",\"on\")}},getPositionedAncestor:function(){for(var a=this;\"html\"!=a.getName();){if(\"static\"!=a.getComputedStyle(\"position\"))return a;a=a.getParent()}return null},getDocumentPosition:function(a){var b=0,c=0,g=this.getDocument(),e=g.getBody(),f=\"BackCompat\"==g.$.compatMode;if(document.documentElement.getBoundingClientRect&&(CKEDITOR.env.ie?\n8!==CKEDITOR.env.version:1)){var m=this.$.getBoundingClientRect(),l=g.$.documentElement,v=l.clientTop||e.$.clientTop||0,r=l.clientLeft||e.$.clientLeft||0,u=!0;CKEDITOR.env.ie&&(u=g.getDocumentElement().contains(this),g=g.getBody().contains(this),u=f&&g||!f&&u);u&&(CKEDITOR.env.webkit||CKEDITOR.env.ie&&12<=CKEDITOR.env.version?(b=e.$.scrollLeft||l.scrollLeft,c=e.$.scrollTop||l.scrollTop):(c=f?e.$:l,b=c.scrollLeft,c=c.scrollTop),b=m.left+b-r,c=m.top+c-v)}else for(v=this,r=null;v&&\"body\"!=v.getName()&&\n\"html\"!=v.getName();){b+=v.$.offsetLeft-v.$.scrollLeft;c+=v.$.offsetTop-v.$.scrollTop;v.equals(this)||(b+=v.$.clientLeft||0,c+=v.$.clientTop||0);for(;r&&!r.equals(v);)b-=r.$.scrollLeft,c-=r.$.scrollTop,r=r.getParent();r=v;v=(m=v.$.offsetParent)?new CKEDITOR.dom.element(m):null}a&&(m=this.getWindow(),v=a.getWindow(),!m.equals(v)&&m.$.frameElement&&(a=(new CKEDITOR.dom.element(m.$.frameElement)).getDocumentPosition(a),b+=a.x,c+=a.y));document.documentElement.getBoundingClientRect||!CKEDITOR.env.gecko||\nf||(b+=this.$.clientLeft?1:0,c+=this.$.clientTop?1:0);return{x:b,y:c}},scrollIntoView:function(a){var b=this.getParent();if(b){do if((b.$.clientWidth&&b.$.clientWidth<b.$.scrollWidth||b.$.clientHeight&&b.$.clientHeight<b.$.scrollHeight)&&!b.is(\"body\")&&this.scrollIntoParent(b,a,1),b.is(\"html\")){var c=b.getWindow();try{var g=c.$.frameElement;g&&(b=new CKEDITOR.dom.element(g))}catch(e){}}while(b=b.getParent())}},scrollIntoParent:function(a,b,c){var g,e,f,m;function l(b,g){/body|html/.test(a.getName())?\na.getWindow().$.scrollBy(b,g):(a.$.scrollLeft+=b,a.$.scrollTop+=g)}function v(a,b){var g={x:0,y:0};if(!a.is(u?\"body\":\"html\")){var c=a.$.getBoundingClientRect();g.x=c.left;g.y=c.top}c=a.getWindow();c.equals(b)||(c=v(CKEDITOR.dom.element.get(c.$.frameElement),b),g.x+=c.x,g.y+=c.y);return g}function r(a,b){return parseInt(a.getComputedStyle(\"margin-\"+b)||0,10)||0}!a&&(a=this.getWindow());f=a.getDocument();var u=\"BackCompat\"==f.$.compatMode;a instanceof CKEDITOR.dom.window&&(a=u?f.getBody():f.getDocumentElement());\nCKEDITOR.env.webkit&&(f=this.getEditor(!1))&&(f._.previousScrollTop=null);f=a.getWindow();e=v(this,f);var B=v(a,f),x=this.$.offsetHeight;g=this.$.offsetWidth;var w=a.$.clientHeight,z=a.$.clientWidth;f=e.x-r(this,\"left\")-B.x||0;m=e.y-r(this,\"top\")-B.y||0;g=e.x+g+r(this,\"right\")-(B.x+z)||0;e=e.y+x+r(this,\"bottom\")-(B.y+w)||0;(0>m||0<e)&&l(0,!0===b?m:!1===b?e:0>m?m:e);c&&(0>f||0<g)&&l(0>f?f:g,0)},setState:function(a,b,c){b=b||\"cke\";switch(a){case CKEDITOR.TRISTATE_ON:this.addClass(b+\"_on\");this.removeClass(b+\n\"_off\");this.removeClass(b+\"_disabled\");c&&this.setAttribute(\"aria-pressed\",!0);c&&this.removeAttribute(\"aria-disabled\");break;case CKEDITOR.TRISTATE_DISABLED:this.addClass(b+\"_disabled\");this.removeClass(b+\"_off\");this.removeClass(b+\"_on\");c&&this.setAttribute(\"aria-disabled\",!0);c&&this.removeAttribute(\"aria-pressed\");break;default:this.addClass(b+\"_off\"),this.removeClass(b+\"_on\"),this.removeClass(b+\"_disabled\"),c&&this.removeAttribute(\"aria-pressed\"),c&&this.removeAttribute(\"aria-disabled\")}},\ngetFrameDocument:function(){var a=this.$;try{a.contentWindow.document}catch(b){a.src=a.src}return a&&new CKEDITOR.dom.document(a.contentWindow.document)},copyAttributes:function(a,b){var c=this.$.attributes;b=b||{};for(var g=0;g<c.length;g++){var e=c[g],f=e.nodeName.toLowerCase(),m;if(!(f in b))if(\"checked\"==f&&(m=this.getAttribute(f)))a.setAttribute(f,m);else if(!CKEDITOR.env.ie||this.hasAttribute(f))m=this.getAttribute(f),null===m&&(m=e.nodeValue),a.setAttribute(f,m)}\"\"!==this.$.style.cssText&&\n(a.$.style.cssText=this.$.style.cssText)},renameNode:function(a){if(this.getName()!=a){var b=this.getDocument();a=new CKEDITOR.dom.element(a,b);this.copyAttributes(a);this.moveChildren(a);this.getParent(!0)&&this.$.parentNode.replaceChild(a.$,this.$);a.$[\"data-cke-expando\"]=this.$[\"data-cke-expando\"];this.$=a.$;delete this.getName}},getChild:function(){function a(b,c){var g=b.childNodes;if(0<=c&&c<g.length)return g[c]}return function(b){var c=this.$;if(b.slice)for(b=b.slice();0<b.length&&c;)c=a(c,\nb.shift());else c=a(c,b);return c?new CKEDITOR.dom.node(c):null}}(),getChildCount:function(){return this.$.childNodes.length},disableContextMenu:function(){function a(b){return b.type==CKEDITOR.NODE_ELEMENT&&b.hasClass(\"cke_enable_context_menu\")}this.on(\"contextmenu\",function(b){b.data.getTarget().getAscendant(a,!0)||b.data.preventDefault()})},getDirection:function(a){return a?this.getComputedStyle(\"direction\")||this.getDirection()||this.getParent()&&this.getParent().getDirection(1)||this.getDocument().$.dir||\n\"ltr\":this.getStyle(\"direction\")||this.getAttribute(\"dir\")},data:function(a,b){a=\"data-\"+a;if(void 0===b)return this.getAttribute(a);!1===b?this.removeAttribute(a):this.setAttribute(a,b);return null},getEditor:function(a){var b=CKEDITOR.instances,c,g,e;a=a||void 0===a;for(c in b)if(g=b[c],g.element.equals(this)&&g.elementMode!=CKEDITOR.ELEMENT_MODE_APPENDTO||!a&&(e=g.editable(),e.equals(this)||e.contains(this)))return g;return null},find:function(a){var c=f(this);a=new CKEDITOR.dom.nodeList(this.$.querySelectorAll(b(this,\na)));c();return a},findOne:function(a){var c=f(this);a=this.$.querySelector(b(this,a));c();return a?new CKEDITOR.dom.element(a):null},forEach:function(a,b,c){if(!(c||b&&this.type!=b))var g=a(this);if(!1!==g){c=this.getChildren();for(var e=0;e<c.count();e++)g=c.getItem(e),g.type==CKEDITOR.NODE_ELEMENT?g.forEach(a,b):b&&g.type!=b||a(g)}}});var l={width:[\"border-left-width\",\"border-right-width\",\"padding-left\",\"padding-right\"],height:[\"border-top-width\",\"border-bottom-width\",\"padding-top\",\"padding-bottom\"]};\nCKEDITOR.dom.element.prototype.setSize=function(a,b,e){\"number\"==typeof b&&(!e||CKEDITOR.env.ie&&CKEDITOR.env.quirks||(b-=c.call(this,a)),this.setStyle(a,b+\"px\"))};CKEDITOR.dom.element.prototype.getSize=function(a,b){var e=Math.max(this.$[\"offset\"+CKEDITOR.tools.capitalize(a)],this.$[\"client\"+CKEDITOR.tools.capitalize(a)])||0;b&&(e-=c.call(this,a));return e}}(),CKEDITOR.dom.documentFragment=function(a){a=a||CKEDITOR.document;this.$=a.type==CKEDITOR.NODE_DOCUMENT?a.$.createDocumentFragment():a},CKEDITOR.tools.extend(CKEDITOR.dom.documentFragment.prototype,\nCKEDITOR.dom.element.prototype,{type:CKEDITOR.NODE_DOCUMENT_FRAGMENT,insertAfterNode:function(a){a=a.$;a.parentNode.insertBefore(this.$,a.nextSibling)},getHtml:function(){var a=new CKEDITOR.dom.element(\"div\");this.clone(1,1).appendTo(a);return a.getHtml().replace(/\\s*data-cke-expando=\".*?\"/g,\"\")}},!0,{append:1,appendBogus:1,clone:1,getFirst:1,getHtml:1,getLast:1,getParent:1,getNext:1,getPrevious:1,appendTo:1,moveChildren:1,insertBefore:1,insertAfterNode:1,replace:1,trim:1,type:1,ltrim:1,rtrim:1,getDocument:1,\ngetChildCount:1,getChild:1,getChildren:1}),function(){function a(a,b){var g=this.range;if(this._.end)return null;if(!this._.start){this._.start=1;if(g.collapsed)return this.end(),null;g.optimize()}var c,d=g.startContainer;c=g.endContainer;var e=g.startOffset,k=g.endOffset,f,h=this.guard,n=this.type,m=a?\"getPreviousSourceNode\":\"getNextSourceNode\";if(!a&&!this._.guardLTR){var l=c.type==CKEDITOR.NODE_ELEMENT?c:c.getParent(),A=c.type==CKEDITOR.NODE_ELEMENT?c.getChild(k):c.getNext();this._.guardLTR=function(a,\nb){return(!b||!l.equals(a))&&(!A||!a.equals(A))&&(a.type!=CKEDITOR.NODE_ELEMENT||!b||!a.equals(g.root))}}if(a&&!this._.guardRTL){var C=d.type==CKEDITOR.NODE_ELEMENT?d:d.getParent(),F=d.type==CKEDITOR.NODE_ELEMENT?e?d.getChild(e-1):null:d.getPrevious();this._.guardRTL=function(a,b){return(!b||!C.equals(a))&&(!F||!a.equals(F))&&(a.type!=CKEDITOR.NODE_ELEMENT||!b||!a.equals(g.root))}}var E=a?this._.guardRTL:this._.guardLTR;f=h?function(a,b){return!1===E(a,b)?!1:h(a,b)}:E;this.current?c=this.current[m](!1,\nn,f):(a?c.type==CKEDITOR.NODE_ELEMENT&&(c=0<k?c.getChild(k-1):!1===f(c,!0)?null:c.getPreviousSourceNode(!0,n,f)):(c=d,c.type==CKEDITOR.NODE_ELEMENT&&((c=c.getChild(e))||(c=!1===f(d,!0)?null:d.getNextSourceNode(!0,n,f)))),c&&!1===f(c)&&(c=null));for(;c&&!this._.end;){this.current=c;if(!this.evaluator||!1!==this.evaluator(c)){if(!b)return c}else if(b&&this.evaluator)return!1;c=c[m](!1,n,f)}this.end();return this.current=null}function f(b){for(var g,c=null;g=a.call(this,b);)c=g;return c}CKEDITOR.dom.walker=\nCKEDITOR.tools.createClass({$:function(a){this.range=a;this._={}},proto:{end:function(){this._.end=1},next:function(){return a.call(this)},previous:function(){return a.call(this,1)},checkForward:function(){return!1!==a.call(this,0,1)},checkBackward:function(){return!1!==a.call(this,1,1)},lastForward:function(){return f.call(this)},lastBackward:function(){return f.call(this,1)},reset:function(){delete this.current;this._={}}}});var b={block:1,\"list-item\":1,table:1,\"table-row-group\":1,\"table-header-group\":1,\n\"table-footer-group\":1,\"table-row\":1,\"table-column-group\":1,\"table-column\":1,\"table-cell\":1,\"table-caption\":1},c={absolute:1,fixed:1};CKEDITOR.dom.element.prototype.isBlockBoundary=function(a){return\"none\"!=this.getComputedStyle(\"float\")||this.getComputedStyle(\"position\")in c||!b[this.getComputedStyle(\"display\")]?!!(this.is(CKEDITOR.dtd.$block)||a&&this.is(a)):!0};CKEDITOR.dom.walker.blockBoundary=function(a){return function(b){return!(b.type==CKEDITOR.NODE_ELEMENT&&b.isBlockBoundary(a))}};CKEDITOR.dom.walker.listItemBoundary=\nfunction(){return this.blockBoundary({br:1})};CKEDITOR.dom.walker.bookmark=function(a,b){function g(a){return a&&a.getName&&\"span\"==a.getName()&&a.data(\"cke-bookmark\")}return function(c){var d,e;d=c&&c.type!=CKEDITOR.NODE_ELEMENT&&(e=c.getParent())&&g(e);d=a?d:d||g(c);return!!(b^d)}};CKEDITOR.dom.walker.whitespaces=function(a){return function(b){var g;b&&b.type==CKEDITOR.NODE_TEXT&&(g=!CKEDITOR.tools.trim(b.getText())||CKEDITOR.env.webkit&&b.getText()==CKEDITOR.dom.selection.FILLING_CHAR_SEQUENCE);\nreturn!!(a^g)}};CKEDITOR.dom.walker.invisible=function(a){var b=CKEDITOR.dom.walker.whitespaces(),g=CKEDITOR.env.webkit?1:0;return function(c){b(c)?c=1:(c.type==CKEDITOR.NODE_TEXT&&(c=c.getParent()),c=c.$.offsetWidth<=g);return!!(a^c)}};CKEDITOR.dom.walker.nodeType=function(a,b){return function(g){return!!(b^g.type==a)}};CKEDITOR.dom.walker.bogus=function(a){function b(a){return!m(a)&&!l(a)}return function(g){var c=CKEDITOR.env.needsBrFiller?g.is&&g.is(\"br\"):g.getText&&e.test(g.getText());c&&(c=g.getParent(),\ng=g.getNext(b),c=c.isBlockBoundary()&&(!g||g.type==CKEDITOR.NODE_ELEMENT&&g.isBlockBoundary()));return!!(a^c)}};CKEDITOR.dom.walker.temp=function(a){return function(b){b.type!=CKEDITOR.NODE_ELEMENT&&(b=b.getParent());b=b&&b.hasAttribute(\"data-cke-temp\");return!!(a^b)}};var e=/^[\\t\\r\\n ]*(?:&nbsp;|\\xa0)$/,m=CKEDITOR.dom.walker.whitespaces(),l=CKEDITOR.dom.walker.bookmark(),d=CKEDITOR.dom.walker.temp(),h=function(a){return l(a)||m(a)||a.type==CKEDITOR.NODE_ELEMENT&&a.is(CKEDITOR.dtd.$inline)&&!a.is(CKEDITOR.dtd.$empty)};\nCKEDITOR.dom.walker.ignored=function(a){return function(b){b=m(b)||l(b)||d(b);return!!(a^b)}};var k=CKEDITOR.dom.walker.ignored();CKEDITOR.dom.walker.empty=function(a){return function(b){for(var g=0,c=b.getChildCount();g<c;++g)if(!k(b.getChild(g)))return!!a;return!a}};var g=CKEDITOR.dom.walker.empty(),n=CKEDITOR.dom.walker.validEmptyBlockContainers=CKEDITOR.tools.extend(function(a){var b={},g;for(g in a)CKEDITOR.dtd[g][\"#\"]&&(b[g]=1);return b}(CKEDITOR.dtd.$block),{caption:1,td:1,th:1});CKEDITOR.dom.walker.editable=\nfunction(a){return function(b){b=k(b)?!1:b.type==CKEDITOR.NODE_TEXT||b.type==CKEDITOR.NODE_ELEMENT&&(b.is(CKEDITOR.dtd.$inline)||b.is(\"hr\")||\"false\"==b.getAttribute(\"contenteditable\")||!CKEDITOR.env.needsBrFiller&&b.is(n)&&g(b))?!0:!1;return!!(a^b)}};CKEDITOR.dom.element.prototype.getBogus=function(){var a=this;do a=a.getPreviousSourceNode();while(h(a));return a&&(CKEDITOR.env.needsBrFiller?a.is&&a.is(\"br\"):a.getText&&e.test(a.getText()))?a:!1}}(),CKEDITOR.dom.range=function(a){this.endOffset=this.endContainer=\nthis.startOffset=this.startContainer=null;this.collapsed=!0;var f=a instanceof CKEDITOR.dom.document;this.document=f?a:a.getDocument();this.root=f?a.getBody():a},function(){function a(a){a.collapsed=a.startContainer&&a.endContainer&&a.startContainer.equals(a.endContainer)&&a.startOffset==a.endOffset}function f(a,b,c,d,e){function k(a,b,g,c){var d=g?a.getPrevious():a.getNext();if(c&&m)return d;w||c?b.append(a.clone(!0,e),g):(a.remove(),l&&b.append(a));return d}function f(){var a,b,g,c=Math.min(I.length,\nH.length);for(a=0;a<c;a++)if(b=I[a],g=H[a],!b.equals(g))return a;return a-1}function h(){var b=R-1,c=E&&J&&!z.equals(D);b<P-1||b<T-1||c?(c?a.moveToPosition(D,CKEDITOR.POSITION_BEFORE_START):T==b+1&&F?a.moveToPosition(H[b],CKEDITOR.POSITION_BEFORE_END):a.moveToPosition(H[b+1],CKEDITOR.POSITION_BEFORE_START),d&&(b=I[b+1])&&b.type==CKEDITOR.NODE_ELEMENT&&(c=CKEDITOR.dom.element.createFromHtml('\\x3cspan data-cke-bookmark\\x3d\"1\" style\\x3d\"display:none\"\\x3e\\x26nbsp;\\x3c/span\\x3e',a.document),c.insertAfter(b),\nb.mergeSiblings(!1),a.moveToBookmark({startNode:c}))):a.collapse(!0)}a.optimizeBookmark();var m=0===b,l=1==b,w=2==b;b=w||l;var z=a.startContainer,D=a.endContainer,y=a.startOffset,A=a.endOffset,C,F,E,J,G,M;if(w&&D.type==CKEDITOR.NODE_TEXT&&z.equals(D))z=a.document.createText(z.substring(y,A)),c.append(z);else{D.type==CKEDITOR.NODE_TEXT?w?M=!0:D=D.split(A):0<D.getChildCount()?A>=D.getChildCount()?(D=D.getChild(A-1),F=!0):D=D.getChild(A):J=F=!0;z.type==CKEDITOR.NODE_TEXT?w?G=!0:z.split(y):0<z.getChildCount()?\n0===y?(z=z.getChild(y),C=!0):z=z.getChild(y-1):E=C=!0;for(var I=z.getParents(),H=D.getParents(),R=f(),P=I.length-1,T=H.length-1,O=c,K,ca,W,U=-1,L=R;L<=P;L++){ca=I[L];W=ca.getNext();for(L!=P||ca.equals(H[L])&&P<T?b&&(K=O.append(ca.clone(0,e))):C?k(ca,O,!1,E):G&&O.append(a.document.createText(ca.substring(y)));W;){if(W.equals(H[L])){U=L;break}W=k(W,O)}O=K}O=c;for(L=R;L<=T;L++)if(c=H[L],W=c.getPrevious(),c.equals(I[L]))b&&(O=O.getChild(0));else{L!=T||c.equals(I[L])&&T<P?b&&(K=O.append(c.clone(0,e))):\nF?k(c,O,!1,J):M&&O.append(a.document.createText(c.substring(0,A)));if(L>U)for(;W;)W=k(W,O,!0);O=K}w||h()}}function b(){var a=!1,b=CKEDITOR.dom.walker.whitespaces(),c=CKEDITOR.dom.walker.bookmark(!0),d=CKEDITOR.dom.walker.bogus();return function(e){return c(e)||b(e)?!0:d(e)&&!a?a=!0:e.type==CKEDITOR.NODE_TEXT&&(e.hasAscendant(\"pre\")||CKEDITOR.tools.trim(e.getText()).length)||e.type==CKEDITOR.NODE_ELEMENT&&!e.is(m)?!1:!0}}function c(a){var b=CKEDITOR.dom.walker.whitespaces(),c=CKEDITOR.dom.walker.bookmark(1);\nreturn function(d){return c(d)||b(d)?!0:!a&&l(d)||d.type==CKEDITOR.NODE_ELEMENT&&d.is(CKEDITOR.dtd.$removeEmpty)}}function e(a){return function(){var b;return this[a?\"getPreviousNode\":\"getNextNode\"](function(a){!b&&k(a)&&(b=a);return h(a)&&!(l(a)&&a.equals(b))})}}var m={abbr:1,acronym:1,b:1,bdo:1,big:1,cite:1,code:1,del:1,dfn:1,em:1,font:1,i:1,ins:1,label:1,kbd:1,q:1,samp:1,small:1,span:1,strike:1,strong:1,sub:1,sup:1,tt:1,u:1,\"var\":1},l=CKEDITOR.dom.walker.bogus(),d=/^[\\t\\r\\n ]*(?:&nbsp;|\\xa0)$/,\nh=CKEDITOR.dom.walker.editable(),k=CKEDITOR.dom.walker.ignored(!0);CKEDITOR.dom.range.prototype={clone:function(){var a=new CKEDITOR.dom.range(this.root);a._setStartContainer(this.startContainer);a.startOffset=this.startOffset;a._setEndContainer(this.endContainer);a.endOffset=this.endOffset;a.collapsed=this.collapsed;return a},collapse:function(a){a?(this._setEndContainer(this.startContainer),this.endOffset=this.startOffset):(this._setStartContainer(this.endContainer),this.startOffset=this.endOffset);\nthis.collapsed=!0},cloneContents:function(a){var b=new CKEDITOR.dom.documentFragment(this.document);this.collapsed||f(this,2,b,!1,\"undefined\"==typeof a?!0:a);return b},deleteContents:function(a){this.collapsed||f(this,0,null,a)},extractContents:function(a,b){var c=new CKEDITOR.dom.documentFragment(this.document);this.collapsed||f(this,1,c,a,\"undefined\"==typeof b?!0:b);return c},createBookmark:function(a){var b,c,d,e,k=this.collapsed;b=this.document.createElement(\"span\");b.data(\"cke-bookmark\",1);b.setStyle(\"display\",\n\"none\");b.setHtml(\"\\x26nbsp;\");a&&(d=\"cke_bm_\"+CKEDITOR.tools.getNextNumber(),b.setAttribute(\"id\",d+(k?\"C\":\"S\")));k||(c=b.clone(),c.setHtml(\"\\x26nbsp;\"),a&&c.setAttribute(\"id\",d+\"E\"),e=this.clone(),e.collapse(),e.insertNode(c));e=this.clone();e.collapse(!0);e.insertNode(b);c?(this.setStartAfter(b),this.setEndBefore(c)):this.moveToPosition(b,CKEDITOR.POSITION_AFTER_END);return{startNode:a?d+(k?\"C\":\"S\"):b,endNode:a?d+\"E\":c,serializable:a,collapsed:k}},createBookmark2:function(){function a(b){var g=\nb.container,d=b.offset,e;e=g;var k=d;e=e.type!=CKEDITOR.NODE_ELEMENT||0===k||k==e.getChildCount()?0:e.getChild(k-1).type==CKEDITOR.NODE_TEXT&&e.getChild(k).type==CKEDITOR.NODE_TEXT;e&&(g=g.getChild(d-1),d=g.getLength());if(g.type==CKEDITOR.NODE_ELEMENT&&0<d){a:{for(e=g;d--;)if(k=e.getChild(d).getIndex(!0),0<=k){d=k;break a}d=-1}d+=1}if(g.type==CKEDITOR.NODE_TEXT){e=g;for(k=0;(e=e.getPrevious())&&e.type==CKEDITOR.NODE_TEXT;)k+=e.getText().replace(CKEDITOR.dom.selection.FILLING_CHAR_SEQUENCE,\"\").length;\ne=k;g.getText()?d+=e:(k=g.getPrevious(c),e?(d=e,g=k?k.getNext():g.getParent().getFirst()):(g=g.getParent(),d=k?k.getIndex(!0)+1:0))}b.container=g;b.offset=d}function b(a,g){var c=g.getCustomData(\"cke-fillingChar\");if(c){var d=a.container;c.equals(d)&&(a.offset-=CKEDITOR.dom.selection.FILLING_CHAR_SEQUENCE.length,0>=a.offset&&(a.offset=d.getIndex(),a.container=d.getParent()))}}var c=CKEDITOR.dom.walker.nodeType(CKEDITOR.NODE_TEXT,!0);return function(c){var d=this.collapsed,e={container:this.startContainer,\noffset:this.startOffset},k={container:this.endContainer,offset:this.endOffset};c&&(a(e),b(e,this.root),d||(a(k),b(k,this.root)));return{start:e.container.getAddress(c),end:d?null:k.container.getAddress(c),startOffset:e.offset,endOffset:k.offset,normalized:c,collapsed:d,is2:!0}}}(),moveToBookmark:function(a){if(a.is2){var b=this.document.getByAddress(a.start,a.normalized),c=a.startOffset,d=a.end&&this.document.getByAddress(a.end,a.normalized);a=a.endOffset;this.setStart(b,c);d?this.setEnd(d,a):this.collapse(!0)}else b=\n(c=a.serializable)?this.document.getById(a.startNode):a.startNode,a=c?this.document.getById(a.endNode):a.endNode,this.setStartBefore(b),b.remove(),a?(this.setEndBefore(a),a.remove()):this.collapse(!0)},getBoundaryNodes:function(){var a=this.startContainer,b=this.endContainer,c=this.startOffset,d=this.endOffset,e;if(a.type==CKEDITOR.NODE_ELEMENT)if(e=a.getChildCount(),e>c)a=a.getChild(c);else if(1>e)a=a.getPreviousSourceNode();else{for(a=a.$;a.lastChild;)a=a.lastChild;a=new CKEDITOR.dom.node(a);a=\na.getNextSourceNode()||a}if(b.type==CKEDITOR.NODE_ELEMENT)if(e=b.getChildCount(),e>d)b=b.getChild(d).getPreviousSourceNode(!0);else if(1>e)b=b.getPreviousSourceNode();else{for(b=b.$;b.lastChild;)b=b.lastChild;b=new CKEDITOR.dom.node(b)}a.getPosition(b)&CKEDITOR.POSITION_FOLLOWING&&(a=b);return{startNode:a,endNode:b}},getCommonAncestor:function(a,b){var c=this.startContainer,d=this.endContainer,c=c.equals(d)?a&&c.type==CKEDITOR.NODE_ELEMENT&&this.startOffset==this.endOffset-1?c.getChild(this.startOffset):\nc:c.getCommonAncestor(d);return b&&!c.is?c.getParent():c},optimize:function(){var a=this.startContainer,b=this.startOffset;a.type!=CKEDITOR.NODE_ELEMENT&&(b?b>=a.getLength()&&this.setStartAfter(a):this.setStartBefore(a));a=this.endContainer;b=this.endOffset;a.type!=CKEDITOR.NODE_ELEMENT&&(b?b>=a.getLength()&&this.setEndAfter(a):this.setEndBefore(a))},optimizeBookmark:function(){var a=this.startContainer,b=this.endContainer;a.is&&a.is(\"span\")&&a.data(\"cke-bookmark\")&&this.setStartAt(a,CKEDITOR.POSITION_BEFORE_START);\nb&&b.is&&b.is(\"span\")&&b.data(\"cke-bookmark\")&&this.setEndAt(b,CKEDITOR.POSITION_AFTER_END)},trim:function(a,b){var c=this.startContainer,d=this.startOffset,e=this.collapsed;if((!a||e)&&c&&c.type==CKEDITOR.NODE_TEXT){if(d)if(d>=c.getLength())d=c.getIndex()+1,c=c.getParent();else{var k=c.split(d),d=c.getIndex()+1,c=c.getParent();this.startContainer.equals(this.endContainer)?this.setEnd(k,this.endOffset-this.startOffset):c.equals(this.endContainer)&&(this.endOffset+=1)}else d=c.getIndex(),c=c.getParent();\nthis.setStart(c,d);if(e){this.collapse(!0);return}}c=this.endContainer;d=this.endOffset;b||e||!c||c.type!=CKEDITOR.NODE_TEXT||(d?(d>=c.getLength()||c.split(d),d=c.getIndex()+1):d=c.getIndex(),c=c.getParent(),this.setEnd(c,d))},enlarge:function(a,b){function c(a){return a&&a.type==CKEDITOR.NODE_ELEMENT&&a.hasAttribute(\"contenteditable\")?null:a}var d=new RegExp(/[^\\s\\ufeff]/);switch(a){case CKEDITOR.ENLARGE_INLINE:var e=1;case CKEDITOR.ENLARGE_ELEMENT:var k=function(a,b){var c=new CKEDITOR.dom.range(h);\nc.setStart(a,b);c.setEndAt(h,CKEDITOR.POSITION_BEFORE_END);var c=new CKEDITOR.dom.walker(c),g;for(c.guard=function(a){return!(a.type==CKEDITOR.NODE_ELEMENT&&a.isBlockBoundary())};g=c.next();){if(g.type!=CKEDITOR.NODE_TEXT)return!1;C=g!=a?g.getText():g.substring(b);if(d.test(C))return!1}return!0};if(this.collapsed)break;var f=this.getCommonAncestor(),h=this.root,m,l,w,z,D,y=!1,A,C;A=this.startContainer;var F=this.startOffset;A.type==CKEDITOR.NODE_TEXT?(F&&(A=!CKEDITOR.tools.trim(A.substring(0,F)).length&&\nA,y=!!A),A&&((z=A.getPrevious())||(w=A.getParent()))):(F&&(z=A.getChild(F-1)||A.getLast()),z||(w=A));for(w=c(w);w||z;){if(w&&!z){!D&&w.equals(f)&&(D=!0);if(e?w.isBlockBoundary():!h.contains(w))break;y&&\"inline\"==w.getComputedStyle(\"display\")||(y=!1,D?m=w:this.setStartBefore(w));z=w.getPrevious()}for(;z;)if(A=!1,z.type==CKEDITOR.NODE_COMMENT)z=z.getPrevious();else{if(z.type==CKEDITOR.NODE_TEXT)C=z.getText(),d.test(C)&&(z=null),A=/[\\s\\ufeff]$/.test(C);else if((z.$.offsetWidth>(CKEDITOR.env.webkit?1:\n0)||b&&z.is(\"br\"))&&!z.data(\"cke-bookmark\"))if(y&&CKEDITOR.dtd.$removeEmpty[z.getName()]){C=z.getText();if(d.test(C))z=null;else for(var F=z.$.getElementsByTagName(\"*\"),E=0,J;J=F[E++];)if(!CKEDITOR.dtd.$removeEmpty[J.nodeName.toLowerCase()]){z=null;break}z&&(A=!!C.length)}else z=null;A&&(y?D?m=w:w&&this.setStartBefore(w):y=!0);if(z){A=z.getPrevious();if(!w&&!A){w=z;z=null;break}z=A}else w=null}w&&(w=c(w.getParent()))}A=this.endContainer;F=this.endOffset;w=z=null;D=y=!1;A.type==CKEDITOR.NODE_TEXT?\nCKEDITOR.tools.trim(A.substring(F)).length?y=!0:(y=!A.getLength(),F==A.getLength()?(z=A.getNext())||(w=A.getParent()):k(A,F)&&(w=A.getParent())):(z=A.getChild(F))||(w=A);for(;w||z;){if(w&&!z){!D&&w.equals(f)&&(D=!0);if(e?w.isBlockBoundary():!h.contains(w))break;y&&\"inline\"==w.getComputedStyle(\"display\")||(y=!1,D?l=w:w&&this.setEndAfter(w));z=w.getNext()}for(;z;){A=!1;if(z.type==CKEDITOR.NODE_TEXT)C=z.getText(),k(z,0)||(z=null),A=/^[\\s\\ufeff]/.test(C);else if(z.type==CKEDITOR.NODE_ELEMENT){if((0<z.$.offsetWidth||\nb&&z.is(\"br\"))&&!z.data(\"cke-bookmark\"))if(y&&CKEDITOR.dtd.$removeEmpty[z.getName()]){C=z.getText();if(d.test(C))z=null;else for(F=z.$.getElementsByTagName(\"*\"),E=0;J=F[E++];)if(!CKEDITOR.dtd.$removeEmpty[J.nodeName.toLowerCase()]){z=null;break}z&&(A=!!C.length)}else z=null}else A=1;A&&y&&(D?l=w:this.setEndAfter(w));if(z){A=z.getNext();if(!w&&!A){w=z;z=null;break}z=A}else w=null}w&&(w=c(w.getParent()))}m&&l&&(f=m.contains(l)?l:m,this.setStartBefore(f),this.setEndAfter(f));break;case CKEDITOR.ENLARGE_BLOCK_CONTENTS:case CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS:w=\nnew CKEDITOR.dom.range(this.root);h=this.root;w.setStartAt(h,CKEDITOR.POSITION_AFTER_START);w.setEnd(this.startContainer,this.startOffset);w=new CKEDITOR.dom.walker(w);var G,M,I=CKEDITOR.dom.walker.blockBoundary(a==CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS?{br:1}:null),H=null,R=function(a){if(a.type==CKEDITOR.NODE_ELEMENT&&\"false\"==a.getAttribute(\"contenteditable\"))if(H){if(H.equals(a)){H=null;return}}else H=a;else if(H)return;var b=I(a);b||(G=a);return b},e=function(a){var b=R(a);!b&&a.is&&a.is(\"br\")&&\n(M=a);return b};w.guard=R;w=w.lastBackward();G=G||h;this.setStartAt(G,!G.is(\"br\")&&(!w&&this.checkStartOfBlock()||w&&G.contains(w))?CKEDITOR.POSITION_AFTER_START:CKEDITOR.POSITION_AFTER_END);if(a==CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS){w=this.clone();w=new CKEDITOR.dom.walker(w);var P=CKEDITOR.dom.walker.whitespaces(),T=CKEDITOR.dom.walker.bookmark();w.evaluator=function(a){return!P(a)&&!T(a)};if((w=w.previous())&&w.type==CKEDITOR.NODE_ELEMENT&&w.is(\"br\"))break}w=this.clone();w.collapse();w.setEndAt(h,\nCKEDITOR.POSITION_BEFORE_END);w=new CKEDITOR.dom.walker(w);w.guard=a==CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS?e:R;G=H=M=null;w=w.lastForward();G=G||h;this.setEndAt(G,!w&&this.checkEndOfBlock()||w&&G.contains(w)?CKEDITOR.POSITION_BEFORE_END:CKEDITOR.POSITION_BEFORE_START);M&&this.setEndAfter(M)}},shrink:function(a,b,c){if(!this.collapsed){a=a||CKEDITOR.SHRINK_TEXT;var d=this.clone(),e=this.startContainer,k=this.endContainer,f=this.startOffset,h=this.endOffset,m=1,l=1;e&&e.type==CKEDITOR.NODE_TEXT&&(f?\nf>=e.getLength()?d.setStartAfter(e):(d.setStartBefore(e),m=0):d.setStartBefore(e));k&&k.type==CKEDITOR.NODE_TEXT&&(h?h>=k.getLength()?d.setEndAfter(k):(d.setEndAfter(k),l=0):d.setEndBefore(k));var d=new CKEDITOR.dom.walker(d),w=CKEDITOR.dom.walker.bookmark();d.evaluator=function(b){return b.type==(a==CKEDITOR.SHRINK_ELEMENT?CKEDITOR.NODE_ELEMENT:CKEDITOR.NODE_TEXT)};var z;d.guard=function(b,d){if(w(b))return!0;if(a==CKEDITOR.SHRINK_ELEMENT&&b.type==CKEDITOR.NODE_TEXT||d&&b.equals(z)||!1===c&&b.type==\nCKEDITOR.NODE_ELEMENT&&b.isBlockBoundary()||b.type==CKEDITOR.NODE_ELEMENT&&b.hasAttribute(\"contenteditable\"))return!1;d||b.type!=CKEDITOR.NODE_ELEMENT||(z=b);return!0};m&&(e=d[a==CKEDITOR.SHRINK_ELEMENT?\"lastForward\":\"next\"]())&&this.setStartAt(e,b?CKEDITOR.POSITION_AFTER_START:CKEDITOR.POSITION_BEFORE_START);l&&(d.reset(),(d=d[a==CKEDITOR.SHRINK_ELEMENT?\"lastBackward\":\"previous\"]())&&this.setEndAt(d,b?CKEDITOR.POSITION_BEFORE_END:CKEDITOR.POSITION_AFTER_END));return!(!m&&!l)}},insertNode:function(a){this.optimizeBookmark();\nthis.trim(!1,!0);var b=this.startContainer,c=b.getChild(this.startOffset);c?a.insertBefore(c):b.append(a);a.getParent()&&a.getParent().equals(this.endContainer)&&this.endOffset++;this.setStartBefore(a)},moveToPosition:function(a,b){this.setStartAt(a,b);this.collapse(!0)},moveToRange:function(a){this.setStart(a.startContainer,a.startOffset);this.setEnd(a.endContainer,a.endOffset)},selectNodeContents:function(a){this.setStart(a,0);this.setEnd(a,a.type==CKEDITOR.NODE_TEXT?a.getLength():a.getChildCount())},\nsetStart:function(b,c){b.type==CKEDITOR.NODE_ELEMENT&&CKEDITOR.dtd.$empty[b.getName()]&&(c=b.getIndex(),b=b.getParent());this._setStartContainer(b);this.startOffset=c;this.endContainer||(this._setEndContainer(b),this.endOffset=c);a(this)},setEnd:function(b,c){b.type==CKEDITOR.NODE_ELEMENT&&CKEDITOR.dtd.$empty[b.getName()]&&(c=b.getIndex()+1,b=b.getParent());this._setEndContainer(b);this.endOffset=c;this.startContainer||(this._setStartContainer(b),this.startOffset=c);a(this)},setStartAfter:function(a){this.setStart(a.getParent(),\na.getIndex()+1)},setStartBefore:function(a){this.setStart(a.getParent(),a.getIndex())},setEndAfter:function(a){this.setEnd(a.getParent(),a.getIndex()+1)},setEndBefore:function(a){this.setEnd(a.getParent(),a.getIndex())},setStartAt:function(b,c){switch(c){case CKEDITOR.POSITION_AFTER_START:this.setStart(b,0);break;case CKEDITOR.POSITION_BEFORE_END:b.type==CKEDITOR.NODE_TEXT?this.setStart(b,b.getLength()):this.setStart(b,b.getChildCount());break;case CKEDITOR.POSITION_BEFORE_START:this.setStartBefore(b);\nbreak;case CKEDITOR.POSITION_AFTER_END:this.setStartAfter(b)}a(this)},setEndAt:function(b,c){switch(c){case CKEDITOR.POSITION_AFTER_START:this.setEnd(b,0);break;case CKEDITOR.POSITION_BEFORE_END:b.type==CKEDITOR.NODE_TEXT?this.setEnd(b,b.getLength()):this.setEnd(b,b.getChildCount());break;case CKEDITOR.POSITION_BEFORE_START:this.setEndBefore(b);break;case CKEDITOR.POSITION_AFTER_END:this.setEndAfter(b)}a(this)},fixBlock:function(a,b){var c=this.createBookmark(),d=this.document.createElement(b);this.collapse(a);\nthis.enlarge(CKEDITOR.ENLARGE_BLOCK_CONTENTS);this.extractContents().appendTo(d);d.trim();this.insertNode(d);var e=d.getBogus();e&&e.remove();d.appendBogus();this.moveToBookmark(c);return d},splitBlock:function(a,b){var c=new CKEDITOR.dom.elementPath(this.startContainer,this.root),d=new CKEDITOR.dom.elementPath(this.endContainer,this.root),e=c.block,k=d.block,f=null;if(!c.blockLimit.equals(d.blockLimit))return null;\"br\"!=a&&(e||(e=this.fixBlock(!0,a),k=(new CKEDITOR.dom.elementPath(this.endContainer,\nthis.root)).block),k||(k=this.fixBlock(!1,a)));c=e&&this.checkStartOfBlock();d=k&&this.checkEndOfBlock();this.deleteContents();e&&e.equals(k)&&(d?(f=new CKEDITOR.dom.elementPath(this.startContainer,this.root),this.moveToPosition(k,CKEDITOR.POSITION_AFTER_END),k=null):c?(f=new CKEDITOR.dom.elementPath(this.startContainer,this.root),this.moveToPosition(e,CKEDITOR.POSITION_BEFORE_START),e=null):(k=this.splitElement(e,b||!1),e.is(\"ul\",\"ol\")||e.appendBogus()));return{previousBlock:e,nextBlock:k,wasStartOfBlock:c,\nwasEndOfBlock:d,elementPath:f}},splitElement:function(a,b){if(!this.collapsed)return null;this.setEndAt(a,CKEDITOR.POSITION_BEFORE_END);var c=this.extractContents(!1,b||!1),d=a.clone(!1,b||!1);c.appendTo(d);d.insertAfter(a);this.moveToPosition(a,CKEDITOR.POSITION_AFTER_END);return d},removeEmptyBlocksAtEnd:function(){function a(g){return function(a){return b(a)||c(a)||a.type==CKEDITOR.NODE_ELEMENT&&a.isEmptyInlineRemoveable()||g.is(\"table\")&&a.is(\"caption\")?!1:!0}}var b=CKEDITOR.dom.walker.whitespaces(),\nc=CKEDITOR.dom.walker.bookmark(!1);return function(b){for(var c=this.createBookmark(),d=this[b?\"endPath\":\"startPath\"](),e=d.block||d.blockLimit,k;e&&!e.equals(d.root)&&!e.getFirst(a(e));)k=e.getParent(),this[b?\"setEndAt\":\"setStartAt\"](e,CKEDITOR.POSITION_AFTER_END),e.remove(1),e=k;this.moveToBookmark(c)}}(),startPath:function(){return new CKEDITOR.dom.elementPath(this.startContainer,this.root)},endPath:function(){return new CKEDITOR.dom.elementPath(this.endContainer,this.root)},checkBoundaryOfElement:function(a,\nb){var d=b==CKEDITOR.START,e=this.clone();e.collapse(d);e[d?\"setStartAt\":\"setEndAt\"](a,d?CKEDITOR.POSITION_AFTER_START:CKEDITOR.POSITION_BEFORE_END);e=new CKEDITOR.dom.walker(e);e.evaluator=c(d);return e[d?\"checkBackward\":\"checkForward\"]()},checkStartOfBlock:function(){var a=this.startContainer,c=this.startOffset;CKEDITOR.env.ie&&c&&a.type==CKEDITOR.NODE_TEXT&&(a=CKEDITOR.tools.ltrim(a.substring(0,c)),d.test(a)&&this.trim(0,1));this.trim();a=new CKEDITOR.dom.elementPath(this.startContainer,this.root);\nc=this.clone();c.collapse(!0);c.setStartAt(a.block||a.blockLimit,CKEDITOR.POSITION_AFTER_START);a=new CKEDITOR.dom.walker(c);a.evaluator=b();return a.checkBackward()},checkEndOfBlock:function(){var a=this.endContainer,c=this.endOffset;CKEDITOR.env.ie&&a.type==CKEDITOR.NODE_TEXT&&(a=CKEDITOR.tools.rtrim(a.substring(c)),d.test(a)&&this.trim(1,0));this.trim();a=new CKEDITOR.dom.elementPath(this.endContainer,this.root);c=this.clone();c.collapse(!1);c.setEndAt(a.block||a.blockLimit,CKEDITOR.POSITION_BEFORE_END);\na=new CKEDITOR.dom.walker(c);a.evaluator=b();return a.checkForward()},getPreviousNode:function(a,b,c){var d=this.clone();d.collapse(1);d.setStartAt(c||this.root,CKEDITOR.POSITION_AFTER_START);c=new CKEDITOR.dom.walker(d);c.evaluator=a;c.guard=b;return c.previous()},getNextNode:function(a,b,c){var d=this.clone();d.collapse();d.setEndAt(c||this.root,CKEDITOR.POSITION_BEFORE_END);c=new CKEDITOR.dom.walker(d);c.evaluator=a;c.guard=b;return c.next()},checkReadOnly:function(){function a(b,c){for(;b;){if(b.type==\nCKEDITOR.NODE_ELEMENT){if(\"false\"==b.getAttribute(\"contentEditable\")&&!b.data(\"cke-editable\"))return 0;if(b.is(\"html\")||\"true\"==b.getAttribute(\"contentEditable\")&&(b.contains(c)||b.equals(c)))break}b=b.getParent()}return 1}return function(){var b=this.startContainer,c=this.endContainer;return!(a(b,c)&&a(c,b))}}(),moveToElementEditablePosition:function(a,b){if(a.type==CKEDITOR.NODE_ELEMENT&&!a.isEditable(!1))return this.moveToPosition(a,b?CKEDITOR.POSITION_AFTER_END:CKEDITOR.POSITION_BEFORE_START),\n!0;for(var c=0;a;){if(a.type==CKEDITOR.NODE_TEXT){b&&this.endContainer&&this.checkEndOfBlock()&&d.test(a.getText())?this.moveToPosition(a,CKEDITOR.POSITION_BEFORE_START):this.moveToPosition(a,b?CKEDITOR.POSITION_AFTER_END:CKEDITOR.POSITION_BEFORE_START);c=1;break}if(a.type==CKEDITOR.NODE_ELEMENT)if(a.isEditable())this.moveToPosition(a,b?CKEDITOR.POSITION_BEFORE_END:CKEDITOR.POSITION_AFTER_START),c=1;else if(b&&a.is(\"br\")&&this.endContainer&&this.checkEndOfBlock())this.moveToPosition(a,CKEDITOR.POSITION_BEFORE_START);\nelse if(\"false\"==a.getAttribute(\"contenteditable\")&&a.is(CKEDITOR.dtd.$block))return this.setStartBefore(a),this.setEndAfter(a),!0;var e=a,f=c,h=void 0;e.type==CKEDITOR.NODE_ELEMENT&&e.isEditable(!1)&&(h=e[b?\"getLast\":\"getFirst\"](k));f||h||(h=e[b?\"getPrevious\":\"getNext\"](k));a=h}return!!c},moveToClosestEditablePosition:function(a,b){var c,d=0,e,k,f=[CKEDITOR.POSITION_AFTER_END,CKEDITOR.POSITION_BEFORE_START];a?(c=new CKEDITOR.dom.range(this.root),c.moveToPosition(a,f[b?0:1])):c=this.clone();if(a&&\n!a.is(CKEDITOR.dtd.$block))d=1;else if(e=c[b?\"getNextEditableNode\":\"getPreviousEditableNode\"]())d=1,(k=e.type==CKEDITOR.NODE_ELEMENT)&&e.is(CKEDITOR.dtd.$block)&&\"false\"==e.getAttribute(\"contenteditable\")?(c.setStartAt(e,CKEDITOR.POSITION_BEFORE_START),c.setEndAt(e,CKEDITOR.POSITION_AFTER_END)):!CKEDITOR.env.needsBrFiller&&k&&e.is(CKEDITOR.dom.walker.validEmptyBlockContainers)?(c.setEnd(e,0),c.collapse()):c.moveToPosition(e,f[b?1:0]);d&&this.moveToRange(c);return!!d},moveToElementEditStart:function(a){return this.moveToElementEditablePosition(a)},\nmoveToElementEditEnd:function(a){return this.moveToElementEditablePosition(a,!0)},getEnclosedNode:function(){var a=this.clone();a.optimize();if(a.startContainer.type!=CKEDITOR.NODE_ELEMENT||a.endContainer.type!=CKEDITOR.NODE_ELEMENT)return null;var a=new CKEDITOR.dom.walker(a),b=CKEDITOR.dom.walker.bookmark(!1,!0),c=CKEDITOR.dom.walker.whitespaces(!0);a.evaluator=function(a){return c(a)&&b(a)};var d=a.next();a.reset();return d&&d.equals(a.previous())?d:null},getTouchedStartNode:function(){var a=this.startContainer;\nreturn this.collapsed||a.type!=CKEDITOR.NODE_ELEMENT?a:a.getChild(this.startOffset)||a},getTouchedEndNode:function(){var a=this.endContainer;return this.collapsed||a.type!=CKEDITOR.NODE_ELEMENT?a:a.getChild(this.endOffset-1)||a},getNextEditableNode:e(),getPreviousEditableNode:e(1),scrollIntoView:function(){var a=new CKEDITOR.dom.element.createFromHtml(\"\\x3cspan\\x3e\\x26nbsp;\\x3c/span\\x3e\",this.document),b,c,d,e=this.clone();e.optimize();(d=e.startContainer.type==CKEDITOR.NODE_TEXT)?(c=e.startContainer.getText(),\nb=e.startContainer.split(e.startOffset),a.insertAfter(e.startContainer)):e.insertNode(a);a.scrollIntoView();d&&(e.startContainer.setText(c),b.remove());a.remove()},_setStartContainer:function(a){this.startContainer=a},_setEndContainer:function(a){this.endContainer=a},_find:function(a,b){var c=this.getCommonAncestor(),d=this.getBoundaryNodes(),e=[],k,f,h,m;if(c&&c.find)for(f=c.find(a),k=0;k<f.count();k++)if(c=f.getItem(k),b||!c.isReadOnly())h=c.getPosition(d.startNode)&CKEDITOR.POSITION_FOLLOWING||\nd.startNode.equals(c),m=c.getPosition(d.endNode)&CKEDITOR.POSITION_PRECEDING+CKEDITOR.POSITION_IS_CONTAINED,h&&m&&e.push(c);return e}}}(),CKEDITOR.POSITION_AFTER_START=1,CKEDITOR.POSITION_BEFORE_END=2,CKEDITOR.POSITION_BEFORE_START=3,CKEDITOR.POSITION_AFTER_END=4,CKEDITOR.ENLARGE_ELEMENT=1,CKEDITOR.ENLARGE_BLOCK_CONTENTS=2,CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS=3,CKEDITOR.ENLARGE_INLINE=4,CKEDITOR.START=1,CKEDITOR.END=2,CKEDITOR.SHRINK_ELEMENT=1,CKEDITOR.SHRINK_TEXT=2,\"use strict\",function(){function a(a){1>\narguments.length||(this.range=a,this.forceBrBreak=0,this.enlargeBr=1,this.enforceRealBlocks=0,this._||(this._={}))}function f(a){var b=[];a.forEach(function(a){if(\"true\"==a.getAttribute(\"contenteditable\"))return b.push(a),!1},CKEDITOR.NODE_ELEMENT,!0);return b}function b(a,c,d,e){a:{null==e&&(e=f(d));for(var h;h=e.shift();)if(h.getDtd().p){e={element:h,remaining:e};break a}e=null}if(!e)return 0;if((h=CKEDITOR.filter.instances[e.element.data(\"cke-filter\")])&&!h.check(c))return b(a,c,d,e.remaining);\nc=new CKEDITOR.dom.range(e.element);c.selectNodeContents(e.element);c=c.createIterator();c.enlargeBr=a.enlargeBr;c.enforceRealBlocks=a.enforceRealBlocks;c.activeFilter=c.filter=h;a._.nestedEditable={element:e.element,container:d,remaining:e.remaining,iterator:c};return 1}function c(a,b,c){if(!b)return!1;a=a.clone();a.collapse(!c);return a.checkBoundaryOfElement(b,c?CKEDITOR.START:CKEDITOR.END)}var e=/^[\\r\\n\\t ]+$/,m=CKEDITOR.dom.walker.bookmark(!1,!0),l=CKEDITOR.dom.walker.whitespaces(!0),d=function(a){return m(a)&&\nl(a)},h={dd:1,dt:1,li:1};a.prototype={getNextParagraph:function(a){var g,f,l,p,t;a=a||\"p\";if(this._.nestedEditable){if(g=this._.nestedEditable.iterator.getNextParagraph(a))return this.activeFilter=this._.nestedEditable.iterator.activeFilter,g;this.activeFilter=this.filter;if(b(this,a,this._.nestedEditable.container,this._.nestedEditable.remaining))return this.activeFilter=this._.nestedEditable.iterator.activeFilter,this._.nestedEditable.iterator.getNextParagraph(a);this._.nestedEditable=null}if(!this.range.root.getDtd()[a])return null;\nif(!this._.started){var v=this.range.clone();f=v.startPath();var r=v.endPath(),u=!v.collapsed&&c(v,f.block),B=!v.collapsed&&c(v,r.block,1);v.shrink(CKEDITOR.SHRINK_ELEMENT,!0);u&&v.setStartAt(f.block,CKEDITOR.POSITION_BEFORE_END);B&&v.setEndAt(r.block,CKEDITOR.POSITION_AFTER_START);f=v.endContainer.hasAscendant(\"pre\",!0)||v.startContainer.hasAscendant(\"pre\",!0);v.enlarge(this.forceBrBreak&&!f||!this.enlargeBr?CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS:CKEDITOR.ENLARGE_BLOCK_CONTENTS);v.collapsed||(f=new CKEDITOR.dom.walker(v.clone()),\nr=CKEDITOR.dom.walker.bookmark(!0,!0),f.evaluator=r,this._.nextNode=f.next(),f=new CKEDITOR.dom.walker(v.clone()),f.evaluator=r,f=f.previous(),this._.lastNode=f.getNextSourceNode(!0,null,v.root),this._.lastNode&&this._.lastNode.type==CKEDITOR.NODE_TEXT&&!CKEDITOR.tools.trim(this._.lastNode.getText())&&this._.lastNode.getParent().isBlockBoundary()&&(r=this.range.clone(),r.moveToPosition(this._.lastNode,CKEDITOR.POSITION_AFTER_END),r.checkEndOfBlock()&&(r=new CKEDITOR.dom.elementPath(r.endContainer,\nr.root),this._.lastNode=(r.block||r.blockLimit).getNextSourceNode(!0))),this._.lastNode&&v.root.contains(this._.lastNode)||(this._.lastNode=this._.docEndMarker=v.document.createText(\"\"),this._.lastNode.insertAfter(f)),v=null);this._.started=1;f=v}r=this._.nextNode;v=this._.lastNode;for(this._.nextNode=null;r;){var u=0,B=r.hasAscendant(\"pre\"),x=r.type!=CKEDITOR.NODE_ELEMENT,w=0;if(x)r.type==CKEDITOR.NODE_TEXT&&e.test(r.getText())&&(x=0);else{var z=r.getName();if(CKEDITOR.dtd.$block[z]&&\"false\"==r.getAttribute(\"contenteditable\")){g=\nr;b(this,a,g);break}else if(r.isBlockBoundary(this.forceBrBreak&&!B&&{br:1})){if(\"br\"==z)x=1;else if(!f&&!r.getChildCount()&&\"hr\"!=z){g=r;l=r.equals(v);break}f&&(f.setEndAt(r,CKEDITOR.POSITION_BEFORE_START),\"br\"!=z&&(this._.nextNode=r));u=1}else{if(r.getFirst()){f||(f=this.range.clone(),f.setStartAt(r,CKEDITOR.POSITION_BEFORE_START));r=r.getFirst();continue}x=1}}x&&!f&&(f=this.range.clone(),f.setStartAt(r,CKEDITOR.POSITION_BEFORE_START));l=(!u||x)&&r.equals(v);if(f&&!u)for(;!r.getNext(d)&&!l;){z=\nr.getParent();if(z.isBlockBoundary(this.forceBrBreak&&!B&&{br:1})){u=1;x=0;l||z.equals(v);f.setEndAt(z,CKEDITOR.POSITION_BEFORE_END);break}r=z;x=1;l=r.equals(v);w=1}x&&f.setEndAt(r,CKEDITOR.POSITION_AFTER_END);r=this._getNextSourceNode(r,w,v);if((l=!r)||u&&f)break}if(!g){if(!f)return this._.docEndMarker&&this._.docEndMarker.remove(),this._.nextNode=null;g=new CKEDITOR.dom.elementPath(f.startContainer,f.root);r=g.blockLimit;u={div:1,th:1,td:1};g=g.block;!g&&r&&!this.enforceRealBlocks&&u[r.getName()]&&\nf.checkStartOfBlock()&&f.checkEndOfBlock()&&!r.equals(f.root)?g=r:!g||this.enforceRealBlocks&&g.is(h)?(g=this.range.document.createElement(a),f.extractContents().appendTo(g),g.trim(),f.insertNode(g),p=t=!0):\"li\"!=g.getName()?f.checkStartOfBlock()&&f.checkEndOfBlock()||(g=g.clone(!1),f.extractContents().appendTo(g),g.trim(),t=f.splitBlock(),p=!t.wasStartOfBlock,t=!t.wasEndOfBlock,f.insertNode(g)):l||(this._.nextNode=g.equals(v)?null:this._getNextSourceNode(f.getBoundaryNodes().endNode,1,v))}p&&(p=\ng.getPrevious())&&p.type==CKEDITOR.NODE_ELEMENT&&(\"br\"==p.getName()?p.remove():p.getLast()&&\"br\"==p.getLast().$.nodeName.toLowerCase()&&p.getLast().remove());t&&(p=g.getLast())&&p.type==CKEDITOR.NODE_ELEMENT&&\"br\"==p.getName()&&(!CKEDITOR.env.needsBrFiller||p.getPrevious(m)||p.getNext(m))&&p.remove();this._.nextNode||(this._.nextNode=l||g.equals(v)||!v?null:this._getNextSourceNode(g,1,v));return g},_getNextSourceNode:function(a,b,c){function d(a){return!(a.equals(c)||a.equals(e))}var e=this.range.root;\nfor(a=a.getNextSourceNode(b,null,d);!m(a);)a=a.getNextSourceNode(b,null,d);return a}};CKEDITOR.dom.range.prototype.createIterator=function(){return new a(this)}}(),CKEDITOR.command=function(a,f){this.uiItems=[];this.exec=function(b){if(this.state==CKEDITOR.TRISTATE_DISABLED||!this.checkAllowed())return!1;this.editorFocus&&a.focus();return!1===this.fire(\"exec\")?!0:!1!==f.exec.call(this,a,b)};this.refresh=function(a,b){if(!this.readOnly&&a.readOnly)return!0;if(this.context&&!b.isContextFor(this.context)||\n!this.checkAllowed(!0))return this.disable(),!0;this.startDisabled||this.enable();this.modes&&!this.modes[a.mode]&&this.disable();return!1===this.fire(\"refresh\",{editor:a,path:b})?!0:f.refresh&&!1!==f.refresh.apply(this,arguments)};var b;this.checkAllowed=function(c){return c||\"boolean\"!=typeof b?b=a.activeFilter.checkFeature(this):b};CKEDITOR.tools.extend(this,f,{modes:{wysiwyg:1},editorFocus:1,contextSensitive:!!f.context,state:CKEDITOR.TRISTATE_DISABLED});CKEDITOR.event.call(this)},CKEDITOR.command.prototype=\n{enable:function(){this.state==CKEDITOR.TRISTATE_DISABLED&&this.checkAllowed()&&this.setState(this.preserveState&&\"undefined\"!=typeof this.previousState?this.previousState:CKEDITOR.TRISTATE_OFF)},disable:function(){this.setState(CKEDITOR.TRISTATE_DISABLED)},setState:function(a){if(this.state==a||a!=CKEDITOR.TRISTATE_DISABLED&&!this.checkAllowed())return!1;this.previousState=this.state;this.state=a;this.fire(\"state\");return!0},toggleState:function(){this.state==CKEDITOR.TRISTATE_OFF?this.setState(CKEDITOR.TRISTATE_ON):\nthis.state==CKEDITOR.TRISTATE_ON&&this.setState(CKEDITOR.TRISTATE_OFF)}},CKEDITOR.event.implementOn(CKEDITOR.command.prototype),CKEDITOR.ENTER_P=1,CKEDITOR.ENTER_BR=2,CKEDITOR.ENTER_DIV=3,CKEDITOR.config={customConfig:\"config.js\",autoUpdateElement:!0,language:\"\",defaultLanguage:\"en\",contentsLangDirection:\"\",enterMode:CKEDITOR.ENTER_P,forceEnterMode:!1,shiftEnterMode:CKEDITOR.ENTER_BR,docType:\"\\x3c!DOCTYPE html\\x3e\",bodyId:\"\",bodyClass:\"\",fullPage:!1,height:200,contentsCss:CKEDITOR.getUrl(\"contents.css\"),\nextraPlugins:\"\",removePlugins:\"\",protectedSource:[],tabIndex:0,width:\"\",baseFloatZIndex:1E4,blockedKeystrokes:[CKEDITOR.CTRL+66,CKEDITOR.CTRL+73,CKEDITOR.CTRL+85]},function(){function a(a,b,c,d,e){var g,f;a=[];for(g in b){f=b[g];f=\"boolean\"==typeof f?{}:\"function\"==typeof f?{match:f}:E(f);\"$\"!=g.charAt(0)&&(f.elements=g);c&&(f.featureName=c.toLowerCase());var k=f;k.elements=l(k.elements,/\\s+/)||null;k.propertiesOnly=k.propertiesOnly||!0===k.elements;var h=/\\s*,\\s*/,m=void 0;for(m in M){k[m]=l(k[m],\nh)||null;var w=k,v=I[m],z=l(k[I[m]],h),x=k[m],r=[],D=!0,n=void 0;z?D=!1:z={};for(n in x)\"!\"==n.charAt(0)&&(n=n.slice(1),r.push(n),z[n]=!0,D=!1);for(;n=r.pop();)x[n]=x[\"!\"+n],delete x[\"!\"+n];w[v]=(D?!1:z)||null}k.match=k.match||null;d.push(f);a.push(f)}b=e.elements;e=e.generic;var H;c=0;for(d=a.length;c<d;++c){g=E(a[c]);f=!0===g.classes||!0===g.styles||!0===g.attributes;k=g;m=v=h=void 0;for(h in M)k[h]=u(k[h]);w=!0;for(m in I){h=I[m];v=k[h];z=[];x=void 0;for(x in v)-1<x.indexOf(\"*\")?z.push(new RegExp(\"^\"+\nx.replace(/\\*/g,\".*\")+\"$\")):z.push(x);v=z;v.length&&(k[h]=v,w=!1)}k.nothingRequired=w;k.noProperties=!(k.attributes||k.classes||k.styles);if(!0===g.elements||null===g.elements)e[f?\"unshift\":\"push\"](g);else for(H in k=g.elements,delete g.elements,k)if(b[H])b[H][f?\"unshift\":\"push\"](g);else b[H]=[g]}}function f(a,c,e,g){if(!a.match||a.match(c))if(g||d(a,c))if(a.propertiesOnly||(e.valid=!0),e.allAttributes||(e.allAttributes=b(a.attributes,c.attributes,e.validAttributes)),e.allStyles||(e.allStyles=b(a.styles,\nc.styles,e.validStyles)),!e.allClasses){a=a.classes;c=c.classes;g=e.validClasses;if(a)if(!0===a)a=!0;else{for(var f=0,k=c.length,h;f<k;++f)h=c[f],g[h]||(g[h]=a(h));a=!1}else a=!1;e.allClasses=a}}function b(a,b,c){if(!a)return!1;if(!0===a)return!0;for(var d in b)c[d]||(c[d]=a(d));return!1}function c(a,b,c){if(!a.match||a.match(b)){if(a.noProperties)return!1;c.hadInvalidAttribute=e(a.attributes,b.attributes)||c.hadInvalidAttribute;c.hadInvalidStyle=e(a.styles,b.styles)||c.hadInvalidStyle;a=a.classes;\nb=b.classes;if(a){for(var d=!1,g=!0===a,f=b.length;f--;)if(g||a(b[f]))b.splice(f,1),d=!0;a=d}else a=!1;c.hadInvalidClass=a||c.hadInvalidClass}}function e(a,b){if(!a)return!1;var c=!1,d=!0===a,e;for(e in b)if(d||a(e))delete b[e],c=!0;return c}function m(a,b,c){if(a.disabled||a.customConfig&&!c||!b)return!1;a._.cachedChecks={};return!0}function l(a,b){if(!a)return!1;if(!0===a)return a;if(\"string\"==typeof a)return a=J(a),\"*\"==a?!0:CKEDITOR.tools.convertArrayToObject(a.split(b));if(CKEDITOR.tools.isArray(a))return a.length?\nCKEDITOR.tools.convertArrayToObject(a):!1;var c={},d=0,e;for(e in a)c[e]=a[e],d++;return d?c:!1}function d(a,b){if(a.nothingRequired)return!0;var c,d,e,g;if(e=a.requiredClasses)for(g=b.classes,c=0;c<e.length;++c)if(d=e[c],\"string\"==typeof d){if(-1==CKEDITOR.tools.indexOf(g,d))return!1}else if(!CKEDITOR.tools.checkIfAnyArrayItemMatches(g,d))return!1;return h(b.styles,a.requiredStyles)&&h(b.attributes,a.requiredAttributes)}function h(a,b){if(!b)return!0;for(var c=0,d;c<b.length;++c)if(d=b[c],\"string\"==\ntypeof d){if(!(d in a))return!1}else if(!CKEDITOR.tools.checkIfAnyObjectPropertyMatches(a,d))return!1;return!0}function k(a){if(!a)return{};a=a.split(/\\s*,\\s*/).sort();for(var b={};a.length;)b[a.shift()]=\"cke-test\";return b}function g(a){var b,c,d,e,g={},f=1;for(a=J(a);b=a.match(H);)(c=b[2])?(d=n(c,\"styles\"),e=n(c,\"attrs\"),c=n(c,\"classes\")):d=e=c=null,g[\"$\"+f++]={elements:b[1],classes:c,styles:d,attributes:e},a=a.slice(b[0].length);return g}function n(a,b){var c=a.match(R[b]);return c?J(c[1]):null}\nfunction q(a){var b=a.styleBackup=a.attributes.style,c=a.classBackup=a.attributes[\"class\"];a.styles||(a.styles=CKEDITOR.tools.parseCssText(b||\"\",1));a.classes||(a.classes=c?c.split(/\\s+/):[])}function p(a,b,d,e){var g=0,k;e.toHtml&&(b.name=b.name.replace(P,\"$1\"));if(e.doCallbacks&&a.elementCallbacks){a:{k=a.elementCallbacks;for(var h=0,m=k.length,l;h<m;++h)if(l=k[h](b)){k=l;break a}k=void 0}if(k)return k}if(e.doTransform&&(k=a._.transformations[b.name])){q(b);for(h=0;h<k.length;++h)z(a,b,k[h]);v(b)}if(e.doFilter){a:{h=\nb.name;m=a._;a=m.allowedRules.elements[h];k=m.allowedRules.generic;h=m.disallowedRules.elements[h];m=m.disallowedRules.generic;l=e.skipRequired;var w={valid:!1,validAttributes:{},validClasses:{},validStyles:{},allAttributes:!1,allClasses:!1,allStyles:!1,hadInvalidAttribute:!1,hadInvalidClass:!1,hadInvalidStyle:!1},x,u;if(a||k){q(b);if(h)for(x=0,u=h.length;x<u;++x)if(!1===c(h[x],b,w)){a=null;break a}if(m)for(x=0,u=m.length;x<u;++x)c(m[x],b,w);if(a)for(x=0,u=a.length;x<u;++x)f(a[x],b,w,l);if(k)for(x=\n0,u=k.length;x<u;++x)f(k[x],b,w,l);a=w}else a=null}if(!a||!a.valid)return d.push(b),1;u=a.validAttributes;var n=a.validStyles;k=a.validClasses;var h=b.attributes,D=b.styles,m=b.classes;l=b.classBackup;var H=b.styleBackup,I,y,t=[],w=[],p=/^data-cke-/;x=!1;delete h.style;delete h[\"class\"];delete b.classBackup;delete b.styleBackup;if(!a.allAttributes)for(I in h)u[I]||(p.test(I)?I==(y=I.replace(/^data-cke-saved-/,\"\"))||u[y]||(delete h[I],x=!0):(delete h[I],x=!0));if(!a.allStyles||a.hadInvalidStyle){for(I in D)a.allStyles||\nn[I]?t.push(I+\":\"+D[I]):x=!0;t.length&&(h.style=t.sort().join(\"; \"))}else H&&(h.style=H);if(!a.allClasses||a.hadInvalidClass){for(I=0;I<m.length;++I)(a.allClasses||k[m[I]])&&w.push(m[I]);w.length&&(h[\"class\"]=w.sort().join(\" \"));l&&w.length<l.split(/\\s+/).length&&(x=!0)}else l&&(h[\"class\"]=l);x&&(g=1);if(!e.skipFinalValidation&&!r(b))return d.push(b),1}e.toHtml&&(b.name=b.name.replace(T,\"cke:$1\"));return g}function t(a){var b=[],c;for(c in a)-1<c.indexOf(\"*\")&&b.push(c.replace(/\\*/g,\".*\"));return b.length?\nnew RegExp(\"^(?:\"+b.join(\"|\")+\")$\"):null}function v(a){var b=a.attributes,c;delete b.style;delete b[\"class\"];if(c=CKEDITOR.tools.writeCssText(a.styles,!0))b.style=c;a.classes.length&&(b[\"class\"]=a.classes.sort().join(\" \"))}function r(a){switch(a.name){case \"a\":if(!(a.children.length||a.attributes.name||a.attributes.id))return!1;break;case \"img\":if(!a.attributes.src)return!1}return!0}function u(a){if(!a)return!1;if(!0===a)return!0;var b=t(a);return function(c){return c in a||b&&c.match(b)}}function B(){return new CKEDITOR.htmlParser.element(\"br\")}\nfunction x(a){return a.type==CKEDITOR.NODE_ELEMENT&&(\"br\"==a.name||F.$block[a.name])}function w(a,b,c){var d=a.name;if(F.$empty[d]||!a.children.length)\"hr\"==d&&\"br\"==b?a.replaceWith(B()):(a.parent&&c.push({check:\"it\",el:a.parent}),a.remove());else if(F.$block[d]||\"tr\"==d)if(\"br\"==b)a.previous&&!x(a.previous)&&(b=B(),b.insertBefore(a)),a.next&&!x(a.next)&&(b=B(),b.insertAfter(a)),a.replaceWithChildren();else{var d=a.children,e;b:{e=F[b];for(var g=0,f=d.length,k;g<f;++g)if(k=d[g],k.type==CKEDITOR.NODE_ELEMENT&&\n!e[k.name]){e=!1;break b}e=!0}if(e)a.name=b,a.attributes={},c.push({check:\"parent-down\",el:a});else{e=a.parent;for(var g=e.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT||\"body\"==e.name,h,m,f=d.length;0<f;)k=d[--f],g&&(k.type==CKEDITOR.NODE_TEXT||k.type==CKEDITOR.NODE_ELEMENT&&F.$inline[k.name])?(h||(h=new CKEDITOR.htmlParser.element(b),h.insertAfter(a),c.push({check:\"parent-down\",el:h})),h.add(k,0)):(h=null,m=F[e.name]||F.span,k.insertAfter(a),e.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT||k.type!=CKEDITOR.NODE_ELEMENT||\nm[k.name]||c.push({check:\"el-up\",el:k}));a.remove()}}else d in{style:1,script:1}?a.remove():(a.parent&&c.push({check:\"it\",el:a.parent}),a.replaceWithChildren())}function z(a,b,c){var d,e;for(d=0;d<c.length;++d)if(e=c[d],!(e.check&&!a.check(e.check,!1)||e.left&&!e.left(b))){e.right(b,O);break}}function D(a,b){var c=b.getDefinition(),d=c.attributes,e=c.styles,g,k,f,h;if(a.name!=c.element)return!1;for(g in d)if(\"class\"==g)for(c=d[g].split(/\\s+/),f=a.classes.join(\"|\");h=c.pop();){if(-1==f.indexOf(h))return!1}else if(a.attributes[g]!=\nd[g])return!1;for(k in e)if(a.styles[k]!=e[k])return!1;return!0}function y(a,b){var c,d;\"string\"==typeof a?c=a:a instanceof CKEDITOR.style?d=a:(c=a[0],d=a[1]);return[{element:c,left:d,right:function(a,c){c.transform(a,b)}}]}function A(a){return function(b){return D(b,a)}}function C(a){return function(b,c){c[a](b)}}var F=CKEDITOR.dtd,E=CKEDITOR.tools.copy,J=CKEDITOR.tools.trim,G=[\"\",\"p\",\"br\",\"div\"];CKEDITOR.FILTER_SKIP_TREE=2;CKEDITOR.filter=function(a){this.allowedContent=[];this.disallowedContent=\n[];this.elementCallbacks=null;this.disabled=!1;this.editor=null;this.id=CKEDITOR.tools.getNextNumber();this._={allowedRules:{elements:{},generic:[]},disallowedRules:{elements:{},generic:[]},transformations:{},cachedTests:{}};CKEDITOR.filter.instances[this.id]=this;if(a instanceof CKEDITOR.editor){a=this.editor=a;this.customConfig=!0;var b=a.config.allowedContent;!0===b?this.disabled=!0:(b||(this.customConfig=!1),this.allow(b,\"config\",1),this.allow(a.config.extraAllowedContent,\"extra\",1),this.allow(G[a.enterMode]+\n\" \"+G[a.shiftEnterMode],\"default\",1),this.disallow(a.config.disallowedContent))}else this.customConfig=!1,this.allow(a,\"default\",1)};CKEDITOR.filter.instances={};CKEDITOR.filter.prototype={allow:function(b,c,d){if(!m(this,b,d))return!1;var e,k;if(\"string\"==typeof b)b=g(b);else if(b instanceof CKEDITOR.style){if(b.toAllowedContentRules)return this.allow(b.toAllowedContentRules(this.editor),c,d);e=b.getDefinition();b={};d=e.attributes;b[e.element]=e={styles:e.styles,requiredStyles:e.styles&&CKEDITOR.tools.objectKeys(e.styles)};\nd&&(d=E(d),e.classes=d[\"class\"]?d[\"class\"].split(/\\s+/):null,e.requiredClasses=e.classes,delete d[\"class\"],e.attributes=d,e.requiredAttributes=d&&CKEDITOR.tools.objectKeys(d))}else if(CKEDITOR.tools.isArray(b)){for(e=0;e<b.length;++e)k=this.allow(b[e],c,d);return k}a(this,b,c,this.allowedContent,this._.allowedRules);return!0},applyTo:function(a,b,c,d){if(this.disabled)return!1;var e=this,g=[],k=this.editor&&this.editor.config.protectedSource,f,h=!1,m={doFilter:!c,doTransform:!0,doCallbacks:!0,toHtml:b};\na.forEach(function(a){if(a.type==CKEDITOR.NODE_ELEMENT){if(\"off\"==a.attributes[\"data-cke-filter\"])return!1;if(!b||\"span\"!=a.name||!~CKEDITOR.tools.objectKeys(a.attributes).join(\"|\").indexOf(\"data-cke-\"))if(f=p(e,a,g,m),f&1)h=!0;else if(f&2)return!1}else if(a.type==CKEDITOR.NODE_COMMENT&&a.value.match(/^\\{cke_protected\\}(?!\\{C\\})/)){var c;a:{var d=decodeURIComponent(a.value.replace(/^\\{cke_protected\\}/,\"\"));c=[];var l,w,x;if(k)for(w=0;w<k.length;++w)if((x=d.match(k[w]))&&x[0].length==d.length){c=!0;\nbreak a}d=CKEDITOR.htmlParser.fragment.fromHtml(d);1==d.children.length&&(l=d.children[0]).type==CKEDITOR.NODE_ELEMENT&&p(e,l,c,m);c=!c.length}c||g.push(a)}},null,!0);g.length&&(h=!0);var l;a=[];d=G[d||(this.editor?this.editor.enterMode:CKEDITOR.ENTER_P)];for(var x;c=g.pop();)c.type==CKEDITOR.NODE_ELEMENT?w(c,d,a):c.remove();for(;l=a.pop();)if(c=l.el,c.parent)switch(x=F[c.parent.name]||F.span,l.check){case \"it\":F.$removeEmpty[c.name]&&!c.children.length?w(c,d,a):r(c)||w(c,d,a);break;case \"el-up\":c.parent.type==\nCKEDITOR.NODE_DOCUMENT_FRAGMENT||x[c.name]||w(c,d,a);break;case \"parent-down\":c.parent.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT||x[c.name]||w(c.parent,d,a)}return h},checkFeature:function(a){if(this.disabled||!a)return!0;a.toFeature&&(a=a.toFeature(this.editor));return!a.requiredContent||this.check(a.requiredContent)},disable:function(){this.disabled=!0},disallow:function(b){if(!m(this,b,!0))return!1;\"string\"==typeof b&&(b=g(b));a(this,b,null,this.disallowedContent,this._.disallowedRules);return!0},\naddContentForms:function(a){if(!this.disabled&&a){var b,c,d=[],e;for(b=0;b<a.length&&!e;++b)c=a[b],(\"string\"==typeof c||c instanceof CKEDITOR.style)&&this.check(c)&&(e=c);if(e){for(b=0;b<a.length;++b)d.push(y(a[b],e));this.addTransformations(d)}}},addElementCallback:function(a){this.elementCallbacks||(this.elementCallbacks=[]);this.elementCallbacks.push(a)},addFeature:function(a){if(this.disabled||!a)return!0;a.toFeature&&(a=a.toFeature(this.editor));this.allow(a.allowedContent,a.name);this.addTransformations(a.contentTransformations);\nthis.addContentForms(a.contentForms);return a.requiredContent&&(this.customConfig||this.disallowedContent.length)?this.check(a.requiredContent):!0},addTransformations:function(a){var b,c;if(!this.disabled&&a){var d=this._.transformations,e;for(e=0;e<a.length;++e){b=a[e];var g=void 0,k=void 0,f=void 0,h=void 0,m=void 0,l=void 0;c=[];for(k=0;k<b.length;++k)f=b[k],\"string\"==typeof f?(f=f.split(/\\s*:\\s*/),h=f[0],m=null,l=f[1]):(h=f.check,m=f.left,l=f.right),g||(g=f,g=g.element?g.element:h?h.match(/^([a-z0-9]+)/i)[0]:\ng.left.getDefinition().element),m instanceof CKEDITOR.style&&(m=A(m)),c.push({check:h==g?null:h,left:m,right:\"string\"==typeof l?C(l):l});b=g;d[b]||(d[b]=[]);d[b].push(c)}}},check:function(a,b,c){if(this.disabled)return!0;if(CKEDITOR.tools.isArray(a)){for(var d=a.length;d--;)if(this.check(a[d],b,c))return!0;return!1}var e,f;if(\"string\"==typeof a){f=a+\"\\x3c\"+(!1===b?\"0\":\"1\")+(c?\"1\":\"0\")+\"\\x3e\";if(f in this._.cachedChecks)return this._.cachedChecks[f];d=g(a).$1;e=d.styles;var h=d.classes;d.name=d.elements;\nd.classes=h=h?h.split(/\\s*,\\s*/):[];d.styles=k(e);d.attributes=k(d.attributes);d.children=[];h.length&&(d.attributes[\"class\"]=h.join(\" \"));e&&(d.attributes.style=CKEDITOR.tools.writeCssText(d.styles));e=d}else d=a.getDefinition(),e=d.styles,h=d.attributes||{},e&&!CKEDITOR.tools.isEmpty(e)?(e=E(e),h.style=CKEDITOR.tools.writeCssText(e,!0)):e={},e={name:d.element,attributes:h,classes:h[\"class\"]?h[\"class\"].split(/\\s+/):[],styles:e,children:[]};var h=CKEDITOR.tools.clone(e),m=[],l;if(!1!==b&&(l=this._.transformations[e.name])){for(d=\n0;d<l.length;++d)z(this,e,l[d]);v(e)}p(this,h,m,{doFilter:!0,doTransform:!1!==b,skipRequired:!c,skipFinalValidation:!c});b=0<m.length?!1:CKEDITOR.tools.objectCompare(e.attributes,h.attributes,!0)?!0:!1;\"string\"==typeof a&&(this._.cachedChecks[f]=b);return b},getAllowedEnterMode:function(){var a=[\"p\",\"div\",\"br\"],b={p:CKEDITOR.ENTER_P,div:CKEDITOR.ENTER_DIV,br:CKEDITOR.ENTER_BR};return function(c,d){var e=a.slice(),g;if(this.check(G[c]))return c;for(d||(e=e.reverse());g=e.pop();)if(this.check(g))return b[g];\nreturn CKEDITOR.ENTER_BR}}(),destroy:function(){delete CKEDITOR.filter.instances[this.id];delete this._;delete this.allowedContent;delete this.disallowedContent}};var M={styles:1,attributes:1,classes:1},I={styles:\"requiredStyles\",attributes:\"requiredAttributes\",classes:\"requiredClasses\"},H=/^([a-z0-9\\-*\\s]+)((?:\\s*\\{[!\\w\\-,\\s\\*]+\\}\\s*|\\s*\\[[!\\w\\-,\\s\\*]+\\]\\s*|\\s*\\([!\\w\\-,\\s\\*]+\\)\\s*){0,3})(?:;\\s*|$)/i,R={styles:/{([^}]+)}/,attrs:/\\[([^\\]]+)\\]/,classes:/\\(([^\\)]+)\\)/},P=/^cke:(object|embed|param)$/,\nT=/^(object|embed|param)$/,O;O=CKEDITOR.filter.transformationsTools={sizeToStyle:function(a){this.lengthToStyle(a,\"width\");this.lengthToStyle(a,\"height\")},sizeToAttribute:function(a){this.lengthToAttribute(a,\"width\");this.lengthToAttribute(a,\"height\")},lengthToStyle:function(a,b,c){c=c||b;if(!(c in a.styles)){var d=a.attributes[b];d&&(/^\\d+$/.test(d)&&(d+=\"px\"),a.styles[c]=d)}delete a.attributes[b]},lengthToAttribute:function(a,b,c){c=c||b;if(!(c in a.attributes)){var d=a.styles[b],e=d&&d.match(/^(\\d+)(?:\\.\\d*)?px$/);\ne?a.attributes[c]=e[1]:\"cke-test\"==d&&(a.attributes[c]=\"cke-test\")}delete a.styles[b]},alignmentToStyle:function(a){if(!(\"float\"in a.styles)){var b=a.attributes.align;if(\"left\"==b||\"right\"==b)a.styles[\"float\"]=b}delete a.attributes.align},alignmentToAttribute:function(a){if(!(\"align\"in a.attributes)){var b=a.styles[\"float\"];if(\"left\"==b||\"right\"==b)a.attributes.align=b}delete a.styles[\"float\"]},splitBorderShorthand:function(a){function b(d){a.styles[\"border-top-width\"]=c[d[0]];a.styles[\"border-right-width\"]=\nc[d[1]];a.styles[\"border-bottom-width\"]=c[d[2]];a.styles[\"border-left-width\"]=c[d[3]]}if(a.styles.border){var c=a.styles.border.match(/([\\.\\d]+\\w+)/g)||[\"0px\"];switch(c.length){case 1:a.styles[\"border-width\"]=c[0];break;case 2:b([0,1,0,1]);break;case 3:b([0,1,2,1]);break;case 4:b([0,1,2,3])}a.styles[\"border-style\"]=a.styles[\"border-style\"]||(a.styles.border.match(/(none|hidden|dotted|dashed|solid|double|groove|ridge|inset|outset|initial|inherit)/)||[])[0];a.styles[\"border-style\"]||delete a.styles[\"border-style\"];\ndelete a.styles.border}},listTypeToStyle:function(a){if(a.attributes.type)switch(a.attributes.type){case \"a\":a.styles[\"list-style-type\"]=\"lower-alpha\";break;case \"A\":a.styles[\"list-style-type\"]=\"upper-alpha\";break;case \"i\":a.styles[\"list-style-type\"]=\"lower-roman\";break;case \"I\":a.styles[\"list-style-type\"]=\"upper-roman\";break;case \"1\":a.styles[\"list-style-type\"]=\"decimal\";break;default:a.styles[\"list-style-type\"]=a.attributes.type}},splitMarginShorthand:function(a){function b(d){a.styles[\"margin-top\"]=\nc[d[0]];a.styles[\"margin-right\"]=c[d[1]];a.styles[\"margin-bottom\"]=c[d[2]];a.styles[\"margin-left\"]=c[d[3]]}if(a.styles.margin){var c=a.styles.margin.match(/(\\-?[\\.\\d]+\\w+)/g)||[\"0px\"];switch(c.length){case 1:a.styles.margin=c[0];break;case 2:b([0,1,0,1]);break;case 3:b([0,1,2,1]);break;case 4:b([0,1,2,3])}delete a.styles.margin}},matchesStyle:D,transform:function(a,b){if(\"string\"==typeof b)a.name=b;else{var c=b.getDefinition(),d=c.styles,e=c.attributes,g,f,k,h;a.name=c.element;for(g in e)if(\"class\"==\ng)for(c=a.classes.join(\"|\"),k=e[g].split(/\\s+/);h=k.pop();)-1==c.indexOf(h)&&a.classes.push(h);else a.attributes[g]=e[g];for(f in d)a.styles[f]=d[f]}}}}(),function(){CKEDITOR.focusManager=function(a){if(a.focusManager)return a.focusManager;this.hasFocus=!1;this.currentActive=null;this._={editor:a};return this};CKEDITOR.focusManager._={blurDelay:200};CKEDITOR.focusManager.prototype={focus:function(a){this._.timer&&clearTimeout(this._.timer);a&&(this.currentActive=a);this.hasFocus||this._.locked||((a=\nCKEDITOR.currentInstance)&&a.focusManager.blur(1),this.hasFocus=!0,(a=this._.editor.container)&&a.addClass(\"cke_focus\"),this._.editor.fire(\"focus\"))},lock:function(){this._.locked=1},unlock:function(){delete this._.locked},blur:function(a){function f(){if(this.hasFocus){this.hasFocus=!1;var a=this._.editor.container;a&&a.removeClass(\"cke_focus\");this._.editor.fire(\"blur\")}}if(!this._.locked){this._.timer&&clearTimeout(this._.timer);var b=CKEDITOR.focusManager._.blurDelay;a||!b?f.call(this):this._.timer=\nCKEDITOR.tools.setTimeout(function(){delete this._.timer;f.call(this)},b,this)}},add:function(a,f){var b=a.getCustomData(\"focusmanager\");if(!b||b!=this){b&&b.remove(a);var b=\"focus\",c=\"blur\";f&&(CKEDITOR.env.ie?(b=\"focusin\",c=\"focusout\"):CKEDITOR.event.useCapture=1);var e={blur:function(){a.equals(this.currentActive)&&this.blur()},focus:function(){this.focus(a)}};a.on(b,e.focus,this);a.on(c,e.blur,this);f&&(CKEDITOR.event.useCapture=0);a.setCustomData(\"focusmanager\",this);a.setCustomData(\"focusmanager_handlers\",\ne)}},remove:function(a){a.removeCustomData(\"focusmanager\");var f=a.removeCustomData(\"focusmanager_handlers\");a.removeListener(\"blur\",f.blur);a.removeListener(\"focus\",f.focus)}}}(),CKEDITOR.keystrokeHandler=function(a){if(a.keystrokeHandler)return a.keystrokeHandler;this.keystrokes={};this.blockedKeystrokes={};this._={editor:a};return this},function(){var a,f=function(b){b=b.data;var e=b.getKeystroke(),f=this.keystrokes[e],l=this._.editor;a=!1===l.fire(\"key\",{keyCode:e,domEvent:b});a||(f&&(a=!1!==\nl.execCommand(f,{from:\"keystrokeHandler\"})),a||(a=!!this.blockedKeystrokes[e]));a&&b.preventDefault(!0);return!a},b=function(b){a&&(a=!1,b.data.preventDefault(!0))};CKEDITOR.keystrokeHandler.prototype={attach:function(a){a.on(\"keydown\",f,this);if(CKEDITOR.env.gecko&&CKEDITOR.env.mac)a.on(\"keypress\",b,this)}}}(),function(){CKEDITOR.lang={languages:{af:1,ar:1,bg:1,bn:1,bs:1,ca:1,cs:1,cy:1,da:1,de:1,\"de-ch\":1,el:1,\"en-au\":1,\"en-ca\":1,\"en-gb\":1,en:1,eo:1,es:1,et:1,eu:1,fa:1,fi:1,fo:1,\"fr-ca\":1,fr:1,gl:1,\ngu:1,he:1,hi:1,hr:1,hu:1,id:1,is:1,it:1,ja:1,ka:1,km:1,ko:1,ku:1,lt:1,lv:1,mk:1,mn:1,ms:1,nb:1,nl:1,no:1,oc:1,pl:1,\"pt-br\":1,pt:1,ro:1,ru:1,si:1,sk:1,sl:1,sq:1,\"sr-latn\":1,sr:1,sv:1,th:1,tr:1,tt:1,ug:1,uk:1,vi:1,\"zh-cn\":1,zh:1},rtl:{ar:1,fa:1,he:1,ku:1,ug:1},load:function(a,f,b){a&&CKEDITOR.lang.languages[a]||(a=this.detect(f,a));var c=this;f=function(){c[a].dir=c.rtl[a]?\"rtl\":\"ltr\";b(a,c[a])};this[a]?f():CKEDITOR.scriptLoader.load(CKEDITOR.getUrl(\"lang/\"+a+\".js\"),f,this)},detect:function(a,f){var b=\nthis.languages;f=f||navigator.userLanguage||navigator.language||a;var c=f.toLowerCase().match(/([a-z]+)(?:-([a-z]+))?/),e=c[1],c=c[2];b[e+\"-\"+c]?e=e+\"-\"+c:b[e]||(e=null);CKEDITOR.lang.detect=e?function(){return e}:function(a){return a};return e||a}}}(),CKEDITOR.scriptLoader=function(){var a={},f={};return{load:function(b,c,e,m){var l=\"string\"==typeof b;l&&(b=[b]);e||(e=CKEDITOR);var d=b.length,h=[],k=[],g=function(a){c&&(l?c.call(e,a):c.call(e,h,k))};if(0===d)g(!0);else{var n=function(a,b){(b?h:k).push(a);\n0>=--d&&(m&&CKEDITOR.document.getDocumentElement().removeStyle(\"cursor\"),g(b))},q=function(b,c){a[b]=1;var d=f[b];delete f[b];for(var e=0;e<d.length;e++)d[e](b,c)},p=function(b){if(a[b])n(b,!0);else{var d=f[b]||(f[b]=[]);d.push(n);if(!(1<d.length)){var e=new CKEDITOR.dom.element(\"script\");e.setAttributes({type:\"text/javascript\",src:b});c&&(CKEDITOR.env.ie&&(8>=CKEDITOR.env.version||CKEDITOR.env.ie9Compat)?e.$.onreadystatechange=function(){if(\"loaded\"==e.$.readyState||\"complete\"==e.$.readyState)e.$.onreadystatechange=\nnull,q(b,!0)}:(e.$.onload=function(){setTimeout(function(){q(b,!0)},0)},e.$.onerror=function(){q(b,!1)}));e.appendTo(CKEDITOR.document.getHead())}}};m&&CKEDITOR.document.getDocumentElement().setStyle(\"cursor\",\"wait\");for(var t=0;t<d;t++)p(b[t])}},queue:function(){function a(){var b;(b=c[0])&&this.load(b.scriptUrl,b.callback,CKEDITOR,0)}var c=[];return function(e,f){var l=this;c.push({scriptUrl:e,callback:function(){f&&f.apply(this,arguments);c.shift();a.call(l)}});1==c.length&&a.call(this)}}()}}(),\nCKEDITOR.resourceManager=function(a,f){this.basePath=a;this.fileName=f;this.registered={};this.loaded={};this.externals={};this._={waitingList:{}}},CKEDITOR.resourceManager.prototype={add:function(a,f){if(this.registered[a])throw Error('[CKEDITOR.resourceManager.add] The resource name \"'+a+'\" is already registered.');var b=this.registered[a]=f||{};b.name=a;b.path=this.getPath(a);CKEDITOR.fire(a+CKEDITOR.tools.capitalize(this.fileName)+\"Ready\",b);return this.get(a)},get:function(a){return this.registered[a]||\nnull},getPath:function(a){var f=this.externals[a];return CKEDITOR.getUrl(f&&f.dir||this.basePath+a+\"/\")},getFilePath:function(a){var f=this.externals[a];return CKEDITOR.getUrl(this.getPath(a)+(f?f.file:this.fileName+\".js\"))},addExternal:function(a,f,b){a=a.split(\",\");for(var c=0;c<a.length;c++){var e=a[c];b||(f=f.replace(/[^\\/]+$/,function(a){b=a;return\"\"}));this.externals[e]={dir:f,file:b||this.fileName+\".js\"}}},load:function(a,f,b){CKEDITOR.tools.isArray(a)||(a=a?[a]:[]);for(var c=this.loaded,e=\nthis.registered,m=[],l={},d={},h=0;h<a.length;h++){var k=a[h];if(k)if(c[k]||e[k])d[k]=this.get(k);else{var g=this.getFilePath(k);m.push(g);g in l||(l[g]=[]);l[g].push(k)}}CKEDITOR.scriptLoader.load(m,function(a,e){if(e.length)throw Error('[CKEDITOR.resourceManager.load] Resource name \"'+l[e[0]].join(\",\")+'\" was not found at \"'+e[0]+'\".');for(var g=0;g<a.length;g++)for(var k=l[a[g]],h=0;h<k.length;h++){var m=k[h];d[m]=this.get(m);c[m]=1}f.call(b,d)},this)}},CKEDITOR.plugins=new CKEDITOR.resourceManager(\"plugins/\",\n\"plugin\"),CKEDITOR.plugins.load=CKEDITOR.tools.override(CKEDITOR.plugins.load,function(a){var f={};return function(b,c,e){var m={},l=function(b){a.call(this,b,function(a){CKEDITOR.tools.extend(m,a);var b=[],d;for(d in a){var n=a[d],q=n&&n.requires;if(!f[d]){if(n.icons)for(var p=n.icons.split(\",\"),t=p.length;t--;)CKEDITOR.skin.addIcon(p[t],n.path+\"icons/\"+(CKEDITOR.env.hidpi&&n.hidpi?\"hidpi/\":\"\")+p[t]+\".png\");f[d]=1}if(q)for(q.split&&(q=q.split(\",\")),n=0;n<q.length;n++)m[q[n]]||b.push(q[n])}if(b.length)l.call(this,\nb);else{for(d in m)n=m[d],n.onLoad&&!n.onLoad._called&&(!1===n.onLoad()&&delete m[d],n.onLoad._called=1);c&&c.call(e||window,m)}},this)};l.call(this,b)}}),CKEDITOR.plugins.setLang=function(a,f,b){var c=this.get(a);a=c.langEntries||(c.langEntries={});c=c.lang||(c.lang=[]);c.split&&(c=c.split(\",\"));-1==CKEDITOR.tools.indexOf(c,f)&&c.push(f);a[f]=b},CKEDITOR.ui=function(a){if(a.ui)return a.ui;this.items={};this.instances={};this.editor=a;this._={handlers:{}};return this},CKEDITOR.ui.prototype={add:function(a,\nf,b){b.name=a.toLowerCase();var c=this.items[a]={type:f,command:b.command||null,args:Array.prototype.slice.call(arguments,2)};CKEDITOR.tools.extend(c,b)},get:function(a){return this.instances[a]},create:function(a){var f=this.items[a],b=f&&this._.handlers[f.type],c=f&&f.command&&this.editor.getCommand(f.command),b=b&&b.create.apply(this,f.args);this.instances[a]=b;c&&c.uiItems.push(b);b&&!b.type&&(b.type=f.type);return b},addHandler:function(a,f){this._.handlers[a]=f},space:function(a){return CKEDITOR.document.getById(this.spaceId(a))},\nspaceId:function(a){return this.editor.id+\"_\"+a}},CKEDITOR.event.implementOn(CKEDITOR.ui),function(){function a(a,e,g){CKEDITOR.event.call(this);a=a&&CKEDITOR.tools.clone(a);if(void 0!==e){if(!(e instanceof CKEDITOR.dom.element))throw Error(\"Expect element of type CKEDITOR.dom.element.\");if(!g)throw Error(\"One of the element modes must be specified.\");if(CKEDITOR.env.ie&&CKEDITOR.env.quirks&&g==CKEDITOR.ELEMENT_MODE_INLINE)throw Error(\"Inline element mode is not supported on IE quirks.\");if(!b(e,\ng))throw Error('The specified element mode is not supported on element: \"'+e.getName()+'\".');this.element=e;this.elementMode=g;this.name=this.elementMode!=CKEDITOR.ELEMENT_MODE_APPENDTO&&(e.getId()||e.getNameAtt())}else this.elementMode=CKEDITOR.ELEMENT_MODE_NONE;this._={};this.commands={};this.templates={};this.name=this.name||f();this.id=CKEDITOR.tools.getNextId();this.status=\"unloaded\";this.config=CKEDITOR.tools.prototypedCopy(CKEDITOR.config);this.ui=new CKEDITOR.ui(this);this.focusManager=new CKEDITOR.focusManager(this);\nthis.keystrokeHandler=new CKEDITOR.keystrokeHandler(this);this.on(\"readOnly\",c);this.on(\"selectionChange\",function(a){m(this,a.data.path)});this.on(\"activeFilterChange\",function(){m(this,this.elementPath(),!0)});this.on(\"mode\",c);this.on(\"instanceReady\",function(){this.config.startupFocus&&this.focus()});CKEDITOR.fire(\"instanceCreated\",null,this);CKEDITOR.add(this);CKEDITOR.tools.setTimeout(function(){\"destroyed\"!==this.status?d(this,a):CKEDITOR.warn(\"editor-incorrect-destroy\")},0,this)}function f(){do var a=\n\"editor\"+ ++p;while(CKEDITOR.instances[a]);return a}function b(a,b){return b==CKEDITOR.ELEMENT_MODE_INLINE?a.is(CKEDITOR.dtd.$editable)||a.is(\"textarea\"):b==CKEDITOR.ELEMENT_MODE_REPLACE?!a.is(CKEDITOR.dtd.$nonBodyContent):1}function c(){var a=this.commands,b;for(b in a)e(this,a[b])}function e(a,b){b[b.startDisabled?\"disable\":a.readOnly&&!b.readOnly?\"disable\":b.modes[a.mode]?\"enable\":\"disable\"]()}function m(a,b,c){if(b){var d,e,g=a.commands;for(e in g)d=g[e],(c||d.contextSensitive)&&d.refresh(a,b)}}\nfunction l(a){var b=a.config.customConfig;if(!b)return!1;var b=CKEDITOR.getUrl(b),c=t[b]||(t[b]={});c.fn?(c.fn.call(a,a.config),CKEDITOR.getUrl(a.config.customConfig)!=b&&l(a)||a.fireOnce(\"customConfigLoaded\")):CKEDITOR.scriptLoader.queue(b,function(){c.fn=CKEDITOR.editorConfig?CKEDITOR.editorConfig:function(){};l(a)});return!0}function d(a,b){a.on(\"customConfigLoaded\",function(){if(b){if(b.on)for(var c in b.on)a.on(c,b.on[c]);CKEDITOR.tools.extend(a.config,b,!0);delete a.config.on}c=a.config;a.readOnly=\nc.readOnly?!0:a.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?a.element.is(\"textarea\")?a.element.hasAttribute(\"disabled\")||a.element.hasAttribute(\"readonly\"):a.element.isReadOnly():a.elementMode==CKEDITOR.ELEMENT_MODE_REPLACE?a.element.hasAttribute(\"disabled\")||a.element.hasAttribute(\"readonly\"):!1;a.blockless=a.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?!(a.element.is(\"textarea\")||CKEDITOR.dtd[a.element.getName()].p):!1;a.tabIndex=c.tabIndex||a.element&&a.element.getAttribute(\"tabindex\")||0;a.activeEnterMode=\na.enterMode=a.blockless?CKEDITOR.ENTER_BR:c.enterMode;a.activeShiftEnterMode=a.shiftEnterMode=a.blockless?CKEDITOR.ENTER_BR:c.shiftEnterMode;c.skin&&(CKEDITOR.skinName=c.skin);a.fireOnce(\"configLoaded\");a.dataProcessor=new CKEDITOR.htmlDataProcessor(a);a.filter=a.activeFilter=new CKEDITOR.filter(a);h(a)});b&&null!=b.customConfig&&(a.config.customConfig=b.customConfig);l(a)||a.fireOnce(\"customConfigLoaded\")}function h(a){CKEDITOR.skin.loadPart(\"editor\",function(){k(a)})}function k(a){CKEDITOR.lang.load(a.config.language,\na.config.defaultLanguage,function(b,c){var d=a.config.title;a.langCode=b;a.lang=CKEDITOR.tools.prototypedCopy(c);a.title=\"string\"==typeof d||!1===d?d:[a.lang.editor,a.name].join(\", \");a.config.contentsLangDirection||(a.config.contentsLangDirection=a.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?a.element.getDirection(1):a.lang.dir);a.fire(\"langLoaded\");g(a)})}function g(a){a.getStylesSet(function(b){a.once(\"loaded\",function(){a.fire(\"stylesSet\",{styles:b})},null,null,1);n(a)})}function n(a){var b=a.config,\nc=b.plugins,d=b.extraPlugins,e=b.removePlugins;if(d)var g=new RegExp(\"(?:^|,)(?:\"+d.replace(/\\s*,\\s*/g,\"|\")+\")(?\\x3d,|$)\",\"g\"),c=c.replace(g,\"\"),c=c+(\",\"+d);if(e)var f=new RegExp(\"(?:^|,)(?:\"+e.replace(/\\s*,\\s*/g,\"|\")+\")(?\\x3d,|$)\",\"g\"),c=c.replace(f,\"\");CKEDITOR.env.air&&(c+=\",adobeair\");CKEDITOR.plugins.load(c.split(\",\"),function(c){var d=[],e=[],g=[];a.plugins=c;for(var k in c){var h=c[k],m=h.lang,l=null,w=h.requires,x;CKEDITOR.tools.isArray(w)&&(w=w.join(\",\"));if(w&&(x=w.match(f)))for(;w=x.pop();)CKEDITOR.error(\"editor-plugin-required\",\n{plugin:w.replace(\",\",\"\"),requiredBy:k});m&&!a.lang[k]&&(m.split&&(m=m.split(\",\")),0<=CKEDITOR.tools.indexOf(m,a.langCode)?l=a.langCode:(l=a.langCode.replace(/-.*/,\"\"),l=l!=a.langCode&&0<=CKEDITOR.tools.indexOf(m,l)?l:0<=CKEDITOR.tools.indexOf(m,\"en\")?\"en\":m[0]),h.langEntries&&h.langEntries[l]?(a.lang[k]=h.langEntries[l],l=null):g.push(CKEDITOR.getUrl(h.path+\"lang/\"+l+\".js\")));e.push(l);d.push(h)}CKEDITOR.scriptLoader.load(g,function(){for(var c=[\"beforeInit\",\"init\",\"afterInit\"],g=0;g<c.length;g++)for(var f=\n0;f<d.length;f++){var k=d[f];0===g&&e[f]&&k.lang&&k.langEntries&&(a.lang[k.name]=k.langEntries[e[f]]);if(k[c[g]])k[c[g]](a)}a.fireOnce(\"pluginsLoaded\");b.keystrokes&&a.setKeystroke(a.config.keystrokes);for(f=0;f<a.config.blockedKeystrokes.length;f++)a.keystrokeHandler.blockedKeystrokes[a.config.blockedKeystrokes[f]]=1;a.status=\"loaded\";a.fireOnce(\"loaded\");CKEDITOR.fire(\"instanceLoaded\",null,a)})})}function q(){var a=this.element;if(a&&this.elementMode!=CKEDITOR.ELEMENT_MODE_APPENDTO){var b=this.getData();\nthis.config.htmlEncodeOutput&&(b=CKEDITOR.tools.htmlEncode(b));a.is(\"textarea\")?a.setValue(b):a.setHtml(b);return!0}return!1}a.prototype=CKEDITOR.editor.prototype;CKEDITOR.editor=a;var p=0,t={};CKEDITOR.tools.extend(CKEDITOR.editor.prototype,{addCommand:function(a,b){b.name=a.toLowerCase();var c=new CKEDITOR.command(this,b);this.mode&&e(this,c);return this.commands[a]=c},_attachToForm:function(){function a(b){c.updateElement();c._.required&&!d.getValue()&&!1===c.fire(\"required\")&&b.data.preventDefault()}\nfunction b(a){return!!(a&&a.call&&a.apply)}var c=this,d=c.element,e=new CKEDITOR.dom.element(d.$.form);d.is(\"textarea\")&&e&&(e.on(\"submit\",a),b(e.$.submit)&&(e.$.submit=CKEDITOR.tools.override(e.$.submit,function(b){return function(){a();b.apply?b.apply(this):b()}})),c.on(\"destroy\",function(){e.removeListener(\"submit\",a)}))},destroy:function(a){this.fire(\"beforeDestroy\");!a&&q.call(this);this.editable(null);this.filter&&(this.filter.destroy(),delete this.filter);delete this.activeFilter;this.status=\n\"destroyed\";this.fire(\"destroy\");this.removeAllListeners();CKEDITOR.remove(this);CKEDITOR.fire(\"instanceDestroyed\",null,this)},elementPath:function(a){if(!a){a=this.getSelection();if(!a)return null;a=a.getStartElement()}return a?new CKEDITOR.dom.elementPath(a,this.editable()):null},createRange:function(){var a=this.editable();return a?new CKEDITOR.dom.range(a):null},execCommand:function(a,b){var c=this.getCommand(a),d={name:a,commandData:b,command:c};return c&&c.state!=CKEDITOR.TRISTATE_DISABLED&&\n!1!==this.fire(\"beforeCommandExec\",d)&&(d.returnValue=c.exec(d.commandData),!c.async&&!1!==this.fire(\"afterCommandExec\",d))?d.returnValue:!1},getCommand:function(a){return this.commands[a]},getData:function(a){!a&&this.fire(\"beforeGetData\");var b=this._.data;\"string\"!=typeof b&&(b=(b=this.element)&&this.elementMode==CKEDITOR.ELEMENT_MODE_REPLACE?b.is(\"textarea\")?b.getValue():b.getHtml():\"\");b={dataValue:b};!a&&this.fire(\"getData\",b);return b.dataValue},getSnapshot:function(){var a=this.fire(\"getSnapshot\");\n\"string\"!=typeof a&&(a=(a=this.element)&&this.elementMode==CKEDITOR.ELEMENT_MODE_REPLACE?a.is(\"textarea\")?a.getValue():a.getHtml():\"\");return a},loadSnapshot:function(a){this.fire(\"loadSnapshot\",a)},setData:function(a,b,c){var d=!0,e=b;b&&\"object\"==typeof b&&(c=b.internal,e=b.callback,d=!b.noSnapshot);!c&&d&&this.fire(\"saveSnapshot\");if(e||!c)this.once(\"dataReady\",function(a){!c&&d&&this.fire(\"saveSnapshot\");e&&e.call(a.editor)});a={dataValue:a};!c&&this.fire(\"setData\",a);this._.data=a.dataValue;\n!c&&this.fire(\"afterSetData\",a)},setReadOnly:function(a){a=null==a||a;this.readOnly!=a&&(this.readOnly=a,this.keystrokeHandler.blockedKeystrokes[8]=+a,this.editable().setReadOnly(a),this.fire(\"readOnly\"))},insertHtml:function(a,b,c){this.fire(\"insertHtml\",{dataValue:a,mode:b,range:c})},insertText:function(a){this.fire(\"insertText\",a)},insertElement:function(a){this.fire(\"insertElement\",a)},getSelectedHtml:function(a){var b=this.editable(),c=this.getSelection(),c=c&&c.getRanges();if(!b||!c||0===c.length)return null;\nfor(var d=new CKEDITOR.dom.documentFragment,e,g,f,k=0;k<c.length;k++){var h=c[k],m=h.startContainer;m.getName&&\"tr\"==m.getName()?(e||(e=m.getAscendant(\"table\").clone(),e.append(m.getAscendant(\"tbody\").clone()),d.append(e),e=e.findOne(\"tbody\")),g&&g.equals(m)||(g=m,f=m.clone(),e.append(f)),f.append(h.cloneContents())):d.append(h.cloneContents())}b=e?d:b.getHtmlFromRange(c[0]);return a?b.getHtml():b},extractSelectedHtml:function(a,b){var c=this.editable(),d=this.getSelection().getRanges();if(!c||0===\nd.length)return null;d=d[0];c=c.extractHtmlFromRange(d,b);b||this.getSelection().selectRanges([d]);return a?c.getHtml():c},focus:function(){this.fire(\"beforeFocus\")},checkDirty:function(){return\"ready\"==this.status&&this._.previousValue!==this.getSnapshot()},resetDirty:function(){this._.previousValue=this.getSnapshot()},updateElement:function(){return q.call(this)},setKeystroke:function(){for(var a=this.keystrokeHandler.keystrokes,b=CKEDITOR.tools.isArray(arguments[0])?arguments[0]:[[].slice.call(arguments,\n0)],c,d,e=b.length;e--;)c=b[e],d=0,CKEDITOR.tools.isArray(c)&&(d=c[1],c=c[0]),d?a[c]=d:delete a[c]},getCommandKeystroke:function(a){var b=a.name,c=this.keystrokeHandler.keystrokes,d;if(a.fakeKeystroke)return a.fakeKeystroke;for(d in c)if(c.hasOwnProperty(d)&&c[d]==b)return d;return null},addFeature:function(a){return this.filter.addFeature(a)},setActiveFilter:function(a){a||(a=this.filter);this.activeFilter!==a&&(this.activeFilter=a,this.fire(\"activeFilterChange\"),a===this.filter?this.setActiveEnterMode(null,\nnull):this.setActiveEnterMode(a.getAllowedEnterMode(this.enterMode),a.getAllowedEnterMode(this.shiftEnterMode,!0)))},setActiveEnterMode:function(a,b){a=a?this.blockless?CKEDITOR.ENTER_BR:a:this.enterMode;b=b?this.blockless?CKEDITOR.ENTER_BR:b:this.shiftEnterMode;if(this.activeEnterMode!=a||this.activeShiftEnterMode!=b)this.activeEnterMode=a,this.activeShiftEnterMode=b,this.fire(\"activeEnterModeChange\")},showNotification:function(a){alert(a)}})}(),CKEDITOR.ELEMENT_MODE_NONE=0,CKEDITOR.ELEMENT_MODE_REPLACE=\n1,CKEDITOR.ELEMENT_MODE_APPENDTO=2,CKEDITOR.ELEMENT_MODE_INLINE=3,CKEDITOR.htmlParser=function(){this._={htmlPartsRegex:/<(?:(?:\\/([^>]+)>)|(?:!--([\\S|\\s]*?)--\\x3e)|(?:([^\\/\\s>]+)((?:\\s+[\\w\\-:.]+(?:\\s*=\\s*?(?:(?:\"[^\"]*\")|(?:'[^']*')|[^\\s\"'\\/>]+))?)*)[\\S\\s]*?(\\/?)>))/g}},function(){var a=/([\\w\\-:.]+)(?:(?:\\s*=\\s*(?:(?:\"([^\"]*)\")|(?:'([^']*)')|([^\\s>]+)))|(?=\\s|$))/g,f={checked:1,compact:1,declare:1,defer:1,disabled:1,ismap:1,multiple:1,nohref:1,noresize:1,noshade:1,nowrap:1,readonly:1,selected:1};\nCKEDITOR.htmlParser.prototype={onTagOpen:function(){},onTagClose:function(){},onText:function(){},onCDATA:function(){},onComment:function(){},parse:function(b){for(var c,e,m=0,l;c=this._.htmlPartsRegex.exec(b);){e=c.index;if(e>m)if(m=b.substring(m,e),l)l.push(m);else this.onText(m);m=this._.htmlPartsRegex.lastIndex;if(e=c[1])if(e=e.toLowerCase(),l&&CKEDITOR.dtd.$cdata[e]&&(this.onCDATA(l.join(\"\")),l=null),!l){this.onTagClose(e);continue}if(l)l.push(c[0]);else if(e=c[3]){if(e=e.toLowerCase(),!/=\"/.test(e)){var d=\n{},h,k=c[4];c=!!c[5];if(k)for(;h=a.exec(k);){var g=h[1].toLowerCase();h=h[2]||h[3]||h[4]||\"\";d[g]=!h&&f[g]?g:CKEDITOR.tools.htmlDecodeAttr(h)}this.onTagOpen(e,d,c);!l&&CKEDITOR.dtd.$cdata[e]&&(l=[])}}else if(e=c[2])this.onComment(e)}if(b.length>m)this.onText(b.substring(m,b.length))}}}(),CKEDITOR.htmlParser.basicWriter=CKEDITOR.tools.createClass({$:function(){this._={output:[]}},proto:{openTag:function(a){this._.output.push(\"\\x3c\",a)},openTagClose:function(a,f){f?this._.output.push(\" /\\x3e\"):this._.output.push(\"\\x3e\")},\nattribute:function(a,f){\"string\"==typeof f&&(f=CKEDITOR.tools.htmlEncodeAttr(f));this._.output.push(\" \",a,'\\x3d\"',f,'\"')},closeTag:function(a){this._.output.push(\"\\x3c/\",a,\"\\x3e\")},text:function(a){this._.output.push(a)},comment:function(a){this._.output.push(\"\\x3c!--\",a,\"--\\x3e\")},write:function(a){this._.output.push(a)},reset:function(){this._.output=[];this._.indent=!1},getHtml:function(a){var f=this._.output.join(\"\");a&&this.reset();return f}}}),\"use strict\",function(){CKEDITOR.htmlParser.node=\nfunction(){};CKEDITOR.htmlParser.node.prototype={remove:function(){var a=this.parent.children,f=CKEDITOR.tools.indexOf(a,this),b=this.previous,c=this.next;b&&(b.next=c);c&&(c.previous=b);a.splice(f,1);this.parent=null},replaceWith:function(a){var f=this.parent.children,b=CKEDITOR.tools.indexOf(f,this),c=a.previous=this.previous,e=a.next=this.next;c&&(c.next=a);e&&(e.previous=a);f[b]=a;a.parent=this.parent;this.parent=null},insertAfter:function(a){var f=a.parent.children,b=CKEDITOR.tools.indexOf(f,\na),c=a.next;f.splice(b+1,0,this);this.next=a.next;this.previous=a;a.next=this;c&&(c.previous=this);this.parent=a.parent},insertBefore:function(a){var f=a.parent.children,b=CKEDITOR.tools.indexOf(f,a);f.splice(b,0,this);this.next=a;(this.previous=a.previous)&&(a.previous.next=this);a.previous=this;this.parent=a.parent},getAscendant:function(a){var f=\"function\"==typeof a?a:\"string\"==typeof a?function(b){return b.name==a}:function(b){return b.name in a},b=this.parent;for(;b&&b.type==CKEDITOR.NODE_ELEMENT;){if(f(b))return b;\nb=b.parent}return null},wrapWith:function(a){this.replaceWith(a);a.add(this);return a},getIndex:function(){return CKEDITOR.tools.indexOf(this.parent.children,this)},getFilterContext:function(a){return a||{}}}}(),\"use strict\",CKEDITOR.htmlParser.comment=function(a){this.value=a;this._={isBlockLike:!1}},CKEDITOR.htmlParser.comment.prototype=CKEDITOR.tools.extend(new CKEDITOR.htmlParser.node,{type:CKEDITOR.NODE_COMMENT,filter:function(a,f){var b=this.value;if(!(b=a.onComment(f,b,this)))return this.remove(),\n!1;if(\"string\"!=typeof b)return this.replaceWith(b),!1;this.value=b;return!0},writeHtml:function(a,f){f&&this.filter(f);a.comment(this.value)}}),\"use strict\",function(){CKEDITOR.htmlParser.text=function(a){this.value=a;this._={isBlockLike:!1}};CKEDITOR.htmlParser.text.prototype=CKEDITOR.tools.extend(new CKEDITOR.htmlParser.node,{type:CKEDITOR.NODE_TEXT,filter:function(a,f){if(!(this.value=a.onText(f,this.value,this)))return this.remove(),!1},writeHtml:function(a,f){f&&this.filter(f);a.text(this.value)}})}(),\n\"use strict\",function(){CKEDITOR.htmlParser.cdata=function(a){this.value=a};CKEDITOR.htmlParser.cdata.prototype=CKEDITOR.tools.extend(new CKEDITOR.htmlParser.node,{type:CKEDITOR.NODE_TEXT,filter:function(){},writeHtml:function(a){a.write(this.value)}})}(),\"use strict\",CKEDITOR.htmlParser.fragment=function(){this.children=[];this.parent=null;this._={isBlockLike:!0,hasInlineStarted:!1}},function(){function a(a){return a.attributes[\"data-cke-survive\"]?!1:\"a\"==a.name&&a.attributes.href||CKEDITOR.dtd.$removeEmpty[a.name]}\nvar f=CKEDITOR.tools.extend({table:1,ul:1,ol:1,dl:1},CKEDITOR.dtd.table,CKEDITOR.dtd.ul,CKEDITOR.dtd.ol,CKEDITOR.dtd.dl),b={ol:1,ul:1},c=CKEDITOR.tools.extend({},{html:1},CKEDITOR.dtd.html,CKEDITOR.dtd.body,CKEDITOR.dtd.head,{style:1,script:1}),e={ul:\"li\",ol:\"li\",dl:\"dd\",table:\"tbody\",tbody:\"tr\",thead:\"tr\",tfoot:\"tr\",tr:\"td\"};CKEDITOR.htmlParser.fragment.fromHtml=function(m,l,d){function h(a){var b;if(0<r.length)for(var c=0;c<r.length;c++){var d=r[c],e=d.name,g=CKEDITOR.dtd[e],f=B.name&&CKEDITOR.dtd[B.name];\nf&&!f[e]||a&&g&&!g[a]&&CKEDITOR.dtd[a]?e==B.name&&(n(B,B.parent,1),c--):(b||(k(),b=1),d=d.clone(),d.parent=B,B=d,r.splice(c,1),c--)}}function k(){for(;u.length;)n(u.shift(),B)}function g(a){if(a._.isBlockLike&&\"pre\"!=a.name&&\"textarea\"!=a.name){var b=a.children.length,c=a.children[b-1],d;c&&c.type==CKEDITOR.NODE_TEXT&&((d=CKEDITOR.tools.rtrim(c.value))?c.value=d:a.children.length=b-1)}}function n(b,c,e){c=c||B||v;var f=B;void 0===b.previous&&(q(c,b)&&(B=c,t.onTagOpen(d,{}),b.returnPoint=c=B),g(b),\na(b)&&!b.children.length||c.add(b),\"pre\"==b.name&&(w=!1),\"textarea\"==b.name&&(x=!1));b.returnPoint?(B=b.returnPoint,delete b.returnPoint):B=e?c:f}function q(a,b){if((a==v||\"body\"==a.name)&&d&&(!a.name||CKEDITOR.dtd[a.name][d])){var c,e;return(c=b.attributes&&(e=b.attributes[\"data-cke-real-element-type\"])?e:b.name)&&c in CKEDITOR.dtd.$inline&&!(c in CKEDITOR.dtd.head)&&!b.isOrphan||b.type==CKEDITOR.NODE_TEXT}}function p(a,b){return a in CKEDITOR.dtd.$listItem||a in CKEDITOR.dtd.$tableContent?a==b||\n\"dt\"==a&&\"dd\"==b||\"dd\"==a&&\"dt\"==b:!1}var t=new CKEDITOR.htmlParser,v=l instanceof CKEDITOR.htmlParser.element?l:\"string\"==typeof l?new CKEDITOR.htmlParser.element(l):new CKEDITOR.htmlParser.fragment,r=[],u=[],B=v,x=\"textarea\"==v.name,w=\"pre\"==v.name;t.onTagOpen=function(d,e,g,m){e=new CKEDITOR.htmlParser.element(d,e);e.isUnknown&&g&&(e.isEmpty=!0);e.isOptionalClose=m;if(a(e))r.push(e);else{if(\"pre\"==d)w=!0;else{if(\"br\"==d&&w){B.add(new CKEDITOR.htmlParser.text(\"\\n\"));return}\"textarea\"==d&&(x=!0)}if(\"br\"==\nd)u.push(e);else{for(;!(m=(g=B.name)?CKEDITOR.dtd[g]||(B._.isBlockLike?CKEDITOR.dtd.div:CKEDITOR.dtd.span):c,e.isUnknown||B.isUnknown||m[d]);)if(B.isOptionalClose)t.onTagClose(g);else if(d in b&&g in b)g=B.children,(g=g[g.length-1])&&\"li\"==g.name||n(g=new CKEDITOR.htmlParser.element(\"li\"),B),!e.returnPoint&&(e.returnPoint=B),B=g;else if(d in CKEDITOR.dtd.$listItem&&!p(d,g))t.onTagOpen(\"li\"==d?\"ul\":\"dl\",{},0,1);else if(g in f&&!p(d,g))!e.returnPoint&&(e.returnPoint=B),B=B.parent;else if(g in CKEDITOR.dtd.$inline&&\nr.unshift(B),B.parent)n(B,B.parent,1);else{e.isOrphan=1;break}h(d);k();e.parent=B;e.isEmpty?n(e):B=e}}};t.onTagClose=function(a){for(var b=r.length-1;0<=b;b--)if(a==r[b].name){r.splice(b,1);return}for(var c=[],e=[],g=B;g!=v&&g.name!=a;)g._.isBlockLike||e.unshift(g),c.push(g),g=g.returnPoint||g.parent;if(g!=v){for(b=0;b<c.length;b++){var f=c[b];n(f,f.parent)}B=g;g._.isBlockLike&&k();n(g,g.parent);g==B&&(B=B.parent);r=r.concat(e)}\"body\"==a&&(d=!1)};t.onText=function(a){if(!(B._.hasInlineStarted&&!u.length||\nw||x)&&(a=CKEDITOR.tools.ltrim(a),0===a.length))return;var b=B.name,g=b?CKEDITOR.dtd[b]||(B._.isBlockLike?CKEDITOR.dtd.div:CKEDITOR.dtd.span):c;if(!x&&!g[\"#\"]&&b in f)t.onTagOpen(e[b]||\"\"),t.onText(a);else{k();h();w||x||(a=a.replace(/[\\t\\r\\n ]{2,}|[\\t\\r\\n]/g,\" \"));a=new CKEDITOR.htmlParser.text(a);if(q(B,a))this.onTagOpen(d,{},0,1);B.add(a)}};t.onCDATA=function(a){B.add(new CKEDITOR.htmlParser.cdata(a))};t.onComment=function(a){k();h();B.add(new CKEDITOR.htmlParser.comment(a))};t.parse(m);for(k();B!=\nv;)n(B,B.parent,1);g(v);return v};CKEDITOR.htmlParser.fragment.prototype={type:CKEDITOR.NODE_DOCUMENT_FRAGMENT,add:function(a,b){isNaN(b)&&(b=this.children.length);var c=0<b?this.children[b-1]:null;if(c){if(a._.isBlockLike&&c.type==CKEDITOR.NODE_TEXT&&(c.value=CKEDITOR.tools.rtrim(c.value),0===c.value.length)){this.children.pop();this.add(a);return}c.next=a}a.previous=c;a.parent=this;this.children.splice(b,0,a);this._.hasInlineStarted||(this._.hasInlineStarted=a.type==CKEDITOR.NODE_TEXT||a.type==\nCKEDITOR.NODE_ELEMENT&&!a._.isBlockLike)},filter:function(a,b){b=this.getFilterContext(b);a.onRoot(b,this);this.filterChildren(a,!1,b)},filterChildren:function(a,b,c){if(this.childrenFilteredBy!=a.id){c=this.getFilterContext(c);if(b&&!this.parent)a.onRoot(c,this);this.childrenFilteredBy=a.id;for(b=0;b<this.children.length;b++)!1===this.children[b].filter(a,c)&&b--}},writeHtml:function(a,b){b&&this.filter(b);this.writeChildrenHtml(a)},writeChildrenHtml:function(a,b,c){var e=this.getFilterContext();\nif(c&&!this.parent&&b)b.onRoot(e,this);b&&this.filterChildren(b,!1,e);b=0;c=this.children;for(e=c.length;b<e;b++)c[b].writeHtml(a)},forEach:function(a,b,c){if(!(c||b&&this.type!=b))var e=a(this);if(!1!==e){c=this.children;for(var f=0;f<c.length;f++)e=c[f],e.type==CKEDITOR.NODE_ELEMENT?e.forEach(a,b):b&&e.type!=b||a(e)}},getFilterContext:function(a){return a||{}}}}(),\"use strict\",function(){function a(){this.rules=[]}function f(b,c,e,f){var l,d;for(l in c)(d=b[l])||(d=b[l]=new a),d.add(c[l],e,f)}CKEDITOR.htmlParser.filter=\nCKEDITOR.tools.createClass({$:function(b){this.id=CKEDITOR.tools.getNextNumber();this.elementNameRules=new a;this.attributeNameRules=new a;this.elementsRules={};this.attributesRules={};this.textRules=new a;this.commentRules=new a;this.rootRules=new a;b&&this.addRules(b,10)},proto:{addRules:function(a,c){var e;\"number\"==typeof c?e=c:c&&\"priority\"in c&&(e=c.priority);\"number\"!=typeof e&&(e=10);\"object\"!=typeof c&&(c={});a.elementNames&&this.elementNameRules.addMany(a.elementNames,e,c);a.attributeNames&&\nthis.attributeNameRules.addMany(a.attributeNames,e,c);a.elements&&f(this.elementsRules,a.elements,e,c);a.attributes&&f(this.attributesRules,a.attributes,e,c);a.text&&this.textRules.add(a.text,e,c);a.comment&&this.commentRules.add(a.comment,e,c);a.root&&this.rootRules.add(a.root,e,c)},applyTo:function(a){a.filter(this)},onElementName:function(a,c){return this.elementNameRules.execOnName(a,c)},onAttributeName:function(a,c){return this.attributeNameRules.execOnName(a,c)},onText:function(a,c,e){return this.textRules.exec(a,\nc,e)},onComment:function(a,c,e){return this.commentRules.exec(a,c,e)},onRoot:function(a,c){return this.rootRules.exec(a,c)},onElement:function(a,c){for(var e=[this.elementsRules[\"^\"],this.elementsRules[c.name],this.elementsRules.$],f,l=0;3>l;l++)if(f=e[l]){f=f.exec(a,c,this);if(!1===f)return null;if(f&&f!=c)return this.onNode(a,f);if(c.parent&&!c.name)break}return c},onNode:function(a,c){var e=c.type;return e==CKEDITOR.NODE_ELEMENT?this.onElement(a,c):e==CKEDITOR.NODE_TEXT?new CKEDITOR.htmlParser.text(this.onText(a,\nc.value)):e==CKEDITOR.NODE_COMMENT?new CKEDITOR.htmlParser.comment(this.onComment(a,c.value)):null},onAttribute:function(a,c,e,f){return(e=this.attributesRules[e])?e.exec(a,f,c,this):f}}});CKEDITOR.htmlParser.filterRulesGroup=a;a.prototype={add:function(a,c,e){this.rules.splice(this.findIndex(c),0,{value:a,priority:c,options:e})},addMany:function(a,c,e){for(var f=[this.findIndex(c),0],l=0,d=a.length;l<d;l++)f.push({value:a[l],priority:c,options:e});this.rules.splice.apply(this.rules,f)},findIndex:function(a){for(var c=\nthis.rules,e=c.length-1;0<=e&&a<c[e].priority;)e--;return e+1},exec:function(a,c){var e=c instanceof CKEDITOR.htmlParser.node||c instanceof CKEDITOR.htmlParser.fragment,f=Array.prototype.slice.call(arguments,1),l=this.rules,d=l.length,h,k,g,n;for(n=0;n<d;n++)if(e&&(h=c.type,k=c.name),g=l[n],!(a.nonEditable&&!g.options.applyToAll||a.nestedEditable&&g.options.excludeNestedEditable)){g=g.value.apply(null,f);if(!1===g||e&&g&&(g.name!=k||g.type!=h))return g;null!=g&&(f[0]=c=g)}return c},execOnName:function(a,\nc){for(var e=0,f=this.rules,l=f.length,d;c&&e<l;e++)d=f[e],a.nonEditable&&!d.options.applyToAll||a.nestedEditable&&d.options.excludeNestedEditable||(c=c.replace(d.value[0],d.value[1]));return c}}}(),function(){function a(a,d){function g(a){return a||CKEDITOR.env.needsNbspFiller?new CKEDITOR.htmlParser.text(\" \"):new CKEDITOR.htmlParser.element(\"br\",{\"data-cke-bogus\":1})}function f(a,d){return function(e){if(e.type!=CKEDITOR.NODE_DOCUMENT_FRAGMENT){var f=[],h=b(e),l,w;if(h)for(k(h,1)&&f.push(h);h;)m(h)&&\n(l=c(h))&&k(l)&&((w=c(l))&&!m(w)?f.push(l):(g(x).insertAfter(l),l.remove())),h=h.previous;for(h=0;h<f.length;h++)f[h].remove();if(f=!a||!1!==(\"function\"==typeof d?d(e):d))x||CKEDITOR.env.needsBrFiller||e.type!=CKEDITOR.NODE_DOCUMENT_FRAGMENT?x||CKEDITOR.env.needsBrFiller||!(7<document.documentMode||e.name in CKEDITOR.dtd.tr||e.name in CKEDITOR.dtd.$listItem)?(f=b(e),f=!f||\"form\"==e.name&&\"input\"==f.name):f=!1:f=!1;f&&e.add(g(a))}}}function k(a,b){if((!x||CKEDITOR.env.needsBrFiller)&&a.type==CKEDITOR.NODE_ELEMENT&&\n\"br\"==a.name&&!a.attributes[\"data-cke-eol\"])return!0;var c;return a.type==CKEDITOR.NODE_TEXT&&(c=a.value.match(r))&&(c.index&&((new CKEDITOR.htmlParser.text(a.value.substring(0,c.index))).insertBefore(a),a.value=c[0]),!CKEDITOR.env.needsBrFiller&&x&&(!b||a.parent.name in n)||!x&&((c=a.previous)&&\"br\"==c.name||!c||m(c)))?!0:!1}var h={elements:{}},x=\"html\"==d,n=CKEDITOR.tools.extend({},w),z;for(z in n)\"#\"in B[z]||delete n[z];for(z in n)h.elements[z]=f(x,a.config.fillEmptyBlocks);h.root=f(x,!1);h.elements.br=\nfunction(a){return function(b){if(b.parent.type!=CKEDITOR.NODE_DOCUMENT_FRAGMENT){var d=b.attributes;if(\"data-cke-bogus\"in d||\"data-cke-eol\"in d)delete d[\"data-cke-bogus\"];else{for(d=b.next;d&&e(d);)d=d.next;var f=c(b);!d&&m(b.parent)?l(b.parent,g(a)):m(d)&&f&&!m(f)&&g(a).insertBefore(d)}}}}(x);return h}function f(a,b){return a!=CKEDITOR.ENTER_BR&&!1!==b?a==CKEDITOR.ENTER_DIV?\"div\":\"p\":!1}function b(a){for(a=a.children[a.children.length-1];a&&e(a);)a=a.previous;return a}function c(a){for(a=a.previous;a&&\ne(a);)a=a.previous;return a}function e(a){return a.type==CKEDITOR.NODE_TEXT&&!CKEDITOR.tools.trim(a.value)||a.type==CKEDITOR.NODE_ELEMENT&&a.attributes[\"data-cke-bookmark\"]}function m(a){return a&&(a.type==CKEDITOR.NODE_ELEMENT&&a.name in w||a.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT)}function l(a,b){var c=a.children[a.children.length-1];a.children.push(b);b.parent=a;c&&(c.next=b,b.previous=c)}function d(a){a=a.attributes;\"false\"!=a.contenteditable&&(a[\"data-cke-editable\"]=a.contenteditable?\"true\":1);\na.contenteditable=\"false\"}function h(a){a=a.attributes;switch(a[\"data-cke-editable\"]){case \"true\":a.contenteditable=\"true\";break;case \"1\":delete a.contenteditable}}function k(a){return a.replace(C,function(a,b,c){return\"\\x3c\"+b+c.replace(F,function(a,b){return E.test(b)&&-1==c.indexOf(\"data-cke-saved-\"+b)?\" data-cke-saved-\"+a+\" data-cke-\"+CKEDITOR.rnd+\"-\"+a:a})+\"\\x3e\"})}function g(a,b){return a.replace(b,function(a,b,c){0===a.indexOf(\"\\x3ctextarea\")&&(a=b+p(c).replace(/</g,\"\\x26lt;\").replace(/>/g,\n\"\\x26gt;\")+\"\\x3c/textarea\\x3e\");return\"\\x3ccke:encoded\\x3e\"+encodeURIComponent(a)+\"\\x3c/cke:encoded\\x3e\"})}function n(a){return a.replace(M,function(a,b){return decodeURIComponent(b)})}function q(a){return a.replace(/\\x3c!--(?!{cke_protected})[\\s\\S]+?--\\x3e/g,function(a){return\"\\x3c!--\"+u+\"{C}\"+encodeURIComponent(a).replace(/--/g,\"%2D%2D\")+\"--\\x3e\"})}function p(a){return a.replace(/\\x3c!--\\{cke_protected\\}\\{C\\}([\\s\\S]+?)--\\x3e/g,function(a,b){return decodeURIComponent(b)})}function t(a,b){var c=b._.dataStore;\nreturn a.replace(/\\x3c!--\\{cke_protected\\}([\\s\\S]+?)--\\x3e/g,function(a,b){return decodeURIComponent(b)}).replace(/\\{cke_protected_(\\d+)\\}/g,function(a,b){return c&&c[b]||\"\"})}function v(a,b){var c=[],d=b.config.protectedSource,e=b._.dataStore||(b._.dataStore={id:1}),g=/<\\!--\\{cke_temp(comment)?\\}(\\d*?)--\\x3e/g,d=[/<script[\\s\\S]*?(<\\/script>|$)/gi,/<noscript[\\s\\S]*?<\\/noscript>/gi,/<meta[\\s\\S]*?\\/?>/gi].concat(d);a=a.replace(/\\x3c!--[\\s\\S]*?--\\x3e/g,function(a){return\"\\x3c!--{cke_tempcomment}\"+(c.push(a)-\n1)+\"--\\x3e\"});for(var f=0;f<d.length;f++)a=a.replace(d[f],function(a){a=a.replace(g,function(a,b,d){return c[d]});return/cke_temp(comment)?/.test(a)?a:\"\\x3c!--{cke_temp}\"+(c.push(a)-1)+\"--\\x3e\"});a=a.replace(g,function(a,b,d){return\"\\x3c!--\"+u+(b?\"{C}\":\"\")+encodeURIComponent(c[d]).replace(/--/g,\"%2D%2D\")+\"--\\x3e\"});a=a.replace(/<\\w+(?:\\s+(?:(?:[^\\s=>]+\\s*=\\s*(?:[^'\"\\s>]+|'[^']*'|\"[^\"]*\"))|[^\\s=\\/>]+))+\\s*\\/?>/g,function(a){return a.replace(/\\x3c!--\\{cke_protected\\}([^>]*)--\\x3e/g,function(a,b){e[e.id]=\ndecodeURIComponent(b);return\"{cke_protected_\"+e.id++ +\"}\"})});return a=a.replace(/<(title|iframe|textarea)([^>]*)>([\\s\\S]*?)<\\/\\1>/g,function(a,c,d,e){return\"\\x3c\"+c+d+\"\\x3e\"+t(p(e),b)+\"\\x3c/\"+c+\"\\x3e\"})}CKEDITOR.htmlDataProcessor=function(b){var c,d,e=this;this.editor=b;this.dataFilter=c=new CKEDITOR.htmlParser.filter;this.htmlFilter=d=new CKEDITOR.htmlParser.filter;this.writer=new CKEDITOR.htmlParser.basicWriter;c.addRules(z);c.addRules(D,{applyToAll:!0});c.addRules(a(b,\"data\"),{applyToAll:!0});\nd.addRules(y);d.addRules(A,{applyToAll:!0});d.addRules(a(b,\"html\"),{applyToAll:!0});b.on(\"toHtml\",function(a){a=a.data;var c=a.dataValue,d,c=v(c,b),c=g(c,G),c=k(c),c=g(c,J),c=c.replace(I,\"$1cke:$2\"),c=c.replace(R,\"\\x3ccke:$1$2\\x3e\\x3c/cke:$1\\x3e\"),c=c.replace(/(<pre\\b[^>]*>)(\\r\\n|\\n)/g,\"$1$2$2\"),c=c.replace(/([^a-z0-9<\\-])(on\\w{3,})(?!>)/gi,\"$1data-cke-\"+CKEDITOR.rnd+\"-$2\");d=a.context||b.editable().getName();var e;CKEDITOR.env.ie&&9>CKEDITOR.env.version&&\"pre\"==d&&(d=\"div\",c=\"\\x3cpre\\x3e\"+c+\"\\x3c/pre\\x3e\",\ne=1);d=b.document.createElement(d);d.setHtml(\"a\"+c);c=d.getHtml().substr(1);c=c.replace(new RegExp(\"data-cke-\"+CKEDITOR.rnd+\"-\",\"ig\"),\"\");e&&(c=c.replace(/^<pre>|<\\/pre>$/gi,\"\"));c=c.replace(H,\"$1$2\");c=n(c);c=p(c);d=!1===a.fixForBody?!1:f(a.enterMode,b.config.autoParagraph);c=CKEDITOR.htmlParser.fragment.fromHtml(c,a.context,d);d&&(e=c,!e.children.length&&CKEDITOR.dtd[e.name][d]&&(d=new CKEDITOR.htmlParser.element(d),e.add(d)));a.dataValue=c},null,null,5);b.on(\"toHtml\",function(a){a.data.filter.applyTo(a.data.dataValue,\n!0,a.data.dontFilter,a.data.enterMode)&&b.fire(\"dataFiltered\")},null,null,6);b.on(\"toHtml\",function(a){a.data.dataValue.filterChildren(e.dataFilter,!0)},null,null,10);b.on(\"toHtml\",function(a){a=a.data;var b=a.dataValue,c=new CKEDITOR.htmlParser.basicWriter;b.writeChildrenHtml(c);b=c.getHtml(!0);a.dataValue=q(b)},null,null,15);b.on(\"toDataFormat\",function(a){var c=a.data.dataValue;a.data.enterMode!=CKEDITOR.ENTER_BR&&(c=c.replace(/^<br *\\/?>/i,\"\"));a.data.dataValue=CKEDITOR.htmlParser.fragment.fromHtml(c,\na.data.context,f(a.data.enterMode,b.config.autoParagraph))},null,null,5);b.on(\"toDataFormat\",function(a){a.data.dataValue.filterChildren(e.htmlFilter,!0)},null,null,10);b.on(\"toDataFormat\",function(a){a.data.filter.applyTo(a.data.dataValue,!1,!0)},null,null,11);b.on(\"toDataFormat\",function(a){var c=a.data.dataValue,d=e.writer;d.reset();c.writeChildrenHtml(d);c=d.getHtml(!0);c=p(c);c=t(c,b);a.data.dataValue=c},null,null,15)};CKEDITOR.htmlDataProcessor.prototype={toHtml:function(a,b,c,d){var e=this.editor,\ng,f,k,h;b&&\"object\"==typeof b?(g=b.context,c=b.fixForBody,d=b.dontFilter,f=b.filter,k=b.enterMode,h=b.protectedWhitespaces):g=b;g||null===g||(g=e.editable().getName());return e.fire(\"toHtml\",{dataValue:a,context:g,fixForBody:c,dontFilter:d,filter:f||e.filter,enterMode:k||e.enterMode,protectedWhitespaces:h}).dataValue},toDataFormat:function(a,b){var c,d,e;b&&(c=b.context,d=b.filter,e=b.enterMode);c||null===c||(c=this.editor.editable().getName());return this.editor.fire(\"toDataFormat\",{dataValue:a,\nfilter:d||this.editor.filter,context:c,enterMode:e||this.editor.enterMode}).dataValue}};var r=/(?:&nbsp;|\\xa0)$/,u=\"{cke_protected}\",B=CKEDITOR.dtd,x=\"caption colgroup col thead tfoot tbody\".split(\" \"),w=CKEDITOR.tools.extend({},B.$blockLimit,B.$block),z={elements:{input:d,textarea:d}},D={attributeNames:[[/^on/,\"data-cke-pa-on\"],[/^data-cke-expando$/,\"\"]]},y={elements:{embed:function(a){var b=a.parent;if(b&&\"object\"==b.name){var c=b.attributes.width,b=b.attributes.height;c&&(a.attributes.width=c);\nb&&(a.attributes.height=b)}},a:function(a){var b=a.attributes;if(!(a.children.length||b.name||b.id||a.attributes[\"data-cke-saved-name\"]))return!1}}},A={elementNames:[[/^cke:/,\"\"],[/^\\?xml:namespace$/,\"\"]],attributeNames:[[/^data-cke-(saved|pa)-/,\"\"],[/^data-cke-.*/,\"\"],[\"hidefocus\",\"\"]],elements:{$:function(a){var b=a.attributes;if(b){if(b[\"data-cke-temp\"])return!1;for(var c=[\"name\",\"href\",\"src\"],d,e=0;e<c.length;e++)d=\"data-cke-saved-\"+c[e],d in b&&delete b[c[e]]}return a},table:function(a){a.children.slice(0).sort(function(a,\nb){var c,d;a.type==CKEDITOR.NODE_ELEMENT&&b.type==a.type&&(c=CKEDITOR.tools.indexOf(x,a.name),d=CKEDITOR.tools.indexOf(x,b.name));-1<c&&-1<d&&c!=d||(c=a.parent?a.getIndex():-1,d=b.parent?b.getIndex():-1);return c>d?1:-1})},param:function(a){a.children=[];a.isEmpty=!0;return a},span:function(a){\"Apple-style-span\"==a.attributes[\"class\"]&&delete a.name},html:function(a){delete a.attributes.contenteditable;delete a.attributes[\"class\"]},body:function(a){delete a.attributes.spellcheck;delete a.attributes.contenteditable},\nstyle:function(a){var b=a.children[0];b&&b.value&&(b.value=CKEDITOR.tools.trim(b.value));a.attributes.type||(a.attributes.type=\"text/css\")},title:function(a){var b=a.children[0];!b&&l(a,b=new CKEDITOR.htmlParser.text);b.value=a.attributes[\"data-cke-title\"]||\"\"},input:h,textarea:h},attributes:{\"class\":function(a){return CKEDITOR.tools.ltrim(a.replace(/(?:^|\\s+)cke_[^\\s]*/g,\"\"))||!1}}};CKEDITOR.env.ie&&(A.attributes.style=function(a){return a.replace(/(^|;)([^\\:]+)/g,function(a){return a.toLowerCase()})});\nvar C=/<(a|area|img|input|source)\\b([^>]*)>/gi,F=/([\\w-:]+)\\s*=\\s*(?:(?:\"[^\"]*\")|(?:'[^']*')|(?:[^ \"'>]+))/gi,E=/^(href|src|name)$/i,J=/(?:<style(?=[ >])[^>]*>[\\s\\S]*?<\\/style>)|(?:<(:?link|meta|base)[^>]*>)/gi,G=/(<textarea(?=[ >])[^>]*>)([\\s\\S]*?)(?:<\\/textarea>)/gi,M=/<cke:encoded>([^<]*)<\\/cke:encoded>/gi,I=/(<\\/?)((?:object|embed|param|html|body|head|title)[^>]*>)/gi,H=/(<\\/?)cke:((?:html|body|head|title)[^>]*>)/gi,R=/<cke:(param|embed)([^>]*?)\\/?>(?!\\s*<\\/cke:\\1)/gi}(),\"use strict\",CKEDITOR.htmlParser.element=\nfunction(a,f){this.name=a;this.attributes=f||{};this.children=[];var b=a||\"\",c=b.match(/^cke:(.*)/);c&&(b=c[1]);b=!!(CKEDITOR.dtd.$nonBodyContent[b]||CKEDITOR.dtd.$block[b]||CKEDITOR.dtd.$listItem[b]||CKEDITOR.dtd.$tableContent[b]||CKEDITOR.dtd.$nonEditable[b]||\"br\"==b);this.isEmpty=!!CKEDITOR.dtd.$empty[a];this.isUnknown=!CKEDITOR.dtd[a];this._={isBlockLike:b,hasInlineStarted:this.isEmpty||!b}},CKEDITOR.htmlParser.cssStyle=function(a){var f={};((a instanceof CKEDITOR.htmlParser.element?a.attributes.style:\na)||\"\").replace(/&quot;/g,'\"').replace(/\\s*([^ :;]+)\\s*:\\s*([^;]+)\\s*(?=;|$)/g,function(a,c,e){\"font-family\"==c&&(e=e.replace(/[\"']/g,\"\"));f[c.toLowerCase()]=e});return{rules:f,populate:function(a){var c=this.toString();c&&(a instanceof CKEDITOR.dom.element?a.setAttribute(\"style\",c):a instanceof CKEDITOR.htmlParser.element?a.attributes.style=c:a.style=c)},toString:function(){var a=[],c;for(c in f)f[c]&&a.push(c,\":\",f[c],\";\");return a.join(\"\")}}},function(){function a(a){return function(b){return b.type==\nCKEDITOR.NODE_ELEMENT&&(\"string\"==typeof a?b.name==a:b.name in a)}}var f=function(a,b){a=a[0];b=b[0];return a<b?-1:a>b?1:0},b=CKEDITOR.htmlParser.fragment.prototype;CKEDITOR.htmlParser.element.prototype=CKEDITOR.tools.extend(new CKEDITOR.htmlParser.node,{type:CKEDITOR.NODE_ELEMENT,add:b.add,clone:function(){return new CKEDITOR.htmlParser.element(this.name,this.attributes)},filter:function(a,b){var f=this,l,d;b=f.getFilterContext(b);if(b.off)return!0;if(!f.parent)a.onRoot(b,f);for(;;){l=f.name;if(!(d=\na.onElementName(b,l)))return this.remove(),!1;f.name=d;if(!(f=a.onElement(b,f)))return this.remove(),!1;if(f!==this)return this.replaceWith(f),!1;if(f.name==l)break;if(f.type!=CKEDITOR.NODE_ELEMENT)return this.replaceWith(f),!1;if(!f.name)return this.replaceWithChildren(),!1}l=f.attributes;var h,k;for(h in l){for(d=l[h];;)if(k=a.onAttributeName(b,h))if(k!=h)delete l[h],h=k;else break;else{delete l[h];break}k&&(!1===(d=a.onAttribute(b,f,k,d))?delete l[k]:l[k]=d)}f.isEmpty||this.filterChildren(a,!1,\nb);return!0},filterChildren:b.filterChildren,writeHtml:function(a,b){b&&this.filter(b);var m=this.name,l=[],d=this.attributes,h,k;a.openTag(m,d);for(h in d)l.push([h,d[h]]);a.sortAttributes&&l.sort(f);h=0;for(k=l.length;h<k;h++)d=l[h],a.attribute(d[0],d[1]);a.openTagClose(m,this.isEmpty);this.writeChildrenHtml(a);this.isEmpty||a.closeTag(m)},writeChildrenHtml:b.writeChildrenHtml,replaceWithChildren:function(){for(var a=this.children,b=a.length;b;)a[--b].insertAfter(this);this.remove()},forEach:b.forEach,\ngetFirst:function(b){if(!b)return this.children.length?this.children[0]:null;\"function\"!=typeof b&&(b=a(b));for(var e=0,f=this.children.length;e<f;++e)if(b(this.children[e]))return this.children[e];return null},getHtml:function(){var a=new CKEDITOR.htmlParser.basicWriter;this.writeChildrenHtml(a);return a.getHtml()},setHtml:function(a){a=this.children=CKEDITOR.htmlParser.fragment.fromHtml(a).children;for(var b=0,f=a.length;b<f;++b)a[b].parent=this},getOuterHtml:function(){var a=new CKEDITOR.htmlParser.basicWriter;\nthis.writeHtml(a);return a.getHtml()},split:function(a){for(var b=this.children.splice(a,this.children.length-a),f=this.clone(),l=0;l<b.length;++l)b[l].parent=f;f.children=b;b[0]&&(b[0].previous=null);0<a&&(this.children[a-1].next=null);this.parent.add(f,this.getIndex()+1);return f},find:function(a,b){void 0===b&&(b=!1);var f=[],l;for(l=0;l<this.children.length;l++){var d=this.children[l];\"function\"==typeof a&&a(d)?f.push(d):\"string\"==typeof a&&d.name===a&&f.push(d);b&&d.find&&(f=f.concat(d.find(a,\nb)))}return f},addClass:function(a){if(!this.hasClass(a)){var b=this.attributes[\"class\"]||\"\";this.attributes[\"class\"]=b+(b?\" \":\"\")+a}},removeClass:function(a){var b=this.attributes[\"class\"];b&&((b=CKEDITOR.tools.trim(b.replace(new RegExp(\"(?:\\\\s+|^)\"+a+\"(?:\\\\s+|$)\"),\" \")))?this.attributes[\"class\"]=b:delete this.attributes[\"class\"])},hasClass:function(a){var b=this.attributes[\"class\"];return b?(new RegExp(\"(?:^|\\\\s)\"+a+\"(?\\x3d\\\\s|$)\")).test(b):!1},getFilterContext:function(a){var b=[];a||(a={off:!1,\nnonEditable:!1,nestedEditable:!1});a.off||\"off\"!=this.attributes[\"data-cke-processor\"]||b.push(\"off\",!0);a.nonEditable||\"false\"!=this.attributes.contenteditable?a.nonEditable&&!a.nestedEditable&&\"true\"==this.attributes.contenteditable&&b.push(\"nestedEditable\",!0):b.push(\"nonEditable\",!0);if(b.length){a=CKEDITOR.tools.copy(a);for(var f=0;f<b.length;f+=2)a[b[f]]=b[f+1]}return a}},!0)}(),function(){var a={},f=/{([^}]+)}/g,b=/([\\\\'])/g,c=/\\n/g,e=/\\r/g;CKEDITOR.template=function(m){if(a[m])this.output=\na[m];else{var l=m.replace(b,\"\\\\$1\").replace(c,\"\\\\n\").replace(e,\"\\\\r\").replace(f,function(a,b){return\"',data['\"+b+\"']\\x3d\\x3dundefined?'{\"+b+\"}':data['\"+b+\"'],'\"});this.output=a[m]=Function(\"data\",\"buffer\",\"return buffer?buffer.push('\"+l+\"'):['\"+l+\"'].join('');\")}}}(),delete CKEDITOR.loadFullCore,CKEDITOR.instances={},CKEDITOR.document=new CKEDITOR.dom.document(document),CKEDITOR.add=function(a){CKEDITOR.instances[a.name]=a;a.on(\"focus\",function(){CKEDITOR.currentInstance!=a&&(CKEDITOR.currentInstance=\na,CKEDITOR.fire(\"currentInstance\"))});a.on(\"blur\",function(){CKEDITOR.currentInstance==a&&(CKEDITOR.currentInstance=null,CKEDITOR.fire(\"currentInstance\"))});CKEDITOR.fire(\"instance\",null,a)},CKEDITOR.remove=function(a){delete CKEDITOR.instances[a.name]},function(){var a={};CKEDITOR.addTemplate=function(f,b){var c=a[f];if(c)return c;c={name:f,source:b};CKEDITOR.fire(\"template\",c);return a[f]=new CKEDITOR.template(c.source)};CKEDITOR.getTemplate=function(f){return a[f]}}(),function(){var a=[];CKEDITOR.addCss=\nfunction(f){a.push(f)};CKEDITOR.getCss=function(){return a.join(\"\\n\")}}(),CKEDITOR.on(\"instanceDestroyed\",function(){CKEDITOR.tools.isEmpty(this.instances)&&CKEDITOR.fire(\"reset\")}),CKEDITOR.TRISTATE_ON=1,CKEDITOR.TRISTATE_OFF=2,CKEDITOR.TRISTATE_DISABLED=0,function(){CKEDITOR.inline=function(a,f){if(!CKEDITOR.env.isCompatible)return null;a=CKEDITOR.dom.element.get(a);if(a.getEditor())throw'The editor instance \"'+a.getEditor().name+'\" is already attached to the provided element.';var b=new CKEDITOR.editor(f,\na,CKEDITOR.ELEMENT_MODE_INLINE),c=a.is(\"textarea\")?a:null;c?(b.setData(c.getValue(),null,!0),a=CKEDITOR.dom.element.createFromHtml('\\x3cdiv contenteditable\\x3d\"'+!!b.readOnly+'\" class\\x3d\"cke_textarea_inline\"\\x3e'+c.getValue()+\"\\x3c/div\\x3e\",CKEDITOR.document),a.insertAfter(c),c.hide(),c.$.form&&b._attachToForm()):b.setData(a.getHtml(),null,!0);b.on(\"loaded\",function(){b.fire(\"uiReady\");b.editable(a);b.container=a;b.ui.contentsElement=a;b.setData(b.getData(1));b.resetDirty();b.fire(\"contentDom\");\nb.mode=\"wysiwyg\";b.fire(\"mode\");b.status=\"ready\";b.fireOnce(\"instanceReady\");CKEDITOR.fire(\"instanceReady\",null,b)},null,null,1E4);b.on(\"destroy\",function(){c&&(b.container.clearCustomData(),b.container.remove(),c.show());b.element.clearCustomData();delete b.element});return b};CKEDITOR.inlineAll=function(){var a,f,b;for(b in CKEDITOR.dtd.$editable)for(var c=CKEDITOR.document.getElementsByTag(b),e=0,m=c.count();e<m;e++)a=c.getItem(e),\"true\"==a.getAttribute(\"contenteditable\")&&(f={element:a,config:{}},\n!1!==CKEDITOR.fire(\"inline\",f)&&CKEDITOR.inline(a,f.config))};CKEDITOR.domReady(function(){!CKEDITOR.disableAutoInline&&CKEDITOR.inlineAll()})}(),CKEDITOR.replaceClass=\"ckeditor\",function(){function a(a,e,m,l){if(!CKEDITOR.env.isCompatible)return null;a=CKEDITOR.dom.element.get(a);if(a.getEditor())throw'The editor instance \"'+a.getEditor().name+'\" is already attached to the provided element.';var d=new CKEDITOR.editor(e,a,l);l==CKEDITOR.ELEMENT_MODE_REPLACE&&(a.setStyle(\"visibility\",\"hidden\"),d._.required=\na.hasAttribute(\"required\"),a.removeAttribute(\"required\"));m&&d.setData(m,null,!0);d.on(\"loaded\",function(){b(d);l==CKEDITOR.ELEMENT_MODE_REPLACE&&d.config.autoUpdateElement&&a.$.form&&d._attachToForm();d.setMode(d.config.startupMode,function(){d.resetDirty();d.status=\"ready\";d.fireOnce(\"instanceReady\");CKEDITOR.fire(\"instanceReady\",null,d)})});d.on(\"destroy\",f);return d}function f(){var a=this.container,b=this.element;a&&(a.clearCustomData(),a.remove());b&&(b.clearCustomData(),this.elementMode==CKEDITOR.ELEMENT_MODE_REPLACE&&\n(b.show(),this._.required&&b.setAttribute(\"required\",\"required\")),delete this.element)}function b(a){var b=a.name,f=a.element,l=a.elementMode,d=a.fire(\"uiSpace\",{space:\"top\",html:\"\"}).html,h=a.fire(\"uiSpace\",{space:\"bottom\",html:\"\"}).html,k=new CKEDITOR.template('\\x3c{outerEl} id\\x3d\"cke_{name}\" class\\x3d\"{id} cke cke_reset cke_chrome cke_editor_{name} cke_{langDir} '+CKEDITOR.env.cssClass+'\"  dir\\x3d\"{langDir}\" lang\\x3d\"{langCode}\" role\\x3d\"application\"'+(a.title?' aria-labelledby\\x3d\"cke_{name}_arialbl\"':\n\"\")+\"\\x3e\"+(a.title?'\\x3cspan id\\x3d\"cke_{name}_arialbl\" class\\x3d\"cke_voice_label\"\\x3e{voiceLabel}\\x3c/span\\x3e':\"\")+'\\x3c{outerEl} class\\x3d\"cke_inner cke_reset\" role\\x3d\"presentation\"\\x3e{topHtml}\\x3c{outerEl} id\\x3d\"{contentId}\" class\\x3d\"cke_contents cke_reset\" role\\x3d\"presentation\"\\x3e\\x3c/{outerEl}\\x3e{bottomHtml}\\x3c/{outerEl}\\x3e\\x3c/{outerEl}\\x3e'),b=CKEDITOR.dom.element.createFromHtml(k.output({id:a.id,name:b,langDir:a.lang.dir,langCode:a.langCode,voiceLabel:a.title,topHtml:d?'\\x3cspan id\\x3d\"'+\na.ui.spaceId(\"top\")+'\" class\\x3d\"cke_top cke_reset_all\" role\\x3d\"presentation\" style\\x3d\"height:auto\"\\x3e'+d+\"\\x3c/span\\x3e\":\"\",contentId:a.ui.spaceId(\"contents\"),bottomHtml:h?'\\x3cspan id\\x3d\"'+a.ui.spaceId(\"bottom\")+'\" class\\x3d\"cke_bottom cke_reset_all\" role\\x3d\"presentation\"\\x3e'+h+\"\\x3c/span\\x3e\":\"\",outerEl:CKEDITOR.env.ie?\"span\":\"div\"}));l==CKEDITOR.ELEMENT_MODE_REPLACE?(f.hide(),b.insertAfter(f)):f.append(b);a.container=b;a.ui.contentsElement=a.ui.space(\"contents\");d&&a.ui.space(\"top\").unselectable();\nh&&a.ui.space(\"bottom\").unselectable();f=a.config.width;l=a.config.height;f&&b.setStyle(\"width\",CKEDITOR.tools.cssLength(f));l&&a.ui.space(\"contents\").setStyle(\"height\",CKEDITOR.tools.cssLength(l));b.disableContextMenu();CKEDITOR.env.webkit&&b.on(\"focus\",function(){a.focus()});a.fireOnce(\"uiReady\")}CKEDITOR.replace=function(b,e){return a(b,e,null,CKEDITOR.ELEMENT_MODE_REPLACE)};CKEDITOR.appendTo=function(b,e,f){return a(b,e,f,CKEDITOR.ELEMENT_MODE_APPENDTO)};CKEDITOR.replaceAll=function(){for(var a=\ndocument.getElementsByTagName(\"textarea\"),b=0;b<a.length;b++){var f=null,l=a[b];if(l.name||l.id){if(\"string\"==typeof arguments[0]){if(!(new RegExp(\"(?:^|\\\\s)\"+arguments[0]+\"(?:$|\\\\s)\")).test(l.className))continue}else if(\"function\"==typeof arguments[0]&&(f={},!1===arguments[0](l,f)))continue;this.replace(l,f)}}};CKEDITOR.editor.prototype.addMode=function(a,b){(this._.modes||(this._.modes={}))[a]=b};CKEDITOR.editor.prototype.setMode=function(a,b){var f=this,l=this._.modes;if(a!=f.mode&&l&&l[a]){f.fire(\"beforeSetMode\",\na);if(f.mode){var d=f.checkDirty(),l=f._.previousModeData,h,k=0;f.fire(\"beforeModeUnload\");f.editable(0);f._.previousMode=f.mode;f._.previousModeData=h=f.getData(1);\"source\"==f.mode&&l==h&&(f.fire(\"lockSnapshot\",{forceUpdate:!0}),k=1);f.ui.space(\"contents\").setHtml(\"\");f.mode=\"\"}else f._.previousModeData=f.getData(1);this._.modes[a](function(){f.mode=a;void 0!==d&&!d&&f.resetDirty();k?f.fire(\"unlockSnapshot\"):\"wysiwyg\"==a&&f.fire(\"saveSnapshot\");setTimeout(function(){f.fire(\"mode\");b&&b.call(f)},\n0)})}};CKEDITOR.editor.prototype.resize=function(a,b,f,l){var d=this.container,h=this.ui.space(\"contents\"),k=CKEDITOR.env.webkit&&this.document&&this.document.getWindow().$.frameElement;l=l?this.container.getFirst(function(a){return a.type==CKEDITOR.NODE_ELEMENT&&a.hasClass(\"cke_inner\")}):d;l.setSize(\"width\",a,!0);k&&(k.style.width=\"1%\");var g=(l.$.offsetHeight||0)-(h.$.clientHeight||0),d=Math.max(b-(f?0:g),0);b=f?b+g:b;h.setStyle(\"height\",d+\"px\");k&&(k.style.width=\"100%\");this.fire(\"resize\",{outerHeight:b,\ncontentsHeight:d,outerWidth:a||l.getSize(\"width\")})};CKEDITOR.editor.prototype.getResizable=function(a){return a?this.ui.space(\"contents\"):this.container};CKEDITOR.domReady(function(){CKEDITOR.replaceClass&&CKEDITOR.replaceAll(CKEDITOR.replaceClass)})}(),CKEDITOR.config.startupMode=\"wysiwyg\",function(){function a(a){var b=a.editor,d=a.data.path,e=d.blockLimit,g=a.data.selection,k=g.getRanges()[0],h;if(CKEDITOR.env.gecko||CKEDITOR.env.ie&&CKEDITOR.env.needsBrFiller)if(g=f(g,d))g.appendBogus(),h=CKEDITOR.env.ie;\nl(b,d.block,e)&&k.collapsed&&!k.getCommonAncestor().isReadOnly()&&(d=k.clone(),d.enlarge(CKEDITOR.ENLARGE_BLOCK_CONTENTS),e=new CKEDITOR.dom.walker(d),e.guard=function(a){return!c(a)||a.type==CKEDITOR.NODE_COMMENT||a.isReadOnly()},!e.checkForward()||d.checkStartOfBlock()&&d.checkEndOfBlock())&&(b=k.fixBlock(!0,b.activeEnterMode==CKEDITOR.ENTER_DIV?\"div\":\"p\"),CKEDITOR.env.needsBrFiller||(b=b.getFirst(c))&&b.type==CKEDITOR.NODE_TEXT&&CKEDITOR.tools.trim(b.getText()).match(/^(?:&nbsp;|\\xa0)$/)&&b.remove(),\nh=1,a.cancel());h&&k.select()}function f(a,b){if(a.isFake)return 0;var d=b.block||b.blockLimit,e=d&&d.getLast(c);if(!(!d||!d.isBlockBoundary()||e&&e.type==CKEDITOR.NODE_ELEMENT&&e.isBlockBoundary()||d.is(\"pre\")||d.getBogus()))return d}function b(a){var b=a.data.getTarget();b.is(\"input\")&&(b=b.getAttribute(\"type\"),\"submit\"!=b&&\"reset\"!=b||a.data.preventDefault())}function c(a){return g(a)&&n(a)}function e(a,b){return function(c){var d=c.data.$.toElement||c.data.$.fromElement||c.data.$.relatedTarget;\n(d=d&&d.nodeType==CKEDITOR.NODE_ELEMENT?new CKEDITOR.dom.element(d):null)&&(b.equals(d)||b.contains(d))||a.call(this,c)}}function m(a){function b(a){return function(b,e){e&&b.type==CKEDITOR.NODE_ELEMENT&&b.is(g)&&(d=b);if(!(e||!c(b)||a&&p(b)))return!1}}var d,e=a.getRanges()[0];a=a.root;var g={table:1,ul:1,ol:1,dl:1};if(e.startPath().contains(g)){var f=e.clone();f.collapse(1);f.setStartAt(a,CKEDITOR.POSITION_AFTER_START);a=new CKEDITOR.dom.walker(f);a.guard=b();a.checkBackward();if(d)return f=e.clone(),\nf.collapse(),f.setEndAt(d,CKEDITOR.POSITION_AFTER_END),a=new CKEDITOR.dom.walker(f),a.guard=b(!0),d=!1,a.checkForward(),d}return null}function l(a,b,c){return!1!==a.config.autoParagraph&&a.activeEnterMode!=CKEDITOR.ENTER_BR&&(a.editable().equals(c)&&!b||b&&\"true\"==b.getAttribute(\"contenteditable\"))}function d(a){return a.activeEnterMode!=CKEDITOR.ENTER_BR&&!1!==a.config.autoParagraph?a.activeEnterMode==CKEDITOR.ENTER_DIV?\"div\":\"p\":!1}function h(a){var b=a.editor;b.getSelection().scrollIntoView();\nsetTimeout(function(){b.fire(\"saveSnapshot\")},0)}function k(a,b,c){var d=a.getCommonAncestor(b);for(b=a=c?b:a;(a=a.getParent())&&!d.equals(a)&&1==a.getChildCount();)b=a;b.remove()}var g,n,q,p,t,v,r,u,B;CKEDITOR.editable=CKEDITOR.tools.createClass({base:CKEDITOR.dom.element,$:function(a,b){this.base(b.$||b);this.editor=a;this.status=\"unloaded\";this.hasFocus=!1;this.setup()},proto:{focus:function(){var a;if(CKEDITOR.env.webkit&&!this.hasFocus&&(a=this.editor._.previousActive||this.getDocument().getActive(),\nthis.contains(a))){a.focus();return}CKEDITOR.env.edge&&14<CKEDITOR.env.version&&!this.hasFocus&&this.getDocument().equals(CKEDITOR.document)&&(this.editor._.previousScrollTop=this.$.scrollTop);try{!CKEDITOR.env.ie||CKEDITOR.env.edge&&14<CKEDITOR.env.version||!this.getDocument().equals(CKEDITOR.document)?this.$.focus():this.$.setActive()}catch(b){if(!CKEDITOR.env.ie)throw b;}CKEDITOR.env.safari&&!this.isInline()&&(a=CKEDITOR.document.getActive(),a.equals(this.getWindow().getFrame())||this.getWindow().focus())},\non:function(a,b){var c=Array.prototype.slice.call(arguments,0);CKEDITOR.env.ie&&/^focus|blur$/.exec(a)&&(a=\"focus\"==a?\"focusin\":\"focusout\",b=e(b,this),c[0]=a,c[1]=b);return CKEDITOR.dom.element.prototype.on.apply(this,c)},attachListener:function(a){!this._.listeners&&(this._.listeners=[]);var b=Array.prototype.slice.call(arguments,1),b=a.on.apply(a,b);this._.listeners.push(b);return b},clearListeners:function(){var a=this._.listeners;try{for(;a.length;)a.pop().removeListener()}catch(b){}},restoreAttrs:function(){var a=\nthis._.attrChanges,b,c;for(c in a)a.hasOwnProperty(c)&&(b=a[c],null!==b?this.setAttribute(c,b):this.removeAttribute(c))},attachClass:function(a){var b=this.getCustomData(\"classes\");this.hasClass(a)||(!b&&(b=[]),b.push(a),this.setCustomData(\"classes\",b),this.addClass(a))},changeAttr:function(a,b){var c=this.getAttribute(a);b!==c&&(!this._.attrChanges&&(this._.attrChanges={}),a in this._.attrChanges||(this._.attrChanges[a]=c),this.setAttribute(a,b))},insertText:function(a){this.editor.focus();this.insertHtml(this.transformPlainTextToHtml(a),\n\"text\")},transformPlainTextToHtml:function(a){var b=this.editor.getSelection().getStartElement().hasAscendant(\"pre\",!0)?CKEDITOR.ENTER_BR:this.editor.activeEnterMode;return CKEDITOR.tools.transformPlainTextToHtml(a,b)},insertHtml:function(a,b,c){var d=this.editor;d.focus();d.fire(\"saveSnapshot\");c||(c=d.getSelection().getRanges()[0]);v(this,b||\"html\",a,c);c.select();h(this);this.editor.fire(\"afterInsertHtml\",{})},insertHtmlIntoRange:function(a,b,c){v(this,c||\"html\",a,b);this.editor.fire(\"afterInsertHtml\",\n{intoRange:b})},insertElement:function(a,b){var d=this.editor;d.focus();d.fire(\"saveSnapshot\");var e=d.activeEnterMode,d=d.getSelection(),g=a.getName(),g=CKEDITOR.dtd.$block[g];b||(b=d.getRanges()[0]);this.insertElementIntoRange(a,b)&&(b.moveToPosition(a,CKEDITOR.POSITION_AFTER_END),g&&((g=a.getNext(function(a){return c(a)&&!p(a)}))&&g.type==CKEDITOR.NODE_ELEMENT&&g.is(CKEDITOR.dtd.$block)?g.getDtd()[\"#\"]?b.moveToElementEditStart(g):b.moveToElementEditEnd(a):g||e==CKEDITOR.ENTER_BR||(g=b.fixBlock(!0,\ne==CKEDITOR.ENTER_DIV?\"div\":\"p\"),b.moveToElementEditStart(g))));d.selectRanges([b]);h(this)},insertElementIntoSelection:function(a){this.insertElement(a)},insertElementIntoRange:function(a,b){var c=this.editor,d=c.config.enterMode,e=a.getName(),g=CKEDITOR.dtd.$block[e];if(b.checkReadOnly())return!1;b.deleteContents(1);b.startContainer.type==CKEDITOR.NODE_ELEMENT&&b.startContainer.is({tr:1,table:1,tbody:1,thead:1,tfoot:1})&&r(b);var f,k;if(g)for(;(f=b.getCommonAncestor(0,1))&&(k=CKEDITOR.dtd[f.getName()])&&\n(!k||!k[e]);)f.getName()in CKEDITOR.dtd.span?b.splitElement(f):b.checkStartOfBlock()&&b.checkEndOfBlock()?(b.setStartBefore(f),b.collapse(!0),f.remove()):b.splitBlock(d==CKEDITOR.ENTER_DIV?\"div\":\"p\",c.editable());b.insertNode(a);return!0},setData:function(a,b){b||(a=this.editor.dataProcessor.toHtml(a));this.setHtml(a);this.fixInitialSelection();\"unloaded\"==this.status&&(this.status=\"ready\");this.editor.fire(\"dataReady\")},getData:function(a){var b=this.getHtml();a||(b=this.editor.dataProcessor.toDataFormat(b));\nreturn b},setReadOnly:function(a){this.setAttribute(\"contenteditable\",!a)},detach:function(){this.removeClass(\"cke_editable\");this.status=\"detached\";var a=this.editor;this._.detach();delete a.document;delete a.window},isInline:function(){return this.getDocument().equals(CKEDITOR.document)},fixInitialSelection:function(){function a(){var b=c.getDocument().$,d=b.getSelection(),e;a:if(d.anchorNode&&d.anchorNode==c.$)e=!0;else{if(CKEDITOR.env.webkit&&(e=c.getDocument().getActive())&&e.equals(c)&&!d.anchorNode){e=\n!0;break a}e=void 0}e&&(e=new CKEDITOR.dom.range(c),e.moveToElementEditStart(c),b=b.createRange(),b.setStart(e.startContainer.$,e.startOffset),b.collapse(!0),d.removeAllRanges(),d.addRange(b))}function b(){var a=c.getDocument().$,d=a.selection,e=c.getDocument().getActive();\"None\"==d.type&&e.equals(c)&&(d=new CKEDITOR.dom.range(c),a=a.body.createTextRange(),d.moveToElementEditStart(c),d=d.startContainer,d.type!=CKEDITOR.NODE_ELEMENT&&(d=d.getParent()),a.moveToElementText(d.$),a.collapse(!0),a.select())}\nvar c=this;if(CKEDITOR.env.ie&&(9>CKEDITOR.env.version||CKEDITOR.env.quirks))this.hasFocus&&(this.focus(),b());else if(this.hasFocus)this.focus(),a();else this.once(\"focus\",function(){a()},null,null,-999)},getHtmlFromRange:function(a){if(a.collapsed)return new CKEDITOR.dom.documentFragment(a.document);a={doc:this.getDocument(),range:a.clone()};u.eol.detect(a,this);u.bogus.exclude(a);u.cell.shrink(a);a.fragment=a.range.cloneContents();u.tree.rebuild(a,this);u.eol.fix(a,this);return new CKEDITOR.dom.documentFragment(a.fragment.$)},\nextractHtmlFromRange:function(a,b){var c=B,d={range:a,doc:a.document},e=this.getHtmlFromRange(a);if(a.collapsed)return a.optimize(),e;a.enlarge(CKEDITOR.ENLARGE_INLINE,1);c.table.detectPurge(d);d.bookmark=a.createBookmark();delete d.range;var g=this.editor.createRange();g.moveToPosition(d.bookmark.startNode,CKEDITOR.POSITION_BEFORE_START);d.targetBookmark=g.createBookmark();c.list.detectMerge(d,this);c.table.detectRanges(d,this);c.block.detectMerge(d,this);d.tableContentsRanges?(c.table.deleteRanges(d),\na.moveToBookmark(d.bookmark),d.range=a):(a.moveToBookmark(d.bookmark),d.range=a,a.extractContents(c.detectExtractMerge(d)));a.moveToBookmark(d.targetBookmark);a.optimize();c.fixUneditableRangePosition(a);c.list.merge(d,this);c.table.purge(d,this);c.block.merge(d,this);if(b){c=a.startPath();if(d=a.checkStartOfBlock()&&a.checkEndOfBlock()&&c.block&&!a.root.equals(c.block)){a:{var d=c.block.getElementsByTag(\"span\"),g=0,f;if(d)for(;f=d.getItem(g++);)if(!n(f)){d=!0;break a}d=!1}d=!d}d&&(a.moveToPosition(c.block,\nCKEDITOR.POSITION_BEFORE_START),c.block.remove())}else c.autoParagraph(this.editor,a),q(a.startContainer)&&a.startContainer.appendBogus();a.startContainer.mergeSiblings();return e},setup:function(){var a=this.editor;this.attachListener(a,\"beforeGetData\",function(){var b=this.getData();this.is(\"textarea\")||!1!==a.config.ignoreEmptyParagraph&&(b=b.replace(t,function(a,b){return b}));a.setData(b,null,1)},this);this.attachListener(a,\"getSnapshot\",function(a){a.data=this.getData(1)},this);this.attachListener(a,\n\"afterSetData\",function(){this.setData(a.getData(1))},this);this.attachListener(a,\"loadSnapshot\",function(a){this.setData(a.data,1)},this);this.attachListener(a,\"beforeFocus\",function(){var b=a.getSelection();(b=b&&b.getNative())&&\"Control\"==b.type||this.focus()},this);this.attachListener(a,\"insertHtml\",function(a){this.insertHtml(a.data.dataValue,a.data.mode,a.data.range)},this);this.attachListener(a,\"insertElement\",function(a){this.insertElement(a.data)},this);this.attachListener(a,\"insertText\",\nfunction(a){this.insertText(a.data)},this);this.setReadOnly(a.readOnly);this.attachClass(\"cke_editable\");a.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?this.attachClass(\"cke_editable_inline\"):a.elementMode!=CKEDITOR.ELEMENT_MODE_REPLACE&&a.elementMode!=CKEDITOR.ELEMENT_MODE_APPENDTO||this.attachClass(\"cke_editable_themed\");this.attachClass(\"cke_contents_\"+a.config.contentsLangDirection);a.keystrokeHandler.blockedKeystrokes[8]=+a.readOnly;a.keystrokeHandler.attach(this);this.on(\"blur\",function(){this.hasFocus=\n!1},null,null,-1);this.on(\"focus\",function(){this.hasFocus=!0},null,null,-1);if(CKEDITOR.env.webkit)this.on(\"scroll\",function(){a._.previousScrollTop=a.editable().$.scrollTop},null,null,-1);if(CKEDITOR.env.edge&&14<CKEDITOR.env.version){var d=function(){var b=a.editable();null!=a._.previousScrollTop&&b.getDocument().equals(CKEDITOR.document)&&(b.$.scrollTop=a._.previousScrollTop,a._.previousScrollTop=null,this.removeListener(\"scroll\",d))};this.on(\"scroll\",d)}a.focusManager.add(this);this.equals(CKEDITOR.document.getActive())&&\n(this.hasFocus=!0,a.once(\"contentDom\",function(){a.focusManager.focus(this)},this));this.isInline()&&this.changeAttr(\"tabindex\",a.tabIndex);if(!this.is(\"textarea\")){a.document=this.getDocument();a.window=this.getWindow();var e=a.document;this.changeAttr(\"spellcheck\",!a.config.disableNativeSpellChecker);var f=a.config.contentsLangDirection;this.getDirection(1)!=f&&this.changeAttr(\"dir\",f);var h=CKEDITOR.getCss();if(h){var f=e.getHead(),l=f.getCustomData(\"stylesheet\");l?h!=l.getText()&&(CKEDITOR.env.ie&&\n9>CKEDITOR.env.version?l.$.styleSheet.cssText=h:l.setText(h)):(h=e.appendStyleText(h),h=new CKEDITOR.dom.element(h.ownerNode||h.owningElement),f.setCustomData(\"stylesheet\",h),h.data(\"cke-temp\",1))}f=e.getCustomData(\"stylesheet_ref\")||0;e.setCustomData(\"stylesheet_ref\",f+1);this.setCustomData(\"cke_includeReadonly\",!a.config.disableReadonlyStyling);this.attachListener(this,\"click\",function(a){a=a.data;var b=(new CKEDITOR.dom.elementPath(a.getTarget(),this)).contains(\"a\");b&&2!=a.$.button&&b.isReadOnly()&&\na.preventDefault()});var n={8:1,46:1};this.attachListener(a,\"key\",function(b){if(a.readOnly)return!0;var c=b.data.domEvent.getKey(),d;if(c in n){b=a.getSelection();var e,f=b.getRanges()[0],k=f.startPath(),h,l,w,c=8==c;CKEDITOR.env.ie&&11>CKEDITOR.env.version&&(e=b.getSelectedElement())||(e=m(b))?(a.fire(\"saveSnapshot\"),f.moveToPosition(e,CKEDITOR.POSITION_BEFORE_START),e.remove(),f.select(),a.fire(\"saveSnapshot\"),d=1):f.collapsed&&((h=k.block)&&(w=h[c?\"getPrevious\":\"getNext\"](g))&&w.type==CKEDITOR.NODE_ELEMENT&&\nw.is(\"table\")&&f[c?\"checkStartOfBlock\":\"checkEndOfBlock\"]()?(a.fire(\"saveSnapshot\"),f[c?\"checkEndOfBlock\":\"checkStartOfBlock\"]()&&h.remove(),f[\"moveToElementEdit\"+(c?\"End\":\"Start\")](w),f.select(),a.fire(\"saveSnapshot\"),d=1):k.blockLimit&&k.blockLimit.is(\"td\")&&(l=k.blockLimit.getAscendant(\"table\"))&&f.checkBoundaryOfElement(l,c?CKEDITOR.START:CKEDITOR.END)&&(w=l[c?\"getPrevious\":\"getNext\"](g))?(a.fire(\"saveSnapshot\"),f[\"moveToElementEdit\"+(c?\"End\":\"Start\")](w),f.checkStartOfBlock()&&f.checkEndOfBlock()?\nw.remove():f.select(),a.fire(\"saveSnapshot\"),d=1):(l=k.contains([\"td\",\"th\",\"caption\"]))&&f.checkBoundaryOfElement(l,c?CKEDITOR.START:CKEDITOR.END)&&(d=1))}return!d});a.blockless&&CKEDITOR.env.ie&&CKEDITOR.env.needsBrFiller&&this.attachListener(this,\"keyup\",function(b){b.data.getKeystroke()in n&&!this.getFirst(c)&&(this.appendBogus(),b=a.createRange(),b.moveToPosition(this,CKEDITOR.POSITION_AFTER_START),b.select())});this.attachListener(this,\"dblclick\",function(b){if(a.readOnly)return!1;b={element:b.data.getTarget()};\na.fire(\"doubleclick\",b)});CKEDITOR.env.ie&&this.attachListener(this,\"click\",b);CKEDITOR.env.ie&&!CKEDITOR.env.edge||this.attachListener(this,\"mousedown\",function(b){var c=b.data.getTarget();c.is(\"img\",\"hr\",\"input\",\"textarea\",\"select\")&&!c.isReadOnly()&&(a.getSelection().selectElement(c),c.is(\"input\",\"textarea\",\"select\")&&b.data.preventDefault())});CKEDITOR.env.edge&&this.attachListener(this,\"mouseup\",function(b){(b=b.data.getTarget())&&b.is(\"img\")&&a.getSelection().selectElement(b)});CKEDITOR.env.gecko&&\nthis.attachListener(this,\"mouseup\",function(b){if(2==b.data.$.button&&(b=b.data.getTarget(),!b.getOuterHtml().replace(t,\"\"))){var c=a.createRange();c.moveToElementEditStart(b);c.select(!0)}});CKEDITOR.env.webkit&&(this.attachListener(this,\"click\",function(a){a.data.getTarget().is(\"input\",\"select\")&&a.data.preventDefault()}),this.attachListener(this,\"mouseup\",function(a){a.data.getTarget().is(\"input\",\"textarea\")&&a.data.preventDefault()}));CKEDITOR.env.webkit&&this.attachListener(a,\"key\",function(b){if(a.readOnly)return!0;\nb=b.data.domEvent.getKey();if(b in n){var c=8==b,d=a.getSelection().getRanges()[0];b=d.startPath();if(d.collapsed)a:{var e=b.block;if(e&&d[c?\"checkStartOfBlock\":\"checkEndOfBlock\"]()&&d.moveToClosestEditablePosition(e,!c)&&d.collapsed){if(d.startContainer.type==CKEDITOR.NODE_ELEMENT){var g=d.startContainer.getChild(d.startOffset-(c?1:0));if(g&&g.type==CKEDITOR.NODE_ELEMENT&&g.is(\"hr\")){a.fire(\"saveSnapshot\");g.remove();b=!0;break a}}d=d.startPath().block;if(!d||d&&d.contains(e))b=void 0;else{a.fire(\"saveSnapshot\");\nvar f;(f=(c?d:e).getBogus())&&f.remove();f=a.getSelection();g=f.createBookmarks();(c?e:d).moveChildren(c?d:e,!1);b.lastElement.mergeSiblings();k(e,d,!c);f.selectBookmarks(g);b=!0}}else b=!1}else c=d,f=b.block,d=c.endPath().block,f&&d&&!f.equals(d)?(a.fire(\"saveSnapshot\"),(e=f.getBogus())&&e.remove(),c.enlarge(CKEDITOR.ENLARGE_INLINE),c.deleteContents(),d.getParent()&&(d.moveChildren(f,!1),b.lastElement.mergeSiblings(),k(f,d,!0)),c=a.getSelection().getRanges()[0],c.collapse(1),c.optimize(),\"\"===c.startContainer.getHtml()&&\nc.startContainer.appendBogus(),c.select(),b=!0):b=!1;if(!b)return;a.getSelection().scrollIntoView();a.fire(\"saveSnapshot\");return!1}},this,null,100)}}},_:{detach:function(){this.editor.setData(this.editor.getData(),0,1);this.clearListeners();this.restoreAttrs();var a;if(a=this.removeCustomData(\"classes\"))for(;a.length;)this.removeClass(a.pop());if(!this.is(\"textarea\")){a=this.getDocument();var b=a.getHead();if(b.getCustomData(\"stylesheet\")){var c=a.getCustomData(\"stylesheet_ref\");--c?a.setCustomData(\"stylesheet_ref\",\nc):(a.removeCustomData(\"stylesheet_ref\"),b.removeCustomData(\"stylesheet\").remove())}}this.editor.fire(\"contentDomUnload\");delete this.editor}}});CKEDITOR.editor.prototype.editable=function(a){var b=this._.editable;if(b&&a)return 0;arguments.length&&(b=this._.editable=a?a instanceof CKEDITOR.editable?a:new CKEDITOR.editable(this,a):(b&&b.detach(),null));return b};CKEDITOR.on(\"instanceLoaded\",function(b){var c=b.editor;c.on(\"insertElement\",function(a){a=a.data;a.type==CKEDITOR.NODE_ELEMENT&&(a.is(\"input\")||\na.is(\"textarea\"))&&(\"false\"!=a.getAttribute(\"contentEditable\")&&a.data(\"cke-editable\",a.hasAttribute(\"contenteditable\")?\"true\":\"1\"),a.setAttribute(\"contentEditable\",!1))});c.on(\"selectionChange\",function(b){if(!c.readOnly){var d=c.getSelection();d&&!d.isLocked&&(d=c.checkDirty(),c.fire(\"lockSnapshot\"),a(b),c.fire(\"unlockSnapshot\"),!d&&c.resetDirty())}})});CKEDITOR.on(\"instanceCreated\",function(a){var b=a.editor;b.on(\"mode\",function(){var a=b.editable();if(a&&a.isInline()){var c=b.title;a.changeAttr(\"role\",\n\"textbox\");a.changeAttr(\"aria-label\",c);c&&a.changeAttr(\"title\",c);var d=b.fire(\"ariaEditorHelpLabel\",{}).label;if(d&&(c=this.ui.space(this.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?\"top\":\"contents\"))){var e=CKEDITOR.tools.getNextId(),d=CKEDITOR.dom.element.createFromHtml('\\x3cspan id\\x3d\"'+e+'\" class\\x3d\"cke_voice_label\"\\x3e'+d+\"\\x3c/span\\x3e\");c.append(d);a.changeAttr(\"aria-describedby\",e)}}})});CKEDITOR.addCss(\".cke_editable{cursor:text}.cke_editable img,.cke_editable input,.cke_editable textarea{cursor:default}\");\ng=CKEDITOR.dom.walker.whitespaces(!0);n=CKEDITOR.dom.walker.bookmark(!1,!0);q=CKEDITOR.dom.walker.empty();p=CKEDITOR.dom.walker.bogus();t=/(^|<body\\b[^>]*>)\\s*<(p|div|address|h\\d|center|pre)[^>]*>\\s*(?:<br[^>]*>|&nbsp;|\\u00A0|&#160;)?\\s*(:?<\\/\\2>)?\\s*(?=$|<\\/body>)/gi;v=function(){function a(b){return b.type==CKEDITOR.NODE_ELEMENT}function b(c,d){var e,g,f,k,h=[],l=d.range.startContainer;e=d.range.startPath();for(var l=m[l.getName()],n=0,u=c.getChildren(),r=u.count(),z=-1,t=-1,p=0,v=e.contains(m.$list);n<\nr;++n)e=u.getItem(n),a(e)?(f=e.getName(),v&&f in CKEDITOR.dtd.$list?h=h.concat(b(e,d)):(k=!!l[f],\"br\"!=f||!e.data(\"cke-eol\")||n&&n!=r-1||(p=(g=n?h[n-1].node:u.getItem(n+1))&&(!a(g)||!g.is(\"br\")),g=g&&a(g)&&m.$block[g.getName()]),-1!=z||k||(z=n),k||(t=n),h.push({isElement:1,isLineBreak:p,isBlock:e.isBlockBoundary(),hasBlockSibling:g,node:e,name:f,allowed:k}),g=p=0)):h.push({isElement:0,node:e,allowed:1});-1<z&&(h[z].firstNotAllowed=1);-1<t&&(h[t].lastNotAllowed=1);return h}function e(b,c){var d=[],\ng=b.getChildren(),f=g.count(),k,h=0,l=m[c],n=!b.is(m.$inline)||b.is(\"br\");for(n&&d.push(\" \");h<f;h++)k=g.getItem(h),a(k)&&!k.is(l)?d=d.concat(e(k,c)):d.push(k);n&&d.push(\" \");return d}function g(b){return a(b.startContainer)&&b.startContainer.getChild(b.startOffset-1)}function f(b){return b&&a(b)&&(b.is(m.$removeEmpty)||b.is(\"a\")&&!b.isBlockBoundary())}function k(b,c,d,e){var g=b.clone(),f,h;g.setEndAt(c,CKEDITOR.POSITION_BEFORE_END);(f=(new CKEDITOR.dom.walker(g)).next())&&a(f)&&n[f.getName()]&&\n(h=f.getPrevious())&&a(h)&&!h.getParent().equals(b.startContainer)&&d.contains(h)&&e.contains(f)&&f.isIdentical(h)&&(f.moveChildren(h),f.remove(),k(b,c,d,e))}function h(b,c){function d(b,c){if(c.isBlock&&c.isElement&&!c.node.is(\"br\")&&a(b)&&b.is(\"br\"))return b.remove(),1}var e=c.endContainer.getChild(c.endOffset),g=c.endContainer.getChild(c.endOffset-1);e&&d(e,b[b.length-1]);g&&d(g,b[0])&&(c.setEnd(c.endContainer,c.endOffset-1),c.collapse())}var m=CKEDITOR.dtd,n={p:1,div:1,h1:1,h2:1,h3:1,h4:1,h5:1,\nh6:1,ul:1,ol:1,li:1,pre:1,dl:1,blockquote:1},u={p:1,div:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1},r=CKEDITOR.tools.extend({},m.$inline);delete r.br;return function(n,t,H,p){var v=n.editor,B=!1;\"unfiltered_html\"==t&&(t=\"html\",B=!0);if(!p.checkReadOnly()){var q=(new CKEDITOR.dom.elementPath(p.startContainer,p.root)).blockLimit||p.root;n={type:t,dontFilter:B,editable:n,editor:v,range:p,blockLimit:q,mergeCandidates:[],zombies:[]};t=n.range;p=n.mergeCandidates;var K,E;\"text\"==n.type&&t.shrink(CKEDITOR.SHRINK_ELEMENT,\n!0,!1)&&(K=CKEDITOR.dom.element.createFromHtml(\"\\x3cspan\\x3e\\x26nbsp;\\x3c/span\\x3e\",t.document),t.insertNode(K),t.setStartAfter(K));B=new CKEDITOR.dom.elementPath(t.startContainer);n.endPath=q=new CKEDITOR.dom.elementPath(t.endContainer);if(!t.collapsed){var v=q.block||q.blockLimit,W=t.getCommonAncestor();v&&!v.equals(W)&&!v.contains(W)&&t.checkEndOfBlock()&&n.zombies.push(v);t.deleteContents()}for(;(E=g(t))&&a(E)&&E.isBlockBoundary()&&B.contains(E);)t.moveToPosition(E,CKEDITOR.POSITION_BEFORE_END);\nk(t,n.blockLimit,B,q);K&&(t.setEndBefore(K),t.collapse(),K.remove());K=t.startPath();if(v=K.contains(f,!1,1))t.splitElement(v),n.inlineStylesRoot=v,n.inlineStylesPeak=K.lastElement;K=t.createBookmark();(v=K.startNode.getPrevious(c))&&a(v)&&f(v)&&p.push(v);(v=K.startNode.getNext(c))&&a(v)&&f(v)&&p.push(v);for(v=K.startNode;(v=v.getParent())&&f(v);)p.push(v);t.moveToBookmark(K);if(K=H){K=n.range;if(\"text\"==n.type&&n.inlineStylesRoot){E=n.inlineStylesPeak;t=E.getDocument().createText(\"{cke-peak}\");for(p=\nn.inlineStylesRoot.getParent();!E.equals(p);)t=t.appendTo(E.clone()),E=E.getParent();H=t.getOuterHtml().split(\"{cke-peak}\").join(H)}E=n.blockLimit.getName();if(/^\\s+|\\s+$/.test(H)&&\"span\"in CKEDITOR.dtd[E]){var U='\\x3cspan data-cke-marker\\x3d\"1\"\\x3e\\x26nbsp;\\x3c/span\\x3e';H=U+H+U}H=n.editor.dataProcessor.toHtml(H,{context:null,fixForBody:!1,protectedWhitespaces:!!U,dontFilter:n.dontFilter,filter:n.editor.activeFilter,enterMode:n.editor.activeEnterMode});E=K.document.createElement(\"body\");E.setHtml(H);\nU&&(E.getFirst().remove(),E.getLast().remove());if((U=K.startPath().block)&&(1!=U.getChildCount()||!U.getBogus()))a:{var L;if(1==E.getChildCount()&&a(L=E.getFirst())&&L.is(u)&&!L.hasAttribute(\"contenteditable\")){U=L.getElementsByTag(\"*\");K=0;for(p=U.count();K<p;K++)if(t=U.getItem(K),!t.is(r))break a;L.moveChildren(L.getParent(1));L.remove()}}n.dataWrapper=E;K=H}if(K){L=n.range;K=L.document;var N;E=n.blockLimit;p=0;var S,U=[],Q,Y;H=v=0;var V,da;t=L.startContainer;var B=n.endPath.elements[0],Z,q=B.getPosition(t),\nW=!!B.getCommonAncestor(t)&&q!=CKEDITOR.POSITION_IDENTICAL&&!(q&CKEDITOR.POSITION_CONTAINS+CKEDITOR.POSITION_IS_CONTAINED);t=b(n.dataWrapper,n);for(h(t,L);p<t.length;p++){q=t[p];if(N=q.isLineBreak){N=L;V=E;var X=void 0,fa=void 0;q.hasBlockSibling?N=1:(X=N.startContainer.getAscendant(m.$block,1))&&X.is({div:1,p:1})?(fa=X.getPosition(V),fa==CKEDITOR.POSITION_IDENTICAL||fa==CKEDITOR.POSITION_CONTAINS?N=0:(V=N.splitElement(X),N.moveToPosition(V,CKEDITOR.POSITION_AFTER_START),N=1)):N=0}if(N)H=0<p;else{N=\nL.startPath();!q.isBlock&&l(n.editor,N.block,N.blockLimit)&&(Y=d(n.editor))&&(Y=K.createElement(Y),Y.appendBogus(),L.insertNode(Y),CKEDITOR.env.needsBrFiller&&(S=Y.getBogus())&&S.remove(),L.moveToPosition(Y,CKEDITOR.POSITION_BEFORE_END));if((N=L.startPath().block)&&!N.equals(Q)){if(S=N.getBogus())S.remove(),U.push(N);Q=N}q.firstNotAllowed&&(v=1);if(v&&q.isElement){N=L.startContainer;for(V=null;N&&!m[N.getName()][q.name];){if(N.equals(E)){N=null;break}V=N;N=N.getParent()}if(N)V&&(da=L.splitElement(V),\nn.zombies.push(da),n.zombies.push(V));else{V=E.getName();Z=!p;N=p==t.length-1;V=e(q.node,V);for(var X=[],fa=V.length,ba=0,ea=void 0,ga=0,ha=-1;ba<fa;ba++)ea=V[ba],\" \"==ea?(ga||Z&&!ba||(X.push(new CKEDITOR.dom.text(\" \")),ha=X.length),ga=1):(X.push(ea),ga=0);N&&ha==X.length&&X.pop();Z=X}}if(Z){for(;N=Z.pop();)L.insertNode(N);Z=0}else L.insertNode(q.node);q.lastNotAllowed&&p<t.length-1&&((da=W?B:da)&&L.setEndAt(da,CKEDITOR.POSITION_AFTER_START),v=0);L.collapse()}}1!=t.length?S=!1:(S=t[0],S=S.isElement&&\n\"false\"==S.node.getAttribute(\"contenteditable\"));S&&(H=!0,N=t[0].node,L.setStartAt(N,CKEDITOR.POSITION_BEFORE_START),L.setEndAt(N,CKEDITOR.POSITION_AFTER_END));n.dontMoveCaret=H;n.bogusNeededBlocks=U}S=n.range;var aa;da=n.bogusNeededBlocks;for(Z=S.createBookmark();Q=n.zombies.pop();)Q.getParent()&&(Y=S.clone(),Y.moveToElementEditStart(Q),Y.removeEmptyBlocksAtEnd());if(da)for(;Q=da.pop();)CKEDITOR.env.needsBrFiller?Q.appendBogus():Q.append(S.document.createText(\" \"));for(;Q=n.mergeCandidates.pop();)Q.mergeSiblings();\nS.moveToBookmark(Z);if(!n.dontMoveCaret){for(Q=g(S);Q&&a(Q)&&!Q.is(m.$empty);){if(Q.isBlockBoundary())S.moveToPosition(Q,CKEDITOR.POSITION_BEFORE_END);else{if(f(Q)&&Q.getHtml().match(/(\\s|&nbsp;)$/g)){aa=null;break}aa=S.clone();aa.moveToPosition(Q,CKEDITOR.POSITION_BEFORE_END)}Q=Q.getLast(c)}aa&&S.moveToRange(aa)}}}}();r=function(){function a(b){b=new CKEDITOR.dom.walker(b);b.guard=function(a,b){if(b)return!1;if(a.type==CKEDITOR.NODE_ELEMENT)return a.is(CKEDITOR.dtd.$tableContent)};b.evaluator=function(a){return a.type==\nCKEDITOR.NODE_ELEMENT};return b}function b(a,c,d){c=a.getDocument().createElement(c);a.append(c,d);return c}function c(a){var b=a.count(),d;for(b;0<b--;)d=a.getItem(b),CKEDITOR.tools.trim(d.getHtml())||(d.appendBogus(),CKEDITOR.env.ie&&9>CKEDITOR.env.version&&d.getChildCount()&&d.getFirst().remove())}return function(d){var e=d.startContainer,g=e.getAscendant(\"table\",1),f=!1;c(g.getElementsByTag(\"td\"));c(g.getElementsByTag(\"th\"));g=d.clone();g.setStart(e,0);g=a(g).lastBackward();g||(g=d.clone(),g.setEndAt(e,\nCKEDITOR.POSITION_BEFORE_END),g=a(g).lastForward(),f=!0);g||(g=e);g.is(\"table\")?(d.setStartAt(g,CKEDITOR.POSITION_BEFORE_START),d.collapse(!0),g.remove()):(g.is({tbody:1,thead:1,tfoot:1})&&(g=b(g,\"tr\",f)),g.is(\"tr\")&&(g=b(g,g.getParent().is(\"thead\")?\"th\":\"td\",f)),(e=g.getBogus())&&e.remove(),d.moveToPosition(g,f?CKEDITOR.POSITION_AFTER_START:CKEDITOR.POSITION_BEFORE_END))}}();u={eol:{detect:function(a,b){var c=a.range,d=c.clone(),e=c.clone(),g=new CKEDITOR.dom.elementPath(c.startContainer,b),f=new CKEDITOR.dom.elementPath(c.endContainer,\nb);d.collapse(1);e.collapse();g.block&&d.checkBoundaryOfElement(g.block,CKEDITOR.END)&&(c.setStartAfter(g.block),a.prependEolBr=1);f.block&&e.checkBoundaryOfElement(f.block,CKEDITOR.START)&&(c.setEndBefore(f.block),a.appendEolBr=1)},fix:function(a,b){var c=b.getDocument(),d;a.appendEolBr&&(d=this.createEolBr(c),a.fragment.append(d));!a.prependEolBr||d&&!d.getPrevious()||a.fragment.append(this.createEolBr(c),1)},createEolBr:function(a){return a.createElement(\"br\",{attributes:{\"data-cke-eol\":1}})}},\nbogus:{exclude:function(a){var b=a.range.getBoundaryNodes(),c=b.startNode,b=b.endNode;!b||!p(b)||c&&c.equals(b)||a.range.setEndBefore(b)}},tree:{rebuild:function(a,b){var c=a.range,d=c.getCommonAncestor(),e=new CKEDITOR.dom.elementPath(d,b),g=new CKEDITOR.dom.elementPath(c.startContainer,b),c=new CKEDITOR.dom.elementPath(c.endContainer,b),f;d.type==CKEDITOR.NODE_TEXT&&(d=d.getParent());if(e.blockLimit.is({tr:1,table:1})){var k=e.contains(\"table\").getParent();f=function(a){return!a.equals(k)}}else if(e.block&&\ne.block.is(CKEDITOR.dtd.$listItem)&&(g=g.contains(CKEDITOR.dtd.$list),c=c.contains(CKEDITOR.dtd.$list),!g.equals(c))){var h=e.contains(CKEDITOR.dtd.$list).getParent();f=function(a){return!a.equals(h)}}f||(f=function(a){return!a.equals(e.block)&&!a.equals(e.blockLimit)});this.rebuildFragment(a,b,d,f)},rebuildFragment:function(a,b,c,d){for(var e;c&&!c.equals(b)&&d(c);)e=c.clone(0,1),a.fragment.appendTo(e),a.fragment=e,c=c.getParent()}},cell:{shrink:function(a){a=a.range;var b=a.startContainer,c=a.endContainer,\nd=a.startOffset,e=a.endOffset;b.type==CKEDITOR.NODE_ELEMENT&&b.equals(c)&&b.is(\"tr\")&&++d==e&&a.shrink(CKEDITOR.SHRINK_TEXT)}}};B=function(){function a(b,c){var d=b.getParent();if(d.is(CKEDITOR.dtd.$inline))b[c?\"insertBefore\":\"insertAfter\"](d)}function b(c,d,e){a(d);a(e,1);for(var g;g=e.getNext();)g.insertAfter(d),d=g;q(c)&&c.remove()}function c(a,b){var d=new CKEDITOR.dom.range(a);d.setStartAfter(b.startNode);d.setEndBefore(b.endNode);return d}return{list:{detectMerge:function(a,b){var d=c(b,a.bookmark),\ne=d.startPath(),g=d.endPath(),f=e.contains(CKEDITOR.dtd.$list),k=g.contains(CKEDITOR.dtd.$list);a.mergeList=f&&k&&f.getParent().equals(k.getParent())&&!f.equals(k);a.mergeListItems=e.block&&g.block&&e.block.is(CKEDITOR.dtd.$listItem)&&g.block.is(CKEDITOR.dtd.$listItem);if(a.mergeList||a.mergeListItems)d=d.clone(),d.setStartBefore(a.bookmark.startNode),d.setEndAfter(a.bookmark.endNode),a.mergeListBookmark=d.createBookmark()},merge:function(a,c){if(a.mergeListBookmark){var d=a.mergeListBookmark.startNode,\ne=a.mergeListBookmark.endNode,g=new CKEDITOR.dom.elementPath(d,c),f=new CKEDITOR.dom.elementPath(e,c);if(a.mergeList){var k=g.contains(CKEDITOR.dtd.$list),h=f.contains(CKEDITOR.dtd.$list);k.equals(h)||(h.moveChildren(k),h.remove())}a.mergeListItems&&(g=g.contains(CKEDITOR.dtd.$listItem),f=f.contains(CKEDITOR.dtd.$listItem),g.equals(f)||b(f,d,e));d.remove();e.remove()}}},block:{detectMerge:function(a,b){if(!a.tableContentsRanges&&!a.mergeListBookmark){var c=new CKEDITOR.dom.range(b);c.setStartBefore(a.bookmark.startNode);\nc.setEndAfter(a.bookmark.endNode);a.mergeBlockBookmark=c.createBookmark()}},merge:function(a,c){if(a.mergeBlockBookmark&&!a.purgeTableBookmark){var d=a.mergeBlockBookmark.startNode,e=a.mergeBlockBookmark.endNode,g=new CKEDITOR.dom.elementPath(d,c),f=new CKEDITOR.dom.elementPath(e,c),g=g.block,f=f.block;g&&f&&!g.equals(f)&&b(f,d,e);d.remove();e.remove()}}},table:function(){function a(c){var e=[],g,f=new CKEDITOR.dom.walker(c),k=c.startPath().contains(d),h=c.endPath().contains(d),l={};f.guard=function(a,\nf){if(a.type==CKEDITOR.NODE_ELEMENT){var m=\"visited_\"+(f?\"out\":\"in\");if(a.getCustomData(m))return;CKEDITOR.dom.element.setMarker(l,a,m,1)}if(f&&k&&a.equals(k))g=c.clone(),g.setEndAt(k,CKEDITOR.POSITION_BEFORE_END),e.push(g);else if(!f&&h&&a.equals(h))g=c.clone(),g.setStartAt(h,CKEDITOR.POSITION_AFTER_START),e.push(g);else{if(m=!f)m=a.type==CKEDITOR.NODE_ELEMENT&&a.is(d)&&(!k||b(a,k))&&(!h||b(a,h));m&&(g=c.clone(),g.selectNodeContents(a),e.push(g))}};f.lastForward();CKEDITOR.dom.element.clearAllMarkers(l);\nreturn e}function b(a,c){var d=CKEDITOR.POSITION_CONTAINS+CKEDITOR.POSITION_IS_CONTAINED,e=a.getPosition(c);return e===CKEDITOR.POSITION_IDENTICAL?!1:0===(e&d)}var d={td:1,th:1,caption:1};return{detectPurge:function(a){var b=a.range,c=b.clone();c.enlarge(CKEDITOR.ENLARGE_ELEMENT);var c=new CKEDITOR.dom.walker(c),e=0;c.evaluator=function(a){a.type==CKEDITOR.NODE_ELEMENT&&a.is(d)&&++e};c.checkForward();if(1<e){var c=b.startPath().contains(\"table\"),g=b.endPath().contains(\"table\");c&&g&&b.checkBoundaryOfElement(c,\nCKEDITOR.START)&&b.checkBoundaryOfElement(g,CKEDITOR.END)&&(b=a.range.clone(),b.setStartBefore(c),b.setEndAfter(g),a.purgeTableBookmark=b.createBookmark())}},detectRanges:function(e,g){var f=c(g,e.bookmark),k=f.clone(),h,l,m=f.getCommonAncestor();m.is(CKEDITOR.dtd.$tableContent)&&!m.is(d)&&(m=m.getAscendant(\"table\",!0));l=m;m=new CKEDITOR.dom.elementPath(f.startContainer,l);l=new CKEDITOR.dom.elementPath(f.endContainer,l);m=m.contains(\"table\");l=l.contains(\"table\");if(m||l)m&&l&&b(m,l)?(e.tableSurroundingRange=\nk,k.setStartAt(m,CKEDITOR.POSITION_AFTER_END),k.setEndAt(l,CKEDITOR.POSITION_BEFORE_START),k=f.clone(),k.setEndAt(m,CKEDITOR.POSITION_AFTER_END),h=f.clone(),h.setStartAt(l,CKEDITOR.POSITION_BEFORE_START),h=a(k).concat(a(h))):m?l||(e.tableSurroundingRange=k,k.setStartAt(m,CKEDITOR.POSITION_AFTER_END),f.setEndAt(m,CKEDITOR.POSITION_AFTER_END)):(e.tableSurroundingRange=k,k.setEndAt(l,CKEDITOR.POSITION_BEFORE_START),f.setStartAt(l,CKEDITOR.POSITION_AFTER_START)),e.tableContentsRanges=h?h:a(f)},deleteRanges:function(a){for(var b;b=\na.tableContentsRanges.pop();)b.extractContents(),q(b.startContainer)&&b.startContainer.appendBogus();a.tableSurroundingRange&&a.tableSurroundingRange.extractContents()},purge:function(a){if(a.purgeTableBookmark){var b=a.doc,c=a.range.clone(),b=b.createElement(\"p\");b.insertBefore(a.purgeTableBookmark.startNode);c.moveToBookmark(a.purgeTableBookmark);c.deleteContents();a.range.moveToPosition(b,CKEDITOR.POSITION_AFTER_START)}}}}(),detectExtractMerge:function(a){return!(a.range.startPath().contains(CKEDITOR.dtd.$listItem)&&\na.range.endPath().contains(CKEDITOR.dtd.$listItem))},fixUneditableRangePosition:function(a){a.startContainer.getDtd()[\"#\"]||a.moveToClosestEditablePosition(null,!0)},autoParagraph:function(a,b){var c=b.startPath(),e;l(a,c.block,c.blockLimit)&&(e=d(a))&&(e=b.document.createElement(e),e.appendBogus(),b.insertNode(e),b.moveToPosition(e,CKEDITOR.POSITION_AFTER_START))}}}()}(),function(){function a(){var a=this._.fakeSelection,b;a&&(b=this.getSelection(1),b&&b.isHidden()||(a.reset(),a=0));if(!a&&(a=b||\nthis.getSelection(1),!a||a.getType()==CKEDITOR.SELECTION_NONE))return;this.fire(\"selectionCheck\",a);b=this.elementPath();if(!b.compare(this._.selectionPreviousPath)){var c=this._.selectionPreviousPath&&this._.selectionPreviousPath.blockLimit.equals(b.blockLimit);CKEDITOR.env.webkit&&!c&&(this._.previousActive=this.document.getActive());this._.selectionPreviousPath=b;this.fire(\"selectionChange\",{selection:a,path:b})}}function f(){r=!0;v||(b.call(this),v=CKEDITOR.tools.setTimeout(b,200,this))}function b(){v=\nnull;r&&(CKEDITOR.tools.setTimeout(a,0,this),r=!1)}function c(a){return u(a)||a.type==CKEDITOR.NODE_ELEMENT&&!a.is(CKEDITOR.dtd.$empty)?!0:!1}function e(a){function b(c,d){return c&&c.type!=CKEDITOR.NODE_TEXT?a.clone()[\"moveToElementEdit\"+(d?\"End\":\"Start\")](c):!1}if(!(a.root instanceof CKEDITOR.editable))return!1;var d=a.startContainer,e=a.getPreviousNode(c,null,d),g=a.getNextNode(c,null,d);return b(e)||b(g,1)||!(e||g||d.type==CKEDITOR.NODE_ELEMENT&&d.isBlockBoundary()&&d.getBogus())?!0:!1}function m(a){l(a,\n!1);var b=a.getDocument().createText(p);a.setCustomData(\"cke-fillingChar\",b);return b}function l(a,b){var c=a&&a.removeCustomData(\"cke-fillingChar\");if(c){if(!1!==b){var e=a.getDocument().getSelection().getNative(),g=e&&\"None\"!=e.type&&e.getRangeAt(0),f=p.length;if(c.getLength()>f&&g&&g.intersectsNode(c.$)){var k=[{node:e.anchorNode,offset:e.anchorOffset},{node:e.focusNode,offset:e.focusOffset}];e.anchorNode==c.$&&e.anchorOffset>f&&(k[0].offset-=f);e.focusNode==c.$&&e.focusOffset>f&&(k[1].offset-=\nf)}}c.setText(d(c.getText(),1));k&&(c=a.getDocument().$,e=c.getSelection(),c=c.createRange(),c.setStart(k[0].node,k[0].offset),c.collapse(!0),e.removeAllRanges(),e.addRange(c),e.extend(k[1].node,k[1].offset))}}function d(a,b){return b?a.replace(t,function(a,b){return b?\" \":\"\"}):a.replace(p,\"\")}function h(a,b){var c=CKEDITOR.dom.element.createFromHtml('\\x3cdiv data-cke-hidden-sel\\x3d\"1\" data-cke-temp\\x3d\"1\" style\\x3d\"'+(CKEDITOR.env.ie&&14>CKEDITOR.env.version?\"display:none\":\"position:fixed;top:0;left:-1000px\")+\n'\"\\x3e'+(b||\"\\x26nbsp;\")+\"\\x3c/div\\x3e\",a.document);a.fire(\"lockSnapshot\");a.editable().append(c);var d=a.getSelection(1),e=a.createRange(),g=d.root.on(\"selectionchange\",function(a){a.cancel()},null,null,0);e.setStartAt(c,CKEDITOR.POSITION_AFTER_START);e.setEndAt(c,CKEDITOR.POSITION_BEFORE_END);d.selectRanges([e]);g.removeListener();a.fire(\"unlockSnapshot\");a._.hiddenSelectionContainer=c}function k(a){var b={37:1,39:1,8:1,46:1};return function(c){var d=c.data.getKeystroke();if(b[d]){var e=a.getSelection().getRanges(),\ng=e[0];1==e.length&&g.collapsed&&(d=g[38>d?\"getPreviousEditableNode\":\"getNextEditableNode\"]())&&d.type==CKEDITOR.NODE_ELEMENT&&\"false\"==d.getAttribute(\"contenteditable\")&&(a.getSelection().fake(d),c.data.preventDefault(),c.cancel())}}}function g(a){for(var b=0;b<a.length;b++){var c=a[b];c.getCommonAncestor().isReadOnly()&&a.splice(b,1);if(!c.collapsed){if(c.startContainer.isReadOnly())for(var d=c.startContainer,e;d&&!((e=d.type==CKEDITOR.NODE_ELEMENT)&&d.is(\"body\")||!d.isReadOnly());)e&&\"false\"==\nd.getAttribute(\"contentEditable\")&&c.setStartAfter(d),d=d.getParent();d=c.startContainer;e=c.endContainer;var g=c.startOffset,f=c.endOffset,k=c.clone();d&&d.type==CKEDITOR.NODE_TEXT&&(g>=d.getLength()?k.setStartAfter(d):k.setStartBefore(d));e&&e.type==CKEDITOR.NODE_TEXT&&(f?k.setEndAfter(e):k.setEndBefore(e));d=new CKEDITOR.dom.walker(k);d.evaluator=function(d){if(d.type==CKEDITOR.NODE_ELEMENT&&d.isReadOnly()){var e=c.clone();c.setEndBefore(d);c.collapsed&&a.splice(b--,1);d.getPosition(k.endContainer)&\nCKEDITOR.POSITION_CONTAINS||(e.setStartAfter(d),e.collapsed||a.splice(b+1,0,e));return!0}return!1};d.next()}}return a}var n=\"function\"!=typeof window.getSelection,q=1,p=CKEDITOR.tools.repeat(\"​\",7),t=new RegExp(p+\"( )?\",\"g\"),v,r,u=CKEDITOR.dom.walker.invisible(1),B=function(){function a(b){return function(a){var c=a.editor.createRange();c.moveToClosestEditablePosition(a.selected,b)&&a.editor.getSelection().selectRanges([c]);return!1}}function b(a){return function(b){var c=b.editor,d=c.createRange(),\ne;(e=d.moveToClosestEditablePosition(b.selected,a))||(e=d.moveToClosestEditablePosition(b.selected,!a));e&&c.getSelection().selectRanges([d]);c.fire(\"saveSnapshot\");b.selected.remove();e||(d.moveToElementEditablePosition(c.editable()),c.getSelection().selectRanges([d]));c.fire(\"saveSnapshot\");return!1}}var c=a(),d=a(1);return{37:c,38:c,39:d,40:d,8:b(),46:b(1)}}();CKEDITOR.on(\"instanceCreated\",function(b){function c(){var a=d.getSelection();a&&a.removeAllRanges()}var d=b.editor;d.on(\"contentDom\",function(){function b(){r=\nnew CKEDITOR.dom.selection(d.getSelection());r.lock()}function c(){g.removeListener(\"mouseup\",c);u.removeListener(\"mouseup\",c);var a=CKEDITOR.document.$.selection,b=a.createRange();\"None\"!=a.type&&b.parentElement().ownerDocument==e.$&&b.select()}var e=d.document,g=CKEDITOR.document,h=d.editable(),m=e.getBody(),u=e.getDocumentElement(),w=h.isInline(),t,r;CKEDITOR.env.gecko&&h.attachListener(h,\"focus\",function(a){a.removeListener();0!==t&&(a=d.getSelection().getNative())&&a.isCollapsed&&a.anchorNode==\nh.$&&(a=d.createRange(),a.moveToElementEditStart(h),a.select())},null,null,-2);h.attachListener(h,CKEDITOR.env.webkit?\"DOMFocusIn\":\"focus\",function(){t&&CKEDITOR.env.webkit&&(t=d._.previousActive&&d._.previousActive.equals(e.getActive()))&&null!=d._.previousScrollTop&&d._.previousScrollTop!=h.$.scrollTop&&(h.$.scrollTop=d._.previousScrollTop);d.unlockSelection(t);t=0},null,null,-1);h.attachListener(h,\"mousedown\",function(){t=0});if(CKEDITOR.env.ie||w)n?h.attachListener(h,\"beforedeactivate\",b,null,\nnull,-1):h.attachListener(d,\"selectionCheck\",b,null,null,-1),h.attachListener(h,CKEDITOR.env.webkit?\"DOMFocusOut\":\"blur\",function(){d.lockSelection(r);t=1},null,null,-1),h.attachListener(h,\"mousedown\",function(){t=0});if(CKEDITOR.env.ie&&!w){var p;h.attachListener(h,\"mousedown\",function(a){2==a.data.$.button&&((a=d.document.getSelection())&&a.getType()!=CKEDITOR.SELECTION_NONE||(p=d.window.getScrollPosition()))});h.attachListener(h,\"mouseup\",function(a){2==a.data.$.button&&p&&(d.document.$.documentElement.scrollLeft=\np.x,d.document.$.documentElement.scrollTop=p.y);p=null});if(\"BackCompat\"!=e.$.compatMode){if(CKEDITOR.env.ie7Compat||CKEDITOR.env.ie6Compat){var v,z;u.on(\"mousedown\",function(a){function b(a){a=a.data.$;if(v){var c=m.$.createTextRange();try{c.moveToPoint(a.clientX,a.clientY)}catch(d){}v.setEndPoint(0>z.compareEndPoints(\"StartToStart\",c)?\"EndToEnd\":\"StartToStart\",c);v.select()}}function c(){u.removeListener(\"mousemove\",b);g.removeListener(\"mouseup\",c);u.removeListener(\"mouseup\",c);v.select()}a=a.data;\nif(a.getTarget().is(\"html\")&&a.$.y<u.$.clientHeight&&a.$.x<u.$.clientWidth){v=m.$.createTextRange();try{v.moveToPoint(a.$.clientX,a.$.clientY)}catch(d){}z=v.duplicate();u.on(\"mousemove\",b);g.on(\"mouseup\",c);u.on(\"mouseup\",c)}})}if(7<CKEDITOR.env.version&&11>CKEDITOR.env.version)u.on(\"mousedown\",function(a){a.data.getTarget().is(\"html\")&&(g.on(\"mouseup\",c),u.on(\"mouseup\",c))})}}h.attachListener(h,\"selectionchange\",a,d);h.attachListener(h,\"keyup\",f,d);h.attachListener(h,CKEDITOR.env.webkit?\"DOMFocusIn\":\n\"focus\",function(){d.forceNextSelectionCheck();d.selectionChange(1)});if(w&&(CKEDITOR.env.webkit||CKEDITOR.env.gecko)){var q;h.attachListener(h,\"mousedown\",function(){q=1});h.attachListener(e.getDocumentElement(),\"mouseup\",function(){q&&f.call(d);q=0})}else h.attachListener(CKEDITOR.env.ie?h:e.getDocumentElement(),\"mouseup\",f,d);CKEDITOR.env.webkit&&h.attachListener(e,\"keydown\",function(a){switch(a.data.getKey()){case 13:case 33:case 34:case 35:case 36:case 37:case 39:case 8:case 45:case 46:l(h)}},\nnull,null,-1);h.attachListener(h,\"keydown\",k(d),null,null,-1)});d.on(\"setData\",function(){d.unlockSelection();CKEDITOR.env.webkit&&c()});d.on(\"contentDomUnload\",function(){d.unlockSelection()});if(CKEDITOR.env.ie9Compat)d.on(\"beforeDestroy\",c,null,null,9);d.on(\"dataReady\",function(){delete d._.fakeSelection;delete d._.hiddenSelectionContainer;d.selectionChange(1)});d.on(\"loadSnapshot\",function(){var a=CKEDITOR.dom.walker.nodeType(CKEDITOR.NODE_ELEMENT),b=d.editable().getLast(a);b&&b.hasAttribute(\"data-cke-hidden-sel\")&&\n(b.remove(),CKEDITOR.env.gecko&&(a=d.editable().getFirst(a))&&a.is(\"br\")&&a.getAttribute(\"_moz_editor_bogus_node\")&&a.remove())},null,null,100);d.on(\"key\",function(a){if(\"wysiwyg\"==d.mode){var b=d.getSelection();if(b.isFake){var c=B[a.data.keyCode];if(c)return c({editor:d,selected:b.getSelectedElement(),selection:b,keyEvent:a})}}})});if(CKEDITOR.env.webkit)CKEDITOR.on(\"instanceReady\",function(a){var b=a.editor;b.on(\"selectionChange\",function(){var a=b.editable(),c=a.getCustomData(\"cke-fillingChar\");\nc&&(c.getCustomData(\"ready\")?l(a):c.setCustomData(\"ready\",1))},null,null,-1);b.on(\"beforeSetMode\",function(){l(b.editable())},null,null,-1);b.on(\"getSnapshot\",function(a){a.data&&(a.data=d(a.data))},b,null,20);b.on(\"toDataFormat\",function(a){a.data.dataValue=d(a.data.dataValue)},null,null,0)});CKEDITOR.editor.prototype.selectionChange=function(b){(b?a:f).call(this)};CKEDITOR.editor.prototype.getSelection=function(a){return!this._.savedSelection&&!this._.fakeSelection||a?(a=this.editable())&&\"wysiwyg\"==\nthis.mode?new CKEDITOR.dom.selection(a):null:this._.savedSelection||this._.fakeSelection};CKEDITOR.editor.prototype.lockSelection=function(a){a=a||this.getSelection(1);return a.getType()!=CKEDITOR.SELECTION_NONE?(!a.isLocked&&a.lock(),this._.savedSelection=a,!0):!1};CKEDITOR.editor.prototype.unlockSelection=function(a){var b=this._.savedSelection;return b?(b.unlock(a),delete this._.savedSelection,!0):!1};CKEDITOR.editor.prototype.forceNextSelectionCheck=function(){delete this._.selectionPreviousPath};\nCKEDITOR.dom.document.prototype.getSelection=function(){return new CKEDITOR.dom.selection(this)};CKEDITOR.dom.range.prototype.select=function(){var a=this.root instanceof CKEDITOR.editable?this.root.editor.getSelection():new CKEDITOR.dom.selection(this.root);a.selectRanges([this]);return a};CKEDITOR.SELECTION_NONE=1;CKEDITOR.SELECTION_TEXT=2;CKEDITOR.SELECTION_ELEMENT=3;CKEDITOR.dom.selection=function(a){if(a instanceof CKEDITOR.dom.selection){var b=a;a=a.root}var c=a instanceof CKEDITOR.dom.element;\nthis.rev=b?b.rev:q++;this.document=a instanceof CKEDITOR.dom.document?a:a.getDocument();this.root=c?a:this.document.getBody();this.isLocked=0;this._={cache:{}};if(b)return CKEDITOR.tools.extend(this._.cache,b._.cache),this.isFake=b.isFake,this.isLocked=b.isLocked,this;a=this.getNative();var d,e;if(a)if(a.getRangeAt)d=(e=a.rangeCount&&a.getRangeAt(0))&&new CKEDITOR.dom.node(e.commonAncestorContainer);else{try{e=a.createRange()}catch(g){}d=e&&CKEDITOR.dom.element.get(e.item&&e.item(0)||e.parentElement())}if(!d||\nd.type!=CKEDITOR.NODE_ELEMENT&&d.type!=CKEDITOR.NODE_TEXT||!this.root.equals(d)&&!this.root.contains(d))this._.cache.type=CKEDITOR.SELECTION_NONE,this._.cache.startElement=null,this._.cache.selectedElement=null,this._.cache.selectedText=\"\",this._.cache.ranges=new CKEDITOR.dom.rangeList;return this};var x={img:1,hr:1,li:1,table:1,tr:1,td:1,th:1,embed:1,object:1,ol:1,ul:1,a:1,input:1,form:1,select:1,textarea:1,button:1,fieldset:1,thead:1,tfoot:1};CKEDITOR.tools.extend(CKEDITOR.dom.selection,{_removeFillingCharSequenceString:d,\n_createFillingCharSequenceNode:m,FILLING_CHAR_SEQUENCE:p});CKEDITOR.dom.selection.prototype={getNative:function(){return void 0!==this._.cache.nativeSel?this._.cache.nativeSel:this._.cache.nativeSel=n?this.document.$.selection:this.document.getWindow().$.getSelection()},getType:n?function(){var a=this._.cache;if(a.type)return a.type;var b=CKEDITOR.SELECTION_NONE;try{var c=this.getNative(),d=c.type;\"Text\"==d&&(b=CKEDITOR.SELECTION_TEXT);\"Control\"==d&&(b=CKEDITOR.SELECTION_ELEMENT);c.createRange().parentElement()&&\n(b=CKEDITOR.SELECTION_TEXT)}catch(e){}return a.type=b}:function(){var a=this._.cache;if(a.type)return a.type;var b=CKEDITOR.SELECTION_TEXT,c=this.getNative();if(!c||!c.rangeCount)b=CKEDITOR.SELECTION_NONE;else if(1==c.rangeCount){var c=c.getRangeAt(0),d=c.startContainer;d==c.endContainer&&1==d.nodeType&&1==c.endOffset-c.startOffset&&x[d.childNodes[c.startOffset].nodeName.toLowerCase()]&&(b=CKEDITOR.SELECTION_ELEMENT)}return a.type=b},getRanges:function(){var a=n?function(){function a(b){return(new CKEDITOR.dom.node(b)).getIndex()}\nvar b=function(b,c){b=b.duplicate();b.collapse(c);var d=b.parentElement();if(!d.hasChildNodes())return{container:d,offset:0};for(var e=d.children,g,f,k=b.duplicate(),h=0,l=e.length-1,m=-1,n,u;h<=l;)if(m=Math.floor((h+l)/2),g=e[m],k.moveToElementText(g),n=k.compareEndPoints(\"StartToStart\",b),0<n)l=m-1;else if(0>n)h=m+1;else return{container:d,offset:a(g)};if(-1==m||m==e.length-1&&0>n){k.moveToElementText(d);k.setEndPoint(\"StartToStart\",b);k=k.text.replace(/(\\r\\n|\\r)/g,\"\\n\").length;e=d.childNodes;if(!k)return g=\ne[e.length-1],g.nodeType!=CKEDITOR.NODE_TEXT?{container:d,offset:e.length}:{container:g,offset:g.nodeValue.length};for(d=e.length;0<k&&0<d;)f=e[--d],f.nodeType==CKEDITOR.NODE_TEXT&&(u=f,k-=f.nodeValue.length);return{container:u,offset:-k}}k.collapse(0<n?!0:!1);k.setEndPoint(0<n?\"StartToStart\":\"EndToStart\",b);k=k.text.replace(/(\\r\\n|\\r)/g,\"\\n\").length;if(!k)return{container:d,offset:a(g)+(0<n?0:1)};for(;0<k;)try{f=g[0<n?\"previousSibling\":\"nextSibling\"],f.nodeType==CKEDITOR.NODE_TEXT&&(k-=f.nodeValue.length,\nu=f),g=f}catch(t){return{container:d,offset:a(g)}}return{container:u,offset:0<n?-k:u.nodeValue.length+k}};return function(){var a=this.getNative(),c=a&&a.createRange(),d=this.getType();if(!a)return[];if(d==CKEDITOR.SELECTION_TEXT)return a=new CKEDITOR.dom.range(this.root),d=b(c,!0),a.setStart(new CKEDITOR.dom.node(d.container),d.offset),d=b(c),a.setEnd(new CKEDITOR.dom.node(d.container),d.offset),a.endContainer.getPosition(a.startContainer)&CKEDITOR.POSITION_PRECEDING&&a.endOffset<=a.startContainer.getIndex()&&\na.collapse(),[a];if(d==CKEDITOR.SELECTION_ELEMENT){for(var d=[],e=0;e<c.length;e++){for(var g=c.item(e),f=g.parentNode,k=0,a=new CKEDITOR.dom.range(this.root);k<f.childNodes.length&&f.childNodes[k]!=g;k++);a.setStart(new CKEDITOR.dom.node(f),k);a.setEnd(new CKEDITOR.dom.node(f),k+1);d.push(a)}return d}return[]}}():function(){var a=[],b,c=this.getNative();if(!c)return a;for(var d=0;d<c.rangeCount;d++){var e=c.getRangeAt(d);b=new CKEDITOR.dom.range(this.root);b.setStart(new CKEDITOR.dom.node(e.startContainer),\ne.startOffset);b.setEnd(new CKEDITOR.dom.node(e.endContainer),e.endOffset);a.push(b)}return a};return function(b){var c=this._.cache,d=c.ranges;d||(c.ranges=d=new CKEDITOR.dom.rangeList(a.call(this)));return b?g(new CKEDITOR.dom.rangeList(d.slice())):d}}(),getStartElement:function(){var a=this._.cache;if(void 0!==a.startElement)return a.startElement;var b;switch(this.getType()){case CKEDITOR.SELECTION_ELEMENT:return this.getSelectedElement();case CKEDITOR.SELECTION_TEXT:var c=this.getRanges()[0];\nif(c){if(c.collapsed)b=c.startContainer,b.type!=CKEDITOR.NODE_ELEMENT&&(b=b.getParent());else{for(c.optimize();b=c.startContainer,c.startOffset==(b.getChildCount?b.getChildCount():b.getLength())&&!b.isBlockBoundary();)c.setStartAfter(b);b=c.startContainer;if(b.type!=CKEDITOR.NODE_ELEMENT)return b.getParent();if((b=b.getChild(c.startOffset))&&b.type==CKEDITOR.NODE_ELEMENT)for(c=b.getFirst();c&&c.type==CKEDITOR.NODE_ELEMENT;)b=c,c=c.getFirst();else b=c.startContainer}b=b.$}}return a.startElement=b?\nnew CKEDITOR.dom.element(b):null},getSelectedElement:function(){var a=this._.cache;if(void 0!==a.selectedElement)return a.selectedElement;var b=this,c=CKEDITOR.tools.tryThese(function(){return b.getNative().createRange().item(0)},function(){for(var a=b.getRanges()[0].clone(),c,d,e=2;e&&!((c=a.getEnclosedNode())&&c.type==CKEDITOR.NODE_ELEMENT&&x[c.getName()]&&(d=c));e--)a.shrink(CKEDITOR.SHRINK_ELEMENT);return d&&d.$});return a.selectedElement=c?new CKEDITOR.dom.element(c):null},getSelectedText:function(){var a=\nthis._.cache;if(void 0!==a.selectedText)return a.selectedText;var b=this.getNative(),b=n?\"Control\"==b.type?\"\":b.createRange().text:b.toString();return a.selectedText=b},lock:function(){this.getRanges();this.getStartElement();this.getSelectedElement();this.getSelectedText();this._.cache.nativeSel=null;this.isLocked=1},unlock:function(a){if(this.isLocked){if(a)var b=this.getSelectedElement(),c=!b&&this.getRanges(),d=this.isFake;this.isLocked=0;this.reset();a&&(a=b||c[0]&&c[0].getCommonAncestor())&&\na.getAscendant(\"body\",1)&&(d?this.fake(b):b?this.selectElement(b):this.selectRanges(c))}},reset:function(){this._.cache={};this.isFake=0;var a=this.root.editor;if(a&&a._.fakeSelection)if(this.rev==a._.fakeSelection.rev){delete a._.fakeSelection;var b=a._.hiddenSelectionContainer;if(b){var c=a.checkDirty();a.fire(\"lockSnapshot\");b.remove();a.fire(\"unlockSnapshot\");!c&&a.resetDirty()}delete a._.hiddenSelectionContainer}else CKEDITOR.warn(\"selection-fake-reset\");this.rev=q++},selectElement:function(a){var b=\nnew CKEDITOR.dom.range(this.root);b.setStartBefore(a);b.setEndAfter(a);this.selectRanges([b])},selectRanges:function(a){var b=this.root.editor,b=b&&b._.hiddenSelectionContainer;this.reset();if(b)for(var b=this.root,c,d=0;d<a.length;++d)c=a[d],c.endContainer.equals(b)&&(c.endOffset=Math.min(c.endOffset,b.getChildCount()));if(a.length)if(this.isLocked){var g=CKEDITOR.document.getActive();this.unlock();this.selectRanges(a);this.lock();g&&!g.equals(this.root)&&g.focus()}else{var f;a:{var k,h;if(1==a.length&&\n!(h=a[0]).collapsed&&(f=h.getEnclosedNode())&&f.type==CKEDITOR.NODE_ELEMENT&&(h=h.clone(),h.shrink(CKEDITOR.SHRINK_ELEMENT,!0),(k=h.getEnclosedNode())&&k.type==CKEDITOR.NODE_ELEMENT&&(f=k),\"false\"==f.getAttribute(\"contenteditable\")))break a;f=void 0}if(f)this.fake(f);else{if(n){h=CKEDITOR.dom.walker.whitespaces(!0);k=/\\ufeff|\\u00a0/;b={table:1,tbody:1,tr:1};1<a.length&&(f=a[a.length-1],a[0].setEnd(f.endContainer,f.endOffset));f=a[0];a=f.collapsed;var u,t,r;if((c=f.getEnclosedNode())&&c.type==CKEDITOR.NODE_ELEMENT&&\nc.getName()in x&&(!c.is(\"a\")||!c.getText()))try{r=c.$.createControlRange();r.addElement(c.$);r.select();return}catch(p){}if(f.startContainer.type==CKEDITOR.NODE_ELEMENT&&f.startContainer.getName()in b||f.endContainer.type==CKEDITOR.NODE_ELEMENT&&f.endContainer.getName()in b)f.shrink(CKEDITOR.NODE_ELEMENT,!0),a=f.collapsed;r=f.createBookmark();b=r.startNode;a||(g=r.endNode);r=f.document.$.body.createTextRange();r.moveToElementText(b.$);r.moveStart(\"character\",1);g?(k=f.document.$.body.createTextRange(),\nk.moveToElementText(g.$),r.setEndPoint(\"EndToEnd\",k),r.moveEnd(\"character\",-1)):(u=b.getNext(h),t=b.hasAscendant(\"pre\"),u=!(u&&u.getText&&u.getText().match(k))&&(t||!b.hasPrevious()||b.getPrevious().is&&b.getPrevious().is(\"br\")),t=f.document.createElement(\"span\"),t.setHtml(\"\\x26#65279;\"),t.insertBefore(b),u&&f.document.createText(\"﻿\").insertBefore(b));f.setStartBefore(b);b.remove();a?(u?(r.moveStart(\"character\",-1),r.select(),f.document.$.selection.clear()):r.select(),f.moveToPosition(t,CKEDITOR.POSITION_BEFORE_START),\nt.remove()):(f.setEndBefore(g),g.remove(),r.select())}else{g=this.getNative();if(!g)return;this.removeAllRanges();for(r=0;r<a.length;r++){if(r<a.length-1&&(u=a[r],t=a[r+1],k=u.clone(),k.setStart(u.endContainer,u.endOffset),k.setEnd(t.startContainer,t.startOffset),!k.collapsed&&(k.shrink(CKEDITOR.NODE_ELEMENT,!0),f=k.getCommonAncestor(),k=k.getEnclosedNode(),f.isReadOnly()||k&&k.isReadOnly()))){t.setStart(u.startContainer,u.startOffset);a.splice(r--,1);continue}f=a[r];t=this.document.$.createRange();\nf.collapsed&&CKEDITOR.env.webkit&&e(f)&&(k=m(this.root),f.insertNode(k),(u=k.getNext())&&!k.getPrevious()&&u.type==CKEDITOR.NODE_ELEMENT&&\"br\"==u.getName()?(l(this.root),f.moveToPosition(u,CKEDITOR.POSITION_BEFORE_START)):f.moveToPosition(k,CKEDITOR.POSITION_AFTER_END));t.setStart(f.startContainer.$,f.startOffset);try{t.setEnd(f.endContainer.$,f.endOffset)}catch(v){if(0<=v.toString().indexOf(\"NS_ERROR_ILLEGAL_VALUE\"))f.collapse(1),t.setEnd(f.endContainer.$,f.endOffset);else throw v;}g.addRange(t)}}this.reset();\nthis.root.fire(\"selectionchange\")}}},fake:function(a,b){var c=this.root.editor;void 0===b&&a.hasAttribute(\"aria-label\")&&(b=a.getAttribute(\"aria-label\"));this.reset();h(c,b);var d=this._.cache,e=new CKEDITOR.dom.range(this.root);e.setStartBefore(a);e.setEndAfter(a);d.ranges=new CKEDITOR.dom.rangeList(e);d.selectedElement=d.startElement=a;d.type=CKEDITOR.SELECTION_ELEMENT;d.selectedText=d.nativeSel=null;this.isFake=1;this.rev=q++;c._.fakeSelection=this;this.root.fire(\"selectionchange\")},isHidden:function(){var a=\nthis.getCommonAncestor();a&&a.type==CKEDITOR.NODE_TEXT&&(a=a.getParent());return!(!a||!a.data(\"cke-hidden-sel\"))},createBookmarks:function(a){a=this.getRanges().createBookmarks(a);this.isFake&&(a.isFake=1);return a},createBookmarks2:function(a){a=this.getRanges().createBookmarks2(a);this.isFake&&(a.isFake=1);return a},selectBookmarks:function(a){for(var b=[],c,d=0;d<a.length;d++){var e=new CKEDITOR.dom.range(this.root);e.moveToBookmark(a[d]);b.push(e)}a.isFake&&(c=b[0].getEnclosedNode(),c&&c.type==\nCKEDITOR.NODE_ELEMENT||(CKEDITOR.warn(\"selection-not-fake\"),a.isFake=0));a.isFake?this.fake(c):this.selectRanges(b);return this},getCommonAncestor:function(){var a=this.getRanges();return a.length?a[0].startContainer.getCommonAncestor(a[a.length-1].endContainer):null},scrollIntoView:function(){this.type!=CKEDITOR.SELECTION_NONE&&this.getRanges()[0].scrollIntoView()},removeAllRanges:function(){if(this.getType()!=CKEDITOR.SELECTION_NONE){var a=this.getNative();try{a&&a[n?\"empty\":\"removeAllRanges\"]()}catch(b){}this.reset()}}}}(),\n\"use strict\",CKEDITOR.STYLE_BLOCK=1,CKEDITOR.STYLE_INLINE=2,CKEDITOR.STYLE_OBJECT=3,function(){function a(a,b){for(var c,d;(a=a.getParent())&&!a.equals(b);)if(a.getAttribute(\"data-nostyle\"))c=a;else if(!d){var e=a.getAttribute(\"contentEditable\");\"false\"==e?c=a:\"true\"==e&&(d=1)}return c}function f(a,b,c,d){return(a.getPosition(b)|d)==d&&(!c.childRule||c.childRule(a))}function b(c){var d=c.document;if(c.collapsed)d=u(this,d),c.insertNode(d),c.moveToPosition(d,CKEDITOR.POSITION_BEFORE_END);else{var g=\nthis.element,k=this._.definition,h,l=k.ignoreReadonly,m=l||k.includeReadonly;null==m&&(m=c.root.getCustomData(\"cke_includeReadonly\"));var n=CKEDITOR.dtd[g];n||(h=!0,n=CKEDITOR.dtd.span);c.enlarge(CKEDITOR.ENLARGE_INLINE,1);c.trim();var r=c.createBookmark(),p=r.startNode,v=r.endNode,q=p,B;if(!l){var w=c.getCommonAncestor(),l=a(p,w),w=a(v,w);l&&(q=l.getNextSourceNode(!0));w&&(v=w)}for(q.getPosition(v)==CKEDITOR.POSITION_FOLLOWING&&(q=0);q;){l=!1;if(q.equals(v))q=null,l=!0;else{var x=q.type==CKEDITOR.NODE_ELEMENT?\nq.getName():null,w=x&&\"false\"==q.getAttribute(\"contentEditable\"),z=x&&q.getAttribute(\"data-nostyle\");if(x&&q.data(\"cke-bookmark\")){q=q.getNextSourceNode(!0);continue}if(w&&m&&CKEDITOR.dtd.$block[x])for(var D=q,y=e(D),A=void 0,C=y.length,ea=0,D=C&&new CKEDITOR.dom.range(D.getDocument());ea<C;++ea){var A=y[ea],ga=CKEDITOR.filter.instances[A.data(\"cke-filter\")];if(ga?ga.check(this):1)D.selectNodeContents(A),b.call(this,D)}y=x?!n[x]||z?0:w&&!m?0:f(q,v,k,M):1;if(y)if(A=q.getParent(),y=k,C=g,ea=h,!A||!(A.getDtd()||\nCKEDITOR.dtd.span)[C]&&!ea||y.parentRule&&!y.parentRule(A))l=!0;else{if(B||x&&CKEDITOR.dtd.$removeEmpty[x]&&(q.getPosition(v)|M)!=M||(B=c.clone(),B.setStartBefore(q)),x=q.type,x==CKEDITOR.NODE_TEXT||w||x==CKEDITOR.NODE_ELEMENT&&!q.getChildCount()){for(var x=q,E;(l=!x.getNext(J))&&(E=x.getParent(),n[E.getName()])&&f(E,p,k,I);)x=E;B.setEndAfter(x)}}else l=!0;q=q.getNextSourceNode(z||w)}if(l&&B&&!B.collapsed){for(var l=u(this,d),w=l.hasAttributes(),z=B.getCommonAncestor(),x={},y={},A={},C={},aa,G,F;l&&\nz;){if(z.getName()==g){for(aa in k.attributes)!C[aa]&&(F=z.getAttribute(G))&&(l.getAttribute(aa)==F?y[aa]=1:C[aa]=1);for(G in k.styles)!A[G]&&(F=z.getStyle(G))&&(l.getStyle(G)==F?x[G]=1:A[G]=1)}z=z.getParent()}for(aa in y)l.removeAttribute(aa);for(G in x)l.removeStyle(G);w&&!l.hasAttributes()&&(l=null);l?(B.extractContents().appendTo(l),B.insertNode(l),t.call(this,l),l.mergeSiblings(),CKEDITOR.env.ie||l.$.normalize()):(l=new CKEDITOR.dom.element(\"span\"),B.extractContents().appendTo(l),B.insertNode(l),\nt.call(this,l),l.remove(!0));B=null}}c.moveToBookmark(r);c.shrink(CKEDITOR.SHRINK_TEXT);c.shrink(CKEDITOR.NODE_ELEMENT,!0)}}function c(a){function b(){for(var a=new CKEDITOR.dom.elementPath(d.getParent()),c=new CKEDITOR.dom.elementPath(l.getParent()),e=null,g=null,f=0;f<a.elements.length;f++){var k=a.elements[f];if(k==a.block||k==a.blockLimit)break;m.checkElementRemovable(k,!0)&&(e=k)}for(f=0;f<c.elements.length;f++){k=c.elements[f];if(k==c.block||k==c.blockLimit)break;m.checkElementRemovable(k,!0)&&\n(g=k)}g&&l.breakParent(g);e&&d.breakParent(e)}a.enlarge(CKEDITOR.ENLARGE_INLINE,1);var c=a.createBookmark(),d=c.startNode;if(a.collapsed){for(var e=new CKEDITOR.dom.elementPath(d.getParent(),a.root),g,f=0,k;f<e.elements.length&&(k=e.elements[f])&&k!=e.block&&k!=e.blockLimit;f++)if(this.checkElementRemovable(k)){var h;a.collapsed&&(a.checkBoundaryOfElement(k,CKEDITOR.END)||(h=a.checkBoundaryOfElement(k,CKEDITOR.START)))?(g=k,g.match=h?\"start\":\"end\"):(k.mergeSiblings(),k.is(this.element)?p.call(this,\nk):v(k,w(this)[k.getName()]))}if(g){k=d;for(f=0;;f++){h=e.elements[f];if(h.equals(g))break;else if(h.match)continue;else h=h.clone();h.append(k);k=h}k[\"start\"==g.match?\"insertBefore\":\"insertAfter\"](g)}}else{var l=c.endNode,m=this;b();for(e=d;!e.equals(l);)g=e.getNextSourceNode(),e.type==CKEDITOR.NODE_ELEMENT&&this.checkElementRemovable(e)&&(e.getName()==this.element?p.call(this,e):v(e,w(this)[e.getName()]),g.type==CKEDITOR.NODE_ELEMENT&&g.contains(d)&&(b(),g=d.getNext())),e=g}a.moveToBookmark(c);\na.shrink(CKEDITOR.NODE_ELEMENT,!0)}function e(a){var b=[];a.forEach(function(a){if(\"true\"==a.getAttribute(\"contenteditable\"))return b.push(a),!1},CKEDITOR.NODE_ELEMENT,!0);return b}function m(a){var b=a.getEnclosedNode()||a.getCommonAncestor(!1,!0);(a=(new CKEDITOR.dom.elementPath(b,a.root)).contains(this.element,1))&&!a.isReadOnly()&&B(a,this)}function l(a){var b=a.getCommonAncestor(!0,!0);if(a=(new CKEDITOR.dom.elementPath(b,a.root)).contains(this.element,1)){var b=this._.definition,c=b.attributes;\nif(c)for(var d in c)a.removeAttribute(d,c[d]);if(b.styles)for(var e in b.styles)b.styles.hasOwnProperty(e)&&a.removeStyle(e)}}function d(a){var b=a.createBookmark(!0),c=a.createIterator();c.enforceRealBlocks=!0;this._.enterMode&&(c.enlargeBr=this._.enterMode!=CKEDITOR.ENTER_BR);for(var d,e=a.document,g;d=c.getNextParagraph();)!d.isReadOnly()&&(c.activeFilter?c.activeFilter.check(this):1)&&(g=u(this,e,d),k(d,g));a.moveToBookmark(b)}function h(a){var b=a.createBookmark(1),c=a.createIterator();c.enforceRealBlocks=\n!0;c.enlargeBr=this._.enterMode!=CKEDITOR.ENTER_BR;for(var d,e;d=c.getNextParagraph();)this.checkElementRemovable(d)&&(d.is(\"pre\")?((e=this._.enterMode==CKEDITOR.ENTER_BR?null:a.document.createElement(this._.enterMode==CKEDITOR.ENTER_P?\"p\":\"div\"))&&d.copyAttributes(e),k(d,e)):p.call(this,d));a.moveToBookmark(b)}function k(a,b){var c=!b;c&&(b=a.getDocument().createElement(\"div\"),a.copyAttributes(b));var d=b&&b.is(\"pre\"),e=a.is(\"pre\"),f=!d&&e;if(d&&!e){e=b;(f=a.getBogus())&&f.remove();f=a.getHtml();\nf=n(f,/(?:^[ \\t\\n\\r]+)|(?:[ \\t\\n\\r]+$)/g,\"\");f=f.replace(/[ \\t\\r\\n]*(<br[^>]*>)[ \\t\\r\\n]*/gi,\"$1\");f=f.replace(/([ \\t\\n\\r]+|&nbsp;)/g,\" \");f=f.replace(/<br\\b[^>]*>/gi,\"\\n\");if(CKEDITOR.env.ie){var k=a.getDocument().createElement(\"div\");k.append(e);e.$.outerHTML=\"\\x3cpre\\x3e\"+f+\"\\x3c/pre\\x3e\";e.copyAttributes(k.getFirst());e=k.getFirst().remove()}else e.setHtml(f);b=e}else f?b=q(c?[a.getHtml()]:g(a),b):a.moveChildren(b);b.replace(a);if(d){var c=b,h;(h=c.getPrevious(G))&&h.type==CKEDITOR.NODE_ELEMENT&&\nh.is(\"pre\")&&(d=n(h.getHtml(),/\\n$/,\"\")+\"\\n\\n\"+n(c.getHtml(),/^\\n/,\"\"),CKEDITOR.env.ie?c.$.outerHTML=\"\\x3cpre\\x3e\"+d+\"\\x3c/pre\\x3e\":c.setHtml(d),h.remove())}else c&&r(b)}function g(a){var b=[];n(a.getOuterHtml(),/(\\S\\s*)\\n(?:\\s|(<span[^>]+data-cke-bookmark.*?\\/span>))*\\n(?!$)/gi,function(a,b,c){return b+\"\\x3c/pre\\x3e\"+c+\"\\x3cpre\\x3e\"}).replace(/<pre\\b.*?>([\\s\\S]*?)<\\/pre>/gi,function(a,c){b.push(c)});return b}function n(a,b,c){var d=\"\",e=\"\";a=a.replace(/(^<span[^>]+data-cke-bookmark.*?\\/span>)|(<span[^>]+data-cke-bookmark.*?\\/span>$)/gi,\nfunction(a,b,c){b&&(d=b);c&&(e=c);return\"\"});return d+a.replace(b,c)+e}function q(a,b){var c;1<a.length&&(c=new CKEDITOR.dom.documentFragment(b.getDocument()));for(var d=0;d<a.length;d++){var e=a[d],e=e.replace(/(\\r\\n|\\r)/g,\"\\n\"),e=n(e,/^[ \\t]*\\n/,\"\"),e=n(e,/\\n$/,\"\"),e=n(e,/^[ \\t]+|[ \\t]+$/g,function(a,b){return 1==a.length?\"\\x26nbsp;\":b?\" \"+CKEDITOR.tools.repeat(\"\\x26nbsp;\",a.length-1):CKEDITOR.tools.repeat(\"\\x26nbsp;\",a.length-1)+\" \"}),e=e.replace(/\\n/g,\"\\x3cbr\\x3e\"),e=e.replace(/[ \\t]{2,}/g,function(a){return CKEDITOR.tools.repeat(\"\\x26nbsp;\",\na.length-1)+\" \"});if(c){var g=b.clone();g.setHtml(e);c.append(g)}else b.setHtml(e)}return c||b}function p(a,b){var c=this._.definition,d=c.attributes,c=c.styles,e=w(this)[a.getName()],g=CKEDITOR.tools.isEmpty(d)&&CKEDITOR.tools.isEmpty(c),f;for(f in d)if(\"class\"!=f&&!this._.definition.fullMatch||a.getAttribute(f)==z(f,d[f]))b&&\"data-\"==f.slice(0,5)||(g=a.hasAttribute(f),a.removeAttribute(f));for(var k in c)this._.definition.fullMatch&&a.getStyle(k)!=z(k,c[k],!0)||(g=g||!!a.getStyle(k),a.removeStyle(k));\nv(a,e,A[a.getName()]);g&&(this._.definition.alwaysRemoveElement?r(a,1):!CKEDITOR.dtd.$block[a.getName()]||this._.enterMode==CKEDITOR.ENTER_BR&&!a.hasAttributes()?r(a):a.renameNode(this._.enterMode==CKEDITOR.ENTER_P?\"p\":\"div\"))}function t(a){for(var b=w(this),c=a.getElementsByTag(this.element),d,e=c.count();0<=--e;)d=c.getItem(e),d.isReadOnly()||p.call(this,d,!0);for(var g in b)if(g!=this.element)for(c=a.getElementsByTag(g),e=c.count()-1;0<=e;e--)d=c.getItem(e),d.isReadOnly()||v(d,b[g])}function v(a,\nb,c){if(b=b&&b.attributes)for(var d=0;d<b.length;d++){var e=b[d][0],g;if(g=a.getAttribute(e)){var f=b[d][1];(null===f||f.test&&f.test(g)||\"string\"==typeof f&&g==f)&&a.removeAttribute(e)}}c||r(a)}function r(a,b){if(!a.hasAttributes()||b)if(CKEDITOR.dtd.$block[a.getName()]){var c=a.getPrevious(G),d=a.getNext(G);!c||c.type!=CKEDITOR.NODE_TEXT&&c.isBlockBoundary({br:1})||a.append(\"br\",1);!d||d.type!=CKEDITOR.NODE_TEXT&&d.isBlockBoundary({br:1})||a.append(\"br\");a.remove(!0)}else c=a.getFirst(),d=a.getLast(),\na.remove(!0),c&&(c.type==CKEDITOR.NODE_ELEMENT&&c.mergeSiblings(),d&&!c.equals(d)&&d.type==CKEDITOR.NODE_ELEMENT&&d.mergeSiblings())}function u(a,b,c){var d;d=a.element;\"*\"==d&&(d=\"span\");d=new CKEDITOR.dom.element(d,b);c&&c.copyAttributes(d);d=B(d,a);b.getCustomData(\"doc_processing_style\")&&d.hasAttribute(\"id\")?d.removeAttribute(\"id\"):b.setCustomData(\"doc_processing_style\",1);return d}function B(a,b){var c=b._.definition,d=c.attributes,c=CKEDITOR.style.getStyleText(c);if(d)for(var e in d)a.setAttribute(e,\nd[e]);c&&a.setAttribute(\"style\",c);return a}function x(a,b){for(var c in a)a[c]=a[c].replace(E,function(a,c){return b[c]})}function w(a){if(a._.overrides)return a._.overrides;var b=a._.overrides={},c=a._.definition.overrides;if(c){CKEDITOR.tools.isArray(c)||(c=[c]);for(var d=0;d<c.length;d++){var e=c[d],g,f;\"string\"==typeof e?g=e.toLowerCase():(g=e.element?e.element.toLowerCase():a.element,f=e.attributes);e=b[g]||(b[g]={});if(f){var e=e.attributes=e.attributes||[],k;for(k in f)e.push([k.toLowerCase(),\nf[k]])}}}return b}function z(a,b,c){var d=new CKEDITOR.dom.element(\"span\");d[c?\"setStyle\":\"setAttribute\"](a,b);return d[c?\"getStyle\":\"getAttribute\"](a)}function D(a,b){function c(a,b){return\"font-family\"==b.toLowerCase()?a.replace(/[\"']/g,\"\"):a}\"string\"==typeof a&&(a=CKEDITOR.tools.parseCssText(a));\"string\"==typeof b&&(b=CKEDITOR.tools.parseCssText(b,!0));for(var d in a)if(!(d in b)||c(b[d],d)!=c(a[d],d)&&\"inherit\"!=a[d]&&\"inherit\"!=b[d])return!1;return!0}function y(a,b,c){var d=a.document,e=a.getRanges();\nb=b?this.removeFromRange:this.applyToRange;for(var g,f=e.createIterator();g=f.getNextRange();)b.call(this,g,c);a.selectRanges(e);d.removeCustomData(\"doc_processing_style\")}var A={address:1,div:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,p:1,pre:1,section:1,header:1,footer:1,nav:1,article:1,aside:1,figure:1,dialog:1,hgroup:1,time:1,meter:1,menu:1,command:1,keygen:1,output:1,progress:1,details:1,datagrid:1,datalist:1},C={a:1,blockquote:1,embed:1,hr:1,img:1,li:1,object:1,ol:1,table:1,td:1,tr:1,th:1,ul:1,dl:1,dt:1,\ndd:1,form:1,audio:1,video:1},F=/\\s*(?:;\\s*|$)/,E=/#\\((.+?)\\)/g,J=CKEDITOR.dom.walker.bookmark(0,1),G=CKEDITOR.dom.walker.whitespaces(1);CKEDITOR.style=function(a,b){if(\"string\"==typeof a.type)return new CKEDITOR.style.customHandlers[a.type](a);var c=a.attributes;c&&c.style&&(a.styles=CKEDITOR.tools.extend({},a.styles,CKEDITOR.tools.parseCssText(c.style)),delete c.style);b&&(a=CKEDITOR.tools.clone(a),x(a.attributes,b),x(a.styles,b));c=this.element=a.element?\"string\"==typeof a.element?a.element.toLowerCase():\na.element:\"*\";this.type=a.type||(A[c]?CKEDITOR.STYLE_BLOCK:C[c]?CKEDITOR.STYLE_OBJECT:CKEDITOR.STYLE_INLINE);\"object\"==typeof this.element&&(this.type=CKEDITOR.STYLE_OBJECT);this._={definition:a}};CKEDITOR.style.prototype={apply:function(a){if(a instanceof CKEDITOR.dom.document)return y.call(this,a.getSelection());if(this.checkApplicable(a.elementPath(),a)){var b=this._.enterMode;b||(this._.enterMode=a.activeEnterMode);y.call(this,a.getSelection(),0,a);this._.enterMode=b}},remove:function(a){if(a instanceof\nCKEDITOR.dom.document)return y.call(this,a.getSelection(),1);if(this.checkApplicable(a.elementPath(),a)){var b=this._.enterMode;b||(this._.enterMode=a.activeEnterMode);y.call(this,a.getSelection(),1,a);this._.enterMode=b}},applyToRange:function(a){this.applyToRange=this.type==CKEDITOR.STYLE_INLINE?b:this.type==CKEDITOR.STYLE_BLOCK?d:this.type==CKEDITOR.STYLE_OBJECT?m:null;return this.applyToRange(a)},removeFromRange:function(a){this.removeFromRange=this.type==CKEDITOR.STYLE_INLINE?c:this.type==CKEDITOR.STYLE_BLOCK?\nh:this.type==CKEDITOR.STYLE_OBJECT?l:null;return this.removeFromRange(a)},applyToObject:function(a){B(a,this)},checkActive:function(a,b){switch(this.type){case CKEDITOR.STYLE_BLOCK:return this.checkElementRemovable(a.block||a.blockLimit,!0,b);case CKEDITOR.STYLE_OBJECT:case CKEDITOR.STYLE_INLINE:for(var c=a.elements,d=0,e;d<c.length;d++)if(e=c[d],this.type!=CKEDITOR.STYLE_INLINE||e!=a.block&&e!=a.blockLimit){if(this.type==CKEDITOR.STYLE_OBJECT){var g=e.getName();if(!(\"string\"==typeof this.element?\ng==this.element:g in this.element))continue}if(this.checkElementRemovable(e,!0,b))return!0}}return!1},checkApplicable:function(a,b,c){b&&b instanceof CKEDITOR.filter&&(c=b);if(c&&!c.check(this))return!1;switch(this.type){case CKEDITOR.STYLE_OBJECT:return!!a.contains(this.element);case CKEDITOR.STYLE_BLOCK:return!!a.blockLimit.getDtd()[this.element]}return!0},checkElementMatch:function(a,b){var c=this._.definition;if(!a||!c.ignoreReadonly&&a.isReadOnly())return!1;var d=a.getName();if(\"string\"==typeof this.element?\nd==this.element:d in this.element){if(!b&&!a.hasAttributes())return!0;if(d=c._AC)c=d;else{var d={},e=0,g=c.attributes;if(g)for(var f in g)e++,d[f]=g[f];if(f=CKEDITOR.style.getStyleText(c))d.style||e++,d.style=f;d._length=e;c=c._AC=d}if(c._length){for(var k in c)if(\"_length\"!=k)if(d=a.getAttribute(k)||\"\",\"style\"==k?D(c[k],d):c[k]==d){if(!b)return!0}else if(b)return!1;if(b)return!0}else return!0}return!1},checkElementRemovable:function(a,b,c){if(this.checkElementMatch(a,b,c))return!0;if(b=w(this)[a.getName()]){var d;\nif(!(b=b.attributes))return!0;for(c=0;c<b.length;c++)if(d=b[c][0],d=a.getAttribute(d)){var e=b[c][1];if(null===e)return!0;if(\"string\"==typeof e){if(d==e)return!0}else if(e.test(d))return!0}}return!1},buildPreview:function(a){var b=this._.definition,c=[],d=b.element;\"bdo\"==d&&(d=\"span\");var c=[\"\\x3c\",d],e=b.attributes;if(e)for(var g in e)c.push(\" \",g,'\\x3d\"',e[g],'\"');(e=CKEDITOR.style.getStyleText(b))&&c.push(' style\\x3d\"',e,'\"');c.push(\"\\x3e\",a||b.name,\"\\x3c/\",d,\"\\x3e\");return c.join(\"\")},getDefinition:function(){return this._.definition}};\nCKEDITOR.style.getStyleText=function(a){var b=a._ST;if(b)return b;var b=a.styles,c=a.attributes&&a.attributes.style||\"\",d=\"\";c.length&&(c=c.replace(F,\";\"));for(var e in b){var g=b[e],f=(e+\":\"+g).replace(F,\";\");\"inherit\"==g?d+=f:c+=f}c.length&&(c=CKEDITOR.tools.normalizeCssText(c,!0));return a._ST=c+d};CKEDITOR.style.customHandlers={};CKEDITOR.style.addCustomHandler=function(a){var b=function(a){this._={definition:a};this.setup&&this.setup(a)};b.prototype=CKEDITOR.tools.extend(CKEDITOR.tools.prototypedCopy(CKEDITOR.style.prototype),\n{assignedTo:CKEDITOR.STYLE_OBJECT},a,!0);return this.customHandlers[a.type]=b};var M=CKEDITOR.POSITION_PRECEDING|CKEDITOR.POSITION_IDENTICAL|CKEDITOR.POSITION_IS_CONTAINED,I=CKEDITOR.POSITION_FOLLOWING|CKEDITOR.POSITION_IDENTICAL|CKEDITOR.POSITION_IS_CONTAINED}(),CKEDITOR.styleCommand=function(a,f){this.requiredContent=this.allowedContent=this.style=a;CKEDITOR.tools.extend(this,f,!0)},CKEDITOR.styleCommand.prototype.exec=function(a){a.focus();this.state==CKEDITOR.TRISTATE_OFF?a.applyStyle(this.style):\nthis.state==CKEDITOR.TRISTATE_ON&&a.removeStyle(this.style)},CKEDITOR.stylesSet=new CKEDITOR.resourceManager(\"\",\"stylesSet\"),CKEDITOR.addStylesSet=CKEDITOR.tools.bind(CKEDITOR.stylesSet.add,CKEDITOR.stylesSet),CKEDITOR.loadStylesSet=function(a,f,b){CKEDITOR.stylesSet.addExternal(a,f,\"\");CKEDITOR.stylesSet.load(a,b)},CKEDITOR.tools.extend(CKEDITOR.editor.prototype,{attachStyleStateChange:function(a,f){var b=this._.styleStateChangeCallbacks;b||(b=this._.styleStateChangeCallbacks=[],this.on(\"selectionChange\",\nfunction(a){for(var e=0;e<b.length;e++){var f=b[e],l=f.style.checkActive(a.data.path,this)?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF;f.fn.call(this,l)}}));b.push({style:a,fn:f})},applyStyle:function(a){a.apply(this)},removeStyle:function(a){a.remove(this)},getStylesSet:function(a){if(this._.stylesDefinitions)a(this._.stylesDefinitions);else{var f=this,b=f.config.stylesCombo_stylesSet||f.config.stylesSet;if(!1===b)a(null);else if(b instanceof Array)f._.stylesDefinitions=b,a(b);else{b||(b=\"default\");\nvar b=b.split(\":\"),c=b[0];CKEDITOR.stylesSet.addExternal(c,b[1]?b.slice(1).join(\":\"):CKEDITOR.getUrl(\"styles.js\"),\"\");CKEDITOR.stylesSet.load(c,function(b){f._.stylesDefinitions=b[c];a(f._.stylesDefinitions)})}}}}),CKEDITOR.dom.comment=function(a,f){\"string\"==typeof a&&(a=(f?f.$:document).createComment(a));CKEDITOR.dom.domObject.call(this,a)},CKEDITOR.dom.comment.prototype=new CKEDITOR.dom.node,CKEDITOR.tools.extend(CKEDITOR.dom.comment.prototype,{type:CKEDITOR.NODE_COMMENT,getOuterHtml:function(){return\"\\x3c!--\"+\nthis.$.nodeValue+\"--\\x3e\"}}),\"use strict\",function(){var a={},f={},b;for(b in CKEDITOR.dtd.$blockLimit)b in CKEDITOR.dtd.$list||(a[b]=1);for(b in CKEDITOR.dtd.$block)b in CKEDITOR.dtd.$blockLimit||b in CKEDITOR.dtd.$empty||(f[b]=1);CKEDITOR.dom.elementPath=function(b,e){var m=null,l=null,d=[],h=b,k;e=e||b.getDocument().getBody();do if(h.type==CKEDITOR.NODE_ELEMENT){d.push(h);if(!this.lastElement&&(this.lastElement=h,h.is(CKEDITOR.dtd.$object)||\"false\"==h.getAttribute(\"contenteditable\")))continue;\nif(h.equals(e))break;if(!l&&(k=h.getName(),\"true\"==h.getAttribute(\"contenteditable\")?l=h:!m&&f[k]&&(m=h),a[k])){if(k=!m&&\"div\"==k){a:{k=h.getChildren();for(var g=0,n=k.count();g<n;g++){var q=k.getItem(g);if(q.type==CKEDITOR.NODE_ELEMENT&&CKEDITOR.dtd.$block[q.getName()]){k=!0;break a}}k=!1}k=!k}k?m=h:l=h}}while(h=h.getParent());l||(l=e);this.block=m;this.blockLimit=l;this.root=e;this.elements=d}}(),CKEDITOR.dom.elementPath.prototype={compare:function(a){var f=this.elements;a=a&&a.elements;if(!a||\nf.length!=a.length)return!1;for(var b=0;b<f.length;b++)if(!f[b].equals(a[b]))return!1;return!0},contains:function(a,f,b){var c;\"string\"==typeof a&&(c=function(b){return b.getName()==a});a instanceof CKEDITOR.dom.element?c=function(b){return b.equals(a)}:CKEDITOR.tools.isArray(a)?c=function(b){return-1<CKEDITOR.tools.indexOf(a,b.getName())}:\"function\"==typeof a?c=a:\"object\"==typeof a&&(c=function(b){return b.getName()in a});var e=this.elements,m=e.length;f&&m--;b&&(e=Array.prototype.slice.call(e,0),\ne.reverse());for(f=0;f<m;f++)if(c(e[f]))return e[f];return null},isContextFor:function(a){var f;return a in CKEDITOR.dtd.$block?(f=this.contains(CKEDITOR.dtd.$intermediate)||this.root.equals(this.block)&&this.block||this.blockLimit,!!f.getDtd()[a]):!0},direction:function(){return(this.block||this.blockLimit||this.root).getDirection(1)}},CKEDITOR.dom.text=function(a,f){\"string\"==typeof a&&(a=(f?f.$:document).createTextNode(a));this.$=a},CKEDITOR.dom.text.prototype=new CKEDITOR.dom.node,CKEDITOR.tools.extend(CKEDITOR.dom.text.prototype,\n{type:CKEDITOR.NODE_TEXT,getLength:function(){return this.$.nodeValue.length},getText:function(){return this.$.nodeValue},setText:function(a){this.$.nodeValue=a},split:function(a){var f=this.$.parentNode,b=f.childNodes.length,c=this.getLength(),e=this.getDocument(),m=new CKEDITOR.dom.text(this.$.splitText(a),e);f.childNodes.length==b&&(a>=c?(m=e.createText(\"\"),m.insertAfter(this)):(a=e.createText(\"\"),a.insertAfter(m),a.remove()));return m},substring:function(a,f){return\"number\"!=typeof f?this.$.nodeValue.substr(a):\nthis.$.nodeValue.substring(a,f)}}),function(){function a(a,c,e){var f=a.serializable,l=c[e?\"endContainer\":\"startContainer\"],d=e?\"endOffset\":\"startOffset\",h=f?c.document.getById(a.startNode):a.startNode;a=f?c.document.getById(a.endNode):a.endNode;l.equals(h.getPrevious())?(c.startOffset=c.startOffset-l.getLength()-a.getPrevious().getLength(),l=a.getNext()):l.equals(a.getPrevious())&&(c.startOffset-=l.getLength(),l=a.getNext());l.equals(h.getParent())&&c[d]++;l.equals(a.getParent())&&c[d]++;c[e?\"endContainer\":\n\"startContainer\"]=l;return c}CKEDITOR.dom.rangeList=function(a){if(a instanceof CKEDITOR.dom.rangeList)return a;a?a instanceof CKEDITOR.dom.range&&(a=[a]):a=[];return CKEDITOR.tools.extend(a,f)};var f={createIterator:function(){var a=this,c=CKEDITOR.dom.walker.bookmark(),e=[],f;return{getNextRange:function(l){f=void 0===f?0:f+1;var d=a[f];if(d&&1<a.length){if(!f)for(var h=a.length-1;0<=h;h--)e.unshift(a[h].createBookmark(!0));if(l)for(var k=0;a[f+k+1];){var g=d.document;l=0;h=g.getById(e[k].endNode);\nfor(g=g.getById(e[k+1].startNode);;){h=h.getNextSourceNode(!1);if(g.equals(h))l=1;else if(c(h)||h.type==CKEDITOR.NODE_ELEMENT&&h.isBlockBoundary())continue;break}if(!l)break;k++}for(d.moveToBookmark(e.shift());k--;)h=a[++f],h.moveToBookmark(e.shift()),d.setEnd(h.endContainer,h.endOffset)}return d}}},createBookmarks:function(b){for(var c=[],e,f=0;f<this.length;f++){c.push(e=this[f].createBookmark(b,!0));for(var l=f+1;l<this.length;l++)this[l]=a(e,this[l]),this[l]=a(e,this[l],!0)}return c},createBookmarks2:function(a){for(var c=\n[],e=0;e<this.length;e++)c.push(this[e].createBookmark2(a));return c},moveToBookmarks:function(a){for(var c=0;c<this.length;c++)this[c].moveToBookmark(a[c])}}}(),function(){function a(){return CKEDITOR.getUrl(CKEDITOR.skinName.split(\",\")[1]||\"skins/\"+CKEDITOR.skinName.split(\",\")[0]+\"/\")}function f(b){var c=CKEDITOR.skin[\"ua_\"+b],d=CKEDITOR.env;if(c)for(var c=c.split(\",\").sort(function(a,b){return a>b?-1:1}),e=0,f;e<c.length;e++)if(f=c[e],d.ie&&(f.replace(/^ie/,\"\")==d.version||d.quirks&&\"iequirks\"==\nf)&&(f=\"ie\"),d[f]){b+=\"_\"+c[e];break}return CKEDITOR.getUrl(a()+b+\".css\")}function b(a,b){m[a]||(CKEDITOR.document.appendStyleSheet(f(a)),m[a]=1);b&&b()}function c(a){var b=a.getById(l);b||(b=a.getHead().append(\"style\"),b.setAttribute(\"id\",l),b.setAttribute(\"type\",\"text/css\"));return b}function e(a,b,c){var d,e,f;if(CKEDITOR.env.webkit)for(b=b.split(\"}\").slice(0,-1),e=0;e<b.length;e++)b[e]=b[e].split(\"{\");for(var h=0;h<a.length;h++)if(CKEDITOR.env.webkit)for(e=0;e<b.length;e++){f=b[e][1];for(d=0;d<\nc.length;d++)f=f.replace(c[d][0],c[d][1]);a[h].$.sheet.addRule(b[e][0],f)}else{f=b;for(d=0;d<c.length;d++)f=f.replace(c[d][0],c[d][1]);CKEDITOR.env.ie&&11>CKEDITOR.env.version?a[h].$.styleSheet.cssText+=f:a[h].$.innerHTML+=f}}var m={};CKEDITOR.skin={path:a,loadPart:function(c,d){CKEDITOR.skin.name!=CKEDITOR.skinName.split(\",\")[0]?CKEDITOR.scriptLoader.load(CKEDITOR.getUrl(a()+\"skin.js\"),function(){b(c,d)}):b(c,d)},getPath:function(a){return CKEDITOR.getUrl(f(a))},icons:{},addIcon:function(a,b,c,d){a=\na.toLowerCase();this.icons[a]||(this.icons[a]={path:b,offset:c||0,bgsize:d||\"16px\"})},getIconStyle:function(a,b,c,d,e){var f;a&&(a=a.toLowerCase(),b&&(f=this.icons[a+\"-rtl\"]),f||(f=this.icons[a]));a=c||f&&f.path||\"\";d=d||f&&f.offset;e=e||f&&f.bgsize||\"16px\";a&&(a=a.replace(/'/g,\"\\\\'\"));return a&&\"background-image:url('\"+CKEDITOR.getUrl(a)+\"');background-position:0 \"+d+\"px;background-size:\"+e+\";\"}};CKEDITOR.tools.extend(CKEDITOR.editor.prototype,{getUiColor:function(){return this.uiColor},setUiColor:function(a){var b=\nc(CKEDITOR.document);return(this.setUiColor=function(a){this.uiColor=a;var c=CKEDITOR.skin.chameleon,f=\"\",k=\"\";\"function\"==typeof c&&(f=c(this,\"editor\"),k=c(this,\"panel\"));a=[[h,a]];e([b],f,a);e(d,k,a)}).call(this,a)}});var l=\"cke_ui_color\",d=[],h=/\\$color/g;CKEDITOR.on(\"instanceLoaded\",function(a){if(!CKEDITOR.env.ie||!CKEDITOR.env.quirks){var b=a.editor;a=function(a){a=(a.data[0]||a.data).element.getElementsByTag(\"iframe\").getItem(0).getFrameDocument();if(!a.getById(\"cke_ui_color\")){a=c(a);d.push(a);\nvar f=b.getUiColor();f&&e([a],CKEDITOR.skin.chameleon(b,\"panel\"),[[h,f]])}};b.on(\"panelShow\",a);b.on(\"menuShow\",a);b.config.uiColor&&b.setUiColor(b.config.uiColor)}})}(),function(){if(CKEDITOR.env.webkit)CKEDITOR.env.hc=!1;else{var a=CKEDITOR.dom.element.createFromHtml('\\x3cdiv style\\x3d\"width:0;height:0;position:absolute;left:-10000px;border:1px solid;border-color:red blue\"\\x3e\\x3c/div\\x3e',CKEDITOR.document);a.appendTo(CKEDITOR.document.getHead());try{var f=a.getComputedStyle(\"border-top-color\"),\nb=a.getComputedStyle(\"border-right-color\");CKEDITOR.env.hc=!(!f||f!=b)}catch(c){CKEDITOR.env.hc=!1}a.remove()}CKEDITOR.env.hc&&(CKEDITOR.env.cssClass+=\" cke_hc\");CKEDITOR.document.appendStyleText(\".cke{visibility:hidden;}\");CKEDITOR.status=\"loaded\";CKEDITOR.fireOnce(\"loaded\");if(a=CKEDITOR._.pending)for(delete CKEDITOR._.pending,f=0;f<a.length;f++)CKEDITOR.editor.prototype.constructor.apply(a[f][0],a[f][1]),CKEDITOR.add(a[f][0])}(),CKEDITOR.skin.name=\"moono-lisa\",CKEDITOR.skin.ua_editor=\"ie,iequirks,ie8,gecko\",\nCKEDITOR.skin.ua_dialog=\"ie,iequirks,ie8\",CKEDITOR.skin.chameleon=function(){var a=function(){return function(a,c){for(var e=a.match(/[^#]./g),f=0;3>f;f++){var l=f,d;d=parseInt(e[f],16);d=(\"0\"+(0>c?0|d*(1+c):0|d+(255-d)*c).toString(16)).slice(-2);e[l]=d}return\"#\"+e.join(\"\")}}(),f={editor:new CKEDITOR.template(\"{id}.cke_chrome [border-color:{defaultBorder};] {id} .cke_top [ background-color:{defaultBackground};border-bottom-color:{defaultBorder};] {id} .cke_bottom [background-color:{defaultBackground};border-top-color:{defaultBorder};] {id} .cke_resizer [border-right-color:{ckeResizer}] {id} .cke_dialog_title [background-color:{defaultBackground};border-bottom-color:{defaultBorder};] {id} .cke_dialog_footer [background-color:{defaultBackground};outline-color:{defaultBorder};] {id} .cke_dialog_tab [background-color:{dialogTab};border-color:{defaultBorder};] {id} .cke_dialog_tab:hover [background-color:{lightBackground};] {id} .cke_dialog_contents [border-top-color:{defaultBorder};] {id} .cke_dialog_tab_selected, {id} .cke_dialog_tab_selected:hover [background:{dialogTabSelected};border-bottom-color:{dialogTabSelectedBorder};] {id} .cke_dialog_body [background:{dialogBody};border-color:{defaultBorder};] {id} a.cke_button_off:hover,{id} a.cke_button_off:focus,{id} a.cke_button_off:active [background-color:{darkBackground};border-color:{toolbarElementsBorder};] {id} .cke_button_on [background-color:{ckeButtonOn};border-color:{toolbarElementsBorder};] {id} .cke_toolbar_separator,{id} .cke_toolgroup a.cke_button:last-child:after,{id} .cke_toolgroup a.cke_button.cke_button_disabled:hover:last-child:after [background-color: {toolbarElementsBorder};border-color: {toolbarElementsBorder};] {id} a.cke_combo_button:hover,{id} a.cke_combo_button:focus,{id} .cke_combo_on a.cke_combo_button [border-color:{toolbarElementsBorder};background-color:{darkBackground};] {id} .cke_combo:after [border-color:{toolbarElementsBorder};] {id} .cke_path_item [color:{elementsPathColor};] {id} a.cke_path_item:hover,{id} a.cke_path_item:focus,{id} a.cke_path_item:active [background-color:{darkBackground};] {id}.cke_panel [border-color:{defaultBorder};] \"),\npanel:new CKEDITOR.template(\".cke_panel_grouptitle [background-color:{lightBackground};border-color:{defaultBorder};] .cke_menubutton_icon [background-color:{menubuttonIcon};] .cke_menubutton:hover,.cke_menubutton:focus,.cke_menubutton:active [background-color:{menubuttonHover};] .cke_menubutton:hover .cke_menubutton_icon, .cke_menubutton:focus .cke_menubutton_icon, .cke_menubutton:active .cke_menubutton_icon [background-color:{menubuttonIconHover};] .cke_menubutton_disabled:hover .cke_menubutton_icon,.cke_menubutton_disabled:focus .cke_menubutton_icon,.cke_menubutton_disabled:active .cke_menubutton_icon [background-color:{menubuttonIcon};] .cke_menuseparator [background-color:{menubuttonIcon};] a:hover.cke_colorbox, a:active.cke_colorbox [border-color:{defaultBorder};] a:hover.cke_colorauto, a:hover.cke_colormore, a:active.cke_colorauto, a:active.cke_colormore [background-color:{ckeColorauto};border-color:{defaultBorder};] \")};\nreturn function(b,c){var e=a(b.uiColor,.4),e={id:\".\"+b.id,defaultBorder:a(e,-.2),toolbarElementsBorder:a(e,-.25),defaultBackground:e,lightBackground:a(e,.8),darkBackground:a(e,-.15),ckeButtonOn:a(e,.4),ckeResizer:a(e,-.4),ckeColorauto:a(e,.8),dialogBody:a(e,.7),dialogTab:a(e,.65),dialogTabSelected:\"#FFF\",dialogTabSelectedBorder:\"#FFF\",elementsPathColor:a(e,-.6),menubuttonHover:a(e,.1),menubuttonIcon:a(e,.5),menubuttonIconHover:a(e,.3)};return f[c].output(e).replace(/\\[/g,\"{\").replace(/\\]/g,\"}\")}}(),\nCKEDITOR.plugins.add(\"dialogui\",{onLoad:function(){var a=function(a){this._||(this._={});this._[\"default\"]=this._.initValue=a[\"default\"]||\"\";this._.required=a.required||!1;for(var b=[this._],c=1;c<arguments.length;c++)b.push(arguments[c]);b.push(!0);CKEDITOR.tools.extend.apply(CKEDITOR.tools,b);return this._},f={build:function(a,b,c){return new CKEDITOR.ui.dialog.textInput(a,b,c)}},b={build:function(a,b,c){return new CKEDITOR.ui.dialog[b.type](a,b,c)}},c={isChanged:function(){return this.getValue()!=\nthis.getInitValue()},reset:function(a){this.setValue(this.getInitValue(),a)},setInitValue:function(){this._.initValue=this.getValue()},resetInitValue:function(){this._.initValue=this._[\"default\"]},getInitValue:function(){return this._.initValue}},e=CKEDITOR.tools.extend({},CKEDITOR.ui.dialog.uiElement.prototype.eventProcessors,{onChange:function(a,b){this._.domOnChangeRegistered||(a.on(\"load\",function(){this.getInputElement().on(\"change\",function(){a.parts.dialog.isVisible()&&this.fire(\"change\",{value:this.getValue()})},\nthis)},this),this._.domOnChangeRegistered=!0);this.on(\"change\",b)}},!0),m=/^on([A-Z]\\w+)/,l=function(a){for(var b in a)(m.test(b)||\"title\"==b||\"type\"==b)&&delete a[b];return a},d=function(a){a=a.data.getKeystroke();a==CKEDITOR.SHIFT+CKEDITOR.ALT+36?this.setDirectionMarker(\"ltr\"):a==CKEDITOR.SHIFT+CKEDITOR.ALT+35&&this.setDirectionMarker(\"rtl\")};CKEDITOR.tools.extend(CKEDITOR.ui.dialog,{labeledElement:function(b,c,d,e){if(!(4>arguments.length)){var f=a.call(this,c);f.labelId=CKEDITOR.tools.getNextId()+\n\"_label\";this._.children=[];var l={role:c.role||\"presentation\"};c.includeLabel&&(l[\"aria-labelledby\"]=f.labelId);CKEDITOR.ui.dialog.uiElement.call(this,b,c,d,\"div\",null,l,function(){var a=[],d=c.required?\" cke_required\":\"\";\"horizontal\"!=c.labelLayout?a.push('\\x3clabel class\\x3d\"cke_dialog_ui_labeled_label'+d+'\" ',' id\\x3d\"'+f.labelId+'\"',f.inputId?' for\\x3d\"'+f.inputId+'\"':\"\",(c.labelStyle?' style\\x3d\"'+c.labelStyle+'\"':\"\")+\"\\x3e\",c.label,\"\\x3c/label\\x3e\",'\\x3cdiv class\\x3d\"cke_dialog_ui_labeled_content\"',\nc.controlStyle?' style\\x3d\"'+c.controlStyle+'\"':\"\",' role\\x3d\"presentation\"\\x3e',e.call(this,b,c),\"\\x3c/div\\x3e\"):(d={type:\"hbox\",widths:c.widths,padding:0,children:[{type:\"html\",html:'\\x3clabel class\\x3d\"cke_dialog_ui_labeled_label'+d+'\" id\\x3d\"'+f.labelId+'\" for\\x3d\"'+f.inputId+'\"'+(c.labelStyle?' style\\x3d\"'+c.labelStyle+'\"':\"\")+\"\\x3e\"+CKEDITOR.tools.htmlEncode(c.label)+\"\\x3c/label\\x3e\"},{type:\"html\",html:'\\x3cspan class\\x3d\"cke_dialog_ui_labeled_content\"'+(c.controlStyle?' style\\x3d\"'+c.controlStyle+\n'\"':\"\")+\"\\x3e\"+e.call(this,b,c)+\"\\x3c/span\\x3e\"}]},CKEDITOR.dialog._.uiElementBuilders.hbox.build(b,d,a));return a.join(\"\")})}},textInput:function(b,c,e){if(!(3>arguments.length)){a.call(this,c);var f=this._.inputId=CKEDITOR.tools.getNextId()+\"_textInput\",l={\"class\":\"cke_dialog_ui_input_\"+c.type,id:f,type:c.type};c.validate&&(this.validate=c.validate);c.maxLength&&(l.maxlength=c.maxLength);c.size&&(l.size=c.size);c.inputStyle&&(l.style=c.inputStyle);var m=this,t=!1;b.on(\"load\",function(){m.getInputElement().on(\"keydown\",\nfunction(a){13==a.data.getKeystroke()&&(t=!0)});m.getInputElement().on(\"keyup\",function(a){13==a.data.getKeystroke()&&t&&(b.getButton(\"ok\")&&setTimeout(function(){b.getButton(\"ok\").click()},0),t=!1);m.bidi&&d.call(m,a)},null,null,1E3)});CKEDITOR.ui.dialog.labeledElement.call(this,b,c,e,function(){var a=['\\x3cdiv class\\x3d\"cke_dialog_ui_input_',c.type,'\" role\\x3d\"presentation\"'];c.width&&a.push('style\\x3d\"width:'+c.width+'\" ');a.push(\"\\x3e\\x3cinput \");l[\"aria-labelledby\"]=this._.labelId;this._.required&&\n(l[\"aria-required\"]=this._.required);for(var b in l)a.push(b+'\\x3d\"'+l[b]+'\" ');a.push(\" /\\x3e\\x3c/div\\x3e\");return a.join(\"\")})}},textarea:function(b,c,e){if(!(3>arguments.length)){a.call(this,c);var f=this,l=this._.inputId=CKEDITOR.tools.getNextId()+\"_textarea\",m={};c.validate&&(this.validate=c.validate);m.rows=c.rows||5;m.cols=c.cols||20;m[\"class\"]=\"cke_dialog_ui_input_textarea \"+(c[\"class\"]||\"\");\"undefined\"!=typeof c.inputStyle&&(m.style=c.inputStyle);c.dir&&(m.dir=c.dir);if(f.bidi)b.on(\"load\",\nfunction(){f.getInputElement().on(\"keyup\",d)},f);CKEDITOR.ui.dialog.labeledElement.call(this,b,c,e,function(){m[\"aria-labelledby\"]=this._.labelId;this._.required&&(m[\"aria-required\"]=this._.required);var a=['\\x3cdiv class\\x3d\"cke_dialog_ui_input_textarea\" role\\x3d\"presentation\"\\x3e\\x3ctextarea id\\x3d\"',l,'\" '],b;for(b in m)a.push(b+'\\x3d\"'+CKEDITOR.tools.htmlEncode(m[b])+'\" ');a.push(\"\\x3e\",CKEDITOR.tools.htmlEncode(f._[\"default\"]),\"\\x3c/textarea\\x3e\\x3c/div\\x3e\");return a.join(\"\")})}},checkbox:function(b,\nc,d){if(!(3>arguments.length)){var e=a.call(this,c,{\"default\":!!c[\"default\"]});c.validate&&(this.validate=c.validate);CKEDITOR.ui.dialog.uiElement.call(this,b,c,d,\"span\",null,null,function(){var a=CKEDITOR.tools.extend({},c,{id:c.id?c.id+\"_checkbox\":CKEDITOR.tools.getNextId()+\"_checkbox\"},!0),d=[],f=CKEDITOR.tools.getNextId()+\"_label\",g={\"class\":\"cke_dialog_ui_checkbox_input\",type:\"checkbox\",\"aria-labelledby\":f};l(a);c[\"default\"]&&(g.checked=\"checked\");\"undefined\"!=typeof a.inputStyle&&(a.style=a.inputStyle);\ne.checkbox=new CKEDITOR.ui.dialog.uiElement(b,a,d,\"input\",null,g);d.push(' \\x3clabel id\\x3d\"',f,'\" for\\x3d\"',g.id,'\"'+(c.labelStyle?' style\\x3d\"'+c.labelStyle+'\"':\"\")+\"\\x3e\",CKEDITOR.tools.htmlEncode(c.label),\"\\x3c/label\\x3e\");return d.join(\"\")})}},radio:function(b,c,d){if(!(3>arguments.length)){a.call(this,c);this._[\"default\"]||(this._[\"default\"]=this._.initValue=c.items[0][1]);c.validate&&(this.validate=c.validate);var e=[],f=this;c.role=\"radiogroup\";c.includeLabel=!0;CKEDITOR.ui.dialog.labeledElement.call(this,\nb,c,d,function(){for(var a=[],d=[],g=(c.id?c.id:CKEDITOR.tools.getNextId())+\"_radio\",m=0;m<c.items.length;m++){var u=c.items[m],B=void 0!==u[2]?u[2]:u[0],x=void 0!==u[1]?u[1]:u[0],w=CKEDITOR.tools.getNextId()+\"_radio_input\",z=w+\"_label\",w=CKEDITOR.tools.extend({},c,{id:w,title:null,type:null},!0),B=CKEDITOR.tools.extend({},w,{title:B},!0),D={type:\"radio\",\"class\":\"cke_dialog_ui_radio_input\",name:g,value:x,\"aria-labelledby\":z},y=[];f._[\"default\"]==x&&(D.checked=\"checked\");l(w);l(B);\"undefined\"!=typeof w.inputStyle&&\n(w.style=w.inputStyle);w.keyboardFocusable=!0;e.push(new CKEDITOR.ui.dialog.uiElement(b,w,y,\"input\",null,D));y.push(\" \");new CKEDITOR.ui.dialog.uiElement(b,B,y,\"label\",null,{id:z,\"for\":D.id},u[0]);a.push(y.join(\"\"))}new CKEDITOR.ui.dialog.hbox(b,e,a,d);return d.join(\"\")});this._.children=e}},button:function(b,c,d){if(arguments.length){\"function\"==typeof c&&(c=c(b.getParentEditor()));a.call(this,c,{disabled:c.disabled||!1});CKEDITOR.event.implementOn(this);var e=this;b.on(\"load\",function(){var a=this.getElement();\n(function(){a.on(\"click\",function(a){e.click();a.data.preventDefault()});a.on(\"keydown\",function(a){a.data.getKeystroke()in{32:1}&&(e.click(),a.data.preventDefault())})})();a.unselectable()},this);var f=CKEDITOR.tools.extend({},c);delete f.style;var l=CKEDITOR.tools.getNextId()+\"_label\";CKEDITOR.ui.dialog.uiElement.call(this,b,f,d,\"a\",null,{style:c.style,href:\"javascript:void(0)\",title:c.label,hidefocus:\"true\",\"class\":c[\"class\"],role:\"button\",\"aria-labelledby\":l},'\\x3cspan id\\x3d\"'+l+'\" class\\x3d\"cke_dialog_ui_button\"\\x3e'+\nCKEDITOR.tools.htmlEncode(c.label)+\"\\x3c/span\\x3e\")}},select:function(b,c,d){if(!(3>arguments.length)){var e=a.call(this,c);c.validate&&(this.validate=c.validate);e.inputId=CKEDITOR.tools.getNextId()+\"_select\";CKEDITOR.ui.dialog.labeledElement.call(this,b,c,d,function(){var a=CKEDITOR.tools.extend({},c,{id:c.id?c.id+\"_select\":CKEDITOR.tools.getNextId()+\"_select\"},!0),d=[],f=[],g={id:e.inputId,\"class\":\"cke_dialog_ui_input_select\",\"aria-labelledby\":this._.labelId};d.push('\\x3cdiv class\\x3d\"cke_dialog_ui_input_',\nc.type,'\" role\\x3d\"presentation\"');c.width&&d.push('style\\x3d\"width:'+c.width+'\" ');d.push(\"\\x3e\");void 0!==c.size&&(g.size=c.size);void 0!==c.multiple&&(g.multiple=c.multiple);l(a);for(var m=0,u;m<c.items.length&&(u=c.items[m]);m++)f.push('\\x3coption value\\x3d\"',CKEDITOR.tools.htmlEncode(void 0!==u[1]?u[1]:u[0]).replace(/\"/g,\"\\x26quot;\"),'\" /\\x3e ',CKEDITOR.tools.htmlEncode(u[0]));\"undefined\"!=typeof a.inputStyle&&(a.style=a.inputStyle);e.select=new CKEDITOR.ui.dialog.uiElement(b,a,d,\"select\",null,\ng,f.join(\"\"));d.push(\"\\x3c/div\\x3e\");return d.join(\"\")})}},file:function(b,c,d){if(!(3>arguments.length)){void 0===c[\"default\"]&&(c[\"default\"]=\"\");var e=CKEDITOR.tools.extend(a.call(this,c),{definition:c,buttons:[]});c.validate&&(this.validate=c.validate);b.on(\"load\",function(){CKEDITOR.document.getById(e.frameId).getParent().addClass(\"cke_dialog_ui_input_file\")});CKEDITOR.ui.dialog.labeledElement.call(this,b,c,d,function(){e.frameId=CKEDITOR.tools.getNextId()+\"_fileInput\";var a=['\\x3ciframe frameborder\\x3d\"0\" allowtransparency\\x3d\"0\" class\\x3d\"cke_dialog_ui_input_file\" role\\x3d\"presentation\" id\\x3d\"',\ne.frameId,'\" title\\x3d\"',c.label,'\" src\\x3d\"javascript:void('];a.push(CKEDITOR.env.ie?\"(function(){\"+encodeURIComponent(\"document.open();(\"+CKEDITOR.tools.fixDomain+\")();document.close();\")+\"})()\":\"0\");a.push(')\"\\x3e\\x3c/iframe\\x3e');return a.join(\"\")})}},fileButton:function(b,c,d){var e=this;if(!(3>arguments.length)){a.call(this,c);c.validate&&(this.validate=c.validate);var f=CKEDITOR.tools.extend({},c),l=f.onClick;f.className=(f.className?f.className+\" \":\"\")+\"cke_dialog_ui_button\";f.onClick=function(a){var d=\nc[\"for\"];l&&!1===l.call(this,a)||(b.getContentElement(d[0],d[1]).submit(),this.disable())};b.on(\"load\",function(){b.getContentElement(c[\"for\"][0],c[\"for\"][1])._.buttons.push(e)});CKEDITOR.ui.dialog.button.call(this,b,f,d)}},html:function(){var a=/^\\s*<[\\w:]+\\s+([^>]*)?>/,b=/^(\\s*<[\\w:]+(?:\\s+[^>]*)?)((?:.|\\r|\\n)+)$/,c=/\\/$/;return function(d,e,f){if(!(3>arguments.length)){var l=[],m=e.html;\"\\x3c\"!=m.charAt(0)&&(m=\"\\x3cspan\\x3e\"+m+\"\\x3c/span\\x3e\");var r=e.focus;if(r){var u=this.focus;this.focus=function(){(\"function\"==\ntypeof r?r:u).call(this);this.fire(\"focus\")};e.isFocusable&&(this.isFocusable=this.isFocusable);this.keyboardFocusable=!0}CKEDITOR.ui.dialog.uiElement.call(this,d,e,l,\"span\",null,null,\"\");l=l.join(\"\").match(a);m=m.match(b)||[\"\",\"\",\"\"];c.test(m[1])&&(m[1]=m[1].slice(0,-1),m[2]=\"/\"+m[2]);f.push([m[1],\" \",l[1]||\"\",m[2]].join(\"\"))}}}(),fieldset:function(a,b,c,d,e){var f=e.label;this._={children:b};CKEDITOR.ui.dialog.uiElement.call(this,a,e,d,\"fieldset\",null,null,function(){var a=[];f&&a.push(\"\\x3clegend\"+\n(e.labelStyle?' style\\x3d\"'+e.labelStyle+'\"':\"\")+\"\\x3e\"+f+\"\\x3c/legend\\x3e\");for(var b=0;b<c.length;b++)a.push(c[b]);return a.join(\"\")})}},!0);CKEDITOR.ui.dialog.html.prototype=new CKEDITOR.ui.dialog.uiElement;CKEDITOR.ui.dialog.labeledElement.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement,{setLabel:function(a){var b=CKEDITOR.document.getById(this._.labelId);1>b.getChildCount()?(new CKEDITOR.dom.text(a,CKEDITOR.document)).appendTo(b):b.getChild(0).$.nodeValue=a;return this},getLabel:function(){var a=\nCKEDITOR.document.getById(this._.labelId);return!a||1>a.getChildCount()?\"\":a.getChild(0).getText()},eventProcessors:e},!0);CKEDITOR.ui.dialog.button.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement,{click:function(){return this._.disabled?!1:this.fire(\"click\",{dialog:this._.dialog})},enable:function(){this._.disabled=!1;var a=this.getElement();a&&a.removeClass(\"cke_disabled\")},disable:function(){this._.disabled=!0;this.getElement().addClass(\"cke_disabled\")},isVisible:function(){return this.getElement().getFirst().isVisible()},\nisEnabled:function(){return!this._.disabled},eventProcessors:CKEDITOR.tools.extend({},CKEDITOR.ui.dialog.uiElement.prototype.eventProcessors,{onClick:function(a,b){this.on(\"click\",function(){b.apply(this,arguments)})}},!0),accessKeyUp:function(){this.click()},accessKeyDown:function(){this.focus()},keyboardFocusable:!0},!0);CKEDITOR.ui.dialog.textInput.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.labeledElement,{getInputElement:function(){return CKEDITOR.document.getById(this._.inputId)},\nfocus:function(){var a=this.selectParentTab();setTimeout(function(){var b=a.getInputElement();b&&b.$.focus()},0)},select:function(){var a=this.selectParentTab();setTimeout(function(){var b=a.getInputElement();b&&(b.$.focus(),b.$.select())},0)},accessKeyUp:function(){this.select()},setValue:function(a){if(this.bidi){var b=a&&a.charAt(0);(b=\"‪\"==b?\"ltr\":\"‫\"==b?\"rtl\":null)&&(a=a.slice(1));this.setDirectionMarker(b)}a||(a=\"\");return CKEDITOR.ui.dialog.uiElement.prototype.setValue.apply(this,arguments)},\ngetValue:function(){var a=CKEDITOR.ui.dialog.uiElement.prototype.getValue.call(this);if(this.bidi&&a){var b=this.getDirectionMarker();b&&(a=(\"ltr\"==b?\"‪\":\"‫\")+a)}return a},setDirectionMarker:function(a){var b=this.getInputElement();a?b.setAttributes({dir:a,\"data-cke-dir-marker\":a}):this.getDirectionMarker()&&b.removeAttributes([\"dir\",\"data-cke-dir-marker\"])},getDirectionMarker:function(){return this.getInputElement().data(\"cke-dir-marker\")},keyboardFocusable:!0},c,!0);CKEDITOR.ui.dialog.textarea.prototype=\nnew CKEDITOR.ui.dialog.textInput;CKEDITOR.ui.dialog.select.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.labeledElement,{getInputElement:function(){return this._.select.getElement()},add:function(a,b,c){var d=new CKEDITOR.dom.element(\"option\",this.getDialog().getParentEditor().document),e=this.getInputElement().$;d.$.text=a;d.$.value=void 0===b||null===b?a:b;void 0===c||null===c?CKEDITOR.env.ie?e.add(d.$):e.add(d.$,null):e.add(d.$,c);return this},remove:function(a){this.getInputElement().$.remove(a);\nreturn this},clear:function(){for(var a=this.getInputElement().$;0<a.length;)a.remove(0);return this},keyboardFocusable:!0},c,!0);CKEDITOR.ui.dialog.checkbox.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement,{getInputElement:function(){return this._.checkbox.getElement()},setValue:function(a,b){this.getInputElement().$.checked=a;!b&&this.fire(\"change\",{value:a})},getValue:function(){return this.getInputElement().$.checked},accessKeyUp:function(){this.setValue(!this.getValue())},eventProcessors:{onChange:function(a,\nb){if(!CKEDITOR.env.ie||8<CKEDITOR.env.version)return e.onChange.apply(this,arguments);a.on(\"load\",function(){var a=this._.checkbox.getElement();a.on(\"propertychange\",function(b){b=b.data.$;\"checked\"==b.propertyName&&this.fire(\"change\",{value:a.$.checked})},this)},this);this.on(\"change\",b);return null}},keyboardFocusable:!0},c,!0);CKEDITOR.ui.dialog.radio.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement,{setValue:function(a,b){for(var c=this._.children,d,e=0;e<c.length&&(d=c[e]);e++)d.getElement().$.checked=\nd.getValue()==a;!b&&this.fire(\"change\",{value:a})},getValue:function(){for(var a=this._.children,b=0;b<a.length;b++)if(a[b].getElement().$.checked)return a[b].getValue();return null},accessKeyUp:function(){var a=this._.children,b;for(b=0;b<a.length;b++)if(a[b].getElement().$.checked){a[b].getElement().focus();return}a[0].getElement().focus()},eventProcessors:{onChange:function(a,b){if(!CKEDITOR.env.ie||8<CKEDITOR.env.version)return e.onChange.apply(this,arguments);a.on(\"load\",function(){for(var a=\nthis._.children,b=this,c=0;c<a.length;c++)a[c].getElement().on(\"propertychange\",function(a){a=a.data.$;\"checked\"==a.propertyName&&this.$.checked&&b.fire(\"change\",{value:this.getAttribute(\"value\")})})},this);this.on(\"change\",b);return null}}},c,!0);CKEDITOR.ui.dialog.file.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.labeledElement,c,{getInputElement:function(){var a=CKEDITOR.document.getById(this._.frameId).getFrameDocument();return 0<a.$.forms.length?new CKEDITOR.dom.element(a.$.forms[0].elements[0]):\nthis.getElement()},submit:function(){this.getInputElement().getParent().$.submit();return this},getAction:function(){return this.getInputElement().getParent().$.action},registerEvents:function(a){var b=/^on([A-Z]\\w+)/,c,d=function(a,b,c,d){a.on(\"formLoaded\",function(){a.getInputElement().on(c,d,a)})},e;for(e in a)if(c=e.match(b))this.eventProcessors[e]?this.eventProcessors[e].call(this,this._.dialog,a[e]):d(this,this._.dialog,c[1].toLowerCase(),a[e]);return this},reset:function(){function a(){c.$.open();\nvar h=\"\";d.size&&(h=d.size-(CKEDITOR.env.ie?7:0));var B=b.frameId+\"_input\";c.$.write(['\\x3chtml dir\\x3d\"'+m+'\" lang\\x3d\"'+r+'\"\\x3e\\x3chead\\x3e\\x3ctitle\\x3e\\x3c/title\\x3e\\x3c/head\\x3e\\x3cbody style\\x3d\"margin: 0; overflow: hidden; background: transparent;\"\\x3e','\\x3cform enctype\\x3d\"multipart/form-data\" method\\x3d\"POST\" dir\\x3d\"'+m+'\" lang\\x3d\"'+r+'\" action\\x3d\"',CKEDITOR.tools.htmlEncode(d.action),'\"\\x3e\\x3clabel id\\x3d\"',b.labelId,'\" for\\x3d\"',B,'\" style\\x3d\"display:none\"\\x3e',CKEDITOR.tools.htmlEncode(d.label),\n'\\x3c/label\\x3e\\x3cinput style\\x3d\"width:100%\" id\\x3d\"',B,'\" aria-labelledby\\x3d\"',b.labelId,'\" type\\x3d\"file\" name\\x3d\"',CKEDITOR.tools.htmlEncode(d.id||\"cke_upload\"),'\" size\\x3d\"',CKEDITOR.tools.htmlEncode(0<h?h:\"\"),'\" /\\x3e\\x3c/form\\x3e\\x3c/body\\x3e\\x3c/html\\x3e\\x3cscript\\x3e',CKEDITOR.env.ie?\"(\"+CKEDITOR.tools.fixDomain+\")();\":\"\",\"window.parent.CKEDITOR.tools.callFunction(\"+f+\");\",\"window.onbeforeunload \\x3d function() {window.parent.CKEDITOR.tools.callFunction(\"+l+\")}\",\"\\x3c/script\\x3e\"].join(\"\"));\nc.$.close();for(h=0;h<e.length;h++)e[h].enable()}var b=this._,c=CKEDITOR.document.getById(b.frameId).getFrameDocument(),d=b.definition,e=b.buttons,f=this.formLoadedNumber,l=this.formUnloadNumber,m=b.dialog._.editor.lang.dir,r=b.dialog._.editor.langCode;f||(f=this.formLoadedNumber=CKEDITOR.tools.addFunction(function(){this.fire(\"formLoaded\")},this),l=this.formUnloadNumber=CKEDITOR.tools.addFunction(function(){this.getInputElement().clearCustomData()},this),this.getDialog()._.editor.on(\"destroy\",function(){CKEDITOR.tools.removeFunction(f);\nCKEDITOR.tools.removeFunction(l)}));CKEDITOR.env.gecko?setTimeout(a,500):a()},getValue:function(){return this.getInputElement().$.value||\"\"},setInitValue:function(){this._.initValue=\"\"},eventProcessors:{onChange:function(a,b){this._.domOnChangeRegistered||(this.on(\"formLoaded\",function(){this.getInputElement().on(\"change\",function(){this.fire(\"change\",{value:this.getValue()})},this)},this),this._.domOnChangeRegistered=!0);this.on(\"change\",b)}},keyboardFocusable:!0},!0);CKEDITOR.ui.dialog.fileButton.prototype=\nnew CKEDITOR.ui.dialog.button;CKEDITOR.ui.dialog.fieldset.prototype=CKEDITOR.tools.clone(CKEDITOR.ui.dialog.hbox.prototype);CKEDITOR.dialog.addUIElement(\"text\",f);CKEDITOR.dialog.addUIElement(\"password\",f);CKEDITOR.dialog.addUIElement(\"textarea\",b);CKEDITOR.dialog.addUIElement(\"checkbox\",b);CKEDITOR.dialog.addUIElement(\"radio\",b);CKEDITOR.dialog.addUIElement(\"button\",b);CKEDITOR.dialog.addUIElement(\"select\",b);CKEDITOR.dialog.addUIElement(\"file\",b);CKEDITOR.dialog.addUIElement(\"fileButton\",b);CKEDITOR.dialog.addUIElement(\"html\",\nb);CKEDITOR.dialog.addUIElement(\"fieldset\",{build:function(a,b,c){for(var d=b.children,e,f=[],l=[],m=0;m<d.length&&(e=d[m]);m++){var r=[];f.push(r);l.push(CKEDITOR.dialog._.uiElementBuilders[e.type].build(a,e,r))}return new CKEDITOR.ui.dialog[b.type](a,l,f,c,b)}})}}),CKEDITOR.DIALOG_RESIZE_NONE=0,CKEDITOR.DIALOG_RESIZE_WIDTH=1,CKEDITOR.DIALOG_RESIZE_HEIGHT=2,CKEDITOR.DIALOG_RESIZE_BOTH=3,CKEDITOR.DIALOG_STATE_IDLE=1,CKEDITOR.DIALOG_STATE_BUSY=2,function(){function a(){for(var a=this._.tabIdList.length,\nb=CKEDITOR.tools.indexOf(this._.tabIdList,this._.currentTabId)+a,c=b-1;c>b-a;c--)if(this._.tabs[this._.tabIdList[c%a]][0].$.offsetHeight)return this._.tabIdList[c%a];return null}function f(){for(var a=this._.tabIdList.length,b=CKEDITOR.tools.indexOf(this._.tabIdList,this._.currentTabId),c=b+1;c<b+a;c++)if(this._.tabs[this._.tabIdList[c%a]][0].$.offsetHeight)return this._.tabIdList[c%a];return null}function b(a,b){for(var c=a.$.getElementsByTagName(\"input\"),d=0,e=c.length;d<e;d++){var f=new CKEDITOR.dom.element(c[d]);\n\"text\"==f.getAttribute(\"type\").toLowerCase()&&(b?(f.setAttribute(\"value\",f.getCustomData(\"fake_value\")||\"\"),f.removeCustomData(\"fake_value\")):(f.setCustomData(\"fake_value\",f.getAttribute(\"value\")),f.setAttribute(\"value\",\"\")))}}function c(a,b){var c=this.getInputElement();c&&(a?c.removeAttribute(\"aria-invalid\"):c.setAttribute(\"aria-invalid\",!0));a||(this.select?this.select():this.focus());b&&alert(b);this.fire(\"validated\",{valid:a,msg:b})}function e(){var a=this.getInputElement();a&&a.removeAttribute(\"aria-invalid\")}\nfunction m(a){var b=CKEDITOR.dom.element.createFromHtml(CKEDITOR.addTemplate(\"dialog\",v).output({id:CKEDITOR.tools.getNextNumber(),editorId:a.id,langDir:a.lang.dir,langCode:a.langCode,editorDialogClass:\"cke_editor_\"+a.name.replace(/\\./g,\"\\\\.\")+\"_dialog\",closeTitle:a.lang.common.close,hidpi:CKEDITOR.env.hidpi?\"cke_hidpi\":\"\"})),c=b.getChild([0,0,0,0,0]),d=c.getChild(0),e=c.getChild(1);a.plugins.clipboard&&CKEDITOR.plugins.clipboard.preventDefaultDropOnElement(c);!CKEDITOR.env.ie||CKEDITOR.env.quirks||\nCKEDITOR.env.edge||(a=\"javascript:void(function(){\"+encodeURIComponent(\"document.open();(\"+CKEDITOR.tools.fixDomain+\")();document.close();\")+\"}())\",CKEDITOR.dom.element.createFromHtml('\\x3ciframe frameBorder\\x3d\"0\" class\\x3d\"cke_iframe_shim\" src\\x3d\"'+a+'\" tabIndex\\x3d\"-1\"\\x3e\\x3c/iframe\\x3e').appendTo(c.getParent()));d.unselectable();e.unselectable();return{element:b,parts:{dialog:b.getChild(0),title:d,close:e,tabs:c.getChild(2),contents:c.getChild([3,0,0,0]),footer:c.getChild([3,0,1,0])}}}function l(a,\nb,c){this.element=b;this.focusIndex=c;this.tabIndex=0;this.isFocusable=function(){return!b.getAttribute(\"disabled\")&&b.isVisible()};this.focus=function(){a._.currentFocusIndex=this.focusIndex;this.element.focus()};b.on(\"keydown\",function(a){a.data.getKeystroke()in{32:1,13:1}&&this.fire(\"click\")});b.on(\"focus\",function(){this.fire(\"mouseover\")});b.on(\"blur\",function(){this.fire(\"mouseout\")})}function d(a){function b(){a.layout()}var c=CKEDITOR.document.getWindow();c.on(\"resize\",b);a.on(\"hide\",function(){c.removeListener(\"resize\",\nb)})}function h(a,b){this._={dialog:a};CKEDITOR.tools.extend(this,b)}function k(a){function b(c){var k=a.getSize(),l=CKEDITOR.document.getWindow().getViewPaneSize(),m=c.data.$.screenX,n=c.data.$.screenY,u=m-d.x,r=n-d.y;d={x:m,y:n};e.x+=u;e.y+=r;a.move(e.x+h[3]<g?-h[3]:e.x-h[1]>l.width-k.width-g?l.width-k.width+(\"rtl\"==f.lang.dir?0:h[1]):e.x,e.y+h[0]<g?-h[0]:e.y-h[2]>l.height-k.height-g?l.height-k.height+h[2]:e.y,1);c.data.preventDefault()}function c(){CKEDITOR.document.removeListener(\"mousemove\",\nb);CKEDITOR.document.removeListener(\"mouseup\",c);if(CKEDITOR.env.ie6Compat){var a=y.getChild(0).getFrameDocument();a.removeListener(\"mousemove\",b);a.removeListener(\"mouseup\",c)}}var d=null,e=null,f=a.getParentEditor(),g=f.config.dialog_magnetDistance,h=CKEDITOR.skin.margins||[0,0,0,0];\"undefined\"==typeof g&&(g=20);a.parts.title.on(\"mousedown\",function(f){d={x:f.data.$.screenX,y:f.data.$.screenY};CKEDITOR.document.on(\"mousemove\",b);CKEDITOR.document.on(\"mouseup\",c);e=a.getPosition();if(CKEDITOR.env.ie6Compat){var g=\ny.getChild(0).getFrameDocument();g.on(\"mousemove\",b);g.on(\"mouseup\",c)}f.data.preventDefault()},a)}function g(a){function b(c){var n=\"rtl\"==f.lang.dir,u=m.width,r=m.height,t=u+(c.data.$.screenX-l.x)*(n?-1:1)*(a._.moved?1:2),v=r+(c.data.$.screenY-l.y)*(a._.moved?1:2),B=a._.element.getFirst(),B=n&&B.getComputedStyle(\"right\"),x=a.getPosition();x.y+v>k.height&&(v=k.height-x.y);(n?B:x.x)+t>k.width&&(t=k.width-(n?B:x.x));if(e==CKEDITOR.DIALOG_RESIZE_WIDTH||e==CKEDITOR.DIALOG_RESIZE_BOTH)u=Math.max(d.minWidth||\n0,t-g);if(e==CKEDITOR.DIALOG_RESIZE_HEIGHT||e==CKEDITOR.DIALOG_RESIZE_BOTH)r=Math.max(d.minHeight||0,v-h);a.resize(u,r);a._.moved||a.layout();c.data.preventDefault()}function c(){CKEDITOR.document.removeListener(\"mouseup\",c);CKEDITOR.document.removeListener(\"mousemove\",b);n&&(n.remove(),n=null);if(CKEDITOR.env.ie6Compat){var a=y.getChild(0).getFrameDocument();a.removeListener(\"mouseup\",c);a.removeListener(\"mousemove\",b)}}var d=a.definition,e=d.resizable;if(e!=CKEDITOR.DIALOG_RESIZE_NONE){var f=a.getParentEditor(),\ng,h,k,l,m,n,u=CKEDITOR.tools.addFunction(function(d){m=a.getSize();var e=a.parts.contents;e.$.getElementsByTagName(\"iframe\").length&&(n=CKEDITOR.dom.element.createFromHtml('\\x3cdiv class\\x3d\"cke_dialog_resize_cover\" style\\x3d\"height: 100%; position: absolute; width: 100%;\"\\x3e\\x3c/div\\x3e'),e.append(n));h=m.height-a.parts.contents.getSize(\"height\",!(CKEDITOR.env.gecko||CKEDITOR.env.ie&&CKEDITOR.env.quirks));g=m.width-a.parts.contents.getSize(\"width\",1);l={x:d.screenX,y:d.screenY};k=CKEDITOR.document.getWindow().getViewPaneSize();\nCKEDITOR.document.on(\"mousemove\",b);CKEDITOR.document.on(\"mouseup\",c);CKEDITOR.env.ie6Compat&&(e=y.getChild(0).getFrameDocument(),e.on(\"mousemove\",b),e.on(\"mouseup\",c));d.preventDefault&&d.preventDefault()});a.on(\"load\",function(){var b=\"\";e==CKEDITOR.DIALOG_RESIZE_WIDTH?b=\" cke_resizer_horizontal\":e==CKEDITOR.DIALOG_RESIZE_HEIGHT&&(b=\" cke_resizer_vertical\");b=CKEDITOR.dom.element.createFromHtml('\\x3cdiv class\\x3d\"cke_resizer'+b+\" cke_resizer_\"+f.lang.dir+'\" title\\x3d\"'+CKEDITOR.tools.htmlEncode(f.lang.common.resize)+\n'\" onmousedown\\x3d\"CKEDITOR.tools.callFunction('+u+', event )\"\\x3e'+(\"ltr\"==f.lang.dir?\"◢\":\"◣\")+\"\\x3c/div\\x3e\");a.parts.footer.append(b,1)});f.on(\"destroy\",function(){CKEDITOR.tools.removeFunction(u)})}}function n(a){a.data.preventDefault(1)}function q(a){var b=CKEDITOR.document.getWindow(),c=a.config,d=CKEDITOR.skinName||a.config.skin,e=c.dialog_backgroundCoverColor||(\"moono-lisa\"==d?\"black\":\"white\"),d=c.dialog_backgroundCoverOpacity,f=c.baseFloatZIndex,c=CKEDITOR.tools.genKey(e,d,f),g=D[c];g?g.show():\n(f=['\\x3cdiv tabIndex\\x3d\"-1\" style\\x3d\"position: ',CKEDITOR.env.ie6Compat?\"absolute\":\"fixed\",\"; z-index: \",f,\"; top: 0px; left: 0px; \",CKEDITOR.env.ie6Compat?\"\":\"background-color: \"+e,'\" class\\x3d\"cke_dialog_background_cover\"\\x3e'],CKEDITOR.env.ie6Compat&&(e=\"\\x3chtml\\x3e\\x3cbody style\\x3d\\\\'background-color:\"+e+\";\\\\'\\x3e\\x3c/body\\x3e\\x3c/html\\x3e\",f.push('\\x3ciframe hidefocus\\x3d\"true\" frameborder\\x3d\"0\" id\\x3d\"cke_dialog_background_iframe\" src\\x3d\"javascript:'),f.push(\"void((function(){\"+encodeURIComponent(\"document.open();(\"+\nCKEDITOR.tools.fixDomain+\")();document.write( '\"+e+\"' );document.close();\")+\"})())\"),f.push('\" style\\x3d\"position:absolute;left:0;top:0;width:100%;height: 100%;filter: progid:DXImageTransform.Microsoft.Alpha(opacity\\x3d0)\"\\x3e\\x3c/iframe\\x3e')),f.push(\"\\x3c/div\\x3e\"),g=CKEDITOR.dom.element.createFromHtml(f.join(\"\")),g.setOpacity(void 0!==d?d:.5),g.on(\"keydown\",n),g.on(\"keypress\",n),g.on(\"keyup\",n),g.appendTo(CKEDITOR.document.getBody()),D[c]=g);a.focusManager.add(g);y=g;a=function(){var a=b.getViewPaneSize();\ng.setStyles({width:a.width+\"px\",height:a.height+\"px\"})};var h=function(){var a=b.getScrollPosition(),c=CKEDITOR.dialog._.currentTop;g.setStyles({left:a.x+\"px\",top:a.y+\"px\"});if(c){do a=c.getPosition(),c.move(a.x,a.y);while(c=c._.parentDialog)}};z=a;b.on(\"resize\",a);a();CKEDITOR.env.mac&&CKEDITOR.env.webkit||g.focus();if(CKEDITOR.env.ie6Compat){var k=function(){h();arguments.callee.prevScrollHandler.apply(this,arguments)};b.$.setTimeout(function(){k.prevScrollHandler=window.onscroll||function(){};\nwindow.onscroll=k},0);h()}}function p(a){y&&(a.focusManager.remove(y),a=CKEDITOR.document.getWindow(),y.hide(),a.removeListener(\"resize\",z),CKEDITOR.env.ie6Compat&&a.$.setTimeout(function(){window.onscroll=window.onscroll&&window.onscroll.prevScrollHandler||null},0),z=null)}var t=CKEDITOR.tools.cssLength,v='\\x3cdiv class\\x3d\"cke_reset_all {editorId} {editorDialogClass} {hidpi}\" dir\\x3d\"{langDir}\" lang\\x3d\"{langCode}\" role\\x3d\"dialog\" aria-labelledby\\x3d\"cke_dialog_title_{id}\"\\x3e\\x3ctable class\\x3d\"cke_dialog '+\nCKEDITOR.env.cssClass+' cke_{langDir}\" style\\x3d\"position:absolute\" role\\x3d\"presentation\"\\x3e\\x3ctr\\x3e\\x3ctd role\\x3d\"presentation\"\\x3e\\x3cdiv class\\x3d\"cke_dialog_body\" role\\x3d\"presentation\"\\x3e\\x3cdiv id\\x3d\"cke_dialog_title_{id}\" class\\x3d\"cke_dialog_title\" role\\x3d\"presentation\"\\x3e\\x3c/div\\x3e\\x3ca id\\x3d\"cke_dialog_close_button_{id}\" class\\x3d\"cke_dialog_close_button\" href\\x3d\"javascript:void(0)\" title\\x3d\"{closeTitle}\" role\\x3d\"button\"\\x3e\\x3cspan class\\x3d\"cke_label\"\\x3eX\\x3c/span\\x3e\\x3c/a\\x3e\\x3cdiv id\\x3d\"cke_dialog_tabs_{id}\" class\\x3d\"cke_dialog_tabs\" role\\x3d\"tablist\"\\x3e\\x3c/div\\x3e\\x3ctable class\\x3d\"cke_dialog_contents\" role\\x3d\"presentation\"\\x3e\\x3ctr\\x3e\\x3ctd id\\x3d\"cke_dialog_contents_{id}\" class\\x3d\"cke_dialog_contents_body\" role\\x3d\"presentation\"\\x3e\\x3c/td\\x3e\\x3c/tr\\x3e\\x3ctr\\x3e\\x3ctd id\\x3d\"cke_dialog_footer_{id}\" class\\x3d\"cke_dialog_footer\" role\\x3d\"presentation\"\\x3e\\x3c/td\\x3e\\x3c/tr\\x3e\\x3c/table\\x3e\\x3c/div\\x3e\\x3c/td\\x3e\\x3c/tr\\x3e\\x3c/table\\x3e\\x3c/div\\x3e';\nCKEDITOR.dialog=function(b,d){function h(){var a=y._.focusList;a.sort(function(a,b){return a.tabIndex!=b.tabIndex?b.tabIndex-a.tabIndex:a.focusIndex-b.focusIndex});for(var b=a.length,c=0;c<b;c++)a[c].focusIndex=c}function l(a){var b=y._.focusList;a=a||0;if(!(1>b.length)){var c=y._.currentFocusIndex;y._.tabBarMode&&0>a&&(c=0);try{b[c].getInputElement().$.blur()}catch(d){}var e=c,f=1<y._.pageCount;do{e+=a;if(f&&!y._.tabBarMode&&(e==b.length||-1==e)){y._.tabBarMode=!0;y._.tabs[y._.currentTabId][0].focus();\ny._.currentFocusIndex=-1;return}e=(e+b.length)%b.length;if(e==c)break}while(a&&!b[e].isFocusable());b[e].focus();\"text\"==b[e].type&&b[e].select()}}function n(c){if(y==CKEDITOR.dialog._.currentTop){var d=c.data.getKeystroke(),e=\"rtl\"==b.lang.dir,g=[37,38,39,40];q=z=0;if(9==d||d==CKEDITOR.SHIFT+9)l(d==CKEDITOR.SHIFT+9?-1:1),q=1;else if(d==CKEDITOR.ALT+121&&!y._.tabBarMode&&1<y.getPageCount())y._.tabBarMode=!0,y._.tabs[y._.currentTabId][0].focus(),y._.currentFocusIndex=-1,q=1;else if(-1!=CKEDITOR.tools.indexOf(g,\nd)&&y._.tabBarMode)d=-1!=CKEDITOR.tools.indexOf([e?39:37,38],d)?a.call(y):f.call(y),y.selectPage(d),y._.tabs[d][0].focus(),q=1;else if(13!=d&&32!=d||!y._.tabBarMode)if(13==d)d=c.data.getTarget(),d.is(\"a\",\"button\",\"select\",\"textarea\")||d.is(\"input\")&&\"button\"==d.$.type||((d=this.getButton(\"ok\"))&&CKEDITOR.tools.setTimeout(d.click,0,d),q=1),z=1;else if(27==d)(d=this.getButton(\"cancel\"))?CKEDITOR.tools.setTimeout(d.click,0,d):!1!==this.fire(\"cancel\",{hide:!0}).hide&&this.hide(),z=1;else return;else this.selectPage(this._.currentTabId),\nthis._.tabBarMode=!1,this._.currentFocusIndex=-1,l(1),q=1;u(c)}}function u(a){q?a.data.preventDefault(1):z&&a.data.stopPropagation()}var t=CKEDITOR.dialog._.dialogDefinitions[d],v=CKEDITOR.tools.clone(r),B=b.config.dialog_buttonsOrder||\"OS\",x=b.lang.dir,p={},q,z;(\"OS\"==B&&CKEDITOR.env.mac||\"rtl\"==B&&\"ltr\"==x||\"ltr\"==B&&\"rtl\"==x)&&v.buttons.reverse();t=CKEDITOR.tools.extend(t(b),v);t=CKEDITOR.tools.clone(t);t=new w(this,t);v=m(b);this._={editor:b,element:v.element,name:d,contentSize:{width:0,height:0},\nsize:{width:0,height:0},contents:{},buttons:{},accessKeyMap:{},tabs:{},tabIdList:[],currentTabId:null,currentTabIndex:null,pageCount:0,lastTab:null,tabBarMode:!1,focusList:[],currentFocusIndex:0,hasFocus:!1};this.parts=v.parts;CKEDITOR.tools.setTimeout(function(){b.fire(\"ariaWidget\",this.parts.contents)},0,this);v={position:CKEDITOR.env.ie6Compat?\"absolute\":\"fixed\",top:0,visibility:\"hidden\"};v[\"rtl\"==x?\"right\":\"left\"]=0;this.parts.dialog.setStyles(v);CKEDITOR.event.call(this);this.definition=t=CKEDITOR.fire(\"dialogDefinition\",\n{name:d,definition:t},b).definition;if(!(\"removeDialogTabs\"in b._)&&b.config.removeDialogTabs){v=b.config.removeDialogTabs.split(\";\");for(x=0;x<v.length;x++)if(B=v[x].split(\":\"),2==B.length){var D=B[0];p[D]||(p[D]=[]);p[D].push(B[1])}b._.removeDialogTabs=p}if(b._.removeDialogTabs&&(p=b._.removeDialogTabs[d]))for(x=0;x<p.length;x++)t.removeContents(p[x]);if(t.onLoad)this.on(\"load\",t.onLoad);if(t.onShow)this.on(\"show\",t.onShow);if(t.onHide)this.on(\"hide\",t.onHide);if(t.onOk)this.on(\"ok\",function(a){b.fire(\"saveSnapshot\");\nsetTimeout(function(){b.fire(\"saveSnapshot\")},0);!1===t.onOk.call(this,a)&&(a.data.hide=!1)});this.state=CKEDITOR.DIALOG_STATE_IDLE;if(t.onCancel)this.on(\"cancel\",function(a){!1===t.onCancel.call(this,a)&&(a.data.hide=!1)});var y=this,A=function(a){var b=y._.contents,c=!1,d;for(d in b)for(var e in b[d])if(c=a.call(this,b[d][e]))return};this.on(\"ok\",function(a){A(function(b){if(b.validate){var d=b.validate(this),e=\"string\"==typeof d||!1===d;e&&(a.data.hide=!1,a.stop());c.call(b,!e,\"string\"==typeof d?\nd:void 0);return e}})},this,null,0);this.on(\"cancel\",function(a){A(function(c){if(c.isChanged())return b.config.dialog_noConfirmCancel||confirm(b.lang.common.confirmCancel)||(a.data.hide=!1),!0})},this,null,0);this.parts.close.on(\"click\",function(a){!1!==this.fire(\"cancel\",{hide:!0}).hide&&this.hide();a.data.preventDefault()},this);this.changeFocus=l;var C=this._.element;b.focusManager.add(C,1);this.on(\"show\",function(){C.on(\"keydown\",n,this);if(CKEDITOR.env.gecko)C.on(\"keypress\",u,this)});this.on(\"hide\",\nfunction(){C.removeListener(\"keydown\",n);CKEDITOR.env.gecko&&C.removeListener(\"keypress\",u);A(function(a){e.apply(a)})});this.on(\"iframeAdded\",function(a){(new CKEDITOR.dom.document(a.data.iframe.$.contentWindow.document)).on(\"keydown\",n,this,null,0)});this.on(\"show\",function(){h();var a=1<y._.pageCount;b.config.dialog_startupFocusTab&&a?(y._.tabBarMode=!0,y._.tabs[y._.currentTabId][0].focus(),y._.currentFocusIndex=-1):this._.hasFocus||(this._.currentFocusIndex=a?-1:this._.focusList.length-1,t.onFocus?\n(a=t.onFocus.call(this))&&a.focus():l(1))},this,null,4294967295);if(CKEDITOR.env.ie6Compat)this.on(\"load\",function(){var a=this.getElement(),b=a.getFirst();b.remove();b.appendTo(a)},this);k(this);g(this);(new CKEDITOR.dom.text(t.title,CKEDITOR.document)).appendTo(this.parts.title);for(x=0;x<t.contents.length;x++)(p=t.contents[x])&&this.addPage(p);this.parts.tabs.on(\"click\",function(a){var b=a.data.getTarget();b.hasClass(\"cke_dialog_tab\")&&(b=b.$.id,this.selectPage(b.substring(4,b.lastIndexOf(\"_\"))),\nthis._.tabBarMode&&(this._.tabBarMode=!1,this._.currentFocusIndex=-1,l(1)),a.data.preventDefault())},this);x=[];p=CKEDITOR.dialog._.uiElementBuilders.hbox.build(this,{type:\"hbox\",className:\"cke_dialog_footer_buttons\",widths:[],children:t.buttons},x).getChild();this.parts.footer.setHtml(x.join(\"\"));for(x=0;x<p.length;x++)this._.buttons[p[x].id]=p[x]};CKEDITOR.dialog.prototype={destroy:function(){this.hide();this._.element.remove()},resize:function(){return function(a,b){this._.contentSize&&this._.contentSize.width==\na&&this._.contentSize.height==b||(CKEDITOR.dialog.fire(\"resize\",{dialog:this,width:a,height:b},this._.editor),this.fire(\"resize\",{width:a,height:b},this._.editor),this.parts.contents.setStyles({width:a+\"px\",height:b+\"px\"}),\"rtl\"==this._.editor.lang.dir&&this._.position&&(this._.position.x=CKEDITOR.document.getWindow().getViewPaneSize().width-this._.contentSize.width-parseInt(this._.element.getFirst().getStyle(\"right\"),10)),this._.contentSize={width:a,height:b})}}(),getSize:function(){var a=this._.element.getFirst();\nreturn{width:a.$.offsetWidth||0,height:a.$.offsetHeight||0}},move:function(a,b,c){var d=this._.element.getFirst(),e=\"rtl\"==this._.editor.lang.dir,f=\"fixed\"==d.getComputedStyle(\"position\");CKEDITOR.env.ie&&d.setStyle(\"zoom\",\"100%\");f&&this._.position&&this._.position.x==a&&this._.position.y==b||(this._.position={x:a,y:b},f||(f=CKEDITOR.document.getWindow().getScrollPosition(),a+=f.x,b+=f.y),e&&(f=this.getSize(),a=CKEDITOR.document.getWindow().getViewPaneSize().width-f.width-a),b={top:(0<b?b:0)+\"px\"},\nb[e?\"right\":\"left\"]=(0<a?a:0)+\"px\",d.setStyles(b),c&&(this._.moved=1))},getPosition:function(){return CKEDITOR.tools.extend({},this._.position)},show:function(){var a=this._.element,b=this.definition;a.getParent()&&a.getParent().equals(CKEDITOR.document.getBody())?a.setStyle(\"display\",\"block\"):a.appendTo(CKEDITOR.document.getBody());this.resize(this._.contentSize&&this._.contentSize.width||b.width||b.minWidth,this._.contentSize&&this._.contentSize.height||b.height||b.minHeight);this.reset();this.selectPage(this.definition.contents[0].id);\nnull===CKEDITOR.dialog._.currentZIndex&&(CKEDITOR.dialog._.currentZIndex=this._.editor.config.baseFloatZIndex);this._.element.getFirst().setStyle(\"z-index\",CKEDITOR.dialog._.currentZIndex+=10);null===CKEDITOR.dialog._.currentTop?(CKEDITOR.dialog._.currentTop=this,this._.parentDialog=null,q(this._.editor)):(this._.parentDialog=CKEDITOR.dialog._.currentTop,this._.parentDialog.getElement().getFirst().$.style.zIndex-=Math.floor(this._.editor.config.baseFloatZIndex/2),CKEDITOR.dialog._.currentTop=this);\na.on(\"keydown\",C);a.on(\"keyup\",F);this._.hasFocus=!1;for(var c in b.contents)if(b.contents[c]){var a=b.contents[c],e=this._.tabs[a.id],f=a.requiredContent,g=0;if(e){for(var h in this._.contents[a.id]){var k=this._.contents[a.id][h];\"hbox\"!=k.type&&\"vbox\"!=k.type&&k.getInputElement()&&(k.requiredContent&&!this._.editor.activeFilter.check(k.requiredContent)?k.disable():(k.enable(),g++))}!g||f&&!this._.editor.activeFilter.check(f)?e[0].addClass(\"cke_dialog_tab_disabled\"):e[0].removeClass(\"cke_dialog_tab_disabled\")}}CKEDITOR.tools.setTimeout(function(){this.layout();\nd(this);this.parts.dialog.setStyle(\"visibility\",\"\");this.fireOnce(\"load\",{});CKEDITOR.ui.fire(\"ready\",this);this.fire(\"show\",{});this._.editor.fire(\"dialogShow\",this);this._.parentDialog||this._.editor.focusManager.lock();this.foreach(function(a){a.setInitValue&&a.setInitValue()})},100,this)},layout:function(){var a=this.parts.dialog,b=this.getSize(),c=CKEDITOR.document.getWindow().getViewPaneSize(),d=(c.width-b.width)/2,e=(c.height-b.height)/2;CKEDITOR.env.ie6Compat||(b.height+(0<e?e:0)>c.height||\nb.width+(0<d?d:0)>c.width?a.setStyle(\"position\",\"absolute\"):a.setStyle(\"position\",\"fixed\"));this.move(this._.moved?this._.position.x:d,this._.moved?this._.position.y:e)},foreach:function(a){for(var b in this._.contents)for(var c in this._.contents[b])a.call(this,this._.contents[b][c]);return this},reset:function(){var a=function(a){a.reset&&a.reset(1)};return function(){this.foreach(a);return this}}(),setupContent:function(){var a=arguments;this.foreach(function(b){b.setup&&b.setup.apply(b,a)})},\ncommitContent:function(){var a=arguments;this.foreach(function(b){CKEDITOR.env.ie&&this._.currentFocusIndex==b.focusIndex&&b.getInputElement().$.blur();b.commit&&b.commit.apply(b,a)})},hide:function(){if(this.parts.dialog.isVisible()){this.fire(\"hide\",{});this._.editor.fire(\"dialogHide\",this);this.selectPage(this._.tabIdList[0]);var a=this._.element;a.setStyle(\"display\",\"none\");this.parts.dialog.setStyle(\"visibility\",\"hidden\");for(J(this);CKEDITOR.dialog._.currentTop!=this;)CKEDITOR.dialog._.currentTop.hide();\nif(this._.parentDialog){var b=this._.parentDialog.getElement().getFirst();b.setStyle(\"z-index\",parseInt(b.$.style.zIndex,10)+Math.floor(this._.editor.config.baseFloatZIndex/2))}else p(this._.editor);if(CKEDITOR.dialog._.currentTop=this._.parentDialog)CKEDITOR.dialog._.currentZIndex-=10;else{CKEDITOR.dialog._.currentZIndex=null;a.removeListener(\"keydown\",C);a.removeListener(\"keyup\",F);var c=this._.editor;c.focus();setTimeout(function(){c.focusManager.unlock();CKEDITOR.env.iOS&&c.window.focus()},0)}delete this._.parentDialog;\nthis.foreach(function(a){a.resetInitValue&&a.resetInitValue()});this.setState(CKEDITOR.DIALOG_STATE_IDLE)}},addPage:function(a){if(!a.requiredContent||this._.editor.filter.check(a.requiredContent)){for(var b=[],c=a.label?' title\\x3d\"'+CKEDITOR.tools.htmlEncode(a.label)+'\"':\"\",d=CKEDITOR.dialog._.uiElementBuilders.vbox.build(this,{type:\"vbox\",className:\"cke_dialog_page_contents\",children:a.elements,expand:!!a.expand,padding:a.padding,style:a.style||\"width: 100%;\"},b),e=this._.contents[a.id]={},f=d.getChild(),\ng=0;d=f.shift();)d.notAllowed||\"hbox\"==d.type||\"vbox\"==d.type||g++,e[d.id]=d,\"function\"==typeof d.getChild&&f.push.apply(f,d.getChild());g||(a.hidden=!0);b=CKEDITOR.dom.element.createFromHtml(b.join(\"\"));b.setAttribute(\"role\",\"tabpanel\");d=CKEDITOR.env;e=\"cke_\"+a.id+\"_\"+CKEDITOR.tools.getNextNumber();c=CKEDITOR.dom.element.createFromHtml(['\\x3ca class\\x3d\"cke_dialog_tab\"',0<this._.pageCount?\" cke_last\":\"cke_first\",c,a.hidden?' style\\x3d\"display:none\"':\"\",' id\\x3d\"',e,'\"',d.gecko&&!d.hc?\"\":' href\\x3d\"javascript:void(0)\"',\n' tabIndex\\x3d\"-1\" hidefocus\\x3d\"true\" role\\x3d\"tab\"\\x3e',a.label,\"\\x3c/a\\x3e\"].join(\"\"));b.setAttribute(\"aria-labelledby\",e);this._.tabs[a.id]=[c,b];this._.tabIdList.push(a.id);!a.hidden&&this._.pageCount++;this._.lastTab=c;this.updateStyle();b.setAttribute(\"name\",a.id);b.appendTo(this.parts.contents);c.unselectable();this.parts.tabs.append(c);a.accessKey&&(E(this,this,\"CTRL+\"+a.accessKey,M,G),this._.accessKeyMap[\"CTRL+\"+a.accessKey]=a.id)}},selectPage:function(a){if(this._.currentTabId!=a&&!this._.tabs[a][0].hasClass(\"cke_dialog_tab_disabled\")&&\n!1!==this.fire(\"selectPage\",{page:a,currentPage:this._.currentTabId})){for(var c in this._.tabs){var d=this._.tabs[c][0],e=this._.tabs[c][1];c!=a&&(d.removeClass(\"cke_dialog_tab_selected\"),e.hide());e.setAttribute(\"aria-hidden\",c!=a)}var f=this._.tabs[a];f[0].addClass(\"cke_dialog_tab_selected\");CKEDITOR.env.ie6Compat||CKEDITOR.env.ie7Compat?(b(f[1]),f[1].show(),setTimeout(function(){b(f[1],1)},0)):f[1].show();this._.currentTabId=a;this._.currentTabIndex=CKEDITOR.tools.indexOf(this._.tabIdList,a)}},\nupdateStyle:function(){this.parts.dialog[(1===this._.pageCount?\"add\":\"remove\")+\"Class\"](\"cke_single_page\")},hidePage:function(b){var c=this._.tabs[b]&&this._.tabs[b][0];c&&1!=this._.pageCount&&c.isVisible()&&(b==this._.currentTabId&&this.selectPage(a.call(this)),c.hide(),this._.pageCount--,this.updateStyle())},showPage:function(a){if(a=this._.tabs[a]&&this._.tabs[a][0])a.show(),this._.pageCount++,this.updateStyle()},getElement:function(){return this._.element},getName:function(){return this._.name},\ngetContentElement:function(a,b){var c=this._.contents[a];return c&&c[b]},getValueOf:function(a,b){return this.getContentElement(a,b).getValue()},setValueOf:function(a,b,c){return this.getContentElement(a,b).setValue(c)},getButton:function(a){return this._.buttons[a]},click:function(a){return this._.buttons[a].click()},disableButton:function(a){return this._.buttons[a].disable()},enableButton:function(a){return this._.buttons[a].enable()},getPageCount:function(){return this._.pageCount},getParentEditor:function(){return this._.editor},\ngetSelectedElement:function(){return this.getParentEditor().getSelection().getSelectedElement()},addFocusable:function(a,b){if(\"undefined\"==typeof b)b=this._.focusList.length,this._.focusList.push(new l(this,a,b));else{this._.focusList.splice(b,0,new l(this,a,b));for(var c=b+1;c<this._.focusList.length;c++)this._.focusList[c].focusIndex++}},setState:function(a){if(this.state!=a){this.state=a;if(a==CKEDITOR.DIALOG_STATE_BUSY){if(!this.parts.spinner){var b=this.getParentEditor().lang.dir,c={attributes:{\"class\":\"cke_dialog_spinner\"},\nstyles:{\"float\":\"rtl\"==b?\"right\":\"left\"}};c.styles[\"margin-\"+(\"rtl\"==b?\"left\":\"right\")]=\"8px\";this.parts.spinner=CKEDITOR.document.createElement(\"div\",c);this.parts.spinner.setHtml(\"\\x26#8987;\");this.parts.spinner.appendTo(this.parts.title,1)}this.parts.spinner.show();this.getButton(\"ok\").disable()}else a==CKEDITOR.DIALOG_STATE_IDLE&&(this.parts.spinner&&this.parts.spinner.hide(),this.getButton(\"ok\").enable());this.fire(\"state\",a)}}};CKEDITOR.tools.extend(CKEDITOR.dialog,{add:function(a,b){this._.dialogDefinitions[a]&&\n\"function\"!=typeof b||(this._.dialogDefinitions[a]=b)},exists:function(a){return!!this._.dialogDefinitions[a]},getCurrent:function(){return CKEDITOR.dialog._.currentTop},isTabEnabled:function(a,b,c){a=a.config.removeDialogTabs;return!(a&&a.match(new RegExp(\"(?:^|;)\"+b+\":\"+c+\"(?:$|;)\",\"i\")))},okButton:function(){var a=function(a,b){b=b||{};return CKEDITOR.tools.extend({id:\"ok\",type:\"button\",label:a.lang.common.ok,\"class\":\"cke_dialog_ui_button_ok\",onClick:function(a){a=a.data.dialog;!1!==a.fire(\"ok\",\n{hide:!0}).hide&&a.hide()}},b,!0)};a.type=\"button\";a.override=function(b){return CKEDITOR.tools.extend(function(c){return a(c,b)},{type:\"button\"},!0)};return a}(),cancelButton:function(){var a=function(a,b){b=b||{};return CKEDITOR.tools.extend({id:\"cancel\",type:\"button\",label:a.lang.common.cancel,\"class\":\"cke_dialog_ui_button_cancel\",onClick:function(a){a=a.data.dialog;!1!==a.fire(\"cancel\",{hide:!0}).hide&&a.hide()}},b,!0)};a.type=\"button\";a.override=function(b){return CKEDITOR.tools.extend(function(c){return a(c,\nb)},{type:\"button\"},!0)};return a}(),addUIElement:function(a,b){this._.uiElementBuilders[a]=b}});CKEDITOR.dialog._={uiElementBuilders:{},dialogDefinitions:{},currentTop:null,currentZIndex:null};CKEDITOR.event.implementOn(CKEDITOR.dialog);CKEDITOR.event.implementOn(CKEDITOR.dialog.prototype);var r={resizable:CKEDITOR.DIALOG_RESIZE_BOTH,minWidth:600,minHeight:400,buttons:[CKEDITOR.dialog.okButton,CKEDITOR.dialog.cancelButton]},u=function(a,b,c){for(var d=0,e;e=a[d];d++)if(e.id==b||c&&e[c]&&(e=u(e[c],\nb,c)))return e;return null},B=function(a,b,c,d,e){if(c){for(var f=0,g;g=a[f];f++){if(g.id==c)return a.splice(f,0,b),b;if(d&&g[d]&&(g=B(g[d],b,c,d,!0)))return g}if(e)return null}a.push(b);return b},x=function(a,b,c){for(var d=0,e;e=a[d];d++){if(e.id==b)return a.splice(d,1);if(c&&e[c]&&(e=x(e[c],b,c)))return e}return null},w=function(a,b){this.dialog=a;for(var c=b.contents,d=0,e;e=c[d];d++)c[d]=e&&new h(a,e);CKEDITOR.tools.extend(this,b)};w.prototype={getContents:function(a){return u(this.contents,\na)},getButton:function(a){return u(this.buttons,a)},addContents:function(a,b){return B(this.contents,a,b)},addButton:function(a,b){return B(this.buttons,a,b)},removeContents:function(a){x(this.contents,a)},removeButton:function(a){x(this.buttons,a)}};h.prototype={get:function(a){return u(this.elements,a,\"children\")},add:function(a,b){return B(this.elements,a,b,\"children\")},remove:function(a){x(this.elements,a,\"children\")}};var z,D={},y,A={},C=function(a){var b=a.data.$.ctrlKey||a.data.$.metaKey,c=\na.data.$.altKey,d=a.data.$.shiftKey,e=String.fromCharCode(a.data.$.keyCode);(b=A[(b?\"CTRL+\":\"\")+(c?\"ALT+\":\"\")+(d?\"SHIFT+\":\"\")+e])&&b.length&&(b=b[b.length-1],b.keydown&&b.keydown.call(b.uiElement,b.dialog,b.key),a.data.preventDefault())},F=function(a){var b=a.data.$.ctrlKey||a.data.$.metaKey,c=a.data.$.altKey,d=a.data.$.shiftKey,e=String.fromCharCode(a.data.$.keyCode);(b=A[(b?\"CTRL+\":\"\")+(c?\"ALT+\":\"\")+(d?\"SHIFT+\":\"\")+e])&&b.length&&(b=b[b.length-1],b.keyup&&(b.keyup.call(b.uiElement,b.dialog,b.key),\na.data.preventDefault()))},E=function(a,b,c,d,e){(A[c]||(A[c]=[])).push({uiElement:a,dialog:b,key:c,keyup:e||a.accessKeyUp,keydown:d||a.accessKeyDown})},J=function(a){for(var b in A){for(var c=A[b],d=c.length-1;0<=d;d--)c[d].dialog!=a&&c[d].uiElement!=a||c.splice(d,1);0===c.length&&delete A[b]}},G=function(a,b){a._.accessKeyMap[b]&&a.selectPage(a._.accessKeyMap[b])},M=function(){};(function(){CKEDITOR.ui.dialog={uiElement:function(a,b,c,d,e,f,g){if(!(4>arguments.length)){var h=(d.call?d(b):d)||\"div\",\nk=[\"\\x3c\",h,\" \"],l=(e&&e.call?e(b):e)||{},m=(f&&f.call?f(b):f)||{},n=(g&&g.call?g.call(this,a,b):g)||\"\",u=this.domId=m.id||CKEDITOR.tools.getNextId()+\"_uiElement\";b.requiredContent&&!a.getParentEditor().filter.check(b.requiredContent)&&(l.display=\"none\",this.notAllowed=!0);m.id=u;var r={};b.type&&(r[\"cke_dialog_ui_\"+b.type]=1);b.className&&(r[b.className]=1);b.disabled&&(r.cke_disabled=1);for(var t=m[\"class\"]&&m[\"class\"].split?m[\"class\"].split(\" \"):[],u=0;u<t.length;u++)t[u]&&(r[t[u]]=1);t=[];for(u in r)t.push(u);\nm[\"class\"]=t.join(\" \");b.title&&(m.title=b.title);r=(b.style||\"\").split(\";\");b.align&&(t=b.align,l[\"margin-left\"]=\"left\"==t?0:\"auto\",l[\"margin-right\"]=\"right\"==t?0:\"auto\");for(u in l)r.push(u+\":\"+l[u]);b.hidden&&r.push(\"display:none\");for(u=r.length-1;0<=u;u--)\"\"===r[u]&&r.splice(u,1);0<r.length&&(m.style=(m.style?m.style+\"; \":\"\")+r.join(\"; \"));for(u in m)k.push(u+'\\x3d\"'+CKEDITOR.tools.htmlEncode(m[u])+'\" ');k.push(\"\\x3e\",n,\"\\x3c/\",h,\"\\x3e\");c.push(k.join(\"\"));(this._||(this._={})).dialog=a;\"boolean\"==\ntypeof b.isChanged&&(this.isChanged=function(){return b.isChanged});\"function\"==typeof b.isChanged&&(this.isChanged=b.isChanged);\"function\"==typeof b.setValue&&(this.setValue=CKEDITOR.tools.override(this.setValue,function(a){return function(c){a.call(this,b.setValue.call(this,c))}}));\"function\"==typeof b.getValue&&(this.getValue=CKEDITOR.tools.override(this.getValue,function(a){return function(){return b.getValue.call(this,a.call(this))}}));CKEDITOR.event.implementOn(this);this.registerEvents(b);\nthis.accessKeyUp&&this.accessKeyDown&&b.accessKey&&E(this,a,\"CTRL+\"+b.accessKey);var x=this;a.on(\"load\",function(){var b=x.getInputElement();if(b){var c=x.type in{checkbox:1,ratio:1}&&CKEDITOR.env.ie&&8>CKEDITOR.env.version?\"cke_dialog_ui_focused\":\"\";b.on(\"focus\",function(){a._.tabBarMode=!1;a._.hasFocus=!0;x.fire(\"focus\");c&&this.addClass(c)});b.on(\"blur\",function(){x.fire(\"blur\");c&&this.removeClass(c)})}});CKEDITOR.tools.extend(this,b);this.keyboardFocusable&&(this.tabIndex=b.tabIndex||0,this.focusIndex=\na._.focusList.push(this)-1,this.on(\"focus\",function(){a._.currentFocusIndex=x.focusIndex}))}},hbox:function(a,b,c,d,e){if(!(4>arguments.length)){this._||(this._={});var f=this._.children=b,g=e&&e.widths||null,h=e&&e.height||null,k,l={role:\"presentation\"};e&&e.align&&(l.align=e.align);CKEDITOR.ui.dialog.uiElement.call(this,a,e||{type:\"hbox\"},d,\"table\",{},l,function(){var a=['\\x3ctbody\\x3e\\x3ctr class\\x3d\"cke_dialog_ui_hbox\"\\x3e'];for(k=0;k<c.length;k++){var b=\"cke_dialog_ui_hbox_child\",d=[];0===k&&\n(b=\"cke_dialog_ui_hbox_first\");k==c.length-1&&(b=\"cke_dialog_ui_hbox_last\");a.push('\\x3ctd class\\x3d\"',b,'\" role\\x3d\"presentation\" ');g?g[k]&&d.push(\"width:\"+t(g[k])):d.push(\"width:\"+Math.floor(100/c.length)+\"%\");h&&d.push(\"height:\"+t(h));e&&void 0!==e.padding&&d.push(\"padding:\"+t(e.padding));CKEDITOR.env.ie&&CKEDITOR.env.quirks&&f[k].align&&d.push(\"text-align:\"+f[k].align);0<d.length&&a.push('style\\x3d\"'+d.join(\"; \")+'\" ');a.push(\"\\x3e\",c[k],\"\\x3c/td\\x3e\")}a.push(\"\\x3c/tr\\x3e\\x3c/tbody\\x3e\");return a.join(\"\")})}},\nvbox:function(a,b,c,d,e){if(!(3>arguments.length)){this._||(this._={});var f=this._.children=b,g=e&&e.width||null,h=e&&e.heights||null;CKEDITOR.ui.dialog.uiElement.call(this,a,e||{type:\"vbox\"},d,\"div\",null,{role:\"presentation\"},function(){var b=['\\x3ctable role\\x3d\"presentation\" cellspacing\\x3d\"0\" border\\x3d\"0\" '];b.push('style\\x3d\"');e&&e.expand&&b.push(\"height:100%;\");b.push(\"width:\"+t(g||\"100%\"),\";\");CKEDITOR.env.webkit&&b.push(\"float:none;\");b.push('\"');b.push('align\\x3d\"',CKEDITOR.tools.htmlEncode(e&&\ne.align||(\"ltr\"==a.getParentEditor().lang.dir?\"left\":\"right\")),'\" ');b.push(\"\\x3e\\x3ctbody\\x3e\");for(var d=0;d<c.length;d++){var k=[];b.push('\\x3ctr\\x3e\\x3ctd role\\x3d\"presentation\" ');g&&k.push(\"width:\"+t(g||\"100%\"));h?k.push(\"height:\"+t(h[d])):e&&e.expand&&k.push(\"height:\"+Math.floor(100/c.length)+\"%\");e&&void 0!==e.padding&&k.push(\"padding:\"+t(e.padding));CKEDITOR.env.ie&&CKEDITOR.env.quirks&&f[d].align&&k.push(\"text-align:\"+f[d].align);0<k.length&&b.push('style\\x3d\"',k.join(\"; \"),'\" ');b.push(' class\\x3d\"cke_dialog_ui_vbox_child\"\\x3e',\nc[d],\"\\x3c/td\\x3e\\x3c/tr\\x3e\")}b.push(\"\\x3c/tbody\\x3e\\x3c/table\\x3e\");return b.join(\"\")})}}}})();CKEDITOR.ui.dialog.uiElement.prototype={getElement:function(){return CKEDITOR.document.getById(this.domId)},getInputElement:function(){return this.getElement()},getDialog:function(){return this._.dialog},setValue:function(a,b){this.getInputElement().setValue(a);!b&&this.fire(\"change\",{value:a});return this},getValue:function(){return this.getInputElement().getValue()},isChanged:function(){return!1},selectParentTab:function(){for(var a=\nthis.getInputElement();(a=a.getParent())&&-1==a.$.className.search(\"cke_dialog_page_contents\"););if(!a)return this;a=a.getAttribute(\"name\");this._.dialog._.currentTabId!=a&&this._.dialog.selectPage(a);return this},focus:function(){this.selectParentTab().getInputElement().focus();return this},registerEvents:function(a){var b=/^on([A-Z]\\w+)/,c,d=function(a,b,c,d){b.on(\"load\",function(){a.getInputElement().on(c,d,a)})},e;for(e in a)if(c=e.match(b))this.eventProcessors[e]?this.eventProcessors[e].call(this,\nthis._.dialog,a[e]):d(this,this._.dialog,c[1].toLowerCase(),a[e]);return this},eventProcessors:{onLoad:function(a,b){a.on(\"load\",b,this)},onShow:function(a,b){a.on(\"show\",b,this)},onHide:function(a,b){a.on(\"hide\",b,this)}},accessKeyDown:function(){this.focus()},accessKeyUp:function(){},disable:function(){var a=this.getElement();this.getInputElement().setAttribute(\"disabled\",\"true\");a.addClass(\"cke_disabled\")},enable:function(){var a=this.getElement();this.getInputElement().removeAttribute(\"disabled\");\na.removeClass(\"cke_disabled\")},isEnabled:function(){return!this.getElement().hasClass(\"cke_disabled\")},isVisible:function(){return this.getInputElement().isVisible()},isFocusable:function(){return this.isEnabled()&&this.isVisible()?!0:!1}};CKEDITOR.ui.dialog.hbox.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement,{getChild:function(a){if(1>arguments.length)return this._.children.concat();a.splice||(a=[a]);return 2>a.length?this._.children[a[0]]:this._.children[a[0]]&&this._.children[a[0]].getChild?\nthis._.children[a[0]].getChild(a.slice(1,a.length)):null}},!0);CKEDITOR.ui.dialog.vbox.prototype=new CKEDITOR.ui.dialog.hbox;(function(){var a={build:function(a,b,c){for(var d=b.children,e,f=[],g=[],h=0;h<d.length&&(e=d[h]);h++){var k=[];f.push(k);g.push(CKEDITOR.dialog._.uiElementBuilders[e.type].build(a,e,k))}return new CKEDITOR.ui.dialog[b.type](a,g,f,c,b)}};CKEDITOR.dialog.addUIElement(\"hbox\",a);CKEDITOR.dialog.addUIElement(\"vbox\",a)})();CKEDITOR.dialogCommand=function(a,b){this.dialogName=a;\nCKEDITOR.tools.extend(this,b,!0)};CKEDITOR.dialogCommand.prototype={exec:function(a){a.openDialog(this.dialogName)},canUndo:!1,editorFocus:1};(function(){var a=/^([a]|[^a])+$/,b=/^\\d*$/,c=/^\\d*(?:\\.\\d+)?$/,d=/^(((\\d*(\\.\\d+))|(\\d*))(px|\\%)?)?$/,e=/^(((\\d*(\\.\\d+))|(\\d*))(px|em|ex|in|cm|mm|pt|pc|\\%)?)?$/i,f=/^(\\s*[\\w-]+\\s*:\\s*[^:;]+(?:;|$))*$/;CKEDITOR.VALIDATE_OR=1;CKEDITOR.VALIDATE_AND=2;CKEDITOR.dialog.validate={functions:function(){var a=arguments;return function(){var b=this&&this.getValue?this.getValue():\na[0],c,d=CKEDITOR.VALIDATE_AND,e=[],f;for(f=0;f<a.length;f++)if(\"function\"==typeof a[f])e.push(a[f]);else break;f<a.length&&\"string\"==typeof a[f]&&(c=a[f],f++);f<a.length&&\"number\"==typeof a[f]&&(d=a[f]);var g=d==CKEDITOR.VALIDATE_AND?!0:!1;for(f=0;f<e.length;f++)g=d==CKEDITOR.VALIDATE_AND?g&&e[f](b):g||e[f](b);return g?!0:c}},regex:function(a,b){return function(c){c=this&&this.getValue?this.getValue():c;return a.test(c)?!0:b}},notEmpty:function(b){return this.regex(a,b)},integer:function(a){return this.regex(b,\na)},number:function(a){return this.regex(c,a)},cssLength:function(a){return this.functions(function(a){return e.test(CKEDITOR.tools.trim(a))},a)},htmlLength:function(a){return this.functions(function(a){return d.test(CKEDITOR.tools.trim(a))},a)},inlineStyle:function(a){return this.functions(function(a){return f.test(CKEDITOR.tools.trim(a))},a)},equals:function(a,b){return this.functions(function(b){return b==a},b)},notEqual:function(a,b){return this.functions(function(b){return b!=a},b)}};CKEDITOR.on(\"instanceDestroyed\",\nfunction(a){if(CKEDITOR.tools.isEmpty(CKEDITOR.instances)){for(var b;b=CKEDITOR.dialog._.currentTop;)b.hide();for(var c in D)D[c].remove();D={}}a=a.editor._.storedDialogs;for(var d in a)a[d].destroy()})})();CKEDITOR.tools.extend(CKEDITOR.editor.prototype,{openDialog:function(a,b){var c=null,d=CKEDITOR.dialog._.dialogDefinitions[a];null===CKEDITOR.dialog._.currentTop&&q(this);if(\"function\"==typeof d)c=this._.storedDialogs||(this._.storedDialogs={}),c=c[a]||(c[a]=new CKEDITOR.dialog(this,a)),b&&b.call(c,\nc),c.show();else{if(\"failed\"==d)throw p(this),Error('[CKEDITOR.dialog.openDialog] Dialog \"'+a+'\" failed when loading definition.');\"string\"==typeof d&&CKEDITOR.scriptLoader.load(CKEDITOR.getUrl(d),function(){\"function\"!=typeof CKEDITOR.dialog._.dialogDefinitions[a]&&(CKEDITOR.dialog._.dialogDefinitions[a]=\"failed\");this.openDialog(a,b)},this,0,1)}CKEDITOR.skin.loadPart(\"dialog\");return c}})}(),CKEDITOR.plugins.add(\"dialog\",{requires:\"dialogui\",init:function(a){a.on(\"doubleclick\",function(f){f.data.dialog&&\na.openDialog(f.data.dialog)},null,null,999)}}),function(){CKEDITOR.plugins.add(\"a11yhelp\",{requires:\"dialog\",availableLangs:{af:1,ar:1,bg:1,ca:1,cs:1,cy:1,da:1,de:1,\"de-ch\":1,el:1,en:1,\"en-gb\":1,eo:1,es:1,et:1,eu:1,fa:1,fi:1,fo:1,fr:1,\"fr-ca\":1,gl:1,gu:1,he:1,hi:1,hr:1,hu:1,id:1,it:1,ja:1,km:1,ko:1,ku:1,lt:1,lv:1,mk:1,mn:1,nb:1,nl:1,no:1,pl:1,pt:1,\"pt-br\":1,ro:1,ru:1,si:1,sk:1,sl:1,sq:1,sr:1,\"sr-latn\":1,sv:1,th:1,tr:1,tt:1,ug:1,uk:1,vi:1,zh:1,\"zh-cn\":1},init:function(a){var f=this;a.addCommand(\"a11yHelp\",\n{exec:function(){var b=a.langCode,b=f.availableLangs[b]?b:f.availableLangs[b.replace(/-.*/,\"\")]?b.replace(/-.*/,\"\"):\"en\";CKEDITOR.scriptLoader.load(CKEDITOR.getUrl(f.path+\"dialogs/lang/\"+b+\".js\"),function(){a.lang.a11yhelp=f.langEntries[b];a.openDialog(\"a11yHelp\")})},modes:{wysiwyg:1,source:1},readOnly:1,canUndo:!1});a.setKeystroke(CKEDITOR.ALT+48,\"a11yHelp\");CKEDITOR.dialog.add(\"a11yHelp\",this.path+\"dialogs/a11yhelp.js\");a.on(\"ariaEditorHelpLabel\",function(b){b.data.label=a.lang.common.editorHelp})}})}(),\nCKEDITOR.plugins.add(\"about\",{requires:\"dialog\",init:function(a){var f=a.addCommand(\"about\",new CKEDITOR.dialogCommand(\"about\"));f.modes={wysiwyg:1,source:1};f.canUndo=!1;f.readOnly=1;a.ui.addButton&&a.ui.addButton(\"About\",{label:a.lang.about.title,command:\"about\",toolbar:\"about\"});CKEDITOR.dialog.add(\"about\",this.path+\"dialogs/about.js\")}}),CKEDITOR.plugins.add(\"basicstyles\",{init:function(a){var f=0,b=function(b,d,e,k){if(k){k=new CKEDITOR.style(k);var g=c[e];g.unshift(k);a.attachStyleStateChange(k,\nfunction(b){!a.readOnly&&a.getCommand(e).setState(b)});a.addCommand(e,new CKEDITOR.styleCommand(k,{contentForms:g}));a.ui.addButton&&a.ui.addButton(b,{label:d,command:e,toolbar:\"basicstyles,\"+(f+=10)})}},c={bold:[\"strong\",\"b\",[\"span\",function(a){a=a.styles[\"font-weight\"];return\"bold\"==a||700<=+a}]],italic:[\"em\",\"i\",[\"span\",function(a){return\"italic\"==a.styles[\"font-style\"]}]],underline:[\"u\",[\"span\",function(a){return\"underline\"==a.styles[\"text-decoration\"]}]],strike:[\"s\",\"strike\",[\"span\",function(a){return\"line-through\"==\na.styles[\"text-decoration\"]}]],subscript:[\"sub\"],superscript:[\"sup\"]},e=a.config,m=a.lang.basicstyles;b(\"Bold\",m.bold,\"bold\",e.coreStyles_bold);b(\"Italic\",m.italic,\"italic\",e.coreStyles_italic);b(\"Underline\",m.underline,\"underline\",e.coreStyles_underline);b(\"Strike\",m.strike,\"strike\",e.coreStyles_strike);b(\"Subscript\",m.subscript,\"subscript\",e.coreStyles_subscript);b(\"Superscript\",m.superscript,\"superscript\",e.coreStyles_superscript);a.setKeystroke([[CKEDITOR.CTRL+66,\"bold\"],[CKEDITOR.CTRL+73,\"italic\"],\n[CKEDITOR.CTRL+85,\"underline\"]])}}),CKEDITOR.config.coreStyles_bold={element:\"strong\",overrides:\"b\"},CKEDITOR.config.coreStyles_italic={element:\"em\",overrides:\"i\"},CKEDITOR.config.coreStyles_underline={element:\"u\"},CKEDITOR.config.coreStyles_strike={element:\"s\",overrides:\"strike\"},CKEDITOR.config.coreStyles_subscript={element:\"sub\"},CKEDITOR.config.coreStyles_superscript={element:\"sup\"},function(){var a={exec:function(a){var b=a.getCommand(\"blockquote\").state,c=a.getSelection(),e=c&&c.getRanges()[0];\nif(e){var m=c.createBookmarks();if(CKEDITOR.env.ie){var l=m[0].startNode,d=m[0].endNode,h;if(l&&\"blockquote\"==l.getParent().getName())for(h=l;h=h.getNext();)if(h.type==CKEDITOR.NODE_ELEMENT&&h.isBlockBoundary()){l.move(h,!0);break}if(d&&\"blockquote\"==d.getParent().getName())for(h=d;h=h.getPrevious();)if(h.type==CKEDITOR.NODE_ELEMENT&&h.isBlockBoundary()){d.move(h);break}}var k=e.createIterator();k.enlargeBr=a.config.enterMode!=CKEDITOR.ENTER_BR;if(b==CKEDITOR.TRISTATE_OFF){for(l=[];b=k.getNextParagraph();)l.push(b);\n1>l.length&&(b=a.document.createElement(a.config.enterMode==CKEDITOR.ENTER_P?\"p\":\"div\"),d=m.shift(),e.insertNode(b),b.append(new CKEDITOR.dom.text(\"﻿\",a.document)),e.moveToBookmark(d),e.selectNodeContents(b),e.collapse(!0),d=e.createBookmark(),l.push(b),m.unshift(d));h=l[0].getParent();e=[];for(d=0;d<l.length;d++)b=l[d],h=h.getCommonAncestor(b.getParent());for(b={table:1,tbody:1,tr:1,ol:1,ul:1};b[h.getName()];)h=h.getParent();for(d=null;0<l.length;){for(b=l.shift();!b.getParent().equals(h);)b=b.getParent();\nb.equals(d)||e.push(b);d=b}for(;0<e.length;)if(b=e.shift(),\"blockquote\"==b.getName()){for(d=new CKEDITOR.dom.documentFragment(a.document);b.getFirst();)d.append(b.getFirst().remove()),l.push(d.getLast());d.replace(b)}else l.push(b);e=a.document.createElement(\"blockquote\");for(e.insertBefore(l[0]);0<l.length;)b=l.shift(),e.append(b)}else if(b==CKEDITOR.TRISTATE_ON){d=[];for(h={};b=k.getNextParagraph();){for(l=e=null;b.getParent();){if(\"blockquote\"==b.getParent().getName()){e=b.getParent();l=b;break}b=\nb.getParent()}e&&l&&!l.getCustomData(\"blockquote_moveout\")&&(d.push(l),CKEDITOR.dom.element.setMarker(h,l,\"blockquote_moveout\",!0))}CKEDITOR.dom.element.clearAllMarkers(h);b=[];l=[];for(h={};0<d.length;)k=d.shift(),e=k.getParent(),k.getPrevious()?k.getNext()?(k.breakParent(k.getParent()),l.push(k.getNext())):k.remove().insertAfter(e):k.remove().insertBefore(e),e.getCustomData(\"blockquote_processed\")||(l.push(e),CKEDITOR.dom.element.setMarker(h,e,\"blockquote_processed\",!0)),b.push(k);CKEDITOR.dom.element.clearAllMarkers(h);\nfor(d=l.length-1;0<=d;d--){e=l[d];a:{h=e;for(var k=0,g=h.getChildCount(),n=void 0;k<g&&(n=h.getChild(k));k++)if(n.type==CKEDITOR.NODE_ELEMENT&&n.isBlockBoundary()){h=!1;break a}h=!0}h&&e.remove()}if(a.config.enterMode==CKEDITOR.ENTER_BR)for(e=!0;b.length;)if(k=b.shift(),\"div\"==k.getName()){d=new CKEDITOR.dom.documentFragment(a.document);!e||!k.getPrevious()||k.getPrevious().type==CKEDITOR.NODE_ELEMENT&&k.getPrevious().isBlockBoundary()||d.append(a.document.createElement(\"br\"));for(e=k.getNext()&&\n!(k.getNext().type==CKEDITOR.NODE_ELEMENT&&k.getNext().isBlockBoundary());k.getFirst();)k.getFirst().remove().appendTo(d);e&&d.append(a.document.createElement(\"br\"));d.replace(k);e=!1}}c.selectBookmarks(m);a.focus()}},refresh:function(a,b){this.setState(a.elementPath(b.block||b.blockLimit).contains(\"blockquote\",1)?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF)},context:\"blockquote\",allowedContent:\"blockquote\",requiredContent:\"blockquote\"};CKEDITOR.plugins.add(\"blockquote\",{init:function(f){f.blockless||\n(f.addCommand(\"blockquote\",a),f.ui.addButton&&f.ui.addButton(\"Blockquote\",{label:f.lang.blockquote.toolbar,command:\"blockquote\",toolbar:\"blocks,10\"}))}})}(),\"use strict\",function(){function a(a,b,c){b.type||(b.type=\"auto\");if(c&&!1===a.fire(\"beforePaste\",b)||!b.dataValue&&b.dataTransfer.isEmpty())return!1;b.dataValue||(b.dataValue=\"\");if(CKEDITOR.env.gecko&&\"drop\"==b.method&&a.toolbox)a.once(\"afterPaste\",function(){a.toolbox.focus()});return a.fire(\"paste\",b)}function f(b){function c(){var a=b.editable();\nif(CKEDITOR.plugins.clipboard.isCustomCopyCutSupported){var d=function(a){b.readOnly&&\"cut\"==a.name||A.initPasteDataTransfer(a,b);a.data.preventDefault()};a.on(\"copy\",d);a.on(\"cut\",d);a.on(\"cut\",function(){b.readOnly||b.extractSelectedHtml()},null,null,999)}a.on(A.mainPasteEvent,function(a){\"beforepaste\"==A.mainPasteEvent&&C||z(a)});\"beforepaste\"==A.mainPasteEvent&&(a.on(\"paste\",function(a){F||(f(),a.data.preventDefault(),z(a),k(\"paste\")||b.openDialog(\"paste\"))}),a.on(\"contextmenu\",h,null,null,0),\na.on(\"beforepaste\",function(a){!a.data||a.data.$.ctrlKey||a.data.$.shiftKey||h()},null,null,0));a.on(\"beforecut\",function(){!C&&l(b)});var e;a.attachListener(CKEDITOR.env.ie?a:b.document.getDocumentElement(),\"mouseup\",function(){e=setTimeout(function(){D()},0)});b.on(\"destroy\",function(){clearTimeout(e)});a.on(\"keyup\",D)}function d(a){return{type:a,canUndo:\"cut\"==a,startDisabled:!0,fakeKeystroke:\"cut\"==a?CKEDITOR.CTRL+88:CKEDITOR.CTRL+67,exec:function(){\"cut\"==this.type&&l();var a;var c=this.type;\nif(CKEDITOR.env.ie)a=k(c);else try{a=b.document.$.execCommand(c,!1,null)}catch(d){a=!1}a||b.showNotification(b.lang.clipboard[this.type+\"Error\"]);return a}}}function e(){return{canUndo:!1,async:!0,fakeKeystroke:CKEDITOR.CTRL+86,exec:function(b,c){var d=this,e=function(c,e){c&&a(b,c,!!e);b.fire(\"afterCommandExec\",{name:\"paste\",command:d,returnValue:!!c})};\"string\"==typeof c?e({dataValue:c,method:\"paste\",dataTransfer:A.initPasteDataTransfer()},1):b.getClipboardData(e)}}}function f(){F=1;setTimeout(function(){F=\n0},100)}function h(){C=1;setTimeout(function(){C=0},10)}function k(a){var c=b.document,d=c.getBody(),e=!1,f=function(){e=!0};d.on(a,f);7<CKEDITOR.env.version?c.$.execCommand(a):c.$.selection.createRange().execCommand(a);d.removeListener(a,f);return e}function l(){if(CKEDITOR.env.ie&&!CKEDITOR.env.quirks){var a=b.getSelection(),c,d,e;a.getType()==CKEDITOR.SELECTION_ELEMENT&&(c=a.getSelectedElement())&&(d=a.getRanges()[0],e=b.document.createText(\"\"),e.insertBefore(c),d.setStartBefore(e),d.setEndAfter(c),\na.selectRanges([d]),setTimeout(function(){c.getParent()&&(e.remove(),a.selectElement(c))},0))}}function m(a,c){var d=b.document,e=b.editable(),f=function(a){a.cancel()},h;if(!d.getById(\"cke_pastebin\")){var k=b.getSelection(),l=k.createBookmarks();CKEDITOR.env.ie&&k.root.fire(\"selectionchange\");var n=new CKEDITOR.dom.element(!CKEDITOR.env.webkit&&!e.is(\"body\")||CKEDITOR.env.ie?\"div\":\"body\",d);n.setAttributes({id:\"cke_pastebin\",\"data-cke-temp\":\"1\"});var u=0,d=d.getWindow();CKEDITOR.env.webkit?(e.append(n),\nn.addClass(\"cke_editable\"),e.is(\"body\")||(u=\"static\"!=e.getComputedStyle(\"position\")?e:CKEDITOR.dom.element.get(e.$.offsetParent),u=u.getDocumentPosition().y)):e.getAscendant(CKEDITOR.env.ie?\"body\":\"html\",1).append(n);n.setStyles({position:\"absolute\",top:d.getScrollPosition().y-u+10+\"px\",width:\"1px\",height:Math.max(1,d.getViewPaneSize().height-20)+\"px\",overflow:\"hidden\",margin:0,padding:0});CKEDITOR.env.safari&&n.setStyles(CKEDITOR.tools.cssVendorPrefix(\"user-select\",\"text\"));(u=n.getParent().isReadOnly())?\n(n.setOpacity(0),n.setAttribute(\"contenteditable\",!0)):n.setStyle(\"ltr\"==b.config.contentsLangDirection?\"left\":\"right\",\"-10000px\");b.on(\"selectionChange\",f,null,null,0);if(CKEDITOR.env.webkit||CKEDITOR.env.gecko)h=e.once(\"blur\",f,null,null,-100);u&&n.focus();u=new CKEDITOR.dom.range(n);u.selectNodeContents(n);var r=u.select();CKEDITOR.env.ie&&(h=e.once(\"blur\",function(){b.lockSelection(r)}));var t=CKEDITOR.document.getWindow().getScrollPosition().y;setTimeout(function(){CKEDITOR.env.webkit&&(CKEDITOR.document.getBody().$.scrollTop=\nt);h&&h.removeListener();CKEDITOR.env.ie&&e.focus();k.selectBookmarks(l);n.remove();var a;CKEDITOR.env.webkit&&(a=n.getFirst())&&a.is&&a.hasClass(\"Apple-style-span\")&&(n=a);b.removeListener(\"selectionChange\",f);c(n.getHtml())},0)}}function x(){if(\"paste\"==A.mainPasteEvent)return b.fire(\"beforePaste\",{type:\"auto\",method:\"paste\"}),!1;b.focus();f();var a=b.focusManager;a.lock();if(b.editable().fire(A.mainPasteEvent)&&!k(\"paste\"))return a.unlock(),!1;a.unlock();return!0}function w(a){if(\"wysiwyg\"==b.mode)switch(a.data.keyCode){case CKEDITOR.CTRL+\n86:case CKEDITOR.SHIFT+45:a=b.editable();f();\"paste\"==A.mainPasteEvent&&a.fire(\"beforepaste\");break;case CKEDITOR.CTRL+88:case CKEDITOR.SHIFT+46:b.fire(\"saveSnapshot\"),setTimeout(function(){b.fire(\"saveSnapshot\")},50)}}function z(c){var d={type:\"auto\",method:\"paste\",dataTransfer:A.initPasteDataTransfer(c)};d.dataTransfer.cacheData();var e=!1!==b.fire(\"beforePaste\",d);e&&A.canClipboardApiBeTrusted(d.dataTransfer,b)?(c.data.preventDefault(),setTimeout(function(){a(b,d)},0)):m(c,function(c){d.dataValue=\nc.replace(/<span[^>]+data-cke-bookmark[^<]*?<\\/span>/ig,\"\");e&&a(b,d)})}function D(){if(\"wysiwyg\"==b.mode){var a=y(\"paste\");b.getCommand(\"cut\").setState(y(\"cut\"));b.getCommand(\"copy\").setState(y(\"copy\"));b.getCommand(\"paste\").setState(a);b.fire(\"pasteState\",a)}}function y(a){if(E&&a in{paste:1,cut:1})return CKEDITOR.TRISTATE_DISABLED;if(\"paste\"==a)return CKEDITOR.TRISTATE_OFF;a=b.getSelection();var c=a.getRanges();return a.getType()==CKEDITOR.SELECTION_NONE||1==c.length&&c[0].collapsed?CKEDITOR.TRISTATE_DISABLED:\nCKEDITOR.TRISTATE_OFF}var A=CKEDITOR.plugins.clipboard,C=0,F=0,E=0;(function(){b.on(\"key\",w);b.on(\"contentDom\",c);b.on(\"selectionChange\",function(a){E=a.data.selection.getRanges()[0].checkReadOnly();D()});b.contextMenu&&b.contextMenu.addListener(function(a,b){E=b.getRanges()[0].checkReadOnly();return{cut:y(\"cut\"),copy:y(\"copy\"),paste:y(\"paste\")}})})();(function(){function a(c,d,e,f,h){var k=b.lang.clipboard[d];b.addCommand(d,e);b.ui.addButton&&b.ui.addButton(c,{label:k,command:d,toolbar:\"clipboard,\"+\nf});b.addMenuItems&&b.addMenuItem(d,{label:k,command:d,group:\"clipboard\",order:h})}a(\"Cut\",\"cut\",d(\"cut\"),10,1);a(\"Copy\",\"copy\",d(\"copy\"),20,4);a(\"Paste\",\"paste\",e(),30,8)})();b.getClipboardData=function(a,c){function d(a){a.removeListener();a.cancel();c(a.data)}function e(a){a.removeListener();a.cancel();l=!0;c({type:k,dataValue:a.data.dataValue,dataTransfer:a.data.dataTransfer,method:\"paste\"})}function f(){this.customTitle=a&&a.title}var h=!1,k=\"auto\",l=!1;c||(c=a,a=null);b.on(\"paste\",d,null,null,\n0);b.on(\"beforePaste\",function(a){a.removeListener();h=!0;k=a.data.type},null,null,1E3);!1===x()&&(b.removeListener(\"paste\",d),h&&b.fire(\"pasteDialog\",f)?(b.on(\"pasteDialogCommit\",e),b.on(\"dialogHide\",function(a){a.removeListener();a.data.removeListener(\"pasteDialogCommit\",e);setTimeout(function(){l||c(null)},10)})):c(null))}}function b(a){if(CKEDITOR.env.webkit){if(!a.match(/^[^<]*$/g)&&!a.match(/^(<div><br( ?\\/)?><\\/div>|<div>[^<]*<\\/div>)*$/gi))return\"html\"}else if(CKEDITOR.env.ie){if(!a.match(/^([^<]|<br( ?\\/)?>)*$/gi)&&\n!a.match(/^(<p>([^<]|<br( ?\\/)?>)*<\\/p>|(\\r\\n))*$/gi))return\"html\"}else if(CKEDITOR.env.gecko){if(!a.match(/^([^<]|<br( ?\\/)?>)*$/gi))return\"html\"}else return\"html\";return\"htmlifiedtext\"}function c(a,b){function c(a){return CKEDITOR.tools.repeat(\"\\x3c/p\\x3e\\x3cp\\x3e\",~~(a/2))+(1==a%2?\"\\x3cbr\\x3e\":\"\")}b=b.replace(/\\s+/g,\" \").replace(/> +</g,\"\\x3e\\x3c\").replace(/<br ?\\/>/gi,\"\\x3cbr\\x3e\");b=b.replace(/<\\/?[A-Z]+>/g,function(a){return a.toLowerCase()});if(b.match(/^[^<]$/))return b;CKEDITOR.env.webkit&&\n-1<b.indexOf(\"\\x3cdiv\\x3e\")&&(b=b.replace(/^(<div>(<br>|)<\\/div>)(?!$|(<div>(<br>|)<\\/div>))/g,\"\\x3cbr\\x3e\").replace(/^(<div>(<br>|)<\\/div>){2}(?!$)/g,\"\\x3cdiv\\x3e\\x3c/div\\x3e\"),b.match(/<div>(<br>|)<\\/div>/)&&(b=\"\\x3cp\\x3e\"+b.replace(/(<div>(<br>|)<\\/div>)+/g,function(a){return c(a.split(\"\\x3c/div\\x3e\\x3cdiv\\x3e\").length+1)})+\"\\x3c/p\\x3e\"),b=b.replace(/<\\/div><div>/g,\"\\x3cbr\\x3e\"),b=b.replace(/<\\/?div>/g,\"\"));CKEDITOR.env.gecko&&a.enterMode!=CKEDITOR.ENTER_BR&&(CKEDITOR.env.gecko&&(b=b.replace(/^<br><br>$/,\n\"\\x3cbr\\x3e\")),-1<b.indexOf(\"\\x3cbr\\x3e\\x3cbr\\x3e\")&&(b=\"\\x3cp\\x3e\"+b.replace(/(<br>){2,}/g,function(a){return c(a.length/4)})+\"\\x3c/p\\x3e\"));return l(a,b)}function e(){function a(){var b={},c;for(c in CKEDITOR.dtd)\"$\"!=c.charAt(0)&&\"div\"!=c&&\"span\"!=c&&(b[c]=1);return b}var b={};return{get:function(c){return\"plain-text\"==c?b.plainText||(b.plainText=new CKEDITOR.filter(\"br\")):\"semantic-content\"==c?((c=b.semanticContent)||(c=new CKEDITOR.filter,c.allow({$1:{elements:a(),attributes:!0,styles:!1,classes:!1}}),\nc=b.semanticContent=c),c):c?new CKEDITOR.filter(c):null}}}function m(a,b,c){b=CKEDITOR.htmlParser.fragment.fromHtml(b);var d=new CKEDITOR.htmlParser.basicWriter;c.applyTo(b,!0,!1,a.activeEnterMode);b.writeHtml(d);return d.getHtml()}function l(a,b){a.enterMode==CKEDITOR.ENTER_BR?b=b.replace(/(<\\/p><p>)+/g,function(a){return CKEDITOR.tools.repeat(\"\\x3cbr\\x3e\",a.length/7*2)}).replace(/<\\/?p>/g,\"\"):a.enterMode==CKEDITOR.ENTER_DIV&&(b=b.replace(/<(\\/)?p>/g,\"\\x3c$1div\\x3e\"));return b}function d(a){a.data.preventDefault();\na.data.$.dataTransfer.dropEffect=\"none\"}function h(b){var c=CKEDITOR.plugins.clipboard;b.on(\"contentDom\",function(){function d(c,e,f){e.select();a(b,{dataTransfer:f,method:\"drop\"},1);f.sourceEditor.fire(\"saveSnapshot\");f.sourceEditor.editable().extractHtmlFromRange(c);f.sourceEditor.getSelection().selectRanges([c]);f.sourceEditor.fire(\"saveSnapshot\")}function e(d,f){d.select();a(b,{dataTransfer:f,method:\"drop\"},1);c.resetDragDataTransfer()}function f(a,c,d){var e={$:a.data.$,target:a.data.getTarget()};\nc&&(e.dragRange=c);d&&(e.dropRange=d);!1===b.fire(a.name,e)&&a.data.preventDefault()}function h(a){a.type!=CKEDITOR.NODE_ELEMENT&&(a=a.getParent());return a.getChildCount()}var k=b.editable(),l=CKEDITOR.plugins.clipboard.getDropTarget(b),m=b.ui.space(\"top\"),x=b.ui.space(\"bottom\");c.preventDefaultDropOnElement(m);c.preventDefaultDropOnElement(x);k.attachListener(l,\"dragstart\",f);k.attachListener(b,\"dragstart\",c.resetDragDataTransfer,c,null,1);k.attachListener(b,\"dragstart\",function(a){c.initDragDataTransfer(a,\nb)},null,null,2);k.attachListener(b,\"dragstart\",function(){var a=c.dragRange=b.getSelection().getRanges()[0];CKEDITOR.env.ie&&10>CKEDITOR.env.version&&(c.dragStartContainerChildCount=a?h(a.startContainer):null,c.dragEndContainerChildCount=a?h(a.endContainer):null)},null,null,100);k.attachListener(l,\"dragend\",f);k.attachListener(b,\"dragend\",c.initDragDataTransfer,c,null,1);k.attachListener(b,\"dragend\",c.resetDragDataTransfer,c,null,100);k.attachListener(l,\"dragover\",function(a){var b=a.data.getTarget();\nb&&b.is&&b.is(\"html\")?a.data.preventDefault():CKEDITOR.env.ie&&CKEDITOR.plugins.clipboard.isFileApiSupported&&a.data.$.dataTransfer.types.contains(\"Files\")&&a.data.preventDefault()});k.attachListener(l,\"drop\",function(a){if(!a.data.$.defaultPrevented){a.data.preventDefault();var d=a.data.getTarget();if(!d.isReadOnly()||d.type==CKEDITOR.NODE_ELEMENT&&d.is(\"html\")){var d=c.getRangeAtDropPosition(a,b),e=c.dragRange;d&&f(a,e,d)}}},null,null,9999);k.attachListener(b,\"drop\",c.initDragDataTransfer,c,null,\n1);k.attachListener(b,\"drop\",function(a){if(a=a.data){var f=a.dropRange,h=a.dragRange,k=a.dataTransfer;k.getTransferType(b)==CKEDITOR.DATA_TRANSFER_INTERNAL?setTimeout(function(){c.internalDrop(h,f,k,b)},0):k.getTransferType(b)==CKEDITOR.DATA_TRANSFER_CROSS_EDITORS?d(h,f,k):e(f,k)}},null,null,9999)})}CKEDITOR.plugins.add(\"clipboard\",{requires:\"dialog\",init:function(a){var d,k=e();a.config.forcePasteAsPlainText?d=\"plain-text\":a.config.pasteFilter?d=a.config.pasteFilter:!CKEDITOR.env.webkit||\"pasteFilter\"in\na.config||(d=\"semantic-content\");a.pasteFilter=k.get(d);f(a);h(a);CKEDITOR.dialog.add(\"paste\",CKEDITOR.getUrl(this.path+\"dialogs/paste.js\"));a.on(\"paste\",function(b){b.data.dataTransfer||(b.data.dataTransfer=new CKEDITOR.plugins.clipboard.dataTransfer);if(!b.data.dataValue){var c=b.data.dataTransfer,d=c.getData(\"text/html\");if(d)b.data.dataValue=d,b.data.type=\"html\";else if(d=c.getData(\"text/plain\"))b.data.dataValue=a.editable().transformPlainTextToHtml(d),b.data.type=\"text\"}},null,null,1);a.on(\"paste\",\nfunction(a){var b=a.data.dataValue,c=CKEDITOR.dtd.$block;-1<b.indexOf(\"Apple-\")&&(b=b.replace(/<span class=\"Apple-converted-space\">&nbsp;<\\/span>/gi,\" \"),\"html\"!=a.data.type&&(b=b.replace(/<span class=\"Apple-tab-span\"[^>]*>([^<]*)<\\/span>/gi,function(a,b){return b.replace(/\\t/g,\"\\x26nbsp;\\x26nbsp; \\x26nbsp;\")})),-1<b.indexOf('\\x3cbr class\\x3d\"Apple-interchange-newline\"\\x3e')&&(a.data.startsWithEOL=1,a.data.preSniffing=\"html\",b=b.replace(/<br class=\"Apple-interchange-newline\">/,\"\")),b=b.replace(/(<[^>]+) class=\"Apple-[^\"]*\"/gi,\n\"$1\"));if(b.match(/^<[^<]+cke_(editable|contents)/i)){var d,e,f=new CKEDITOR.dom.element(\"div\");for(f.setHtml(b);1==f.getChildCount()&&(d=f.getFirst())&&d.type==CKEDITOR.NODE_ELEMENT&&(d.hasClass(\"cke_editable\")||d.hasClass(\"cke_contents\"));)f=e=d;e&&(b=e.getHtml().replace(/<br>$/i,\"\"))}CKEDITOR.env.ie?b=b.replace(/^&nbsp;(?: |\\r\\n)?<(\\w+)/g,function(b,d){return d.toLowerCase()in c?(a.data.preSniffing=\"html\",\"\\x3c\"+d):b}):CKEDITOR.env.webkit?b=b.replace(/<\\/(\\w+)><div><br><\\/div>$/,function(b,d){return d in\nc?(a.data.endsWithEOL=1,\"\\x3c/\"+d+\"\\x3e\"):b}):CKEDITOR.env.gecko&&(b=b.replace(/(\\s)<br>$/,\"$1\"));a.data.dataValue=b},null,null,3);a.on(\"paste\",function(d){d=d.data;var e=d.type,f=d.dataValue,h,l=a.config.clipboard_defaultContentType||\"html\",n=d.dataTransfer.getTransferType(a);h=\"html\"==e||\"html\"==d.preSniffing?\"html\":b(f);\"htmlifiedtext\"==h&&(f=c(a.config,f));\"text\"==e&&\"html\"==h?f=m(a,f,k.get(\"plain-text\")):n==CKEDITOR.DATA_TRANSFER_EXTERNAL&&a.pasteFilter&&!d.dontFilter&&(f=m(a,f,a.pasteFilter));\nd.startsWithEOL&&(f='\\x3cbr data-cke-eol\\x3d\"1\"\\x3e'+f);d.endsWithEOL&&(f+='\\x3cbr data-cke-eol\\x3d\"1\"\\x3e');\"auto\"==e&&(e=\"html\"==h||\"html\"==l?\"html\":\"text\");d.type=e;d.dataValue=f;delete d.preSniffing;delete d.startsWithEOL;delete d.endsWithEOL},null,null,6);a.on(\"paste\",function(b){b=b.data;b.dataValue&&(a.insertHtml(b.dataValue,b.type,b.range),setTimeout(function(){a.fire(\"afterPaste\")},0))},null,null,1E3);a.on(\"pasteDialog\",function(b){setTimeout(function(){a.openDialog(\"paste\",b.data)},0)})}});\nCKEDITOR.plugins.clipboard={isCustomCopyCutSupported:!CKEDITOR.env.ie&&!CKEDITOR.env.iOS,isCustomDataTypesSupported:!CKEDITOR.env.ie,isFileApiSupported:!CKEDITOR.env.ie||9<CKEDITOR.env.version,mainPasteEvent:CKEDITOR.env.ie&&!CKEDITOR.env.edge?\"beforepaste\":\"paste\",canClipboardApiBeTrusted:function(a,b){return a.getTransferType(b)!=CKEDITOR.DATA_TRANSFER_EXTERNAL||CKEDITOR.env.chrome&&!a.isEmpty()||CKEDITOR.env.gecko&&(a.getData(\"text/html\")||a.getFilesCount())?!0:!1},getDropTarget:function(a){var b=\na.editable();return CKEDITOR.env.ie&&9>CKEDITOR.env.version||b.isInline()?b:a.document},fixSplitNodesAfterDrop:function(a,b,c,d){function e(a,c,d){var f=a;f.type==CKEDITOR.NODE_TEXT&&(f=a.getParent());if(f.equals(c)&&d!=c.getChildCount())return a=b.startContainer.getChild(b.startOffset-1),c=b.startContainer.getChild(b.startOffset),a&&a.type==CKEDITOR.NODE_TEXT&&c&&c.type==CKEDITOR.NODE_TEXT&&(d=a.getLength(),a.setText(a.getText()+c.getText()),c.remove(),b.setStart(a,d),b.collapse(!0)),!0}var f=b.startContainer;\n\"number\"==typeof d&&\"number\"==typeof c&&f.type==CKEDITOR.NODE_ELEMENT&&(e(a.startContainer,f,c)||e(a.endContainer,f,d))},isDropRangeAffectedByDragRange:function(a,b){var c=b.startContainer,d=b.endOffset;return a.endContainer.equals(c)&&a.endOffset<=d||a.startContainer.getParent().equals(c)&&a.startContainer.getIndex()<d||a.endContainer.getParent().equals(c)&&a.endContainer.getIndex()<d?!0:!1},internalDrop:function(b,c,d,e){var f=CKEDITOR.plugins.clipboard,h=e.editable(),k,l;e.fire(\"saveSnapshot\");\ne.fire(\"lockSnapshot\",{dontUpdate:1});CKEDITOR.env.ie&&10>CKEDITOR.env.version&&this.fixSplitNodesAfterDrop(b,c,f.dragStartContainerChildCount,f.dragEndContainerChildCount);(l=this.isDropRangeAffectedByDragRange(b,c))||(k=b.createBookmark(!1));f=c.clone().createBookmark(!1);l&&(k=b.createBookmark(!1));b=k.startNode;c=k.endNode;l=f.startNode;c&&b.getPosition(l)&CKEDITOR.POSITION_PRECEDING&&c.getPosition(l)&CKEDITOR.POSITION_FOLLOWING&&l.insertBefore(b);b=e.createRange();b.moveToBookmark(k);h.extractHtmlFromRange(b,\n1);c=e.createRange();c.moveToBookmark(f);a(e,{dataTransfer:d,method:\"drop\",range:c},1);e.fire(\"unlockSnapshot\")},getRangeAtDropPosition:function(a,b){var c=a.data.$,d=c.clientX,e=c.clientY,f=b.getSelection(!0).getRanges()[0],h=b.createRange();if(a.data.testRange)return a.data.testRange;if(document.caretRangeFromPoint)c=b.document.$.caretRangeFromPoint(d,e),h.setStart(CKEDITOR.dom.node(c.startContainer),c.startOffset),h.collapse(!0);else if(c.rangeParent)h.setStart(CKEDITOR.dom.node(c.rangeParent),\nc.rangeOffset),h.collapse(!0);else{if(CKEDITOR.env.ie&&8<CKEDITOR.env.version&&f&&b.editable().hasFocus)return f;if(document.body.createTextRange){b.focus();c=b.document.getBody().$.createTextRange();try{for(var k=!1,l=0;20>l&&!k;l++){if(!k)try{c.moveToPoint(d,e-l),k=!0}catch(m){}if(!k)try{c.moveToPoint(d,e+l),k=!0}catch(w){}}if(k){var z=\"cke-temp-\"+(new Date).getTime();c.pasteHTML('\\x3cspan id\\x3d\"'+z+'\"\\x3e​\\x3c/span\\x3e');var D=b.document.getById(z);h.moveToPosition(D,CKEDITOR.POSITION_BEFORE_START);\nD.remove()}else{var y=b.document.$.elementFromPoint(d,e),A=new CKEDITOR.dom.element(y),C;if(A.equals(b.editable())||\"html\"==A.getName())return f&&f.startContainer&&!f.startContainer.equals(b.editable())?f:null;C=A.getClientRect();d<C.left?h.setStartAt(A,CKEDITOR.POSITION_AFTER_START):h.setStartAt(A,CKEDITOR.POSITION_BEFORE_END);h.collapse(!0)}}catch(F){return null}}else return null}return h},initDragDataTransfer:function(a,b){var c=a.data.$?a.data.$.dataTransfer:null,d=new this.dataTransfer(c,b);\nc?this.dragData&&d.id==this.dragData.id?d=this.dragData:this.dragData=d:this.dragData?d=this.dragData:this.dragData=d;a.data.dataTransfer=d},resetDragDataTransfer:function(){this.dragData=null},initPasteDataTransfer:function(a,b){if(this.isCustomCopyCutSupported){if(a&&a.data&&a.data.$){var c=new this.dataTransfer(a.data.$.clipboardData,b);this.copyCutData&&c.id==this.copyCutData.id?(c=this.copyCutData,c.$=a.data.$.clipboardData):this.copyCutData=c;return c}return new this.dataTransfer(null,b)}return new this.dataTransfer(CKEDITOR.env.edge&&\na&&a.data.$&&a.data.$.clipboardData||null,b)},preventDefaultDropOnElement:function(a){a&&a.on(\"dragover\",d)}};var k=CKEDITOR.plugins.clipboard.isCustomDataTypesSupported?\"cke/id\":\"Text\";CKEDITOR.plugins.clipboard.dataTransfer=function(a,b){a&&(this.$=a);this._={metaRegExp:/^<meta.*?>/i,bodyRegExp:/<body(?:[\\s\\S]*?)>([\\s\\S]*)<\\/body>/i,fragmentRegExp:/\\x3c!--(?:Start|End)Fragment--\\x3e/g,data:{},files:[],normalizeType:function(a){a=a.toLowerCase();return\"text\"==a||\"text/plain\"==a?\"Text\":\"url\"==a?\"URL\":\na}};this.id=this.getData(k);this.id||(this.id=\"Text\"==k?\"\":\"cke-\"+CKEDITOR.tools.getUniqueId());if(\"Text\"!=k)try{this.$.setData(k,this.id)}catch(c){}b&&(this.sourceEditor=b,this.setData(\"text/html\",b.getSelectedHtml(1)),\"Text\"==k||this.getData(\"text/plain\")||this.setData(\"text/plain\",b.getSelection().getSelectedText()))};CKEDITOR.DATA_TRANSFER_INTERNAL=1;CKEDITOR.DATA_TRANSFER_CROSS_EDITORS=2;CKEDITOR.DATA_TRANSFER_EXTERNAL=3;CKEDITOR.plugins.clipboard.dataTransfer.prototype={getData:function(a){a=\nthis._.normalizeType(a);var b=this._.data[a];if(void 0===b||null===b||\"\"===b)try{b=this.$.getData(a)}catch(c){}if(void 0===b||null===b||\"\"===b)b=\"\";\"text/html\"==a?(b=b.replace(this._.metaRegExp,\"\"),(a=this._.bodyRegExp.exec(b))&&a.length&&(b=a[1],b=b.replace(this._.fragmentRegExp,\"\"))):\"Text\"==a&&CKEDITOR.env.gecko&&this.getFilesCount()&&\"file://\"==b.substring(0,7)&&(b=\"\");return b},setData:function(a,b){a=this._.normalizeType(a);this._.data[a]=b;if(CKEDITOR.plugins.clipboard.isCustomDataTypesSupported||\n\"URL\"==a||\"Text\"==a){\"Text\"==k&&\"Text\"==a&&(this.id=b);try{this.$.setData(a,b)}catch(c){}}},getTransferType:function(a){return this.sourceEditor?this.sourceEditor==a?CKEDITOR.DATA_TRANSFER_INTERNAL:CKEDITOR.DATA_TRANSFER_CROSS_EDITORS:CKEDITOR.DATA_TRANSFER_EXTERNAL},cacheData:function(){function a(c){c=b._.normalizeType(c);var d=b.getData(c);d&&(b._.data[c]=d)}if(this.$){var b=this,c,d;if(CKEDITOR.plugins.clipboard.isCustomDataTypesSupported){if(this.$.types)for(c=0;c<this.$.types.length;c++)a(this.$.types[c])}else a(\"Text\"),\na(\"URL\");d=this._getImageFromClipboard();if(this.$&&this.$.files||d){this._.files=[];if(this.$.files&&this.$.files.length)for(c=0;c<this.$.files.length;c++)this._.files.push(this.$.files[c]);0===this._.files.length&&d&&this._.files.push(d)}}},getFilesCount:function(){return this._.files.length?this._.files.length:this.$&&this.$.files&&this.$.files.length?this.$.files.length:this._getImageFromClipboard()?1:0},getFile:function(a){return this._.files.length?this._.files[a]:this.$&&this.$.files&&this.$.files.length?\nthis.$.files[a]:0===a?this._getImageFromClipboard():void 0},isEmpty:function(){var a={},b;if(this.getFilesCount())return!1;for(b in this._.data)a[b]=1;if(this.$)if(CKEDITOR.plugins.clipboard.isCustomDataTypesSupported){if(this.$.types)for(var c=0;c<this.$.types.length;c++)a[this.$.types[c]]=1}else a.Text=1,a.URL=1;\"Text\"!=k&&(a[k]=0);for(b in a)if(a[b]&&\"\"!==this.getData(b))return!1;return!0},_getImageFromClipboard:function(){var a;if(this.$&&this.$.items&&this.$.items[0])try{if((a=this.$.items[0].getAsFile())&&\na.type)return a}catch(b){}}}}(),function(){CKEDITOR.plugins.add(\"panel\",{beforeInit:function(a){a.ui.addHandler(CKEDITOR.UI_PANEL,CKEDITOR.ui.panel.handler)}});CKEDITOR.UI_PANEL=\"panel\";CKEDITOR.ui.panel=function(a,b){b&&CKEDITOR.tools.extend(this,b);CKEDITOR.tools.extend(this,{className:\"\",css:[]});this.id=CKEDITOR.tools.getNextId();this.document=a;this.isFramed=this.forceIFrame||this.css.length;this._={blocks:{}}};CKEDITOR.ui.panel.handler={create:function(a){return new CKEDITOR.ui.panel(a)}};var a=\nCKEDITOR.addTemplate(\"panel\",'\\x3cdiv lang\\x3d\"{langCode}\" id\\x3d\"{id}\" dir\\x3d{dir} class\\x3d\"cke cke_reset_all {editorId} cke_panel cke_panel {cls} cke_{dir}\" style\\x3d\"z-index:{z-index}\" role\\x3d\"presentation\"\\x3e{frame}\\x3c/div\\x3e'),f=CKEDITOR.addTemplate(\"panel-frame\",'\\x3ciframe id\\x3d\"{id}\" class\\x3d\"cke_panel_frame\" role\\x3d\"presentation\" frameborder\\x3d\"0\" src\\x3d\"{src}\"\\x3e\\x3c/iframe\\x3e'),b=CKEDITOR.addTemplate(\"panel-frame-inner\",'\\x3c!DOCTYPE html\\x3e\\x3chtml class\\x3d\"cke_panel_container {env}\" dir\\x3d\"{dir}\" lang\\x3d\"{langCode}\"\\x3e\\x3chead\\x3e{css}\\x3c/head\\x3e\\x3cbody class\\x3d\"cke_{dir}\" style\\x3d\"margin:0;padding:0\" onload\\x3d\"{onload}\"\\x3e\\x3c/body\\x3e\\x3c/html\\x3e');\nCKEDITOR.ui.panel.prototype={render:function(c,e){this.getHolderElement=function(){var a=this._.holder;if(!a){if(this.isFramed){var a=this.document.getById(this.id+\"_frame\"),c=a.getParent(),a=a.getFrameDocument();CKEDITOR.env.iOS&&c.setStyles({overflow:\"scroll\",\"-webkit-overflow-scrolling\":\"touch\"});c=CKEDITOR.tools.addFunction(CKEDITOR.tools.bind(function(){this.isLoaded=!0;if(this.onLoad)this.onLoad()},this));a.write(b.output(CKEDITOR.tools.extend({css:CKEDITOR.tools.buildStyleHtml(this.css),onload:\"window.parent.CKEDITOR.tools.callFunction(\"+\nc+\");\"},m)));a.getWindow().$.CKEDITOR=CKEDITOR;a.on(\"keydown\",function(a){var b=a.data.getKeystroke(),c=this.document.getById(this.id).getAttribute(\"dir\");this._.onKeyDown&&!1===this._.onKeyDown(b)?a.data.preventDefault():(27==b||b==(\"rtl\"==c?39:37))&&this.onEscape&&!1===this.onEscape(b)&&a.data.preventDefault()},this);a=a.getBody();a.unselectable();CKEDITOR.env.air&&CKEDITOR.tools.callFunction(c)}else a=this.document.getById(this.id);this._.holder=a}return a};var m={editorId:c.id,id:this.id,langCode:c.langCode,\ndir:c.lang.dir,cls:this.className,frame:\"\",env:CKEDITOR.env.cssClass,\"z-index\":c.config.baseFloatZIndex+1};if(this.isFramed){var l=CKEDITOR.env.air?\"javascript:void(0)\":CKEDITOR.env.ie?\"javascript:void(function(){\"+encodeURIComponent(\"document.open();(\"+CKEDITOR.tools.fixDomain+\")();document.close();\")+\"}())\":\"\";m.frame=f.output({id:this.id+\"_frame\",src:l})}l=a.output(m);e&&e.push(l);return l},addBlock:function(a,b){b=this._.blocks[a]=b instanceof CKEDITOR.ui.panel.block?b:new CKEDITOR.ui.panel.block(this.getHolderElement(),\nb);this._.currentBlock||this.showBlock(a);return b},getBlock:function(a){return this._.blocks[a]},showBlock:function(a){a=this._.blocks[a];var b=this._.currentBlock,f=!this.forceIFrame||CKEDITOR.env.ie?this._.holder:this.document.getById(this.id+\"_frame\");b&&b.hide();this._.currentBlock=a;CKEDITOR.fire(\"ariaWidget\",f);a._.focusIndex=-1;this._.onKeyDown=a.onKeyDown&&CKEDITOR.tools.bind(a.onKeyDown,a);a.show();return a},destroy:function(){this.element&&this.element.remove()}};CKEDITOR.ui.panel.block=\nCKEDITOR.tools.createClass({$:function(a,b){this.element=a.append(a.getDocument().createElement(\"div\",{attributes:{tabindex:-1,\"class\":\"cke_panel_block\"},styles:{display:\"none\"}}));b&&CKEDITOR.tools.extend(this,b);this.element.setAttributes({role:this.attributes.role||\"presentation\",\"aria-label\":this.attributes[\"aria-label\"],title:this.attributes.title||this.attributes[\"aria-label\"]});this.keys={};this._.focusIndex=-1;this.element.disableContextMenu()},_:{markItem:function(a){-1!=a&&(a=this.element.getElementsByTag(\"a\").getItem(this._.focusIndex=\na),CKEDITOR.env.webkit&&a.getDocument().getWindow().focus(),a.focus(),this.onMark&&this.onMark(a))}},proto:{show:function(){this.element.setStyle(\"display\",\"\")},hide:function(){this.onHide&&!0===this.onHide.call(this)||this.element.setStyle(\"display\",\"none\")},onKeyDown:function(a,b){var f=this.keys[a];switch(f){case \"next\":for(var l=this._.focusIndex,f=this.element.getElementsByTag(\"a\"),d;d=f.getItem(++l);)if(d.getAttribute(\"_cke_focus\")&&d.$.offsetWidth){this._.focusIndex=l;d.focus();break}return d||\nb?!1:(this._.focusIndex=-1,this.onKeyDown(a,1));case \"prev\":l=this._.focusIndex;for(f=this.element.getElementsByTag(\"a\");0<l&&(d=f.getItem(--l));){if(d.getAttribute(\"_cke_focus\")&&d.$.offsetWidth){this._.focusIndex=l;d.focus();break}d=null}return d||b?!1:(this._.focusIndex=f.count(),this.onKeyDown(a,1));case \"click\":case \"mouseup\":return l=this._.focusIndex,(d=0<=l&&this.element.getElementsByTag(\"a\").getItem(l))&&(d.$[f]?d.$[f]():d.$[\"on\"+f]()),!1}return!0}}})}(),CKEDITOR.plugins.add(\"floatpanel\",\n{requires:\"panel\"}),function(){function a(a,c,e,m,l){l=CKEDITOR.tools.genKey(c.getUniqueId(),e.getUniqueId(),a.lang.dir,a.uiColor||\"\",m.css||\"\",l||\"\");var d=f[l];d||(d=f[l]=new CKEDITOR.ui.panel(c,m),d.element=e.append(CKEDITOR.dom.element.createFromHtml(d.render(a),c)),d.element.setStyles({display:\"none\",position:\"absolute\"}));return d}var f={};CKEDITOR.ui.floatPanel=CKEDITOR.tools.createClass({$:function(b,c,e,f){function l(){g.hide()}e.forceIFrame=1;e.toolbarRelated&&b.elementMode==CKEDITOR.ELEMENT_MODE_INLINE&&\n(c=CKEDITOR.document.getById(\"cke_\"+b.name));var d=c.getDocument();f=a(b,d,c,e,f||0);var h=f.element,k=h.getFirst(),g=this;h.disableContextMenu();this.element=h;this._={editor:b,panel:f,parentElement:c,definition:e,document:d,iframe:k,children:[],dir:b.lang.dir,showBlockParams:null};b.on(\"mode\",l);b.on(\"resize\",l);d.getWindow().on(\"resize\",function(){this.reposition()},this)},proto:{addBlock:function(a,c){return this._.panel.addBlock(a,c)},addListBlock:function(a,c){return this._.panel.addListBlock(a,\nc)},getBlock:function(a){return this._.panel.getBlock(a)},showBlock:function(a,c,e,f,l,d){var h=this._.panel,k=h.showBlock(a);this._.showBlockParams=[].slice.call(arguments);this.allowBlur(!1);var g=this._.editor.editable();this._.returnFocus=g.hasFocus?g:new CKEDITOR.dom.element(CKEDITOR.document.$.activeElement);this._.hideTimeout=0;var n=this.element,g=this._.iframe,g=CKEDITOR.env.ie&&!CKEDITOR.env.edge?g:new CKEDITOR.dom.window(g.$.contentWindow),q=n.getDocument(),p=this._.parentElement.getPositionedAncestor(),\nt=c.getDocumentPosition(q),q=p?p.getDocumentPosition(q):{x:0,y:0},v=\"rtl\"==this._.dir,r=t.x+(f||0)-q.x,u=t.y+(l||0)-q.y;!v||1!=e&&4!=e?v||2!=e&&3!=e||(r+=c.$.offsetWidth-1):r+=c.$.offsetWidth;if(3==e||4==e)u+=c.$.offsetHeight-1;this._.panel._.offsetParentId=c.getId();n.setStyles({top:u+\"px\",left:0,display:\"\"});n.setOpacity(0);n.getFirst().removeStyle(\"width\");this._.editor.focusManager.add(g);this._.blurSet||(CKEDITOR.event.useCapture=!0,g.on(\"blur\",function(a){function b(){delete this._.returnFocus;\nthis.hide()}this.allowBlur()&&a.data.getPhase()==CKEDITOR.EVENT_PHASE_AT_TARGET&&this.visible&&!this._.activeChild&&(CKEDITOR.env.iOS?this._.hideTimeout||(this._.hideTimeout=CKEDITOR.tools.setTimeout(b,0,this)):b.call(this))},this),g.on(\"focus\",function(){this._.focused=!0;this.hideChild();this.allowBlur(!0)},this),CKEDITOR.env.iOS&&(g.on(\"touchstart\",function(){clearTimeout(this._.hideTimeout)},this),g.on(\"touchend\",function(){this._.hideTimeout=0;this.focus()},this)),CKEDITOR.event.useCapture=!1,\nthis._.blurSet=1);h.onEscape=CKEDITOR.tools.bind(function(a){if(this.onEscape&&!1===this.onEscape(a))return!1},this);CKEDITOR.tools.setTimeout(function(){var a=CKEDITOR.tools.bind(function(){var a=n;a.removeStyle(\"width\");if(k.autoSize){var b=k.element.getDocument(),b=(CKEDITOR.env.webkit||CKEDITOR.env.edge?k.element:b.getBody()).$.scrollWidth;CKEDITOR.env.ie&&CKEDITOR.env.quirks&&0<b&&(b+=(a.$.offsetWidth||0)-(a.$.clientWidth||0)+3);a.setStyle(\"width\",b+10+\"px\");b=k.element.$.scrollHeight;CKEDITOR.env.ie&&\nCKEDITOR.env.quirks&&0<b&&(b+=(a.$.offsetHeight||0)-(a.$.clientHeight||0)+3);a.setStyle(\"height\",b+\"px\");h._.currentBlock.element.setStyle(\"display\",\"none\").removeStyle(\"display\")}else a.removeStyle(\"height\");v&&(r-=n.$.offsetWidth);n.setStyle(\"left\",r+\"px\");var b=h.element.getWindow(),a=n.$.getBoundingClientRect(),b=b.getViewPaneSize(),c=a.width||a.right-a.left,e=a.height||a.bottom-a.top,f=v?a.right:b.width-a.left,g=v?b.width-a.right:a.left;v?f<c&&(r=g>c?r+c:b.width>c?r-a.left:r-a.right+b.width):\nf<c&&(r=g>c?r-c:b.width>c?r-a.right+b.width:r-a.left);c=a.top;b.height-a.top<e&&(u=c>e?u-e:b.height>e?u-a.bottom+b.height:u-a.top);CKEDITOR.env.ie&&(b=a=new CKEDITOR.dom.element(n.$.offsetParent),\"html\"==b.getName()&&(b=b.getDocument().getBody()),\"rtl\"==b.getComputedStyle(\"direction\")&&(r=CKEDITOR.env.ie8Compat?r-2*n.getDocument().getDocumentElement().$.scrollLeft:r-(a.$.scrollWidth-a.$.clientWidth)));var a=n.getFirst(),l;(l=a.getCustomData(\"activePanel\"))&&l.onHide&&l.onHide.call(this,1);a.setCustomData(\"activePanel\",\nthis);n.setStyles({top:u+\"px\",left:r+\"px\"});n.setOpacity(1);d&&d()},this);h.isLoaded?a():h.onLoad=a;CKEDITOR.tools.setTimeout(function(){var a=CKEDITOR.env.webkit&&CKEDITOR.document.getWindow().getScrollPosition().y;this.focus();k.element.focus();CKEDITOR.env.webkit&&(CKEDITOR.document.getBody().$.scrollTop=a);this.allowBlur(!0);this._.editor.fire(\"panelShow\",this)},0,this)},CKEDITOR.env.air?200:0,this);this.visible=1;this.onShow&&this.onShow.call(this)},reposition:function(){var a=this._.showBlockParams;\nthis.visible&&this._.showBlockParams&&(this.hide(),this.showBlock.apply(this,a))},focus:function(){if(CKEDITOR.env.webkit){var a=CKEDITOR.document.getActive();a&&!a.equals(this._.iframe)&&a.$.blur()}(this._.lastFocused||this._.iframe.getFrameDocument().getWindow()).focus()},blur:function(){var a=this._.iframe.getFrameDocument().getActive();a&&a.is(\"a\")&&(this._.lastFocused=a)},hide:function(a){if(this.visible&&(!this.onHide||!0!==this.onHide.call(this))){this.hideChild();CKEDITOR.env.gecko&&this._.iframe.getFrameDocument().$.activeElement.blur();\nthis.element.setStyle(\"display\",\"none\");this.visible=0;this.element.getFirst().removeCustomData(\"activePanel\");if(a=a&&this._.returnFocus)CKEDITOR.env.webkit&&a.type&&a.getWindow().$.focus(),a.focus();delete this._.lastFocused;this._.showBlockParams=null;this._.editor.fire(\"panelHide\",this)}},allowBlur:function(a){var c=this._.panel;void 0!==a&&(c.allowBlur=a);return c.allowBlur},showAsChild:function(a,c,e,f,l,d){if(this._.activeChild!=a||a._.panel._.offsetParentId!=e.getId())this.hideChild(),a.onHide=\nCKEDITOR.tools.bind(function(){CKEDITOR.tools.setTimeout(function(){this._.focused||this.hide()},0,this)},this),this._.activeChild=a,this._.focused=!1,a.showBlock(c,e,f,l,d),this.blur(),(CKEDITOR.env.ie7Compat||CKEDITOR.env.ie6Compat)&&setTimeout(function(){a.element.getChild(0).$.style.cssText+=\"\"},100)},hideChild:function(a){var c=this._.activeChild;c&&(delete c.onHide,delete this._.activeChild,c.hide(),a&&this.focus())}}});CKEDITOR.on(\"instanceDestroyed\",function(){var a=CKEDITOR.tools.isEmpty(CKEDITOR.instances),\nc;for(c in f){var e=f[c];a?e.destroy():e.element.hide()}a&&(f={})})}(),CKEDITOR.plugins.add(\"menu\",{requires:\"floatpanel\",beforeInit:function(a){for(var f=a.config.menu_groups.split(\",\"),b=a._.menuGroups={},c=a._.menuItems={},e=0;e<f.length;e++)b[f[e]]=e+1;a.addMenuGroup=function(a,c){b[a]=c||100};a.addMenuItem=function(a,e){b[e.group]&&(c[a]=new CKEDITOR.menuItem(this,a,e))};a.addMenuItems=function(a){for(var b in a)this.addMenuItem(b,a[b])};a.getMenuItem=function(a){return c[a]};a.removeMenuItem=\nfunction(a){delete c[a]}}}),function(){function a(a){a.sort(function(a,b){return a.group<b.group?-1:a.group>b.group?1:a.order<b.order?-1:a.order>b.order?1:0})}var f='\\x3cspan class\\x3d\"cke_menuitem\"\\x3e\\x3ca id\\x3d\"{id}\" class\\x3d\"cke_menubutton cke_menubutton__{name} cke_menubutton_{state} {cls}\" href\\x3d\"{href}\" title\\x3d\"{title}\" tabindex\\x3d\"-1\" _cke_focus\\x3d1 hidefocus\\x3d\"true\" role\\x3d\"{role}\" aria-label\\x3d\"{label}\" aria-describedby\\x3d\"{id}_description\" aria-haspopup\\x3d\"{hasPopup}\" aria-disabled\\x3d\"{disabled}\" {ariaChecked}';\nCKEDITOR.env.gecko&&CKEDITOR.env.mac&&(f+=' onkeypress\\x3d\"return false;\"');CKEDITOR.env.gecko&&(f+=' onblur\\x3d\"this.style.cssText \\x3d this.style.cssText;\"');var f=f+(' onmouseover\\x3d\"CKEDITOR.tools.callFunction({hoverFn},{index});\" onmouseout\\x3d\"CKEDITOR.tools.callFunction({moveOutFn},{index});\" '+(CKEDITOR.env.ie?'onclick\\x3d\"return false;\" onmouseup':\"onclick\")+'\\x3d\"CKEDITOR.tools.callFunction({clickFn},{index}); return false;\"\\x3e'),b=CKEDITOR.addTemplate(\"menuItem\",f+'\\x3cspan class\\x3d\"cke_menubutton_inner\"\\x3e\\x3cspan class\\x3d\"cke_menubutton_icon\"\\x3e\\x3cspan class\\x3d\"cke_button_icon cke_button__{iconName}_icon\" style\\x3d\"{iconStyle}\"\\x3e\\x3c/span\\x3e\\x3c/span\\x3e\\x3cspan class\\x3d\"cke_menubutton_label\"\\x3e{label}\\x3c/span\\x3e{shortcutHtml}{arrowHtml}\\x3c/span\\x3e\\x3c/a\\x3e\\x3cspan id\\x3d\"{id}_description\" class\\x3d\"cke_voice_label\" aria-hidden\\x3d\"false\"\\x3e{ariaShortcut}\\x3c/span\\x3e\\x3c/span\\x3e'),\nc=CKEDITOR.addTemplate(\"menuArrow\",'\\x3cspan class\\x3d\"cke_menuarrow\"\\x3e\\x3cspan\\x3e{label}\\x3c/span\\x3e\\x3c/span\\x3e'),e=CKEDITOR.addTemplate(\"menuShortcut\",'\\x3cspan class\\x3d\"cke_menubutton_label cke_menubutton_shortcut\"\\x3e{shortcut}\\x3c/span\\x3e');CKEDITOR.menu=CKEDITOR.tools.createClass({$:function(a,b){b=this._.definition=b||{};this.id=CKEDITOR.tools.getNextId();this.editor=a;this.items=[];this._.listeners=[];this._.level=b.level||1;var c=CKEDITOR.tools.extend({},b.panel,{css:[CKEDITOR.skin.getPath(\"editor\")],\nlevel:this._.level-1,block:{}}),e=c.block.attributes=c.attributes||{};!e.role&&(e.role=\"menu\");this._.panelDefinition=c},_:{onShow:function(){var a=this.editor.getSelection(),b=a&&a.getStartElement(),c=this.editor.elementPath(),e=this._.listeners;this.removeAll();for(var f=0;f<e.length;f++){var g=e[f](b,a,c);if(g)for(var n in g){var q=this.editor.getMenuItem(n);!q||q.command&&!this.editor.getCommand(q.command).state||(q.state=g[n],this.add(q))}}},onClick:function(a){this.hide();if(a.onClick)a.onClick();\nelse a.command&&this.editor.execCommand(a.command)},onEscape:function(a){var b=this.parent;b?b._.panel.hideChild(1):27==a&&this.hide(1);return!1},onHide:function(){this.onHide&&this.onHide()},showSubMenu:function(a){var b=this._.subMenu,c=this.items[a];if(c=c.getItems&&c.getItems()){b?b.removeAll():(b=this._.subMenu=new CKEDITOR.menu(this.editor,CKEDITOR.tools.extend({},this._.definition,{level:this._.level+1},!0)),b.parent=this,b._.onClick=CKEDITOR.tools.bind(this._.onClick,this));for(var e in c){var f=\nthis.editor.getMenuItem(e);f&&(f.state=c[e],b.add(f))}var g=this._.panel.getBlock(this.id).element.getDocument().getById(this.id+String(a));setTimeout(function(){b.show(g,2)},0)}else this._.panel.hideChild(1)}},proto:{add:function(a){a.order||(a.order=this.items.length);this.items.push(a)},removeAll:function(){this.items=[]},show:function(b,c,d,e){if(!this.parent&&(this._.onShow(),!this.items.length))return;c=c||(\"rtl\"==this.editor.lang.dir?2:1);var f=this.items,g=this.editor,n=this._.panel,q=this._.element;\nif(!n){n=this._.panel=new CKEDITOR.ui.floatPanel(this.editor,CKEDITOR.document.getBody(),this._.panelDefinition,this._.level);n.onEscape=CKEDITOR.tools.bind(function(a){if(!1===this._.onEscape(a))return!1},this);n.onShow=function(){n._.panel.getHolderElement().getParent().addClass(\"cke\").addClass(\"cke_reset_all\")};n.onHide=CKEDITOR.tools.bind(function(){this._.onHide&&this._.onHide()},this);q=n.addBlock(this.id,this._.panelDefinition.block);q.autoSize=!0;var p=q.keys;p[40]=\"next\";p[9]=\"next\";p[38]=\n\"prev\";p[CKEDITOR.SHIFT+9]=\"prev\";p[\"rtl\"==g.lang.dir?37:39]=CKEDITOR.env.ie?\"mouseup\":\"click\";p[32]=CKEDITOR.env.ie?\"mouseup\":\"click\";CKEDITOR.env.ie&&(p[13]=\"mouseup\");q=this._.element=q.element;p=q.getDocument();p.getBody().setStyle(\"overflow\",\"hidden\");p.getElementsByTag(\"html\").getItem(0).setStyle(\"overflow\",\"hidden\");this._.itemOverFn=CKEDITOR.tools.addFunction(function(a){clearTimeout(this._.showSubTimeout);this._.showSubTimeout=CKEDITOR.tools.setTimeout(this._.showSubMenu,g.config.menu_subMenuDelay||\n400,this,[a])},this);this._.itemOutFn=CKEDITOR.tools.addFunction(function(){clearTimeout(this._.showSubTimeout)},this);this._.itemClickFn=CKEDITOR.tools.addFunction(function(a){var b=this.items[a];if(b.state==CKEDITOR.TRISTATE_DISABLED)this.hide(1);else if(b.getItems)this._.showSubMenu(a);else this._.onClick(b)},this)}a(f);for(var p=g.elementPath(),p=['\\x3cdiv class\\x3d\"cke_menu'+(p&&p.direction()!=g.lang.dir?\" cke_mixed_dir_content\":\"\")+'\" role\\x3d\"presentation\"\\x3e'],t=f.length,v=t&&f[0].group,\nr=0;r<t;r++){var u=f[r];v!=u.group&&(p.push('\\x3cdiv class\\x3d\"cke_menuseparator\" role\\x3d\"separator\"\\x3e\\x3c/div\\x3e'),v=u.group);u.render(this,r,p)}p.push(\"\\x3c/div\\x3e\");q.setHtml(p.join(\"\"));CKEDITOR.ui.fire(\"ready\",this);this.parent?this.parent._.panel.showAsChild(n,this.id,b,c,d,e):n.showBlock(this.id,b,c,d,e);g.fire(\"menuShow\",[n])},addListener:function(a){this._.listeners.push(a)},hide:function(a){this._.onHide&&this._.onHide();this._.panel&&this._.panel.hide(a)}}});CKEDITOR.menuItem=CKEDITOR.tools.createClass({$:function(a,\nb,c){CKEDITOR.tools.extend(this,c,{order:0,className:\"cke_menubutton__\"+b});this.group=a._.menuGroups[this.group];this.editor=a;this.name=b},proto:{render:function(a,f,d){var h=a.id+String(f),k=\"undefined\"==typeof this.state?CKEDITOR.TRISTATE_OFF:this.state,g=\"\",n=this.editor,q,p,t=k==CKEDITOR.TRISTATE_ON?\"on\":k==CKEDITOR.TRISTATE_DISABLED?\"disabled\":\"off\";this.role in{menuitemcheckbox:1,menuitemradio:1}&&(g=' aria-checked\\x3d\"'+(k==CKEDITOR.TRISTATE_ON?\"true\":\"false\")+'\"');var v=this.getItems,r=\n\"\\x26#\"+(\"rtl\"==this.editor.lang.dir?\"9668\":\"9658\")+\";\",u=this.name;this.icon&&!/\\./.test(this.icon)&&(u=this.icon);this.command&&(q=n.getCommand(this.command),(q=n.getCommandKeystroke(q))&&(p=CKEDITOR.tools.keystrokeToString(n.lang.common.keyboard,q)));a={id:h,name:this.name,iconName:u,label:this.label,cls:this.className||\"\",state:t,hasPopup:v?\"true\":\"false\",disabled:k==CKEDITOR.TRISTATE_DISABLED,title:this.label+(p?\" (\"+p.display+\")\":\"\"),ariaShortcut:p?n.lang.common.keyboardShortcut+\" \"+p.aria:\n\"\",href:\"javascript:void('\"+(this.label||\"\").replace(\"'\")+\"')\",hoverFn:a._.itemOverFn,moveOutFn:a._.itemOutFn,clickFn:a._.itemClickFn,index:f,iconStyle:CKEDITOR.skin.getIconStyle(u,\"rtl\"==this.editor.lang.dir,u==this.icon?null:this.icon,this.iconOffset),shortcutHtml:p?e.output({shortcut:p.display}):\"\",arrowHtml:v?c.output({label:r}):\"\",role:this.role?this.role:\"menuitem\",ariaChecked:g};b.output(a,d)}}})}(),CKEDITOR.config.menu_groups=\"clipboard,form,tablecell,tablecellproperties,tablerow,tablecolumn,table,anchor,link,image,flash,checkbox,radio,textfield,hiddenfield,imagebutton,button,select,textarea,div\",\nCKEDITOR.plugins.add(\"contextmenu\",{requires:\"menu\",onLoad:function(){CKEDITOR.plugins.contextMenu=CKEDITOR.tools.createClass({base:CKEDITOR.menu,$:function(a){this.base.call(this,a,{panel:{className:\"cke_menu_panel\",attributes:{\"aria-label\":a.lang.contextmenu.options}}})},proto:{addTarget:function(a,f){a.on(\"contextmenu\",function(a){a=a.data;var c=CKEDITOR.env.webkit?b:CKEDITOR.env.mac?a.$.metaKey:a.$.ctrlKey;if(!f||!c){a.preventDefault();if(CKEDITOR.env.mac&&CKEDITOR.env.webkit){var c=this.editor,\nl=(new CKEDITOR.dom.elementPath(a.getTarget(),c.editable())).contains(function(a){return a.hasAttribute(\"contenteditable\")},!0);l&&\"false\"==l.getAttribute(\"contenteditable\")&&c.getSelection().fake(l)}var l=a.getTarget().getDocument(),d=a.getTarget().getDocument().getDocumentElement(),c=!l.equals(CKEDITOR.document),l=l.getWindow().getScrollPosition(),h=c?a.$.clientX:a.$.pageX||l.x+a.$.clientX,k=c?a.$.clientY:a.$.pageY||l.y+a.$.clientY;CKEDITOR.tools.setTimeout(function(){this.open(d,null,h,k)},CKEDITOR.env.ie?\n200:0,this)}},this);if(CKEDITOR.env.webkit){var b,c=function(){b=0};a.on(\"keydown\",function(a){b=CKEDITOR.env.mac?a.data.$.metaKey:a.data.$.ctrlKey});a.on(\"keyup\",c);a.on(\"contextmenu\",c)}},open:function(a,f,b,c){this.editor.focus();a=a||CKEDITOR.document.getDocumentElement();this.editor.selectionChange(1);this.show(a,f,b,c)}}})},beforeInit:function(a){var f=a.contextMenu=new CKEDITOR.plugins.contextMenu(a);a.on(\"contentDom\",function(){f.addTarget(a.editable(),!1!==a.config.browserContextMenuOnCtrl)});\na.addCommand(\"contextMenu\",{exec:function(){a.contextMenu.open(a.document.getBody())}});a.setKeystroke(CKEDITOR.SHIFT+121,\"contextMenu\");a.setKeystroke(CKEDITOR.CTRL+CKEDITOR.SHIFT+121,\"contextMenu\")}}),function(){function a(a,b){function l(b){b=g.list[b];var c;b.equals(a.editable())||\"true\"==b.getAttribute(\"contenteditable\")?(c=a.createRange(),c.selectNodeContents(b),c=c.select()):(c=a.getSelection(),c.selectElement(b));CKEDITOR.env.ie&&a.fire(\"selectionChange\",{selection:c,path:new CKEDITOR.dom.elementPath(b)});\na.focus()}function d(){k&&k.setHtml('\\x3cspan class\\x3d\"cke_path_empty\"\\x3e\\x26nbsp;\\x3c/span\\x3e');delete g.list}var h=a.ui.spaceId(\"path\"),k,g=a._.elementsPath,n=g.idBase;b.html+='\\x3cspan id\\x3d\"'+h+'_label\" class\\x3d\"cke_voice_label\"\\x3e'+a.lang.elementspath.eleLabel+'\\x3c/span\\x3e\\x3cspan id\\x3d\"'+h+'\" class\\x3d\"cke_path\" role\\x3d\"group\" aria-labelledby\\x3d\"'+h+'_label\"\\x3e\\x3cspan class\\x3d\"cke_path_empty\"\\x3e\\x26nbsp;\\x3c/span\\x3e\\x3c/span\\x3e';a.on(\"uiReady\",function(){var b=a.ui.space(\"path\");\nb&&a.focusManager.add(b,1)});g.onClick=l;var q=CKEDITOR.tools.addFunction(l),p=CKEDITOR.tools.addFunction(function(b,c){var d=g.idBase,f;c=new CKEDITOR.dom.event(c);f=\"rtl\"==a.lang.dir;switch(c.getKeystroke()){case f?39:37:case 9:return(f=CKEDITOR.document.getById(d+(b+1)))||(f=CKEDITOR.document.getById(d+\"0\")),f.focus(),!1;case f?37:39:case CKEDITOR.SHIFT+9:return(f=CKEDITOR.document.getById(d+(b-1)))||(f=CKEDITOR.document.getById(d+(g.list.length-1))),f.focus(),!1;case 27:return a.focus(),!1;case 13:case 32:return l(b),\n!1}return!0});a.on(\"selectionChange\",function(){for(var b=[],d=g.list=[],f=[],l=g.filters,m=!0,x=a.elementPath().elements,w,z=x.length;z--;){var D=x[z],y=0;w=D.data(\"cke-display-name\")?D.data(\"cke-display-name\"):D.data(\"cke-real-element-type\")?D.data(\"cke-real-element-type\"):D.getName();(m=D.hasAttribute(\"contenteditable\")?\"true\"==D.getAttribute(\"contenteditable\"):m)||D.hasAttribute(\"contenteditable\")||(y=1);for(var A=0;A<l.length;A++){var C=l[A](D,w);if(!1===C){y=1;break}w=C||w}y||(d.unshift(D),\nf.unshift(w))}d=d.length;for(l=0;l<d;l++)w=f[l],m=a.lang.elementspath.eleTitle.replace(/%1/,w),w=c.output({id:n+l,label:m,text:w,jsTitle:\"javascript:void('\"+w+\"')\",index:l,keyDownFn:p,clickFn:q}),b.unshift(w);k||(k=CKEDITOR.document.getById(h));f=k;f.setHtml(b.join(\"\")+'\\x3cspan class\\x3d\"cke_path_empty\"\\x3e\\x26nbsp;\\x3c/span\\x3e');a.fire(\"elementsPathUpdate\",{space:f})});a.on(\"readOnly\",d);a.on(\"contentDomUnload\",d);a.addCommand(\"elementsPathFocus\",f.toolbarFocus);a.setKeystroke(CKEDITOR.ALT+122,\n\"elementsPathFocus\")}var f={toolbarFocus:{editorFocus:!1,readOnly:1,exec:function(a){(a=CKEDITOR.document.getById(a._.elementsPath.idBase+\"0\"))&&a.focus(CKEDITOR.env.ie||CKEDITOR.env.air)}}},b=\"\";CKEDITOR.env.gecko&&CKEDITOR.env.mac&&(b+=' onkeypress\\x3d\"return false;\"');CKEDITOR.env.gecko&&(b+=' onblur\\x3d\"this.style.cssText \\x3d this.style.cssText;\"');var c=CKEDITOR.addTemplate(\"pathItem\",'\\x3ca id\\x3d\"{id}\" href\\x3d\"{jsTitle}\" tabindex\\x3d\"-1\" class\\x3d\"cke_path_item\" title\\x3d\"{label}\"'+b+' hidefocus\\x3d\"true\"  onkeydown\\x3d\"return CKEDITOR.tools.callFunction({keyDownFn},{index}, event );\" onclick\\x3d\"CKEDITOR.tools.callFunction({clickFn},{index}); return false;\" role\\x3d\"button\" aria-label\\x3d\"{label}\"\\x3e{text}\\x3c/a\\x3e');\nCKEDITOR.plugins.add(\"elementspath\",{init:function(b){b._.elementsPath={idBase:\"cke_elementspath_\"+CKEDITOR.tools.getNextNumber()+\"_\",filters:[]};b.on(\"uiSpace\",function(c){\"bottom\"==c.data.space&&a(b,c.data)})}})}(),function(){function a(a,e){var m,l;e.on(\"refresh\",function(a){var c=[f],e;for(e in a.data.states)c.push(a.data.states[e]);this.setState(CKEDITOR.tools.search(c,b)?b:f)},e,null,100);e.on(\"exec\",function(b){m=a.getSelection();l=m.createBookmarks(1);b.data||(b.data={});b.data.done=!1},e,\nnull,0);e.on(\"exec\",function(){a.forceNextSelectionCheck();m.selectBookmarks(l)},e,null,100)}var f=CKEDITOR.TRISTATE_DISABLED,b=CKEDITOR.TRISTATE_OFF;CKEDITOR.plugins.add(\"indent\",{init:function(b){var e=CKEDITOR.plugins.indent.genericDefinition;a(b,b.addCommand(\"indent\",new e(!0)));a(b,b.addCommand(\"outdent\",new e));b.ui.addButton&&(b.ui.addButton(\"Indent\",{label:b.lang.indent.indent,command:\"indent\",directional:!0,toolbar:\"indent,20\"}),b.ui.addButton(\"Outdent\",{label:b.lang.indent.outdent,command:\"outdent\",\ndirectional:!0,toolbar:\"indent,10\"}));b.on(\"dirChanged\",function(a){var e=b.createRange(),d=a.data.node;e.setStartBefore(d);e.setEndAfter(d);for(var f=new CKEDITOR.dom.walker(e),k;k=f.next();)if(k.type==CKEDITOR.NODE_ELEMENT)if(!k.equals(d)&&k.getDirection())e.setStartAfter(k),f=new CKEDITOR.dom.walker(e);else{var g=b.config.indentClasses;if(g)for(var n=\"ltr\"==a.data.dir?[\"_rtl\",\"\"]:[\"\",\"_rtl\"],q=0;q<g.length;q++)k.hasClass(g[q]+n[0])&&(k.removeClass(g[q]+n[0]),k.addClass(g[q]+n[1]));g=k.getStyle(\"margin-right\");\nn=k.getStyle(\"margin-left\");g?k.setStyle(\"margin-left\",g):k.removeStyle(\"margin-left\");n?k.setStyle(\"margin-right\",n):k.removeStyle(\"margin-right\")}})}});CKEDITOR.plugins.indent={genericDefinition:function(a){this.isIndent=!!a;this.startDisabled=!this.isIndent},specificDefinition:function(a,b,f){this.name=b;this.editor=a;this.jobs={};this.enterBr=a.config.enterMode==CKEDITOR.ENTER_BR;this.isIndent=!!f;this.relatedGlobal=f?\"indent\":\"outdent\";this.indentKey=f?9:CKEDITOR.SHIFT+9;this.database={}},registerCommands:function(a,\nb){a.on(\"pluginsLoaded\",function(){for(var a in b)(function(a,b){var c=a.getCommand(b.relatedGlobal),e;for(e in b.jobs)c.on(\"exec\",function(c){c.data.done||(a.fire(\"lockSnapshot\"),b.execJob(a,e)&&(c.data.done=!0),a.fire(\"unlockSnapshot\"),CKEDITOR.dom.element.clearAllMarkers(b.database))},this,null,e),c.on(\"refresh\",function(c){c.data.states||(c.data.states={});c.data.states[b.name+\"@\"+e]=b.refreshJob(a,e,c.data.path)},this,null,e);a.addFeature(b)})(this,b[a])})}};CKEDITOR.plugins.indent.genericDefinition.prototype=\n{context:\"p\",exec:function(){}};CKEDITOR.plugins.indent.specificDefinition.prototype={execJob:function(a,b){var m=this.jobs[b];if(m.state!=f)return m.exec.call(this,a)},refreshJob:function(a,b,m){b=this.jobs[b];a.activeFilter.checkFeature(this)?b.state=b.refresh.call(this,a,m):b.state=f;return b.state},getContext:function(a){return a.contains(this.context)}}}(),function(){function a(a){function c(f){for(var h=p.startContainer,m=p.endContainer;h&&!h.getParent().equals(f);)h=h.getParent();for(;m&&!m.getParent().equals(f);)m=\nm.getParent();if(!h||!m)return!1;for(var t=h,h=[],v=!1;!v;)t.equals(m)&&(v=!0),h.push(t),t=t.getNext();if(1>h.length)return!1;t=f.getParents(!0);for(m=0;m<t.length;m++)if(t[m].getName&&l[t[m].getName()]){f=t[m];break}for(var t=e.isIndent?1:-1,m=h[0],h=h[h.length-1],v=CKEDITOR.plugins.list.listToArray(f,g),z=v[h.getCustomData(\"listarray_index\")].indent,m=m.getCustomData(\"listarray_index\");m<=h.getCustomData(\"listarray_index\");m++)if(v[m].indent+=t,0<t){var q=v[m].parent;v[m].parent=new CKEDITOR.dom.element(q.getName(),\nq.getDocument())}for(m=h.getCustomData(\"listarray_index\")+1;m<v.length&&v[m].indent>z;m++)v[m].indent+=t;h=CKEDITOR.plugins.list.arrayToList(v,g,null,a.config.enterMode,f.getDirection());if(!e.isIndent){var y;if((y=f.getParent())&&y.is(\"li\"))for(var t=h.listNode.getChildren(),A=[],C,m=t.count()-1;0<=m;m--)(C=t.getItem(m))&&C.is&&C.is(\"li\")&&A.push(C)}h&&h.listNode.replace(f);if(A&&A.length)for(m=0;m<A.length;m++){for(C=f=A[m];(C=C.getNext())&&C.is&&C.getName()in l;)CKEDITOR.env.needsNbspFiller&&!f.getFirst(b)&&\nf.append(p.document.createText(\" \")),f.append(C);f.insertAfter(y)}h&&a.fire(\"contentDomInvalidated\");return!0}for(var e=this,g=this.database,l=this.context,m=a.getSelection(),m=(m&&m.getRanges()).createIterator(),p;p=m.getNextRange();){for(var t=p.getCommonAncestor();t&&(t.type!=CKEDITOR.NODE_ELEMENT||!l[t.getName()]);){if(a.editable().equals(t)){t=!1;break}t=t.getParent()}t||(t=p.startPath().contains(l))&&p.setEndAt(t,CKEDITOR.POSITION_BEFORE_END);if(!t){var v=p.getEnclosedNode();v&&v.type==CKEDITOR.NODE_ELEMENT&&\nv.getName()in l&&(p.setStartAt(v,CKEDITOR.POSITION_AFTER_START),p.setEndAt(v,CKEDITOR.POSITION_BEFORE_END),t=v)}t&&p.startContainer.type==CKEDITOR.NODE_ELEMENT&&p.startContainer.getName()in l&&(v=new CKEDITOR.dom.walker(p),v.evaluator=f,p.startContainer=v.next());t&&p.endContainer.type==CKEDITOR.NODE_ELEMENT&&p.endContainer.getName()in l&&(v=new CKEDITOR.dom.walker(p),v.evaluator=f,p.endContainer=v.previous());if(t)return c(t)}return 0}function f(a){return a.type==CKEDITOR.NODE_ELEMENT&&a.is(\"li\")}\nfunction b(a){return c(a)&&e(a)}var c=CKEDITOR.dom.walker.whitespaces(!0),e=CKEDITOR.dom.walker.bookmark(!1,!0),m=CKEDITOR.TRISTATE_DISABLED,l=CKEDITOR.TRISTATE_OFF;CKEDITOR.plugins.add(\"indentlist\",{requires:\"indent\",init:function(b){function c(b){e.specificDefinition.apply(this,arguments);this.requiredContent=[\"ul\",\"ol\"];b.on(\"key\",function(a){if(\"wysiwyg\"==b.mode&&a.data.keyCode==this.indentKey){var c=this.getContext(b.elementPath());!c||this.isIndent&&CKEDITOR.plugins.indentList.firstItemInPath(this.context,\nb.elementPath(),c)||(b.execCommand(this.relatedGlobal),a.cancel())}},this);this.jobs[this.isIndent?10:30]={refresh:this.isIndent?function(a,b){var c=this.getContext(b),d=CKEDITOR.plugins.indentList.firstItemInPath(this.context,b,c);return c&&this.isIndent&&!d?l:m}:function(a,b){return!this.getContext(b)||this.isIndent?m:l},exec:CKEDITOR.tools.bind(a,this)}}var e=CKEDITOR.plugins.indent;e.registerCommands(b,{indentlist:new c(b,\"indentlist\",!0),outdentlist:new c(b,\"outdentlist\")});CKEDITOR.tools.extend(c.prototype,\ne.specificDefinition.prototype,{context:{ol:1,ul:1}})}});CKEDITOR.plugins.indentList={};CKEDITOR.plugins.indentList.firstItemInPath=function(a,b,c){var e=b.contains(f);c||(c=b.contains(a));return c&&e&&e.equals(c.getFirst(f))}}(),function(){function a(a,b,c){function d(c){if(!(!(l=k[c?\"getFirst\":\"getLast\"]())||l.is&&l.isBlockBoundary()||!(m=b.root[c?\"getPrevious\":\"getNext\"](CKEDITOR.dom.walker.invisible(!0)))||m.is&&m.isBlockBoundary({br:1})))a.document.createElement(\"br\")[c?\"insertBefore\":\"insertAfter\"](l)}\nfor(var e=CKEDITOR.plugins.list.listToArray(b.root,c),f=[],g=0;g<b.contents.length;g++){var h=b.contents[g];(h=h.getAscendant(\"li\",!0))&&!h.getCustomData(\"list_item_processed\")&&(f.push(h),CKEDITOR.dom.element.setMarker(c,h,\"list_item_processed\",!0))}h=null;for(g=0;g<f.length;g++)h=f[g].getCustomData(\"listarray_index\"),e[h].indent=-1;for(g=h+1;g<e.length;g++)if(e[g].indent>e[g-1].indent+1){f=e[g-1].indent+1-e[g].indent;for(h=e[g].indent;e[g]&&e[g].indent>=h;)e[g].indent+=f,g++;g--}var k=CKEDITOR.plugins.list.arrayToList(e,\nc,null,a.config.enterMode,b.root.getAttribute(\"dir\")).listNode,l,m;d(!0);d();k.replace(b.root);a.fire(\"contentDomInvalidated\")}function f(a,b){this.name=a;this.context=this.type=b;this.allowedContent=b+\" li\";this.requiredContent=b}function b(a,b,c,d){for(var e,f;e=a[d?\"getLast\":\"getFirst\"](p);)(f=e.getDirection(1))!==b.getDirection(1)&&e.setAttribute(\"dir\",f),e.remove(),c?e[d?\"insertBefore\":\"insertAfter\"](c):b.append(e,d)}function c(a){function c(d){var e=a[d?\"getPrevious\":\"getNext\"](g);e&&e.type==\nCKEDITOR.NODE_ELEMENT&&e.is(a.getName())&&(b(a,e,null,!d),a.remove(),a=e)}c();c(1)}function e(a){return a.type==CKEDITOR.NODE_ELEMENT&&(a.getName()in CKEDITOR.dtd.$block||a.getName()in CKEDITOR.dtd.$listItem)&&CKEDITOR.dtd[a.getName()][\"#\"]}function m(a,d,e){a.fire(\"saveSnapshot\");e.enlarge(CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS);var f=e.extractContents();d.trim(!1,!0);var h=d.createBookmark(),k=new CKEDITOR.dom.elementPath(d.startContainer),m=k.block,k=k.lastElement.getAscendant(\"li\",1)||m,p=new CKEDITOR.dom.elementPath(e.startContainer),\nq=p.contains(CKEDITOR.dtd.$listItem),p=p.contains(CKEDITOR.dtd.$list);m?(m=m.getBogus())&&m.remove():p&&(m=p.getPrevious(g))&&n(m)&&m.remove();(m=f.getLast())&&m.type==CKEDITOR.NODE_ELEMENT&&m.is(\"br\")&&m.remove();(m=d.startContainer.getChild(d.startOffset))?f.insertBefore(m):d.startContainer.append(f);q&&(f=l(q))&&(k.contains(q)?(b(f,q.getParent(),q),f.remove()):k.append(f));for(;e.checkStartOfBlock()&&e.checkEndOfBlock();){p=e.startPath();f=p.block;if(!f)break;f.is(\"li\")&&(k=f.getParent(),f.equals(k.getLast(g))&&\nf.equals(k.getFirst(g))&&(f=k));e.moveToPosition(f,CKEDITOR.POSITION_BEFORE_START);f.remove()}e=e.clone();f=a.editable();e.setEndAt(f,CKEDITOR.POSITION_BEFORE_END);e=new CKEDITOR.dom.walker(e);e.evaluator=function(a){return g(a)&&!n(a)};(e=e.next())&&e.type==CKEDITOR.NODE_ELEMENT&&e.getName()in CKEDITOR.dtd.$list&&c(e);d.moveToBookmark(h);d.select();a.fire(\"saveSnapshot\")}function l(a){return(a=a.getLast(g))&&a.type==CKEDITOR.NODE_ELEMENT&&a.getName()in d?a:null}var d={ol:1,ul:1},h=CKEDITOR.dom.walker.whitespaces(),\nk=CKEDITOR.dom.walker.bookmark(),g=function(a){return!(h(a)||k(a))},n=CKEDITOR.dom.walker.bogus();CKEDITOR.plugins.list={listToArray:function(a,b,c,e,f){if(!d[a.getName()])return[];e||(e=0);c||(c=[]);for(var g=0,h=a.getChildCount();g<h;g++){var k=a.getChild(g);k.type==CKEDITOR.NODE_ELEMENT&&k.getName()in CKEDITOR.dtd.$list&&CKEDITOR.plugins.list.listToArray(k,b,c,e+1);if(\"li\"==k.$.nodeName.toLowerCase()){var l={parent:a,indent:e,element:k,contents:[]};f?l.grandparent=f:(l.grandparent=a.getParent(),\nl.grandparent&&\"li\"==l.grandparent.$.nodeName.toLowerCase()&&(l.grandparent=l.grandparent.getParent()));b&&CKEDITOR.dom.element.setMarker(b,k,\"listarray_index\",c.length);c.push(l);for(var m=0,n=k.getChildCount(),p;m<n;m++)p=k.getChild(m),p.type==CKEDITOR.NODE_ELEMENT&&d[p.getName()]?CKEDITOR.plugins.list.listToArray(p,b,c,e+1,l.grandparent):l.contents.push(p)}}return c},arrayToList:function(a,b,c,e,f){c||(c=0);if(!a||a.length<c+1)return null;for(var h,l=a[c].parent.getDocument(),m=new CKEDITOR.dom.documentFragment(l),\nn=null,p=c,q=Math.max(a[c].indent,0),C=null,F,E,J=e==CKEDITOR.ENTER_P?\"p\":\"div\";;){var G=a[p];h=G.grandparent;F=G.element.getDirection(1);if(G.indent==q){n&&a[p].parent.getName()==n.getName()||(n=a[p].parent.clone(!1,1),f&&n.setAttribute(\"dir\",f),m.append(n));C=n.append(G.element.clone(0,1));F!=n.getDirection(1)&&C.setAttribute(\"dir\",F);for(h=0;h<G.contents.length;h++)C.append(G.contents[h].clone(1,1));p++}else if(G.indent==Math.max(q,0)+1)G=a[p-1].element.getDirection(1),p=CKEDITOR.plugins.list.arrayToList(a,\nnull,p,e,G!=F?F:null),!C.getChildCount()&&CKEDITOR.env.needsNbspFiller&&7>=l.$.documentMode&&C.append(l.createText(\" \")),C.append(p.listNode),p=p.nextIndex;else if(-1==G.indent&&!c&&h){d[h.getName()]?(C=G.element.clone(!1,!0),F!=h.getDirection(1)&&C.setAttribute(\"dir\",F)):C=new CKEDITOR.dom.documentFragment(l);var n=h.getDirection(1)!=F,M=G.element,I=M.getAttribute(\"class\"),H=M.getAttribute(\"style\"),R=C.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT&&(e!=CKEDITOR.ENTER_BR||n||H||I),P,T=G.contents.length,O;\nfor(h=0;h<T;h++)if(P=G.contents[h],k(P)&&1<T)R?O=P.clone(1,1):C.append(P.clone(1,1));else if(P.type==CKEDITOR.NODE_ELEMENT&&P.isBlockBoundary()){n&&!P.getDirection()&&P.setAttribute(\"dir\",F);E=P;var K=M.getAttribute(\"style\");K&&E.setAttribute(\"style\",K.replace(/([^;])$/,\"$1;\")+(E.getAttribute(\"style\")||\"\"));I&&P.addClass(I);E=null;O&&(C.append(O),O=null);C.append(P.clone(1,1))}else R?(E||(E=l.createElement(J),C.append(E),n&&E.setAttribute(\"dir\",F)),H&&E.setAttribute(\"style\",H),I&&E.setAttribute(\"class\",\nI),O&&(E.append(O),O=null),E.append(P.clone(1,1))):C.append(P.clone(1,1));O&&((E||C).append(O),O=null);C.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT&&p!=a.length-1&&(CKEDITOR.env.needsBrFiller&&(F=C.getLast())&&F.type==CKEDITOR.NODE_ELEMENT&&F.is(\"br\")&&F.remove(),(F=C.getLast(g))&&F.type==CKEDITOR.NODE_ELEMENT&&F.is(CKEDITOR.dtd.$block)||C.append(l.createElement(\"br\")));F=C.$.nodeName.toLowerCase();\"div\"!=F&&\"p\"!=F||C.appendBogus();m.append(C);n=null;p++}else return null;E=null;if(a.length<=p||Math.max(a[p].indent,\n0)<q)break}if(b)for(a=m.getFirst();a;){if(a.type==CKEDITOR.NODE_ELEMENT&&(CKEDITOR.dom.element.clearMarkers(b,a),a.getName()in CKEDITOR.dtd.$listItem&&(c=a,l=f=e=void 0,e=c.getDirection()))){for(f=c.getParent();f&&!(l=f.getDirection());)f=f.getParent();e==l&&c.removeAttribute(\"dir\")}a=a.getNextSourceNode()}return{listNode:m,nextIndex:p}}};var q=/^h[1-6]$/,p=CKEDITOR.dom.walker.nodeType(CKEDITOR.NODE_ELEMENT);f.prototype={exec:function(b){this.refresh(b,b.elementPath());var e=b.config,f=b.getSelection(),\nh=f&&f.getRanges();if(this.state==CKEDITOR.TRISTATE_OFF){var k=b.editable();if(k.getFirst(g)){var l=1==h.length&&h[0];(e=l&&l.getEnclosedNode())&&e.is&&this.type==e.getName()&&this.setState(CKEDITOR.TRISTATE_ON)}else e.enterMode==CKEDITOR.ENTER_BR?k.appendBogus():h[0].fixBlock(1,e.enterMode==CKEDITOR.ENTER_P?\"p\":\"div\"),f.selectRanges(h)}for(var e=f.createBookmarks(!0),k=[],m={},h=h.createIterator(),n=0;(l=h.getNextRange())&&++n;){var p=l.getBoundaryNodes(),y=p.startNode,A=p.endNode;y.type==CKEDITOR.NODE_ELEMENT&&\n\"td\"==y.getName()&&l.setStartAt(p.startNode,CKEDITOR.POSITION_AFTER_START);A.type==CKEDITOR.NODE_ELEMENT&&\"td\"==A.getName()&&l.setEndAt(p.endNode,CKEDITOR.POSITION_BEFORE_END);l=l.createIterator();for(l.forceBrBreak=this.state==CKEDITOR.TRISTATE_OFF;p=l.getNextParagraph();)if(!p.getCustomData(\"list_block\")){CKEDITOR.dom.element.setMarker(m,p,\"list_block\",1);for(var C=b.elementPath(p),y=C.elements,A=0,C=C.blockLimit,F,E=y.length-1;0<=E&&(F=y[E]);E--)if(d[F.getName()]&&C.contains(F)){C.removeCustomData(\"list_group_object_\"+\nn);(y=F.getCustomData(\"list_group_object\"))?y.contents.push(p):(y={root:F,contents:[p]},k.push(y),CKEDITOR.dom.element.setMarker(m,F,\"list_group_object\",y));A=1;break}A||(A=C,A.getCustomData(\"list_group_object_\"+n)?A.getCustomData(\"list_group_object_\"+n).contents.push(p):(y={root:A,contents:[p]},CKEDITOR.dom.element.setMarker(m,A,\"list_group_object_\"+n,y),k.push(y)))}}for(F=[];0<k.length;)if(y=k.shift(),this.state==CKEDITOR.TRISTATE_OFF)if(d[y.root.getName()]){h=b;n=y;y=m;l=F;A=CKEDITOR.plugins.list.listToArray(n.root,\ny);C=[];for(p=0;p<n.contents.length;p++)E=n.contents[p],(E=E.getAscendant(\"li\",!0))&&!E.getCustomData(\"list_item_processed\")&&(C.push(E),CKEDITOR.dom.element.setMarker(y,E,\"list_item_processed\",!0));for(var E=n.root.getDocument(),J=void 0,G=void 0,p=0;p<C.length;p++){var M=C[p].getCustomData(\"listarray_index\"),J=A[M].parent;J.is(this.type)||(G=E.createElement(this.type),J.copyAttributes(G,{start:1,type:1}),G.removeStyle(\"list-style-type\"),A[M].parent=G)}y=CKEDITOR.plugins.list.arrayToList(A,y,null,\nh.config.enterMode);A=void 0;C=y.listNode.getChildCount();for(p=0;p<C&&(A=y.listNode.getChild(p));p++)A.getName()==this.type&&l.push(A);y.listNode.replace(n.root);h.fire(\"contentDomInvalidated\")}else{A=b;l=y;p=F;C=l.contents;h=l.root.getDocument();n=[];1==C.length&&C[0].equals(l.root)&&(y=h.createElement(\"div\"),C[0].moveChildren&&C[0].moveChildren(y),C[0].append(y),C[0]=y);l=l.contents[0].getParent();for(E=0;E<C.length;E++)l=l.getCommonAncestor(C[E].getParent());J=A.config.useComputedState;A=y=void 0;\nJ=void 0===J||J;for(E=0;E<C.length;E++)for(G=C[E];M=G.getParent();){if(M.equals(l)){n.push(G);!A&&G.getDirection()&&(A=1);G=G.getDirection(J);null!==y&&(y=y&&y!=G?null:G);break}G=M}if(!(1>n.length)){C=n[n.length-1].getNext();E=h.createElement(this.type);p.push(E);for(J=p=void 0;n.length;)p=n.shift(),J=h.createElement(\"li\"),G=p,G.is(\"pre\")||q.test(G.getName())||\"false\"==G.getAttribute(\"contenteditable\")?p.appendTo(J):(p.copyAttributes(J),y&&p.getDirection()&&(J.removeStyle(\"direction\"),J.removeAttribute(\"dir\")),\np.moveChildren(J),p.remove()),J.appendTo(E);y&&A&&E.setAttribute(\"dir\",y);C?E.insertBefore(C):E.appendTo(l)}}else this.state==CKEDITOR.TRISTATE_ON&&d[y.root.getName()]&&a.call(this,b,y,m);for(E=0;E<F.length;E++)c(F[E]);CKEDITOR.dom.element.clearAllMarkers(m);f.selectBookmarks(e);b.focus()},refresh:function(a,b){var c=b.contains(d,1),e=b.blockLimit||b.root;c&&e.contains(c)?this.setState(c.is(this.type)?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF):this.setState(CKEDITOR.TRISTATE_OFF)}};CKEDITOR.plugins.add(\"list\",\n{requires:\"indentlist\",init:function(a){a.blockless||(a.addCommand(\"numberedlist\",new f(\"numberedlist\",\"ol\")),a.addCommand(\"bulletedlist\",new f(\"bulletedlist\",\"ul\")),a.ui.addButton&&(a.ui.addButton(\"NumberedList\",{label:a.lang.list.numberedlist,command:\"numberedlist\",directional:!0,toolbar:\"list,10\"}),a.ui.addButton(\"BulletedList\",{label:a.lang.list.bulletedlist,command:\"bulletedlist\",directional:!0,toolbar:\"list,20\"})),a.on(\"key\",function(b){var c=b.data.domEvent.getKey(),f;if(\"wysiwyg\"==a.mode&&\nc in{8:1,46:1}){var h=a.getSelection().getRanges()[0],k=h&&h.startPath();if(h&&h.collapsed){var p=8==c,q=a.editable(),D=new CKEDITOR.dom.walker(h.clone());D.evaluator=function(a){return g(a)&&!n(a)};D.guard=function(a,b){return!(b&&a.type==CKEDITOR.NODE_ELEMENT&&a.is(\"table\"))};c=h.clone();if(p){var y;(y=k.contains(d))&&h.checkBoundaryOfElement(y,CKEDITOR.START)&&(y=y.getParent())&&y.is(\"li\")&&(y=l(y))?(f=y,y=y.getPrevious(g),c.moveToPosition(y&&n(y)?y:f,CKEDITOR.POSITION_BEFORE_START)):(D.range.setStartAt(q,\nCKEDITOR.POSITION_AFTER_START),D.range.setEnd(h.startContainer,h.startOffset),(y=D.previous())&&y.type==CKEDITOR.NODE_ELEMENT&&(y.getName()in d||y.is(\"li\"))&&(y.is(\"li\")||(D.range.selectNodeContents(y),D.reset(),D.evaluator=e,y=D.previous()),f=y,c.moveToElementEditEnd(f),c.moveToPosition(c.endPath().block,CKEDITOR.POSITION_BEFORE_END)));if(f)m(a,c,h),b.cancel();else{var A=k.contains(d);A&&h.checkBoundaryOfElement(A,CKEDITOR.START)&&(f=A.getFirst(g),h.checkBoundaryOfElement(f,CKEDITOR.START)&&(y=A.getPrevious(g),\nl(f)?y&&(h.moveToElementEditEnd(y),h.select()):a.execCommand(\"outdent\"),b.cancel()))}}else if(f=k.contains(\"li\")){if(D.range.setEndAt(q,CKEDITOR.POSITION_BEFORE_END),p=(q=f.getLast(g))&&e(q)?q:f,k=0,(y=D.next())&&y.type==CKEDITOR.NODE_ELEMENT&&y.getName()in d&&y.equals(q)?(k=1,y=D.next()):h.checkBoundaryOfElement(p,CKEDITOR.END)&&(k=2),k&&y){h=h.clone();h.moveToElementEditStart(y);if(1==k&&(c.optimize(),!c.startContainer.equals(f))){for(f=c.startContainer;f.is(CKEDITOR.dtd.$inline);)A=f,f=f.getParent();\nA&&c.moveToPosition(A,CKEDITOR.POSITION_AFTER_END)}2==k&&(c.moveToPosition(c.endPath().block,CKEDITOR.POSITION_BEFORE_END),h.endPath().block&&h.moveToPosition(h.endPath().block,CKEDITOR.POSITION_AFTER_START));m(a,c,h);b.cancel()}}else D.range.setEndAt(q,CKEDITOR.POSITION_BEFORE_END),(y=D.next())&&y.type==CKEDITOR.NODE_ELEMENT&&y.is(d)&&(y=y.getFirst(g),k.block&&h.checkStartOfBlock()&&h.checkEndOfBlock()?(k.block.remove(),h.moveToElementEditStart(y),h.select()):l(y)?(h.moveToElementEditStart(y),h.select()):\n(h=h.clone(),h.moveToElementEditStart(y),m(a,c,h)),b.cancel());setTimeout(function(){a.selectionChange(1)})}}}))}})}(),function(){function a(a,b,c){c=a.config.forceEnterMode||c;\"wysiwyg\"==a.mode&&(b||(b=a.activeEnterMode),a.elementPath().isContextFor(\"p\")||(b=CKEDITOR.ENTER_BR,c=1),a.fire(\"saveSnapshot\"),b==CKEDITOR.ENTER_BR?l(a,b,null,c):d(a,b,null,c),a.fire(\"saveSnapshot\"))}function f(a){a=a.getSelection().getRanges(!0);for(var b=a.length-1;0<b;b--)a[b].deleteContents();return a[0]}function b(a){var b=\na.startContainer.getAscendant(function(a){return a.type==CKEDITOR.NODE_ELEMENT&&\"true\"==a.getAttribute(\"contenteditable\")},!0);if(a.root.equals(b))return a;b=new CKEDITOR.dom.range(b);b.moveToRange(a);return b}CKEDITOR.plugins.add(\"enterkey\",{init:function(b){b.addCommand(\"enter\",{modes:{wysiwyg:1},editorFocus:!1,exec:function(b){a(b)}});b.addCommand(\"shiftEnter\",{modes:{wysiwyg:1},editorFocus:!1,exec:function(b){a(b,b.activeShiftEnterMode,1)}});b.setKeystroke([[13,\"enter\"],[CKEDITOR.SHIFT+13,\"shiftEnter\"]])}});\nvar c=CKEDITOR.dom.walker.whitespaces(),e=CKEDITOR.dom.walker.bookmark();CKEDITOR.plugins.enterkey={enterBlock:function(a,d,m,q){if(m=m||f(a)){m=b(m);var p=m.document,t=m.checkStartOfBlock(),v=m.checkEndOfBlock(),r=a.elementPath(m.startContainer),u=r.block,B=d==CKEDITOR.ENTER_DIV?\"div\":\"p\",x;if(t&&v){if(u&&(u.is(\"li\")||u.getParent().is(\"li\"))){u.is(\"li\")||(u=u.getParent());m=u.getParent();x=m.getParent();q=!u.hasPrevious();var w=!u.hasNext(),B=a.getSelection(),z=B.createBookmarks(),t=u.getDirection(1),\nv=u.getAttribute(\"class\"),D=u.getAttribute(\"style\"),y=x.getDirection(1)!=t;a=a.enterMode!=CKEDITOR.ENTER_BR||y||D||v;if(x.is(\"li\"))q||w?(q&&w&&m.remove(),u[w?\"insertAfter\":\"insertBefore\"](x)):u.breakParent(x);else{if(a)if(r.block.is(\"li\")?(x=p.createElement(d==CKEDITOR.ENTER_P?\"p\":\"div\"),y&&x.setAttribute(\"dir\",t),D&&x.setAttribute(\"style\",D),v&&x.setAttribute(\"class\",v),u.moveChildren(x)):x=r.block,q||w)x[q?\"insertBefore\":\"insertAfter\"](m);else u.breakParent(m),x.insertAfter(m);else if(u.appendBogus(!0),\nq||w)for(;p=u[q?\"getFirst\":\"getLast\"]();)p[q?\"insertBefore\":\"insertAfter\"](m);else for(u.breakParent(m);p=u.getLast();)p.insertAfter(m);u.remove()}B.selectBookmarks(z);return}if(u&&u.getParent().is(\"blockquote\")){u.breakParent(u.getParent());u.getPrevious().getFirst(CKEDITOR.dom.walker.invisible(1))||u.getPrevious().remove();u.getNext().getFirst(CKEDITOR.dom.walker.invisible(1))||u.getNext().remove();m.moveToElementEditStart(u);m.select();return}}else if(u&&u.is(\"pre\")&&!v){l(a,d,m,q);return}if(t=\nm.splitBlock(B)){d=t.previousBlock;u=t.nextBlock;r=t.wasStartOfBlock;a=t.wasEndOfBlock;u?(z=u.getParent(),z.is(\"li\")&&(u.breakParent(z),u.move(u.getNext(),1))):d&&(z=d.getParent())&&z.is(\"li\")&&(d.breakParent(z),z=d.getNext(),m.moveToElementEditStart(z),d.move(d.getPrevious()));if(r||a){if(d){if(d.is(\"li\")||!h.test(d.getName())&&!d.is(\"pre\"))x=d.clone()}else u&&(x=u.clone());x?q&&!x.is(\"li\")&&x.renameNode(B):z&&z.is(\"li\")?x=z:(x=p.createElement(B),d&&(w=d.getDirection())&&x.setAttribute(\"dir\",w));\nif(p=t.elementPath)for(q=0,B=p.elements.length;q<B;q++){z=p.elements[q];if(z.equals(p.block)||z.equals(p.blockLimit))break;CKEDITOR.dtd.$removeEmpty[z.getName()]&&(z=z.clone(),x.moveChildren(z),x.append(z))}x.appendBogus();x.getParent()||m.insertNode(x);x.is(\"li\")&&x.removeAttribute(\"value\");!CKEDITOR.env.ie||!r||a&&d.getChildCount()||(m.moveToElementEditStart(a?d:x),m.select());m.moveToElementEditStart(r&&!a?u:x)}else u.is(\"li\")&&(x=m.clone(),x.selectNodeContents(u),x=new CKEDITOR.dom.walker(x),\nx.evaluator=function(a){return!(e(a)||c(a)||a.type==CKEDITOR.NODE_ELEMENT&&a.getName()in CKEDITOR.dtd.$inline&&!(a.getName()in CKEDITOR.dtd.$empty))},(z=x.next())&&z.type==CKEDITOR.NODE_ELEMENT&&z.is(\"ul\",\"ol\")&&(CKEDITOR.env.needsBrFiller?p.createElement(\"br\"):p.createText(\" \")).insertBefore(z)),u&&m.moveToElementEditStart(u);m.select();m.scrollIntoView()}}},enterBr:function(a,b,c,e){if(c=c||f(a)){var l=c.document,m=c.checkEndOfBlock(),v=new CKEDITOR.dom.elementPath(a.getSelection().getStartElement()),\nr=v.block,u=r&&v.block.getName();e||\"li\"!=u?(!e&&m&&h.test(u)?(m=r.getDirection())?(l=l.createElement(\"div\"),l.setAttribute(\"dir\",m),l.insertAfter(r),c.setStart(l,0)):(l.createElement(\"br\").insertAfter(r),CKEDITOR.env.gecko&&l.createText(\"\").insertAfter(r),c.setStartAt(r.getNext(),CKEDITOR.env.ie?CKEDITOR.POSITION_BEFORE_START:CKEDITOR.POSITION_AFTER_START)):(a=\"pre\"==u&&CKEDITOR.env.ie&&8>CKEDITOR.env.version?l.createText(\"\\r\"):l.createElement(\"br\"),c.deleteContents(),c.insertNode(a),CKEDITOR.env.needsBrFiller?\n(l.createText(\"﻿\").insertAfter(a),m&&(r||v.blockLimit).appendBogus(),a.getNext().$.nodeValue=\"\",c.setStartAt(a.getNext(),CKEDITOR.POSITION_AFTER_START)):c.setStartAt(a,CKEDITOR.POSITION_AFTER_END)),c.collapse(!0),c.select(),c.scrollIntoView()):d(a,b,c,e)}}};var m=CKEDITOR.plugins.enterkey,l=m.enterBr,d=m.enterBlock,h=/^h[1-6]$/}(),function(){function a(a,b){var c={},e=[],m={nbsp:\" \",shy:\"­\",gt:\"\\x3e\",lt:\"\\x3c\",amp:\"\\x26\",apos:\"'\",quot:'\"'};a=a.replace(/\\b(nbsp|shy|gt|lt|amp|apos|quot)(?:,|$)/g,function(a,\nd){var f=b?\"\\x26\"+d+\";\":m[d];c[f]=b?m[d]:\"\\x26\"+d+\";\";e.push(f);return\"\"});if(!b&&a){a=a.split(\",\");var l=document.createElement(\"div\"),d;l.innerHTML=\"\\x26\"+a.join(\";\\x26\")+\";\";d=l.innerHTML;l=null;for(l=0;l<d.length;l++){var h=d.charAt(l);c[h]=\"\\x26\"+a[l]+\";\";e.push(h)}}c.regex=e.join(b?\"|\":\"\");return c}CKEDITOR.plugins.add(\"entities\",{afterInit:function(f){function b(a){return h[a]}function c(a){return\"force\"!=e.entities_processNumerical&&l[a]?l[a]:\"\\x26#\"+a.charCodeAt(0)+\";\"}var e=f.config;if(f=\n(f=f.dataProcessor)&&f.htmlFilter){var m=[];!1!==e.basicEntities&&m.push(\"nbsp,gt,lt,amp\");e.entities&&(m.length&&m.push(\"quot,iexcl,cent,pound,curren,yen,brvbar,sect,uml,copy,ordf,laquo,not,shy,reg,macr,deg,plusmn,sup2,sup3,acute,micro,para,middot,cedil,sup1,ordm,raquo,frac14,frac12,frac34,iquest,times,divide,fnof,bull,hellip,prime,Prime,oline,frasl,weierp,image,real,trade,alefsym,larr,uarr,rarr,darr,harr,crarr,lArr,uArr,rArr,dArr,hArr,forall,part,exist,empty,nabla,isin,notin,ni,prod,sum,minus,lowast,radic,prop,infin,ang,and,or,cap,cup,int,there4,sim,cong,asymp,ne,equiv,le,ge,sub,sup,nsub,sube,supe,oplus,otimes,perp,sdot,lceil,rceil,lfloor,rfloor,lang,rang,loz,spades,clubs,hearts,diams,circ,tilde,ensp,emsp,thinsp,zwnj,zwj,lrm,rlm,ndash,mdash,lsquo,rsquo,sbquo,ldquo,rdquo,bdquo,dagger,Dagger,permil,lsaquo,rsaquo,euro\"),\ne.entities_latin&&m.push(\"Agrave,Aacute,Acirc,Atilde,Auml,Aring,AElig,Ccedil,Egrave,Eacute,Ecirc,Euml,Igrave,Iacute,Icirc,Iuml,ETH,Ntilde,Ograve,Oacute,Ocirc,Otilde,Ouml,Oslash,Ugrave,Uacute,Ucirc,Uuml,Yacute,THORN,szlig,agrave,aacute,acirc,atilde,auml,aring,aelig,ccedil,egrave,eacute,ecirc,euml,igrave,iacute,icirc,iuml,eth,ntilde,ograve,oacute,ocirc,otilde,ouml,oslash,ugrave,uacute,ucirc,uuml,yacute,thorn,yuml,OElig,oelig,Scaron,scaron,Yuml\"),e.entities_greek&&m.push(\"Alpha,Beta,Gamma,Delta,Epsilon,Zeta,Eta,Theta,Iota,Kappa,Lambda,Mu,Nu,Xi,Omicron,Pi,Rho,Sigma,Tau,Upsilon,Phi,Chi,Psi,Omega,alpha,beta,gamma,delta,epsilon,zeta,eta,theta,iota,kappa,lambda,mu,nu,xi,omicron,pi,rho,sigmaf,sigma,tau,upsilon,phi,chi,psi,omega,thetasym,upsih,piv\"),\ne.entities_additional&&m.push(e.entities_additional));var l=a(m.join(\",\")),d=l.regex?\"[\"+l.regex+\"]\":\"a^\";delete l.regex;e.entities&&e.entities_processNumerical&&(d=\"[^ -~]|\"+d);var d=new RegExp(d,\"g\"),h=a(\"nbsp,gt,lt,amp,shy\",!0),k=new RegExp(h.regex,\"g\");f.addRules({text:function(a){return a.replace(k,b).replace(d,c)}},{applyToAll:!0,excludeNestedEditable:!0})}}})}(),CKEDITOR.config.basicEntities=!0,CKEDITOR.config.entities=!0,CKEDITOR.config.entities_latin=!0,CKEDITOR.config.entities_greek=!0,\nCKEDITOR.config.entities_additional=\"#39\",CKEDITOR.plugins.add(\"popup\"),CKEDITOR.tools.extend(CKEDITOR.editor.prototype,{popup:function(a,f,b,c){f=f||\"80%\";b=b||\"70%\";\"string\"==typeof f&&1<f.length&&\"%\"==f.substr(f.length-1,1)&&(f=parseInt(window.screen.width*parseInt(f,10)/100,10));\"string\"==typeof b&&1<b.length&&\"%\"==b.substr(b.length-1,1)&&(b=parseInt(window.screen.height*parseInt(b,10)/100,10));640>f&&(f=640);420>b&&(b=420);var e=parseInt((window.screen.height-b)/2,10),m=parseInt((window.screen.width-\nf)/2,10);c=(c||\"location\\x3dno,menubar\\x3dno,toolbar\\x3dno,dependent\\x3dyes,minimizable\\x3dno,modal\\x3dyes,alwaysRaised\\x3dyes,resizable\\x3dyes,scrollbars\\x3dyes\")+\",width\\x3d\"+f+\",height\\x3d\"+b+\",top\\x3d\"+e+\",left\\x3d\"+m;var l=window.open(\"\",null,c,!0);if(!l)return!1;try{-1==navigator.userAgent.toLowerCase().indexOf(\" chrome/\")&&(l.moveTo(m,e),l.resizeTo(f,b)),l.focus(),l.location.href=a}catch(d){window.open(a,null,c,!0)}return!0}}),function(){function a(a,b){var c=[];if(b)for(var d in b)c.push(d+\n\"\\x3d\"+encodeURIComponent(b[d]));else return a;return a+(-1!=a.indexOf(\"?\")?\"\\x26\":\"?\")+c.join(\"\\x26\")}function f(a){a+=\"\";return a.charAt(0).toUpperCase()+a.substr(1)}function b(){var b=this.getDialog(),c=b.getParentEditor();c._.filebrowserSe=this;var d=c.config[\"filebrowser\"+f(b.getName())+\"WindowWidth\"]||c.config.filebrowserWindowWidth||\"80%\",b=c.config[\"filebrowser\"+f(b.getName())+\"WindowHeight\"]||c.config.filebrowserWindowHeight||\"70%\",e=this.filebrowser.params||{};e.CKEditor=c.name;e.CKEditorFuncNum=\nc._.filebrowserFn;e.langCode||(e.langCode=c.langCode);e=a(this.filebrowser.url,e);c.popup(e,d,b,c.config.filebrowserWindowFeatures||c.config.fileBrowserWindowFeatures)}function c(){var a=this.getDialog();a.getParentEditor()._.filebrowserSe=this;return a.getContentElement(this[\"for\"][0],this[\"for\"][1]).getInputElement().$.value&&a.getContentElement(this[\"for\"][0],this[\"for\"][1]).getAction()?!0:!1}function e(b,c,d){var e=d.params||{};e.CKEditor=b.name;e.CKEditorFuncNum=b._.filebrowserFn;e.langCode||\n(e.langCode=b.langCode);c.action=a(d.url,e);c.filebrowser=d}function m(a,d,g,l){if(l&&l.length)for(var q,p=l.length;p--;)if(q=l[p],\"hbox\"!=q.type&&\"vbox\"!=q.type&&\"fieldset\"!=q.type||m(a,d,g,q.children),q.filebrowser)if(\"string\"==typeof q.filebrowser&&(q.filebrowser={action:\"fileButton\"==q.type?\"QuickUpload\":\"Browse\",target:q.filebrowser}),\"Browse\"==q.filebrowser.action){var t=q.filebrowser.url;void 0===t&&(t=a.config[\"filebrowser\"+f(d)+\"BrowseUrl\"],void 0===t&&(t=a.config.filebrowserBrowseUrl));\nt&&(q.onClick=b,q.filebrowser.url=t,q.hidden=!1)}else if(\"QuickUpload\"==q.filebrowser.action&&q[\"for\"]&&(t=q.filebrowser.url,void 0===t&&(t=a.config[\"filebrowser\"+f(d)+\"UploadUrl\"],void 0===t&&(t=a.config.filebrowserUploadUrl)),t)){var v=q.onClick;q.onClick=function(a){var b=a.sender;if(v&&!1===v.call(b,a))return!1;if(c.call(b,a)){a=b.getDialog().getContentElement(this[\"for\"][0],this[\"for\"][1]).getInputElement();if(b=new CKEDITOR.dom.element(a.$.form))(a=b.$.elements.ckCsrfToken)?a=new CKEDITOR.dom.element(a):\n(a=new CKEDITOR.dom.element(\"input\"),a.setAttributes({name:\"ckCsrfToken\",type:\"hidden\"}),b.append(a)),a.setAttribute(\"value\",CKEDITOR.tools.getCsrfToken());return!0}return!1};q.filebrowser.url=t;q.hidden=!1;e(a,g.getContents(q[\"for\"][0]).get(q[\"for\"][1]),q.filebrowser)}}function l(a,b,c){if(-1!==c.indexOf(\";\")){c=c.split(\";\");for(var d=0;d<c.length;d++)if(l(a,b,c[d]))return!0;return!1}return(a=a.getContents(b).get(c).filebrowser)&&a.url}function d(a,b){var c=this._.filebrowserSe.getDialog(),d=this._.filebrowserSe[\"for\"],\ne=this._.filebrowserSe.filebrowser.onSelect;d&&c.getContentElement(d[0],d[1]).reset();if(\"function\"!=typeof b||!1!==b.call(this._.filebrowserSe))if(!e||!1!==e.call(this._.filebrowserSe,a,b))if(\"string\"==typeof b&&b&&alert(b),a&&(d=this._.filebrowserSe,c=d.getDialog(),d=d.filebrowser.target||null))if(d=d.split(\":\"),e=c.getContentElement(d[0],d[1]))e.setValue(a),c.selectPage(d[0])}CKEDITOR.plugins.add(\"filebrowser\",{requires:\"popup\",init:function(a){a._.filebrowserFn=CKEDITOR.tools.addFunction(d,a);\na.on(\"destroy\",function(){CKEDITOR.tools.removeFunction(this._.filebrowserFn)})}});CKEDITOR.on(\"dialogDefinition\",function(a){if(a.editor.plugins.filebrowser)for(var b=a.data.definition,c,d=0;d<b.contents.length;++d)if(c=b.contents[d])m(a.editor,a.data.name,b,c.elements),c.hidden&&c.filebrowser&&(c.hidden=!l(b,c.id,c.filebrowser))})}(),function(){function a(a){var e=a.config,m=a.fire(\"uiSpace\",{space:\"top\",html:\"\"}).html,l=function(){function d(a,c,e){h.setStyle(c,b(e));h.setStyle(\"position\",a)}function g(a){var b=\nm.getDocumentPosition();switch(a){case \"top\":d(\"absolute\",\"top\",b.y-B-z);break;case \"pin\":d(\"fixed\",\"top\",y);break;case \"bottom\":d(\"absolute\",\"top\",b.y+(r.height||r.bottom-r.top)+z)}k=a}var k,m,v,r,u,B,x,w=e.floatSpaceDockedOffsetX||0,z=e.floatSpaceDockedOffsetY||0,D=e.floatSpacePinnedOffsetX||0,y=e.floatSpacePinnedOffsetY||0;return function(d){if(m=a.editable()){var n=d&&\"focus\"==d.name;n&&h.show();a.fire(\"floatingSpaceLayout\",{show:n});h.removeStyle(\"left\");h.removeStyle(\"right\");v=h.getClientRect();\nr=m.getClientRect();u=f.getViewPaneSize();B=v.height;x=\"pageXOffset\"in f.$?f.$.pageXOffset:CKEDITOR.document.$.documentElement.scrollLeft;k?(B+z<=r.top?g(\"top\"):B+z>u.height-r.bottom?g(\"pin\"):g(\"bottom\"),d=u.width/2,d=e.floatSpacePreferRight?\"right\":0<r.left&&r.right<u.width&&r.width>v.width?\"rtl\"==e.contentsLangDirection?\"right\":\"left\":d-r.left>r.right-d?\"left\":\"right\",v.width>u.width?(d=\"left\",n=0):(n=\"left\"==d?0<r.left?r.left:0:r.right<u.width?u.width-r.right:0,n+v.width>u.width&&(d=\"left\"==d?\n\"right\":\"left\",n=0)),h.setStyle(d,b((\"pin\"==k?D:w)+n+(\"pin\"==k?0:\"left\"==d?x:-x)))):(k=\"pin\",g(\"pin\"),l(d))}}}();if(m){var d=new CKEDITOR.template('\\x3cdiv id\\x3d\"cke_{name}\" class\\x3d\"cke {id} cke_reset_all cke_chrome cke_editor_{name} cke_float cke_{langDir} '+CKEDITOR.env.cssClass+'\" dir\\x3d\"{langDir}\" title\\x3d\"'+(CKEDITOR.env.gecko?\" \":\"\")+'\" lang\\x3d\"{langCode}\" role\\x3d\"application\" style\\x3d\"{style}\"'+(a.title?' aria-labelledby\\x3d\"cke_{name}_arialbl\"':\" \")+\"\\x3e\"+(a.title?'\\x3cspan id\\x3d\"cke_{name}_arialbl\" class\\x3d\"cke_voice_label\"\\x3e{voiceLabel}\\x3c/span\\x3e':\n\" \")+'\\x3cdiv class\\x3d\"cke_inner\"\\x3e\\x3cdiv id\\x3d\"{topId}\" class\\x3d\"cke_top\" role\\x3d\"presentation\"\\x3e{content}\\x3c/div\\x3e\\x3c/div\\x3e\\x3c/div\\x3e'),h=CKEDITOR.document.getBody().append(CKEDITOR.dom.element.createFromHtml(d.output({content:m,id:a.id,langDir:a.lang.dir,langCode:a.langCode,name:a.name,style:\"display:none;z-index:\"+(e.baseFloatZIndex-1),topId:a.ui.spaceId(\"top\"),voiceLabel:a.title}))),k=CKEDITOR.tools.eventsBuffer(500,l),g=CKEDITOR.tools.eventsBuffer(100,l);h.unselectable();h.on(\"mousedown\",\nfunction(a){a=a.data;a.getTarget().hasAscendant(\"a\",1)||a.preventDefault()});a.on(\"focus\",function(b){l(b);a.on(\"change\",k.input);f.on(\"scroll\",g.input);f.on(\"resize\",g.input)});a.on(\"blur\",function(){h.hide();a.removeListener(\"change\",k.input);f.removeListener(\"scroll\",g.input);f.removeListener(\"resize\",g.input)});a.on(\"destroy\",function(){f.removeListener(\"scroll\",g.input);f.removeListener(\"resize\",g.input);h.clearCustomData();h.remove()});a.focusManager.hasFocus&&h.show();a.focusManager.add(h,\n1)}}var f=CKEDITOR.document.getWindow(),b=CKEDITOR.tools.cssLength;CKEDITOR.plugins.add(\"floatingspace\",{init:function(b){b.on(\"loaded\",function(){a(this)},null,null,20)}})}(),CKEDITOR.plugins.add(\"listblock\",{requires:\"panel\",onLoad:function(){var a=CKEDITOR.addTemplate(\"panel-list\",'\\x3cul role\\x3d\"presentation\" class\\x3d\"cke_panel_list\"\\x3e{items}\\x3c/ul\\x3e'),f=CKEDITOR.addTemplate(\"panel-list-item\",'\\x3cli id\\x3d\"{id}\" class\\x3d\"cke_panel_listItem\" role\\x3dpresentation\\x3e\\x3ca id\\x3d\"{id}_option\" _cke_focus\\x3d1 hidefocus\\x3dtrue title\\x3d\"{title}\" href\\x3d\"javascript:void(\\'{val}\\')\"  {onclick}\\x3d\"CKEDITOR.tools.callFunction({clickFn},\\'{val}\\'); return false;\" role\\x3d\"option\"\\x3e{text}\\x3c/a\\x3e\\x3c/li\\x3e'),\nb=CKEDITOR.addTemplate(\"panel-list-group\",'\\x3ch1 id\\x3d\"{id}\" class\\x3d\"cke_panel_grouptitle\" role\\x3d\"presentation\" \\x3e{label}\\x3c/h1\\x3e'),c=/\\'/g;CKEDITOR.ui.panel.prototype.addListBlock=function(a,b){return this.addBlock(a,new CKEDITOR.ui.listBlock(this.getHolderElement(),b))};CKEDITOR.ui.listBlock=CKEDITOR.tools.createClass({base:CKEDITOR.ui.panel.block,$:function(a,b){b=b||{};var c=b.attributes||(b.attributes={});(this.multiSelect=!!b.multiSelect)&&(c[\"aria-multiselectable\"]=!0);!c.role&&\n(c.role=\"listbox\");this.base.apply(this,arguments);this.element.setAttribute(\"role\",c.role);c=this.keys;c[40]=\"next\";c[9]=\"next\";c[38]=\"prev\";c[CKEDITOR.SHIFT+9]=\"prev\";c[32]=CKEDITOR.env.ie?\"mouseup\":\"click\";CKEDITOR.env.ie&&(c[13]=\"mouseup\");this._.pendingHtml=[];this._.pendingList=[];this._.items={};this._.groups={}},_:{close:function(){if(this._.started){var b=a.output({items:this._.pendingList.join(\"\")});this._.pendingList=[];this._.pendingHtml.push(b);delete this._.started}},getClick:function(){this._.click||\n(this._.click=CKEDITOR.tools.addFunction(function(a){var b=this.toggle(a);if(this.onClick)this.onClick(a,b)},this));return this._.click}},proto:{add:function(a,b,l){var d=CKEDITOR.tools.getNextId();this._.started||(this._.started=1,this._.size=this._.size||0);this._.items[a]=d;var h;h=CKEDITOR.tools.htmlEncodeAttr(a).replace(c,\"\\\\'\");a={id:d,val:h,onclick:CKEDITOR.env.ie?'onclick\\x3d\"return false;\" onmouseup':\"onclick\",clickFn:this._.getClick(),title:CKEDITOR.tools.htmlEncodeAttr(l||a),text:b||a};\nthis._.pendingList.push(f.output(a))},startGroup:function(a){this._.close();var c=CKEDITOR.tools.getNextId();this._.groups[a]=c;this._.pendingHtml.push(b.output({id:c,label:a}))},commit:function(){this._.close();this.element.appendHtml(this._.pendingHtml.join(\"\"));delete this._.size;this._.pendingHtml=[]},toggle:function(a){var b=this.isMarked(a);b?this.unmark(a):this.mark(a);return!b},hideGroup:function(a){var b=(a=this.element.getDocument().getById(this._.groups[a]))&&a.getNext();a&&(a.setStyle(\"display\",\n\"none\"),b&&\"ul\"==b.getName()&&b.setStyle(\"display\",\"none\"))},hideItem:function(a){this.element.getDocument().getById(this._.items[a]).setStyle(\"display\",\"none\")},showAll:function(){var a=this._.items,b=this._.groups,c=this.element.getDocument(),d;for(d in a)c.getById(a[d]).setStyle(\"display\",\"\");for(var f in b)a=c.getById(b[f]),d=a.getNext(),a.setStyle(\"display\",\"\"),d&&\"ul\"==d.getName()&&d.setStyle(\"display\",\"\")},mark:function(a){this.multiSelect||this.unmarkAll();a=this._.items[a];var b=this.element.getDocument().getById(a);\nb.addClass(\"cke_selected\");this.element.getDocument().getById(a+\"_option\").setAttribute(\"aria-selected\",!0);this.onMark&&this.onMark(b)},unmark:function(a){var b=this.element.getDocument();a=this._.items[a];var c=b.getById(a);c.removeClass(\"cke_selected\");b.getById(a+\"_option\").removeAttribute(\"aria-selected\");this.onUnmark&&this.onUnmark(c)},unmarkAll:function(){var a=this._.items,b=this.element.getDocument(),c;for(c in a){var d=a[c];b.getById(d).removeClass(\"cke_selected\");b.getById(d+\"_option\").removeAttribute(\"aria-selected\")}this.onUnmark&&\nthis.onUnmark()},isMarked:function(a){return this.element.getDocument().getById(this._.items[a]).hasClass(\"cke_selected\")},focus:function(a){this._.focusIndex=-1;var b=this.element.getElementsByTag(\"a\"),c,d=-1;if(a)for(c=this.element.getDocument().getById(this._.items[a]).getFirst();a=b.getItem(++d);){if(a.equals(c)){this._.focusIndex=d;break}}else this.element.focus();c&&setTimeout(function(){c.focus()},0)}}})}}),function(){var a='\\x3ca id\\x3d\"{id}\" class\\x3d\"cke_button cke_button__{name} cke_button_{state} {cls}\"'+\n(CKEDITOR.env.gecko&&!CKEDITOR.env.hc?\"\":\" href\\x3d\\\"javascript:void('{titleJs}')\\\"\")+' title\\x3d\"{title}\" tabindex\\x3d\"-1\" hidefocus\\x3d\"true\" role\\x3d\"button\" aria-labelledby\\x3d\"{id}_label\" aria-describedby\\x3d\"{id}_description\" aria-haspopup\\x3d\"{hasArrow}\" aria-disabled\\x3d\"{ariaDisabled}\"';CKEDITOR.env.gecko&&CKEDITOR.env.mac&&(a+=' onkeypress\\x3d\"return false;\"');CKEDITOR.env.gecko&&(a+=' onblur\\x3d\"this.style.cssText \\x3d this.style.cssText;\"');var a=a+(' onkeydown\\x3d\"return CKEDITOR.tools.callFunction({keydownFn},event);\" onfocus\\x3d\"return CKEDITOR.tools.callFunction({focusFn},event);\" '+\n(CKEDITOR.env.ie?'onclick\\x3d\"return false;\" onmouseup':\"onclick\")+'\\x3d\"CKEDITOR.tools.callFunction({clickFn},this);return false;\"\\x3e\\x3cspan class\\x3d\"cke_button_icon cke_button__{iconName}_icon\" style\\x3d\"{style}\"'),a=a+'\\x3e\\x26nbsp;\\x3c/span\\x3e\\x3cspan id\\x3d\"{id}_label\" class\\x3d\"cke_button_label cke_button__{name}_label\" aria-hidden\\x3d\"false\"\\x3e{label}\\x3c/span\\x3e\\x3cspan id\\x3d\"{id}_description\" class\\x3d\"cke_button_label\" aria-hidden\\x3d\"false\"\\x3e{ariaShortcut}\\x3c/span\\x3e{arrowHtml}\\x3c/a\\x3e',\nf=CKEDITOR.addTemplate(\"buttonArrow\",'\\x3cspan class\\x3d\"cke_button_arrow\"\\x3e'+(CKEDITOR.env.hc?\"\\x26#9660;\":\"\")+\"\\x3c/span\\x3e\"),b=CKEDITOR.addTemplate(\"button\",a);CKEDITOR.plugins.add(\"button\",{beforeInit:function(a){a.ui.addHandler(CKEDITOR.UI_BUTTON,CKEDITOR.ui.button.handler)}});CKEDITOR.UI_BUTTON=\"button\";CKEDITOR.ui.button=function(a){CKEDITOR.tools.extend(this,a,{title:a.label,click:a.click||function(b){b.execCommand(a.command)}});this._={}};CKEDITOR.ui.button.handler={create:function(a){return new CKEDITOR.ui.button(a)}};\nCKEDITOR.ui.button.prototype={render:function(a,e){function m(){var b=a.mode;b&&(b=this.modes[b]?void 0!==u[b]?u[b]:CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,b=a.readOnly&&!this.readOnly?CKEDITOR.TRISTATE_DISABLED:b,this.setState(b),this.refresh&&this.refresh())}var l=CKEDITOR.env,d=this._.id=CKEDITOR.tools.getNextId(),h=\"\",k=this.command,g,n,q;this._.editor=a;var p={id:d,button:this,editor:a,focus:function(){CKEDITOR.document.getById(d).focus()},execute:function(){this.button.click(a)},attach:function(a){this.button.attach(a)}},\nt=CKEDITOR.tools.addFunction(function(a){if(p.onkey)return a=new CKEDITOR.dom.event(a),!1!==p.onkey(p,a.getKeystroke())}),v=CKEDITOR.tools.addFunction(function(a){var b;p.onfocus&&(b=!1!==p.onfocus(p,new CKEDITOR.dom.event(a)));return b}),r=0;p.clickFn=g=CKEDITOR.tools.addFunction(function(){r&&(a.unlockSelection(1),r=0);p.execute();l.iOS&&a.focus()});if(this.modes){var u={};a.on(\"beforeModeUnload\",function(){a.mode&&this._.state!=CKEDITOR.TRISTATE_DISABLED&&(u[a.mode]=this._.state)},this);a.on(\"activeFilterChange\",\nm,this);a.on(\"mode\",m,this);!this.readOnly&&a.on(\"readOnly\",m,this)}else k&&(k=a.getCommand(k))&&(k.on(\"state\",function(){this.setState(k.state)},this),h+=k.state==CKEDITOR.TRISTATE_ON?\"on\":k.state==CKEDITOR.TRISTATE_DISABLED?\"disabled\":\"off\");if(this.directional)a.on(\"contentDirChanged\",function(b){var d=CKEDITOR.document.getById(this._.id),e=d.getFirst();b=b.data;b!=a.lang.dir?d.addClass(\"cke_\"+b):d.removeClass(\"cke_ltr\").removeClass(\"cke_rtl\");e.setAttribute(\"style\",CKEDITOR.skin.getIconStyle(B,\n\"rtl\"==b,this.icon,this.iconOffset))},this);k?(n=a.getCommandKeystroke(k))&&(q=CKEDITOR.tools.keystrokeToString(a.lang.common.keyboard,n)):h+=\"off\";var B=n=this.name||this.command;this.icon&&!/\\./.test(this.icon)&&(B=this.icon,this.icon=null);h={id:d,name:n,iconName:B,label:this.label,cls:this.className||\"\",state:h,ariaDisabled:\"disabled\"==h?\"true\":\"false\",title:this.title+(q?\" (\"+q.display+\")\":\"\"),ariaShortcut:q?a.lang.common.keyboardShortcut+\" \"+q.aria:\"\",titleJs:l.gecko&&!l.hc?\"\":(this.title||\n\"\").replace(\"'\",\"\"),hasArrow:this.hasArrow?\"true\":\"false\",keydownFn:t,focusFn:v,clickFn:g,style:CKEDITOR.skin.getIconStyle(B,\"rtl\"==a.lang.dir,this.icon,this.iconOffset),arrowHtml:this.hasArrow?f.output():\"\"};b.output(h,e);if(this.onRender)this.onRender();return p},setState:function(a){if(this._.state==a)return!1;this._.state=a;var b=CKEDITOR.document.getById(this._.id);return b?(b.setState(a,\"cke_button\"),a==CKEDITOR.TRISTATE_DISABLED?b.setAttribute(\"aria-disabled\",!0):b.removeAttribute(\"aria-disabled\"),\nthis.hasArrow?(a=a==CKEDITOR.TRISTATE_ON?this._.editor.lang.button.selectedLabel.replace(/%1/g,this.label):this.label,CKEDITOR.document.getById(this._.id+\"_label\").setText(a)):a==CKEDITOR.TRISTATE_ON?b.setAttribute(\"aria-pressed\",!0):b.removeAttribute(\"aria-pressed\"),!0):!1},getState:function(){return this._.state},toFeature:function(a){if(this._.feature)return this._.feature;var b=this;this.allowedContent||this.requiredContent||!this.command||(b=a.getCommand(this.command)||b);return this._.feature=\nb}};CKEDITOR.ui.prototype.addButton=function(a,b){this.add(a,CKEDITOR.UI_BUTTON,b)}}(),CKEDITOR.plugins.add(\"richcombo\",{requires:\"floatpanel,listblock,button\",beforeInit:function(a){a.ui.addHandler(CKEDITOR.UI_RICHCOMBO,CKEDITOR.ui.richCombo.handler)}}),function(){var a='\\x3cspan id\\x3d\"{id}\" class\\x3d\"cke_combo cke_combo__{name} {cls}\" role\\x3d\"presentation\"\\x3e\\x3cspan id\\x3d\"{id}_label\" class\\x3d\"cke_combo_label\"\\x3e{label}\\x3c/span\\x3e\\x3ca class\\x3d\"cke_combo_button\" title\\x3d\"{title}\" tabindex\\x3d\"-1\"'+\n(CKEDITOR.env.gecko&&!CKEDITOR.env.hc?\"\":\" href\\x3d\\\"javascript:void('{titleJs}')\\\"\")+' hidefocus\\x3d\"true\" role\\x3d\"button\" aria-labelledby\\x3d\"{id}_label\" aria-haspopup\\x3d\"true\"';CKEDITOR.env.gecko&&CKEDITOR.env.mac&&(a+=' onkeypress\\x3d\"return false;\"');CKEDITOR.env.gecko&&(a+=' onblur\\x3d\"this.style.cssText \\x3d this.style.cssText;\"');var a=a+(' onkeydown\\x3d\"return CKEDITOR.tools.callFunction({keydownFn},event,this);\" onfocus\\x3d\"return CKEDITOR.tools.callFunction({focusFn},event);\" '+(CKEDITOR.env.ie?\n'onclick\\x3d\"return false;\" onmouseup':\"onclick\")+'\\x3d\"CKEDITOR.tools.callFunction({clickFn},this);return false;\"\\x3e\\x3cspan id\\x3d\"{id}_text\" class\\x3d\"cke_combo_text cke_combo_inlinelabel\"\\x3e{label}\\x3c/span\\x3e\\x3cspan class\\x3d\"cke_combo_open\"\\x3e\\x3cspan class\\x3d\"cke_combo_arrow\"\\x3e'+(CKEDITOR.env.hc?\"\\x26#9660;\":CKEDITOR.env.air?\"\\x26nbsp;\":\"\")+\"\\x3c/span\\x3e\\x3c/span\\x3e\\x3c/a\\x3e\\x3c/span\\x3e\"),f=CKEDITOR.addTemplate(\"combo\",a);CKEDITOR.UI_RICHCOMBO=\"richcombo\";CKEDITOR.ui.richCombo=\nCKEDITOR.tools.createClass({$:function(a){CKEDITOR.tools.extend(this,a,{canGroup:!1,title:a.label,modes:{wysiwyg:1},editorFocus:1});a=this.panel||{};delete this.panel;this.id=CKEDITOR.tools.getNextNumber();this.document=a.parent&&a.parent.getDocument()||CKEDITOR.document;a.className=\"cke_combopanel\";a.block={multiSelect:a.multiSelect,attributes:a.attributes};a.toolbarRelated=!0;this._={panelDefinition:a,items:{}}},proto:{renderHtml:function(a){var c=[];this.render(a,c);return c.join(\"\")},render:function(a,\nc){function e(){if(this.getState()!=CKEDITOR.TRISTATE_ON){var c=this.modes[a.mode]?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED;a.readOnly&&!this.readOnly&&(c=CKEDITOR.TRISTATE_DISABLED);this.setState(c);this.setValue(\"\");c!=CKEDITOR.TRISTATE_DISABLED&&this.refresh&&this.refresh()}}var m=CKEDITOR.env,l=\"cke_\"+this.id,d=CKEDITOR.tools.addFunction(function(c){q&&(a.unlockSelection(1),q=0);k.execute(c)},this),h=this,k={id:l,combo:this,focus:function(){CKEDITOR.document.getById(l).getChild(1).focus()},\nexecute:function(c){var d=h._;if(d.state!=CKEDITOR.TRISTATE_DISABLED)if(h.createPanel(a),d.on)d.panel.hide();else{h.commit();var e=h.getValue();e?d.list.mark(e):d.list.unmarkAll();d.panel.showBlock(h.id,new CKEDITOR.dom.element(c),4)}},clickFn:d};a.on(\"activeFilterChange\",e,this);a.on(\"mode\",e,this);a.on(\"selectionChange\",e,this);!this.readOnly&&a.on(\"readOnly\",e,this);var g=CKEDITOR.tools.addFunction(function(c,e){c=new CKEDITOR.dom.event(c);var f=c.getKeystroke();if(40==f)a.once(\"panelShow\",function(a){a.data._.panel._.currentBlock.onKeyDown(40)});\nswitch(f){case 13:case 32:case 40:CKEDITOR.tools.callFunction(d,e);break;default:k.onkey(k,f)}c.preventDefault()}),n=CKEDITOR.tools.addFunction(function(){k.onfocus&&k.onfocus()}),q=0;k.keyDownFn=g;m={id:l,name:this.name||this.command,label:this.label,title:this.title,cls:this.className||\"\",titleJs:m.gecko&&!m.hc?\"\":(this.title||\"\").replace(\"'\",\"\"),keydownFn:g,focusFn:n,clickFn:d};f.output(m,c);if(this.onRender)this.onRender();return k},createPanel:function(a){if(!this._.panel){var c=this._.panelDefinition,\ne=this._.panelDefinition.block,f=c.parent||CKEDITOR.document.getBody(),l=\"cke_combopanel__\"+this.name,d=new CKEDITOR.ui.floatPanel(a,f,c),h=d.addListBlock(this.id,e),k=this;d.onShow=function(){this.element.addClass(l);k.setState(CKEDITOR.TRISTATE_ON);k._.on=1;k.editorFocus&&!a.focusManager.hasFocus&&a.focus();if(k.onOpen)k.onOpen();a.once(\"panelShow\",function(){h.focus(!h.multiSelect&&k.getValue())})};d.onHide=function(c){this.element.removeClass(l);k.setState(k.modes&&k.modes[a.mode]?CKEDITOR.TRISTATE_OFF:\nCKEDITOR.TRISTATE_DISABLED);k._.on=0;if(!c&&k.onClose)k.onClose()};d.onEscape=function(){d.hide(1)};h.onClick=function(a,b){k.onClick&&k.onClick.call(k,a,b);d.hide()};this._.panel=d;this._.list=h;d.getBlock(this.id).onHide=function(){k._.on=0;k.setState(CKEDITOR.TRISTATE_OFF)};this.init&&this.init()}},setValue:function(a,c){this._.value=a;var e=this.document.getById(\"cke_\"+this.id+\"_text\");e&&(a||c?e.removeClass(\"cke_combo_inlinelabel\"):(c=this.label,e.addClass(\"cke_combo_inlinelabel\")),e.setText(\"undefined\"!=\ntypeof c?c:a))},getValue:function(){return this._.value||\"\"},unmarkAll:function(){this._.list.unmarkAll()},mark:function(a){this._.list.mark(a)},hideItem:function(a){this._.list.hideItem(a)},hideGroup:function(a){this._.list.hideGroup(a)},showAll:function(){this._.list.showAll()},add:function(a,c,e){this._.items[a]=e||a;this._.list.add(a,c,e)},startGroup:function(a){this._.list.startGroup(a)},commit:function(){this._.committed||(this._.list.commit(),this._.committed=1,CKEDITOR.ui.fire(\"ready\",this));\nthis._.committed=1},setState:function(a){if(this._.state!=a){var c=this.document.getById(\"cke_\"+this.id);c.setState(a,\"cke_combo\");a==CKEDITOR.TRISTATE_DISABLED?c.setAttribute(\"aria-disabled\",!0):c.removeAttribute(\"aria-disabled\");this._.state=a}},getState:function(){return this._.state},enable:function(){this._.state==CKEDITOR.TRISTATE_DISABLED&&this.setState(this._.lastState)},disable:function(){this._.state!=CKEDITOR.TRISTATE_DISABLED&&(this._.lastState=this._.state,this.setState(CKEDITOR.TRISTATE_DISABLED))}},\nstatics:{handler:{create:function(a){return new CKEDITOR.ui.richCombo(a)}}}});CKEDITOR.ui.prototype.addRichCombo=function(a,c){this.add(a,CKEDITOR.UI_RICHCOMBO,c)}}(),CKEDITOR.plugins.add(\"format\",{requires:\"richcombo\",init:function(a){if(!a.blockless){for(var f=a.config,b=a.lang.format,c=f.format_tags.split(\";\"),e={},m=0,l=[],d=0;d<c.length;d++){var h=c[d],k=new CKEDITOR.style(f[\"format_\"+h]);if(!a.filter.customConfig||a.filter.check(k))m++,e[h]=k,e[h]._.enterMode=a.config.enterMode,l.push(k)}0!==\nm&&a.ui.addRichCombo(\"Format\",{label:b.label,title:b.panelTitle,toolbar:\"styles,20\",allowedContent:l,panel:{css:[CKEDITOR.skin.getPath(\"editor\")].concat(f.contentsCss),multiSelect:!1,attributes:{\"aria-label\":b.panelTitle}},init:function(){this.startGroup(b.panelTitle);for(var a in e){var c=b[\"tag_\"+a];this.add(a,e[a].buildPreview(c),c)}},onClick:function(b){a.focus();a.fire(\"saveSnapshot\");b=e[b];var c=a.elementPath();a[b.checkActive(c,a)?\"removeStyle\":\"applyStyle\"](b);setTimeout(function(){a.fire(\"saveSnapshot\")},\n0)},onRender:function(){a.on(\"selectionChange\",function(b){var c=this.getValue();b=b.data.path;this.refresh();for(var d in e)if(e[d].checkActive(b,a)){d!=c&&this.setValue(d,a.lang.format[\"tag_\"+d]);return}this.setValue(\"\")},this)},onOpen:function(){this.showAll();for(var b in e)a.activeFilter.check(e[b])||this.hideItem(b)},refresh:function(){var b=a.elementPath();if(b){if(b.isContextFor(\"p\"))for(var c in e)if(a.activeFilter.check(e[c]))return;this.setState(CKEDITOR.TRISTATE_DISABLED)}}})}}}),CKEDITOR.config.format_tags=\n\"p;h1;h2;h3;h4;h5;h6;pre;address;div\",CKEDITOR.config.format_p={element:\"p\"},CKEDITOR.config.format_div={element:\"div\"},CKEDITOR.config.format_pre={element:\"pre\"},CKEDITOR.config.format_address={element:\"address\"},CKEDITOR.config.format_h1={element:\"h1\"},CKEDITOR.config.format_h2={element:\"h2\"},CKEDITOR.config.format_h3={element:\"h3\"},CKEDITOR.config.format_h4={element:\"h4\"},CKEDITOR.config.format_h5={element:\"h5\"},CKEDITOR.config.format_h6={element:\"h6\"},function(){var a={canUndo:!1,exec:function(a){var b=\na.document.createElement(\"hr\");a.insertElement(b)},allowedContent:\"hr\",requiredContent:\"hr\"};CKEDITOR.plugins.add(\"horizontalrule\",{init:function(f){f.blockless||(f.addCommand(\"horizontalrule\",a),f.ui.addButton&&f.ui.addButton(\"HorizontalRule\",{label:f.lang.horizontalrule.toolbar,command:\"horizontalrule\",toolbar:\"insert,40\"}))}})}(),CKEDITOR.plugins.add(\"htmlwriter\",{init:function(a){var f=new CKEDITOR.htmlWriter;f.forceSimpleAmpersand=a.config.forceSimpleAmpersand;f.indentationChars=a.config.dataIndentationChars||\n\"\\t\";a.dataProcessor.writer=f}}),CKEDITOR.htmlWriter=CKEDITOR.tools.createClass({base:CKEDITOR.htmlParser.basicWriter,$:function(){this.base();this.indentationChars=\"\\t\";this.selfClosingEnd=\" /\\x3e\";this.lineBreakChars=\"\\n\";this.sortAttributes=1;this._.indent=0;this._.indentation=\"\";this._.inPre=0;this._.rules={};var a=CKEDITOR.dtd,f;for(f in CKEDITOR.tools.extend({},a.$nonBodyContent,a.$block,a.$listItem,a.$tableContent))this.setRules(f,{indent:!a[f][\"#\"],breakBeforeOpen:1,breakBeforeClose:!a[f][\"#\"],\nbreakAfterClose:1,needsSpace:f in a.$block&&!(f in{li:1,dt:1,dd:1})});this.setRules(\"br\",{breakAfterOpen:1});this.setRules(\"title\",{indent:0,breakAfterOpen:0});this.setRules(\"style\",{indent:0,breakBeforeClose:1});this.setRules(\"pre\",{breakAfterOpen:1,indent:0})},proto:{openTag:function(a){var f=this._.rules[a];this._.afterCloser&&f&&f.needsSpace&&this._.needsSpace&&this._.output.push(\"\\n\");this._.indent?this.indentation():f&&f.breakBeforeOpen&&(this.lineBreak(),this.indentation());this._.output.push(\"\\x3c\",\na);this._.afterCloser=0},openTagClose:function(a,f){var b=this._.rules[a];f?(this._.output.push(this.selfClosingEnd),b&&b.breakAfterClose&&(this._.needsSpace=b.needsSpace)):(this._.output.push(\"\\x3e\"),b&&b.indent&&(this._.indentation+=this.indentationChars));b&&b.breakAfterOpen&&this.lineBreak();\"pre\"==a&&(this._.inPre=1)},attribute:function(a,f){\"string\"==typeof f&&(this.forceSimpleAmpersand&&(f=f.replace(/&amp;/g,\"\\x26\")),f=CKEDITOR.tools.htmlEncodeAttr(f));this._.output.push(\" \",a,'\\x3d\"',f,'\"')},\ncloseTag:function(a){var f=this._.rules[a];f&&f.indent&&(this._.indentation=this._.indentation.substr(this.indentationChars.length));this._.indent?this.indentation():f&&f.breakBeforeClose&&(this.lineBreak(),this.indentation());this._.output.push(\"\\x3c/\",a,\"\\x3e\");\"pre\"==a&&(this._.inPre=0);f&&f.breakAfterClose&&(this.lineBreak(),this._.needsSpace=f.needsSpace);this._.afterCloser=1},text:function(a){this._.indent&&(this.indentation(),!this._.inPre&&(a=CKEDITOR.tools.ltrim(a)));this._.output.push(a)},\ncomment:function(a){this._.indent&&this.indentation();this._.output.push(\"\\x3c!--\",a,\"--\\x3e\")},lineBreak:function(){!this._.inPre&&0<this._.output.length&&this._.output.push(this.lineBreakChars);this._.indent=1},indentation:function(){!this._.inPre&&this._.indentation&&this._.output.push(this._.indentation);this._.indent=0},reset:function(){this._.output=[];this._.indent=0;this._.indentation=\"\";this._.afterCloser=0;this._.inPre=0;this._.needsSpace=0},setRules:function(a,f){var b=this._.rules[a];\nb?CKEDITOR.tools.extend(b,f,!0):this._.rules[a]=f}}}),function(){function a(a,c){c||(c=a.getSelection().getSelectedElement());if(c&&c.is(\"img\")&&!c.data(\"cke-realelement\")&&!c.isReadOnly())return c}function f(a){var c=a.getStyle(\"float\");if(\"inherit\"==c||\"none\"==c)c=0;c||(c=a.getAttribute(\"align\"));return c}CKEDITOR.plugins.add(\"image\",{requires:\"dialog\",init:function(b){if(!b.plugins.image2){CKEDITOR.dialog.add(\"image\",this.path+\"dialogs/image.js\");var c=\"img[alt,!src]{border-style,border-width,float,height,margin,margin-bottom,margin-left,margin-right,margin-top,width}\";\nCKEDITOR.dialog.isTabEnabled(b,\"image\",\"advanced\")&&(c=\"img[alt,dir,id,lang,longdesc,!src,title]{*}(*)\");b.addCommand(\"image\",new CKEDITOR.dialogCommand(\"image\",{allowedContent:c,requiredContent:\"img[alt,src]\",contentTransformations:[[\"img{width}: sizeToStyle\",\"img[width]: sizeToAttribute\"],[\"img{float}: alignmentToStyle\",\"img[align]: alignmentToAttribute\"]]}));b.ui.addButton&&b.ui.addButton(\"Image\",{label:b.lang.common.image,command:\"image\",toolbar:\"insert,10\"});b.on(\"doubleclick\",function(a){var b=\na.data.element;!b.is(\"img\")||b.data(\"cke-realelement\")||b.isReadOnly()||(a.data.dialog=\"image\")});b.addMenuItems&&b.addMenuItems({image:{label:b.lang.image.menu,command:\"image\",group:\"image\"}});b.contextMenu&&b.contextMenu.addListener(function(c){if(a(b,c))return{image:CKEDITOR.TRISTATE_OFF}})}},afterInit:function(b){function c(c){var m=b.getCommand(\"justify\"+c);if(m){if(\"left\"==c||\"right\"==c)m.on(\"exec\",function(l){var d=a(b),h;d&&(h=f(d),h==c?(d.removeStyle(\"float\"),c==f(d)&&d.removeAttribute(\"align\")):\nd.setStyle(\"float\",c),l.cancel())});m.on(\"refresh\",function(l){var d=a(b);d&&(d=f(d),this.setState(d==c?CKEDITOR.TRISTATE_ON:\"right\"==c||\"left\"==c?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED),l.cancel())})}}b.plugins.image2||(c(\"left\"),c(\"right\"),c(\"center\"),c(\"block\"))}})}(),CKEDITOR.config.image_removeLinkByEmptyURL=!0,function(){function a(a,b){var d=c.exec(a),e=c.exec(b);if(d){if(!d[2]&&\"px\"==e[2])return e[1];if(\"px\"==d[2]&&!e[2])return e[1]+\"px\"}return b}var f=CKEDITOR.htmlParser.cssStyle,\nb=CKEDITOR.tools.cssLength,c=/^((?:\\d*(?:\\.\\d+))|(?:\\d+))(.*)?$/i,e={elements:{$:function(b){var c=b.attributes;if((c=(c=(c=c&&c[\"data-cke-realelement\"])&&new CKEDITOR.htmlParser.fragment.fromHtml(decodeURIComponent(c)))&&c.children[0])&&b.attributes[\"data-cke-resizable\"]){var d=(new f(b)).rules;b=c.attributes;var e=d.width,d=d.height;e&&(b.width=a(b.width,e));d&&(b.height=a(b.height,d))}return c}}};CKEDITOR.plugins.add(\"fakeobjects\",{init:function(a){a.filter.allow(\"img[!data-cke-realelement,src,alt,title](*){*}\",\n\"fakeobjects\")},afterInit:function(a){(a=(a=a.dataProcessor)&&a.htmlFilter)&&a.addRules(e,{applyToAll:!0})}});CKEDITOR.editor.prototype.createFakeElement=function(a,c,d,e){var k=this.lang.fakeobjects,k=k[d]||k.unknown;c={\"class\":c,\"data-cke-realelement\":encodeURIComponent(a.getOuterHtml()),\"data-cke-real-node-type\":a.type,alt:k,title:k,align:a.getAttribute(\"align\")||\"\"};CKEDITOR.env.hc||(c.src=CKEDITOR.tools.transparentImageData);d&&(c[\"data-cke-real-element-type\"]=d);e&&(c[\"data-cke-resizable\"]=\ne,d=new f,e=a.getAttribute(\"width\"),a=a.getAttribute(\"height\"),e&&(d.rules.width=b(e)),a&&(d.rules.height=b(a)),d.populate(c));return this.document.createElement(\"img\",{attributes:c})};CKEDITOR.editor.prototype.createFakeParserElement=function(a,c,d,e){var k=this.lang.fakeobjects,k=k[d]||k.unknown,g;g=new CKEDITOR.htmlParser.basicWriter;a.writeHtml(g);g=g.getHtml();c={\"class\":c,\"data-cke-realelement\":encodeURIComponent(g),\"data-cke-real-node-type\":a.type,alt:k,title:k,align:a.attributes.align||\"\"};\nCKEDITOR.env.hc||(c.src=CKEDITOR.tools.transparentImageData);d&&(c[\"data-cke-real-element-type\"]=d);e&&(c[\"data-cke-resizable\"]=e,e=a.attributes,a=new f,d=e.width,e=e.height,void 0!==d&&(a.rules.width=b(d)),void 0!==e&&(a.rules.height=b(e)),a.populate(c));return new CKEDITOR.htmlParser.element(\"img\",c)};CKEDITOR.editor.prototype.restoreRealElement=function(b){if(b.data(\"cke-real-node-type\")!=CKEDITOR.NODE_ELEMENT)return null;var c=CKEDITOR.dom.element.createFromHtml(decodeURIComponent(b.data(\"cke-realelement\")),\nthis.document);if(b.data(\"cke-resizable\")){var d=b.getStyle(\"width\");b=b.getStyle(\"height\");d&&c.setAttribute(\"width\",a(c.getAttribute(\"width\"),d));b&&c.setAttribute(\"height\",a(c.getAttribute(\"height\"),b))}return c}}(),\"use strict\",function(){function a(a){return a.replace(/'/g,\"\\\\$\\x26\")}function f(a){for(var b,c=a.length,d=[],e=0;e<c;e++)b=a.charCodeAt(e),d.push(b);return\"String.fromCharCode(\"+d.join(\",\")+\")\"}function b(b,c){var d=b.plugins.link,e=d.compiledProtectionFunction.params,f,g;g=[d.compiledProtectionFunction.name,\n\"(\"];for(var h=0;h<e.length;h++)d=e[h].toLowerCase(),f=c[d],0<h&&g.push(\",\"),g.push(\"'\",f?a(encodeURIComponent(c[d])):\"\",\"'\");g.push(\")\");return g.join(\"\")}function c(a){a=a.config.emailProtection||\"\";var b;a&&\"encode\"!=a&&(b={},a.replace(/^([^(]+)\\(([^)]+)\\)$/,function(a,c,d){b.name=c;b.params=[];d.replace(/[^,\\s]+/g,function(a){b.params.push(a)})}));return b}CKEDITOR.plugins.add(\"link\",{requires:\"dialog,fakeobjects\",onLoad:function(){function a(b){return c.replace(/%1/g,\"rtl\"==b?\"right\":\"left\").replace(/%2/g,\n\"cke_contents_\"+b)}var b=\"background:url(\"+CKEDITOR.getUrl(this.path+\"images\"+(CKEDITOR.env.hidpi?\"/hidpi\":\"\")+\"/anchor.png\")+\") no-repeat %1 center;border:1px dotted #00f;background-size:16px;\",c=\".%2 a.cke_anchor,.%2 a.cke_anchor_empty,.cke_editable.%2 a[name],.cke_editable.%2 a[data-cke-saved-name]{\"+b+\"padding-%1:18px;cursor:auto;}.%2 img.cke_anchor{\"+b+\"width:16px;min-height:15px;height:1.15em;vertical-align:text-bottom;}\";CKEDITOR.addCss(a(\"ltr\")+a(\"rtl\"))},init:function(a){var b=\"a[!href]\";\nCKEDITOR.dialog.isTabEnabled(a,\"link\",\"advanced\")&&(b=b.replace(\"]\",\",accesskey,charset,dir,id,lang,name,rel,tabindex,title,type,download]{*}(*)\"));CKEDITOR.dialog.isTabEnabled(a,\"link\",\"target\")&&(b=b.replace(\"]\",\",target,onclick]\"));a.addCommand(\"link\",new CKEDITOR.dialogCommand(\"link\",{allowedContent:b,requiredContent:\"a[href]\"}));a.addCommand(\"anchor\",new CKEDITOR.dialogCommand(\"anchor\",{allowedContent:\"a[!name,id]\",requiredContent:\"a[name]\"}));a.addCommand(\"unlink\",new CKEDITOR.unlinkCommand);\na.addCommand(\"removeAnchor\",new CKEDITOR.removeAnchorCommand);a.setKeystroke(CKEDITOR.CTRL+76,\"link\");a.ui.addButton&&(a.ui.addButton(\"Link\",{label:a.lang.link.toolbar,command:\"link\",toolbar:\"links,10\"}),a.ui.addButton(\"Unlink\",{label:a.lang.link.unlink,command:\"unlink\",toolbar:\"links,20\"}),a.ui.addButton(\"Anchor\",{label:a.lang.link.anchor.toolbar,command:\"anchor\",toolbar:\"links,30\"}));CKEDITOR.dialog.add(\"link\",this.path+\"dialogs/link.js\");CKEDITOR.dialog.add(\"anchor\",this.path+\"dialogs/anchor.js\");\na.on(\"doubleclick\",function(b){var c=CKEDITOR.plugins.link.getSelectedLink(a)||b.data.element;c.isReadOnly()||(c.is(\"a\")?(b.data.dialog=!c.getAttribute(\"name\")||c.getAttribute(\"href\")&&c.getChildCount()?\"link\":\"anchor\",b.data.link=c):CKEDITOR.plugins.link.tryRestoreFakeAnchor(a,c)&&(b.data.dialog=\"anchor\"))},null,null,0);a.on(\"doubleclick\",function(b){b.data.dialog in{link:1,anchor:1}&&b.data.link&&a.getSelection().selectElement(b.data.link)},null,null,20);a.addMenuItems&&a.addMenuItems({anchor:{label:a.lang.link.anchor.menu,\ncommand:\"anchor\",group:\"anchor\",order:1},removeAnchor:{label:a.lang.link.anchor.remove,command:\"removeAnchor\",group:\"anchor\",order:5},link:{label:a.lang.link.menu,command:\"link\",group:\"link\",order:1},unlink:{label:a.lang.link.unlink,command:\"unlink\",group:\"link\",order:5}});a.contextMenu&&a.contextMenu.addListener(function(b){if(!b||b.isReadOnly())return null;b=CKEDITOR.plugins.link.tryRestoreFakeAnchor(a,b);if(!b&&!(b=CKEDITOR.plugins.link.getSelectedLink(a)))return null;var c={};b.getAttribute(\"href\")&&\nb.getChildCount()&&(c={link:CKEDITOR.TRISTATE_OFF,unlink:CKEDITOR.TRISTATE_OFF});b&&b.hasAttribute(\"name\")&&(c.anchor=c.removeAnchor=CKEDITOR.TRISTATE_OFF);return c});this.compiledProtectionFunction=c(a)},afterInit:function(a){a.dataProcessor.dataFilter.addRules({elements:{a:function(b){return b.attributes.name?b.children.length?null:a.createFakeParserElement(b,\"cke_anchor\",\"anchor\"):null}}});var b=a._.elementsPath&&a._.elementsPath.filters;b&&b.push(function(b,c){if(\"a\"==c&&(CKEDITOR.plugins.link.tryRestoreFakeAnchor(a,\nb)||b.getAttribute(\"name\")&&(!b.getAttribute(\"href\")||!b.getChildCount())))return\"anchor\"})}});var e=/^javascript:/,m=/^mailto:([^?]+)(?:\\?(.+))?$/,l=/subject=([^;?:@&=$,\\/]*)/i,d=/body=([^;?:@&=$,\\/]*)/i,h=/^#(.*)$/,k=/^((?:http|https|ftp|news):\\/\\/)?(.*)$/,g=/^(_(?:self|top|parent|blank))$/,n=/^javascript:void\\(location\\.href='mailto:'\\+String\\.fromCharCode\\(([^)]+)\\)(?:\\+'(.*)')?\\)$/,q=/^javascript:([^(]+)\\(([^)]+)\\)$/,p=/\\s*window.open\\(\\s*this\\.href\\s*,\\s*(?:'([^']*)'|null)\\s*,\\s*'([^']*)'\\s*\\)\\s*;\\s*return\\s*false;*\\s*/,\nt=/(?:^|,)([^=]+)=(\\d+|yes|no)/gi,v={id:\"advId\",dir:\"advLangDir\",accessKey:\"advAccessKey\",name:\"advName\",lang:\"advLangCode\",tabindex:\"advTabIndex\",title:\"advTitle\",type:\"advContentType\",\"class\":\"advCSSClasses\",charset:\"advCharset\",style:\"advStyles\",rel:\"advRel\"};CKEDITOR.plugins.link={getSelectedLink:function(a){var b=a.getSelection(),c=b.getSelectedElement();return c&&c.is(\"a\")?c:(b=b.getRanges()[0])?(b.shrink(CKEDITOR.SHRINK_TEXT),a.elementPath(b.getCommonAncestor()).contains(\"a\",1)):null},getEditorAnchors:function(a){for(var b=\na.editable(),c=b.isInline()&&!a.plugins.divarea?a.document:b,b=c.getElementsByTag(\"a\"),c=c.getElementsByTag(\"img\"),d=[],e=0,f;f=b.getItem(e++);)(f.data(\"cke-saved-name\")||f.hasAttribute(\"name\"))&&d.push({name:f.data(\"cke-saved-name\")||f.getAttribute(\"name\"),id:f.getAttribute(\"id\")});for(e=0;f=c.getItem(e++);)(f=this.tryRestoreFakeAnchor(a,f))&&d.push({name:f.getAttribute(\"name\"),id:f.getAttribute(\"id\")});return d},fakeAnchor:!0,tryRestoreFakeAnchor:function(a,b){if(b&&b.data(\"cke-real-element-type\")&&\n\"anchor\"==b.data(\"cke-real-element-type\")){var c=a.restoreRealElement(b);if(c.data(\"cke-saved-name\"))return c}},parseLinkAttributes:function(a,b){var c=b&&(b.data(\"cke-saved-href\")||b.getAttribute(\"href\"))||\"\",f=a.plugins.link.compiledProtectionFunction,w=a.config.emailProtection,z,D={};c.match(e)&&(\"encode\"==w?c=c.replace(n,function(a,b,c){c=c||\"\";return\"mailto:\"+String.fromCharCode.apply(String,b.split(\",\"))+c.replace(/\\\\'/g,\"'\")}):w&&c.replace(q,function(a,b,c){if(b==f.name){D.type=\"email\";a=D.email=\n{};b=/(^')|('$)/g;c=c.match(/[^,\\s]+/g);for(var d=c.length,e,g,h=0;h<d;h++)e=decodeURIComponent,g=c[h].replace(b,\"\").replace(/\\\\'/g,\"'\"),g=e(g),e=f.params[h].toLowerCase(),a[e]=g;a.address=[a.name,a.domain].join(\"@\")}}));if(!D.type)if(w=c.match(h))D.type=\"anchor\",D.anchor={},D.anchor.name=D.anchor.id=w[1];else if(w=c.match(m)){z=c.match(l);c=c.match(d);D.type=\"email\";var y=D.email={};y.address=w[1];z&&(y.subject=decodeURIComponent(z[1]));c&&(y.body=decodeURIComponent(c[1]))}else c&&(z=c.match(k))&&\n(D.type=\"url\",D.url={},D.url.protocol=z[1],D.url.url=z[2]);if(b){if(c=b.getAttribute(\"target\"))D.target={type:c.match(g)?c:\"frame\",name:c};else if(c=(c=b.data(\"cke-pa-onclick\")||b.getAttribute(\"onclick\"))&&c.match(p))for(D.target={type:\"popup\",name:c[1]};w=t.exec(c[2]);)\"yes\"!=w[2]&&\"1\"!=w[2]||w[1]in{height:1,width:1,top:1,left:1}?isFinite(w[2])&&(D.target[w[1]]=w[2]):D.target[w[1]]=!0;null!==b.getAttribute(\"download\")&&(D.download=!0);var c={},A;for(A in v)(w=b.getAttribute(A))&&(c[v[A]]=w);if(A=\nb.data(\"cke-saved-name\")||c.advName)c.advName=A;CKEDITOR.tools.isEmpty(c)||(D.advanced=c)}return D},getLinkAttributes:function(c,d){var e=c.config.emailProtection||\"\",g={};switch(d.type){case \"url\":var e=d.url&&void 0!==d.url.protocol?d.url.protocol:\"http://\",h=d.url&&CKEDITOR.tools.trim(d.url.url)||\"\";g[\"data-cke-saved-href\"]=0===h.indexOf(\"/\")?h:e+h;break;case \"anchor\":e=d.anchor&&d.anchor.id;g[\"data-cke-saved-href\"]=\"#\"+(d.anchor&&d.anchor.name||e||\"\");break;case \"email\":var k=d.email,h=k.address;\nswitch(e){case \"\":case \"encode\":var l=encodeURIComponent(k.subject||\"\"),m=encodeURIComponent(k.body||\"\"),k=[];l&&k.push(\"subject\\x3d\"+l);m&&k.push(\"body\\x3d\"+m);k=k.length?\"?\"+k.join(\"\\x26\"):\"\";\"encode\"==e?(e=[\"javascript:void(location.href\\x3d'mailto:'+\",f(h)],k&&e.push(\"+'\",a(k),\"'\"),e.push(\")\")):e=[\"mailto:\",h,k];break;default:e=h.split(\"@\",2),k.name=e[0],k.domain=e[1],e=[\"javascript:\",b(c,k)]}g[\"data-cke-saved-href\"]=e.join(\"\")}if(d.target)if(\"popup\"==d.target.type){for(var e=[\"window.open(this.href, '\",\nd.target.name||\"\",\"', '\"],n=\"resizable status location toolbar menubar fullscreen scrollbars dependent\".split(\" \"),h=n.length,l=function(a){d.target[a]&&n.push(a+\"\\x3d\"+d.target[a])},k=0;k<h;k++)n[k]+=d.target[n[k]]?\"\\x3dyes\":\"\\x3dno\";l(\"width\");l(\"left\");l(\"height\");l(\"top\");e.push(n.join(\",\"),\"'); return false;\");g[\"data-cke-pa-onclick\"]=e.join(\"\")}else\"notSet\"!=d.target.type&&d.target.name&&(g.target=d.target.name);d.download&&(g.download=\"\");if(d.advanced){for(var t in v)(e=d.advanced[v[t]])&&\n(g[t]=e);g.name&&(g[\"data-cke-saved-name\"]=g.name)}g[\"data-cke-saved-href\"]&&(g.href=g[\"data-cke-saved-href\"]);t={target:1,onclick:1,\"data-cke-pa-onclick\":1,\"data-cke-saved-name\":1,download:1};d.advanced&&CKEDITOR.tools.extend(t,v);for(var p in g)delete t[p];return{set:g,removed:CKEDITOR.tools.objectKeys(t)}},showDisplayTextForElement:function(a,b){var c={img:1,table:1,tbody:1,thead:1,tfoot:1,input:1,select:1,textarea:1};return b.widgets&&b.widgets.focused?!1:!a||!a.getName||!a.is(c)}};CKEDITOR.unlinkCommand=\nfunction(){};CKEDITOR.unlinkCommand.prototype={exec:function(a){var b=new CKEDITOR.style({element:\"a\",type:CKEDITOR.STYLE_INLINE,alwaysRemoveElement:1});a.removeStyle(b)},refresh:function(a,b){var c=b.lastElement&&b.lastElement.getAscendant(\"a\",!0);c&&\"a\"==c.getName()&&c.getAttribute(\"href\")&&c.getChildCount()?this.setState(CKEDITOR.TRISTATE_OFF):this.setState(CKEDITOR.TRISTATE_DISABLED)},contextSensitive:1,startDisabled:1,requiredContent:\"a[href]\"};CKEDITOR.removeAnchorCommand=function(){};CKEDITOR.removeAnchorCommand.prototype=\n{exec:function(a){var b=a.getSelection(),c=b.createBookmarks(),d;if(b&&(d=b.getSelectedElement())&&(d.getChildCount()?d.is(\"a\"):CKEDITOR.plugins.link.tryRestoreFakeAnchor(a,d)))d.remove(1);else if(d=CKEDITOR.plugins.link.getSelectedLink(a))d.hasAttribute(\"href\")?(d.removeAttributes({name:1,\"data-cke-saved-name\":1}),d.removeClass(\"cke_anchor\")):d.remove(1);b.selectBookmarks(c)},requiredContent:\"a[name]\"};CKEDITOR.tools.extend(CKEDITOR.config,{linkShowAdvancedTab:!0,linkShowTargetTab:!0})}(),\"use strict\",\nfunction(){function a(a,b,c){return n(b)&&n(c)&&c.equals(b.getNext(function(a){return!(Z(a)||X(a)||q(a))}))}function f(a){this.upper=a[0];this.lower=a[1];this.set.apply(this,a.slice(2))}function b(a){var b=a.element;if(b&&n(b)&&(b=b.getAscendant(a.triggers,!0))&&a.editable.contains(b)){var c=l(b);if(\"true\"==c.getAttribute(\"contenteditable\"))return b;if(c.is(a.triggers))return c}return null}function c(a,b,c){w(a,b);w(a,c);a=b.size.bottom;c=c.size.top;return a&&c?0|(a+c)/2:a||c}function e(a,b,c){return b=\nb[c?\"getPrevious\":\"getNext\"](function(b){return b&&b.type==CKEDITOR.NODE_TEXT&&!Z(b)||n(b)&&!q(b)&&!g(a,b)})}function m(a,b,c){return a>b&&a<c}function l(a,b){if(a.data(\"cke-editable\"))return null;for(b||(a=a.getParent());a&&!a.data(\"cke-editable\");){if(a.hasAttribute(\"contenteditable\"))return a;a=a.getParent()}return null}function d(a){var b=a.doc,c=F('\\x3cspan contenteditable\\x3d\"false\" style\\x3d\"'+Q+\"position:absolute;border-top:1px dashed \"+a.boxColor+'\"\\x3e\\x3c/span\\x3e',b),d=CKEDITOR.getUrl(this.path+\n\"images/\"+(E.hidpi?\"hidpi/\":\"\")+\"icon\"+(a.rtl?\"-rtl\":\"\")+\".png\");A(c,{attach:function(){this.wrap.getParent()||this.wrap.appendTo(a.editable,!0);return this},lineChildren:[A(F('\\x3cspan title\\x3d\"'+a.editor.lang.magicline.title+'\" contenteditable\\x3d\"false\"\\x3e\\x26#8629;\\x3c/span\\x3e',b),{base:Q+\"height:17px;width:17px;\"+(a.rtl?\"left\":\"right\")+\":17px;background:url(\"+d+\") center no-repeat \"+a.boxColor+\";cursor:pointer;\"+(E.hc?\"font-size: 15px;line-height:14px;border:1px solid #fff;text-align:center;\":\n\"\")+(E.hidpi?\"background-size: 9px 10px;\":\"\"),looks:[\"top:-8px; border-radius: 2px;\",\"top:-17px; border-radius: 2px 2px 0px 0px;\",\"top:-1px; border-radius: 0px 0px 2px 2px;\"]}),A(F(V,b),{base:Y+\"left:0px;border-left-color:\"+a.boxColor+\";\",looks:[\"border-width:8px 0 8px 8px;top:-8px\",\"border-width:8px 0 0 8px;top:-8px\",\"border-width:0 0 8px 8px;top:0px\"]}),A(F(V,b),{base:Y+\"right:0px;border-right-color:\"+a.boxColor+\";\",looks:[\"border-width:8px 8px 8px 0;top:-8px\",\"border-width:8px 8px 0 0;top:-8px\",\n\"border-width:0 8px 8px 0;top:0px\"]})],detach:function(){this.wrap.getParent()&&this.wrap.remove();return this},mouseNear:function(){w(a,this);var b=a.holdDistance,c=this.size;return c&&m(a.mouse.y,c.top-b,c.bottom+b)&&m(a.mouse.x,c.left-b,c.right+b)?!0:!1},place:function(){var b=a.view,c=a.editable,d=a.trigger,e=d.upper,f=d.lower,g=e||f,h=g.getParent(),k={};this.trigger=d;e&&w(a,e,!0);f&&w(a,f,!0);w(a,h,!0);a.inInlineMode&&z(a,!0);h.equals(c)?(k.left=b.scroll.x,k.right=-b.scroll.x,k.width=\"\"):(k.left=\ng.size.left-g.size.margin.left+b.scroll.x-(a.inInlineMode?b.editable.left+b.editable.border.left:0),k.width=g.size.outerWidth+g.size.margin.left+g.size.margin.right+b.scroll.x,k.right=\"\");e&&f?k.top=e.size.margin.bottom===f.size.margin.top?0|e.size.bottom+e.size.margin.bottom/2:e.size.margin.bottom<f.size.margin.top?e.size.bottom+e.size.margin.bottom:e.size.bottom+e.size.margin.bottom-f.size.margin.top:e?f||(k.top=e.size.bottom+e.size.margin.bottom):k.top=f.size.top-f.size.margin.top;d.is(T)||m(k.top,\nb.scroll.y-15,b.scroll.y+5)?(k.top=a.inInlineMode?0:b.scroll.y,this.look(T)):d.is(O)||m(k.top,b.pane.bottom-5,b.pane.bottom+15)?(k.top=a.inInlineMode?b.editable.height+b.editable.padding.top+b.editable.padding.bottom:b.pane.bottom-1,this.look(O)):(a.inInlineMode&&(k.top-=b.editable.top+b.editable.border.top),this.look(K));a.inInlineMode&&(k.top--,k.top+=b.editable.scroll.top,k.left+=b.editable.scroll.left);for(var l in k)k[l]=CKEDITOR.tools.cssLength(k[l]);this.setStyles(k)},look:function(a){if(this.oldLook!=\na){for(var b=this.lineChildren.length,c;b--;)(c=this.lineChildren[b]).setAttribute(\"style\",c.base+c.looks[0|a/2]);this.oldLook=a}},wrap:new C(\"span\",a.doc)});for(b=c.lineChildren.length;b--;)c.lineChildren[b].appendTo(c);c.look(K);c.appendTo(c.wrap);c.unselectable();c.lineChildren[0].on(\"mouseup\",function(b){c.detach();h(a,function(b){var c=a.line.trigger;b[c.is(I)?\"insertBefore\":\"insertAfter\"](c.is(I)?c.lower:c.upper)},!0);a.editor.focus();E.ie||a.enterMode==CKEDITOR.ENTER_BR||a.hotNode.scrollIntoView();\nb.data.preventDefault(!0)});c.on(\"mousedown\",function(a){a.data.preventDefault(!0)});a.line=c}function h(a,b,c){var d=new CKEDITOR.dom.range(a.doc),e=a.editor,f;E.ie&&a.enterMode==CKEDITOR.ENTER_BR?f=a.doc.createText(ca):(f=(f=l(a.element,!0))&&f.data(\"cke-enter-mode\")||a.enterMode,f=new C(M[f],a.doc),f.is(\"br\")||a.doc.createText(ca).appendTo(f));c&&e.fire(\"saveSnapshot\");b(f);d.moveToPosition(f,CKEDITOR.POSITION_AFTER_START);e.getSelection().selectRanges([d]);a.hotNode=f;c&&e.fire(\"saveSnapshot\")}\nfunction k(a,c){return{canUndo:!0,modes:{wysiwyg:1},exec:function(){function d(b){var e=E.ie&&9>E.version?\" \":ca,f=a.hotNode&&a.hotNode.getText()==e&&a.element.equals(a.hotNode)&&a.lastCmdDirection===!!c;h(a,function(d){f&&a.hotNode&&a.hotNode.remove();d[c?\"insertAfter\":\"insertBefore\"](b);d.setAttributes({\"data-cke-magicline-hot\":1,\"data-cke-magicline-dir\":!!c});a.lastCmdDirection=!!c});E.ie||a.enterMode==CKEDITOR.ENTER_BR||a.hotNode.scrollIntoView();a.line.detach()}return function(f){f=f.getSelection().getStartElement();\nvar g;f=f.getAscendant(N,1);if(!v(a,f)&&f&&!f.equals(a.editable)&&!f.contains(a.editable)){(g=l(f))&&\"false\"==g.getAttribute(\"contenteditable\")&&(f=g);a.element=f;g=e(a,f,!c);var h;n(g)&&g.is(a.triggers)&&g.is(L)&&(!e(a,g,!c)||(h=e(a,g,!c))&&n(h)&&h.is(a.triggers))?d(g):(h=b(a,f),n(h)&&(e(a,h,!c)?(f=e(a,h,!c))&&n(f)&&f.is(a.triggers)&&d(h):d(h)))}}}()}}function g(a,b){if(!b||b.type!=CKEDITOR.NODE_ELEMENT||!b.$)return!1;var c=a.line;return c.wrap.equals(b)||c.wrap.contains(b)}function n(a){return a&&\na.type==CKEDITOR.NODE_ELEMENT&&a.$}function q(a){if(!n(a))return!1;var b;(b=p(a))||(n(a)?(b={left:1,right:1,center:1},b=!(!b[a.getComputedStyle(\"float\")]&&!b[a.getAttribute(\"align\")])):b=!1);return b}function p(a){return!!{absolute:1,fixed:1}[a.getComputedStyle(\"position\")]}function t(a,b){return n(b)?b.is(a.triggers):null}function v(a,b){if(!b)return!1;for(var c=b.getParents(1),d=c.length;d--;)for(var e=a.tabuList.length;e--;)if(c[d].hasAttribute(a.tabuList[e]))return!0;return!1}function r(a,b,c){b=\nb[c?\"getLast\":\"getFirst\"](function(b){return a.isRelevant(b)&&!b.is(U)});if(!b)return!1;w(a,b);return c?b.size.top>a.mouse.y:b.size.bottom<a.mouse.y}function u(a){var b=a.editable,c=a.mouse,d=a.view,e=a.triggerOffset;z(a);var h=c.y>(a.inInlineMode?d.editable.top+d.editable.height/2:Math.min(d.editable.height,d.pane.height)/2),b=b[h?\"getLast\":\"getFirst\"](function(a){return!(Z(a)||X(a))});if(!b)return null;g(a,b)&&(b=a.line.wrap[h?\"getPrevious\":\"getNext\"](function(a){return!(Z(a)||X(a))}));if(!n(b)||\nq(b)||!t(a,b))return null;w(a,b);return!h&&0<=b.size.top&&m(c.y,0,b.size.top+e)?(a=a.inInlineMode||0===d.scroll.y?T:K,new f([null,b,I,P,a])):h&&b.size.bottom<=d.pane.height&&m(c.y,b.size.bottom-e,d.pane.height)?(a=a.inInlineMode||m(b.size.bottom,d.pane.height-e,d.pane.height)?O:K,new f([b,null,H,P,a])):null}function B(a){var c=a.mouse,d=a.view,g=a.triggerOffset,h=b(a);if(!h)return null;w(a,h);var g=Math.min(g,0|h.size.outerHeight/2),k=[],l,p;if(m(c.y,h.size.top-1,h.size.top+g))p=!1;else if(m(c.y,\nh.size.bottom-g,h.size.bottom+1))p=!0;else return null;if(q(h)||r(a,h,p)||h.getParent().is(W))return null;var u=e(a,h,!p);if(u){if(u&&u.type==CKEDITOR.NODE_TEXT)return null;if(n(u)){if(q(u)||!t(a,u)||u.getParent().is(W))return null;k=[u,h][p?\"reverse\":\"concat\"]().concat([R,P])}}else h.equals(a.editable[p?\"getLast\":\"getFirst\"](a.isRelevant))?(z(a),p&&m(c.y,h.size.bottom-g,d.pane.height)&&m(h.size.bottom,d.pane.height-g,d.pane.height)?l=O:m(c.y,0,h.size.top+g)&&(l=T)):l=K,k=[null,h][p?\"reverse\":\"concat\"]().concat([p?\nH:I,P,l,h.equals(a.editable[p?\"getLast\":\"getFirst\"](a.isRelevant))?p?O:T:K]);return 0 in k?new f(k):null}function x(a,b,c,d){for(var e=b.getDocumentPosition(),f={},g={},h={},k={},l=ba.length;l--;)f[ba[l]]=parseInt(b.getComputedStyle.call(b,\"border-\"+ba[l]+\"-width\"),10)||0,h[ba[l]]=parseInt(b.getComputedStyle.call(b,\"padding-\"+ba[l]),10)||0,g[ba[l]]=parseInt(b.getComputedStyle.call(b,\"margin-\"+ba[l]),10)||0;c&&!d||D(a,d);k.top=e.y-(c?0:a.view.scroll.y);k.left=e.x-(c?0:a.view.scroll.x);k.outerWidth=\nb.$.offsetWidth;k.outerHeight=b.$.offsetHeight;k.height=k.outerHeight-(h.top+h.bottom+f.top+f.bottom);k.width=k.outerWidth-(h.left+h.right+f.left+f.right);k.bottom=k.top+k.outerHeight;k.right=k.left+k.outerWidth;a.inInlineMode&&(k.scroll={top:b.$.scrollTop,left:b.$.scrollLeft});return A({border:f,padding:h,margin:g,ignoreScroll:c},k,!0)}function w(a,b,c){if(!n(b))return b.size=null;if(!b.size)b.size={};else if(b.size.ignoreScroll==c&&b.size.date>new Date-S)return null;return A(b.size,x(a,b,c),{date:+new Date},\n!0)}function z(a,b){a.view.editable=x(a,a.editable,b,!0)}function D(a,b){a.view||(a.view={});var c=a.view;if(!(!b&&c&&c.date>new Date-S)){var d=a.win,c=d.getScrollPosition(),d=d.getViewPaneSize();A(a.view,{scroll:{x:c.x,y:c.y,width:a.doc.$.documentElement.scrollWidth-d.width,height:a.doc.$.documentElement.scrollHeight-d.height},pane:{width:d.width,height:d.height,bottom:d.height+c.y},date:+new Date},!0)}}function y(a,b,c,d){for(var e=d,g=d,h=0,k=!1,l=!1,m=a.view.pane.height,n=a.mouse;n.y+h<m&&0<n.y-\nh;){k||(k=b(e,d));l||(l=b(g,d));!k&&0<n.y-h&&(e=c(a,{x:n.x,y:n.y-h}));!l&&n.y+h<m&&(g=c(a,{x:n.x,y:n.y+h}));if(k&&l)break;h+=2}return new f([e,g,null,null])}CKEDITOR.plugins.add(\"magicline\",{init:function(a){var c=a.config,l=c.magicline_triggerOffset||30,m={editor:a,enterMode:c.enterMode,triggerOffset:l,holdDistance:0|l*(c.magicline_holdDistance||.5),boxColor:c.magicline_color||\"#ff0000\",rtl:\"rtl\"==c.contentsLangDirection,tabuList:[\"data-cke-hidden-sel\"].concat(c.magicline_tabuList||[]),triggers:c.magicline_everywhere?\nN:{table:1,hr:1,div:1,ul:1,ol:1,dl:1,form:1,blockquote:1}},t,r,w;m.isRelevant=function(a){return n(a)&&!g(m,a)&&!q(a)};a.on(\"contentDom\",function(){var l=a.editable(),n=a.document,q=a.window;A(m,{editable:l,inInlineMode:l.isInline(),doc:n,win:q,hotNode:null},!0);m.boundary=m.inInlineMode?m.editable:m.doc.getDocumentElement();l.is(G.$inline)||(m.inInlineMode&&!p(l)&&l.setStyles({position:\"relative\",top:null,left:null}),d.call(this,m),D(m),l.attachListener(a,\"beforeUndoImage\",function(){m.line.detach()}),\nl.attachListener(a,\"beforeGetData\",function(){m.line.wrap.getParent()&&(m.line.detach(),a.once(\"getData\",function(){m.line.attach()},null,null,1E3))},null,null,0),l.attachListener(m.inInlineMode?n:n.getWindow().getFrame(),\"mouseout\",function(b){if(\"wysiwyg\"==a.mode)if(m.inInlineMode){var c=b.data.$.clientX;b=b.data.$.clientY;D(m);z(m,!0);var d=m.view.editable,e=m.view.scroll;c>d.left-e.x&&c<d.right-e.x&&b>d.top-e.y&&b<d.bottom-e.y||(clearTimeout(w),w=null,m.line.detach())}else clearTimeout(w),w=null,\nm.line.detach()}),l.attachListener(l,\"keyup\",function(){m.hiddenMode=0}),l.attachListener(l,\"keydown\",function(b){if(\"wysiwyg\"==a.mode)switch(b.data.getKeystroke()){case 2228240:case 16:m.hiddenMode=1,m.line.detach()}}),l.attachListener(m.inInlineMode?l:n,\"mousemove\",function(b){r=!0;if(\"wysiwyg\"==a.mode&&!a.readOnly&&!w){var c={x:b.data.$.clientX,y:b.data.$.clientY};w=setTimeout(function(){m.mouse=c;w=m.trigger=null;D(m);r&&!m.hiddenMode&&a.focusManager.hasFocus&&!m.line.mouseNear()&&(m.element=\nda(m,!0))&&((m.trigger=u(m)||B(m)||fa(m))&&!v(m,m.trigger.upper||m.trigger.lower)?m.line.attach().place():(m.trigger=null,m.line.detach()),r=!1)},30)}}),l.attachListener(q,\"scroll\",function(){\"wysiwyg\"==a.mode&&(m.line.detach(),E.webkit&&(m.hiddenMode=1,clearTimeout(t),t=setTimeout(function(){m.mouseDown||(m.hiddenMode=0)},50)))}),l.attachListener(J?n:q,\"mousedown\",function(){\"wysiwyg\"==a.mode&&(m.line.detach(),m.hiddenMode=1,m.mouseDown=1)}),l.attachListener(J?n:q,\"mouseup\",function(){m.hiddenMode=\n0;m.mouseDown=0}),a.addCommand(\"accessPreviousSpace\",k(m)),a.addCommand(\"accessNextSpace\",k(m,!0)),a.setKeystroke([[c.magicline_keystrokePrevious,\"accessPreviousSpace\"],[c.magicline_keystrokeNext,\"accessNextSpace\"]]),a.on(\"loadSnapshot\",function(){var b,c,d,e;for(e in{p:1,br:1,div:1})for(b=a.document.getElementsByTag(e),d=b.count();d--;)if((c=b.getItem(d)).data(\"cke-magicline-hot\")){m.hotNode=c;m.lastCmdDirection=\"true\"===c.data(\"cke-magicline-dir\")?!0:!1;return}}),this.backdoor={accessFocusSpace:h,\nboxTrigger:f,isLine:g,getAscendantTrigger:b,getNonEmptyNeighbour:e,getSize:x,that:m,triggerEdge:B,triggerEditable:u,triggerExpand:fa})},this)}});var A=CKEDITOR.tools.extend,C=CKEDITOR.dom.element,F=C.createFromHtml,E=CKEDITOR.env,J=CKEDITOR.env.ie&&9>CKEDITOR.env.version,G=CKEDITOR.dtd,M={},I=128,H=64,R=32,P=16,T=4,O=2,K=1,ca=\" \",W=G.$listItem,U=G.$tableContent,L=A({},G.$nonEditable,G.$empty),N=G.$block,S=100,Q=\"width:0px;height:0px;padding:0px;margin:0px;display:block;z-index:9999;color:#fff;position:absolute;font-size: 0px;line-height:0px;\",\nY=Q+\"border-color:transparent;display:block;border-style:solid;\",V=\"\\x3cspan\\x3e\"+ca+\"\\x3c/span\\x3e\";M[CKEDITOR.ENTER_BR]=\"br\";M[CKEDITOR.ENTER_P]=\"p\";M[CKEDITOR.ENTER_DIV]=\"div\";f.prototype={set:function(a,b,c){this.properties=a+b+(c||K);return this},is:function(a){return(this.properties&a)==a}};var da=function(){function a(b,c){var d=b.$.elementFromPoint(c.x,c.y);return d&&d.nodeType?new CKEDITOR.dom.element(d):null}return function(b,c,d){if(!b.mouse)return null;var e=b.doc,f=b.line.wrap;d=d||b.mouse;\nvar h=a(e,d);c&&g(b,h)&&(f.hide(),h=a(e,d),f.show());return!h||h.type!=CKEDITOR.NODE_ELEMENT||!h.$||E.ie&&9>E.version&&!b.boundary.equals(h)&&!b.boundary.contains(h)?null:h}}(),Z=CKEDITOR.dom.walker.whitespaces(),X=CKEDITOR.dom.walker.nodeType(CKEDITOR.NODE_COMMENT),fa=function(){function b(e){var f=e.element,g,h,k;if(!n(f)||f.contains(e.editable)||f.isReadOnly())return null;k=y(e,function(a,b){return!b.equals(a)},function(a,b){return da(a,!0,b)},f);g=k.upper;h=k.lower;if(a(e,g,h))return k.set(R,\n8);if(g&&f.contains(g))for(;!g.getParent().equals(f);)g=g.getParent();else g=f.getFirst(function(a){return d(e,a)});if(h&&f.contains(h))for(;!h.getParent().equals(f);)h=h.getParent();else h=f.getLast(function(a){return d(e,a)});if(!g||!h)return null;w(e,g);w(e,h);if(!m(e.mouse.y,g.size.top,h.size.bottom))return null;for(var f=Number.MAX_VALUE,l,p,t,u;h&&!h.equals(g)&&(p=g.getNext(e.isRelevant));)l=Math.abs(c(e,g,p)-e.mouse.y),l<f&&(f=l,t=g,u=p),g=p,w(e,g);if(!t||!u||!m(e.mouse.y,t.size.top,u.size.bottom))return null;\nk.upper=t;k.lower=u;return k.set(R,8)}function d(a,b){return!(b&&b.type==CKEDITOR.NODE_TEXT||X(b)||q(b)||g(a,b)||b.type==CKEDITOR.NODE_ELEMENT&&b.$&&b.is(\"br\"))}return function(c){var d=b(c),e;if(e=d){e=d.upper;var f=d.lower;e=!e||!f||q(f)||q(e)||f.equals(e)||e.equals(f)||f.contains(e)||e.contains(f)?!1:t(c,e)&&t(c,f)&&a(c,e,f)?!0:!1}return e?d:null}}(),ba=[\"top\",\"left\",\"right\",\"bottom\"]}(),CKEDITOR.config.magicline_keystrokePrevious=CKEDITOR.CTRL+CKEDITOR.SHIFT+51,CKEDITOR.config.magicline_keystrokeNext=\nCKEDITOR.CTRL+CKEDITOR.SHIFT+52,function(){function a(a){if(!a||a.type!=CKEDITOR.NODE_ELEMENT||\"form\"!=a.getName())return[];for(var b=[],c=[\"style\",\"className\"],e=0;e<c.length;e++){var f=a.$.elements.namedItem(c[e]);f&&(f=new CKEDITOR.dom.element(f),b.push([f,f.nextSibling]),f.remove())}return b}function f(a,b){if(a&&a.type==CKEDITOR.NODE_ELEMENT&&\"form\"==a.getName()&&0<b.length)for(var c=b.length-1;0<=c;c--){var e=b[c][0],f=b[c][1];f?e.insertBefore(f):e.appendTo(a)}}function b(b,c){var d=a(b),e=\n{},k=b.$;c||(e[\"class\"]=k.className||\"\",k.className=\"\");e.inline=k.style.cssText||\"\";c||(k.style.cssText=\"position: static; overflow: visible\");f(d);return e}function c(b,c){var d=a(b),e=b.$;\"class\"in c&&(e.className=c[\"class\"]);\"inline\"in c&&(e.style.cssText=c.inline);f(d)}function e(a){if(!a.editable().isInline()){var b=CKEDITOR.instances,c;for(c in b){var e=b[c];\"wysiwyg\"!=e.mode||e.readOnly||(e=e.document.getBody(),e.setAttribute(\"contentEditable\",!1),e.setAttribute(\"contentEditable\",!0))}a.editable().hasFocus&&\n(a.toolbox.focus(),a.focus())}}CKEDITOR.plugins.add(\"maximize\",{init:function(a){function f(){var b=k.getViewPaneSize();a.resize(b.width,b.height,null,!0)}if(a.elementMode!=CKEDITOR.ELEMENT_MODE_INLINE){var d=a.lang,h=CKEDITOR.document,k=h.getWindow(),g,n,q,p=CKEDITOR.TRISTATE_OFF;a.addCommand(\"maximize\",{modes:{wysiwyg:!CKEDITOR.env.iOS,source:!CKEDITOR.env.iOS},readOnly:1,editorFocus:!1,exec:function(){var t=a.container.getFirst(function(a){return a.type==CKEDITOR.NODE_ELEMENT&&a.hasClass(\"cke_inner\")}),\nv=a.ui.space(\"contents\");if(\"wysiwyg\"==a.mode){var r=a.getSelection();g=r&&r.getRanges();n=k.getScrollPosition()}else{var u=a.editable().$;g=!CKEDITOR.env.ie&&[u.selectionStart,u.selectionEnd];n=[u.scrollLeft,u.scrollTop]}if(this.state==CKEDITOR.TRISTATE_OFF){k.on(\"resize\",f);q=k.getScrollPosition();for(r=a.container;r=r.getParent();)r.setCustomData(\"maximize_saved_styles\",b(r)),r.setStyle(\"z-index\",a.config.baseFloatZIndex-5);v.setCustomData(\"maximize_saved_styles\",b(v,!0));t.setCustomData(\"maximize_saved_styles\",\nb(t,!0));v={overflow:CKEDITOR.env.webkit?\"\":\"hidden\",width:0,height:0};h.getDocumentElement().setStyles(v);!CKEDITOR.env.gecko&&h.getDocumentElement().setStyle(\"position\",\"fixed\");CKEDITOR.env.gecko&&CKEDITOR.env.quirks||h.getBody().setStyles(v);CKEDITOR.env.ie?setTimeout(function(){k.$.scrollTo(0,0)},0):k.$.scrollTo(0,0);t.setStyle(\"position\",CKEDITOR.env.gecko&&CKEDITOR.env.quirks?\"fixed\":\"absolute\");t.$.offsetLeft;t.setStyles({\"z-index\":a.config.baseFloatZIndex-5,left:\"0px\",top:\"0px\"});t.addClass(\"cke_maximized\");\nf();v=t.getDocumentPosition();t.setStyles({left:-1*v.x+\"px\",top:-1*v.y+\"px\"});CKEDITOR.env.gecko&&e(a)}else if(this.state==CKEDITOR.TRISTATE_ON){k.removeListener(\"resize\",f);for(var r=[v,t],B=0;B<r.length;B++)c(r[B],r[B].getCustomData(\"maximize_saved_styles\")),r[B].removeCustomData(\"maximize_saved_styles\");for(r=a.container;r=r.getParent();)c(r,r.getCustomData(\"maximize_saved_styles\")),r.removeCustomData(\"maximize_saved_styles\");CKEDITOR.env.ie?setTimeout(function(){k.$.scrollTo(q.x,q.y)},0):k.$.scrollTo(q.x,\nq.y);t.removeClass(\"cke_maximized\");CKEDITOR.env.webkit&&(t.setStyle(\"display\",\"inline\"),setTimeout(function(){t.setStyle(\"display\",\"block\")},0));a.fire(\"resize\",{outerHeight:a.container.$.offsetHeight,contentsHeight:v.$.offsetHeight,outerWidth:a.container.$.offsetWidth})}this.toggleState();if(r=this.uiItems[0])v=this.state==CKEDITOR.TRISTATE_OFF?d.maximize.maximize:d.maximize.minimize,r=CKEDITOR.document.getById(r._.id),r.getChild(1).setHtml(v),r.setAttribute(\"title\",v),r.setAttribute(\"href\",'javascript:void(\"'+\nv+'\");');\"wysiwyg\"==a.mode?g?(CKEDITOR.env.gecko&&e(a),a.getSelection().selectRanges(g),(u=a.getSelection().getStartElement())&&u.scrollIntoView(!0)):k.$.scrollTo(n.x,n.y):(g&&(u.selectionStart=g[0],u.selectionEnd=g[1]),u.scrollLeft=n[0],u.scrollTop=n[1]);g=n=null;p=this.state;a.fire(\"maximize\",this.state)},canUndo:!1});a.ui.addButton&&a.ui.addButton(\"Maximize\",{label:d.maximize.maximize,command:\"maximize\",toolbar:\"tools,10\"});a.on(\"mode\",function(){var b=a.getCommand(\"maximize\");b.setState(b.state==\nCKEDITOR.TRISTATE_DISABLED?CKEDITOR.TRISTATE_DISABLED:p)},null,null,100)}}})}(),function(){function a(a,c,e){var f=CKEDITOR.cleanWord;f?e():(a=CKEDITOR.getUrl(a.config.pasteFromWordCleanupFile||c+\"filter/default.js\"),CKEDITOR.scriptLoader.load(a,e,null,!0));return!f}function f(a){a.data.type=\"html\"}CKEDITOR.plugins.add(\"pastefromword\",{requires:\"clipboard\",init:function(b){var c=0,e=this.path;b.addCommand(\"pastefromword\",{canUndo:!1,async:!0,exec:function(a){var b=this;c=1;a.once(\"beforePaste\",f);\na.getClipboardData({title:a.lang.pastefromword.title},function(c){c&&a.fire(\"paste\",{type:\"html\",dataValue:c.dataValue,method:\"paste\",dataTransfer:CKEDITOR.plugins.clipboard.initPasteDataTransfer()});a.fire(\"afterCommandExec\",{name:\"pastefromword\",command:b,returnValue:!!c})})}});b.ui.addButton&&b.ui.addButton(\"PasteFromWord\",{label:b.lang.pastefromword.toolbar,command:\"pastefromword\",toolbar:\"clipboard,50\"});b.on(\"pasteState\",function(a){b.getCommand(\"pastefromword\").setState(a.data)});b.on(\"paste\",\nfunction(f){var l=f.data,d=l.dataValue,h=/(class=\\\"?Mso|style=\\\"[^\\\"]*\\bmso\\-|w:WordDocument|<o:\\w+>|<\\/font>)/,k={dataValue:d};if(d&&(c||h.test(d))&&(!1!==b.fire(\"pasteFromWord\",k)||c)){l.dontFilter=!0;var g=a(b,e,function(){if(g)b.fire(\"paste\",l);else if(!b.config.pasteFromWordPromptCleanup||c||confirm(b.lang.pastefromword.confirmCleanup))k.dataValue=CKEDITOR.cleanWord(k.dataValue,b),b.fire(\"afterPasteFromWord\",k),l.dataValue=k.dataValue;c=0});g&&f.cancel()}},null,null,3)}})}(),function(){var a=\n{canUndo:!1,async:!0,exec:function(f){f.getClipboardData({title:f.lang.pastetext.title},function(b){b&&f.fire(\"paste\",{type:\"text\",dataValue:b.dataValue,method:\"paste\",dataTransfer:CKEDITOR.plugins.clipboard.initPasteDataTransfer()});f.fire(\"afterCommandExec\",{name:\"pastetext\",command:a,returnValue:!!b})})}};CKEDITOR.plugins.add(\"pastetext\",{requires:\"clipboard\",init:function(f){f.addCommand(\"pastetext\",a);f.ui.addButton&&f.ui.addButton(\"PasteText\",{label:f.lang.pastetext.button,command:\"pastetext\",\ntoolbar:\"clipboard,40\"});if(f.config.forcePasteAsPlainText)f.on(\"beforePaste\",function(a){\"html\"!=a.data.type&&(a.data.type=\"text\")});f.on(\"pasteState\",function(a){f.getCommand(\"pastetext\").setState(a.data)})}})}(),CKEDITOR.plugins.add(\"removeformat\",{init:function(a){a.addCommand(\"removeFormat\",CKEDITOR.plugins.removeformat.commands.removeformat);a.ui.addButton&&a.ui.addButton(\"RemoveFormat\",{label:a.lang.removeformat.toolbar,command:\"removeFormat\",toolbar:\"cleanup,10\"})}}),CKEDITOR.plugins.removeformat=\n{commands:{removeformat:{exec:function(a){for(var f=a._.removeFormatRegex||(a._.removeFormatRegex=new RegExp(\"^(?:\"+a.config.removeFormatTags.replace(/,/g,\"|\")+\")$\",\"i\")),b=a._.removeAttributes||(a._.removeAttributes=a.config.removeFormatAttributes.split(\",\")),c=CKEDITOR.plugins.removeformat.filter,e=a.getSelection().getRanges(),m=e.createIterator(),l=function(a){return a.type==CKEDITOR.NODE_ELEMENT},d;d=m.getNextRange();){d.collapsed||d.enlarge(CKEDITOR.ENLARGE_ELEMENT);var h=d.createBookmark(),\nk=h.startNode,g=h.endNode,n=function(b){for(var d=a.elementPath(b),e=d.elements,g=1,h;(h=e[g])&&!h.equals(d.block)&&!h.equals(d.blockLimit);g++)f.test(h.getName())&&c(a,h)&&b.breakParent(h)};n(k);if(g)for(n(g),k=k.getNextSourceNode(!0,CKEDITOR.NODE_ELEMENT);k&&!k.equals(g);)if(k.isReadOnly()){if(k.getPosition(g)&CKEDITOR.POSITION_CONTAINS)break;k=k.getNext(l)}else n=k.getNextSourceNode(!1,CKEDITOR.NODE_ELEMENT),\"img\"==k.getName()&&k.data(\"cke-realelement\")||!c(a,k)||(f.test(k.getName())?k.remove(1):\n(k.removeAttributes(b),a.fire(\"removeFormatCleanup\",k))),k=n;d.moveToBookmark(h)}a.forceNextSelectionCheck();a.getSelection().selectRanges(e)}}},filter:function(a,f){for(var b=a._.removeFormatFilters||[],c=0;c<b.length;c++)if(!1===b[c](f))return!1;return!0}},CKEDITOR.editor.prototype.addRemoveFormatFilter=function(a){this._.removeFormatFilters||(this._.removeFormatFilters=[]);this._.removeFormatFilters.push(a)},CKEDITOR.config.removeFormatTags=\"b,big,cite,code,del,dfn,em,font,i,ins,kbd,q,s,samp,small,span,strike,strong,sub,sup,tt,u,var\",\nCKEDITOR.config.removeFormatAttributes=\"class,style,lang,width,height,align,hspace,valign\",CKEDITOR.plugins.add(\"resize\",{init:function(a){function f(b){var e=h.width,f=h.height,l=e+(b.data.$.screenX-d.x)*(\"rtl\"==m?-1:1);b=f+(b.data.$.screenY-d.y);k&&(e=Math.max(c.resize_minWidth,Math.min(l,c.resize_maxWidth)));g&&(f=Math.max(c.resize_minHeight,Math.min(b,c.resize_maxHeight)));a.resize(k?e:null,f)}function b(){CKEDITOR.document.removeListener(\"mousemove\",f);CKEDITOR.document.removeListener(\"mouseup\",\nb);a.document&&(a.document.removeListener(\"mousemove\",f),a.document.removeListener(\"mouseup\",b))}var c=a.config,e=a.ui.spaceId(\"resizer\"),m=a.element?a.element.getDirection(1):\"ltr\";!c.resize_dir&&(c.resize_dir=\"vertical\");void 0===c.resize_maxWidth&&(c.resize_maxWidth=3E3);void 0===c.resize_maxHeight&&(c.resize_maxHeight=3E3);void 0===c.resize_minWidth&&(c.resize_minWidth=750);void 0===c.resize_minHeight&&(c.resize_minHeight=250);if(!1!==c.resize_enabled){var l=null,d,h,k=(\"both\"==c.resize_dir||\n\"horizontal\"==c.resize_dir)&&c.resize_minWidth!=c.resize_maxWidth,g=(\"both\"==c.resize_dir||\"vertical\"==c.resize_dir)&&c.resize_minHeight!=c.resize_maxHeight,n=CKEDITOR.tools.addFunction(function(e){l||(l=a.getResizable());h={width:l.$.offsetWidth||0,height:l.$.offsetHeight||0};d={x:e.screenX,y:e.screenY};c.resize_minWidth>h.width&&(c.resize_minWidth=h.width);c.resize_minHeight>h.height&&(c.resize_minHeight=h.height);CKEDITOR.document.on(\"mousemove\",f);CKEDITOR.document.on(\"mouseup\",b);a.document&&\n(a.document.on(\"mousemove\",f),a.document.on(\"mouseup\",b));e.preventDefault&&e.preventDefault()});a.on(\"destroy\",function(){CKEDITOR.tools.removeFunction(n)});a.on(\"uiSpace\",function(b){if(\"bottom\"==b.data.space){var c=\"\";k&&!g&&(c=\" cke_resizer_horizontal\");!k&&g&&(c=\" cke_resizer_vertical\");var d='\\x3cspan id\\x3d\"'+e+'\" class\\x3d\"cke_resizer'+c+\" cke_resizer_\"+m+'\" title\\x3d\"'+CKEDITOR.tools.htmlEncode(a.lang.common.resize)+'\" onmousedown\\x3d\"CKEDITOR.tools.callFunction('+n+', event)\"\\x3e'+(\"ltr\"==\nm?\"◢\":\"◣\")+\"\\x3c/span\\x3e\";\"ltr\"==m&&\"ltr\"==c?b.data.html+=d:b.data.html=d+b.data.html}},a,null,100);a.on(\"maximize\",function(b){a.ui.space(\"resizer\")[b.data==CKEDITOR.TRISTATE_ON?\"hide\":\"show\"]()})}}}),CKEDITOR.plugins.add(\"menubutton\",{requires:\"button,menu\",onLoad:function(){var a=function(a){var b=this._,c=b.menu;b.state!==CKEDITOR.TRISTATE_DISABLED&&(b.on&&c?c.hide():(b.previousState=b.state,c||(c=b.menu=new CKEDITOR.menu(a,{panel:{className:\"cke_menu_panel\",attributes:{\"aria-label\":a.lang.common.options}}}),\nc.onHide=CKEDITOR.tools.bind(function(){var c=this.command?a.getCommand(this.command).modes:this.modes;this.setState(!c||c[a.mode]?b.previousState:CKEDITOR.TRISTATE_DISABLED);b.on=0},this),this.onMenu&&c.addListener(this.onMenu)),this.setState(CKEDITOR.TRISTATE_ON),b.on=1,setTimeout(function(){c.show(CKEDITOR.document.getById(b.id),4)},0)))};CKEDITOR.ui.menuButton=CKEDITOR.tools.createClass({base:CKEDITOR.ui.button,$:function(f){delete f.panel;this.base(f);this.hasArrow=!0;this.click=a},statics:{handler:{create:function(a){return new CKEDITOR.ui.menuButton(a)}}}})},\nbeforeInit:function(a){a.ui.addHandler(CKEDITOR.UI_MENUBUTTON,CKEDITOR.ui.menuButton.handler)}}),CKEDITOR.UI_MENUBUTTON=\"menubutton\",\"use strict\",CKEDITOR.plugins.add(\"scayt\",{requires:\"menubutton,dialog\",tabToOpen:null,dialogName:\"scaytDialog\",onLoad:function(a){CKEDITOR.plugins.scayt.onLoadTimestamp=(new Date).getTime();\"moono-lisa\"==(CKEDITOR.skinName||a.config.skin)&&CKEDITOR.document.appendStyleSheet(this.path+\"skins/\"+CKEDITOR.skin.name+\"/scayt.css\")},init:function(a){var f=this,b=CKEDITOR.plugins.scayt;\nthis.bindEvents(a);this.parseConfig(a);this.addRule(a);CKEDITOR.dialog.add(this.dialogName,CKEDITOR.getUrl(this.path+\"dialogs/options.js\"));this.addMenuItems(a);var c=a.lang.scayt,e=CKEDITOR.env;a.ui.add(\"Scayt\",CKEDITOR.UI_MENUBUTTON,{label:c.text_title,title:a.plugins.wsc?a.lang.wsc.title:c.text_title,modes:{wysiwyg:!(e.ie&&(8>e.version||e.quirks))},toolbar:\"spellchecker,20\",refresh:function(){var c=a.ui.instances.Scayt.getState();a.scayt&&(c=b.state.scayt[a.name]?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF);\na.fire(\"scaytButtonState\",c)},onRender:function(){var b=this;a.on(\"scaytButtonState\",function(a){void 0!==typeof a.data&&b.setState(a.data)})},onMenu:function(){var c=a.scayt;a.getMenuItem(\"scaytToggle\").label=a.lang.scayt[c&&b.state.scayt[a.name]?\"btn_disable\":\"btn_enable\"];c={scaytToggle:CKEDITOR.TRISTATE_OFF,scaytOptions:c?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,scaytLangs:c?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,scaytDict:c?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,scaytAbout:c?\nCKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,WSC:a.plugins.wsc?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED};a.config.scayt_uiTabs[0]||delete c.scaytOptions;a.config.scayt_uiTabs[1]||delete c.scaytLangs;a.config.scayt_uiTabs[2]||delete c.scaytDict;return c}});a.contextMenu&&a.addMenuItems&&(a.contextMenu.addListener(function(b,c){var d=a.scayt,e,k;d&&(k=d.getSelectionNode())&&(e=f.menuGenerator(a,k),d.showBanner(\".\"+a.contextMenu._.definition.panel.className.split(\" \").join(\" .\")));return e}),\na.contextMenu._.onHide=CKEDITOR.tools.override(a.contextMenu._.onHide,function(b){return function(){var c=a.scayt;c&&c.hideBanner();return b.apply(this)}}))},addMenuItems:function(a){var f=this,b=CKEDITOR.plugins.scayt;a.addMenuGroup(\"scaytButton\");for(var c=a.config.scayt_contextMenuItemsOrder.split(\"|\"),e=0;e<c.length;e++)c[e]=\"scayt_\"+c[e];if((c=[\"grayt_description\",\"grayt_suggest\",\"grayt_control\"].concat(c))&&c.length)for(e=0;e<c.length;e++)a.addMenuGroup(c[e],e-10);a.addCommand(\"scaytToggle\",\n{exec:function(a){var c=a.scayt;b.state.scayt[a.name]=!b.state.scayt[a.name];!0===b.state.scayt[a.name]?c||b.createScayt(a):c&&b.destroy(a)}});a.addCommand(\"scaytAbout\",{exec:function(a){a.scayt.tabToOpen=\"about\";a.lockSelection();a.openDialog(f.dialogName)}});a.addCommand(\"scaytOptions\",{exec:function(a){a.scayt.tabToOpen=\"options\";a.lockSelection();a.openDialog(f.dialogName)}});a.addCommand(\"scaytLangs\",{exec:function(a){a.scayt.tabToOpen=\"langs\";a.lockSelection();a.openDialog(f.dialogName)}});\na.addCommand(\"scaytDict\",{exec:function(a){a.scayt.tabToOpen=\"dictionaries\";a.lockSelection();a.openDialog(f.dialogName)}});c={scaytToggle:{label:a.lang.scayt.btn_enable,group:\"scaytButton\",command:\"scaytToggle\"},scaytAbout:{label:a.lang.scayt.btn_about,group:\"scaytButton\",command:\"scaytAbout\"},scaytOptions:{label:a.lang.scayt.btn_options,group:\"scaytButton\",command:\"scaytOptions\"},scaytLangs:{label:a.lang.scayt.btn_langs,group:\"scaytButton\",command:\"scaytLangs\"},scaytDict:{label:a.lang.scayt.btn_dictionaries,\ngroup:\"scaytButton\",command:\"scaytDict\"}};a.plugins.wsc&&(c.WSC={label:a.lang.wsc.toolbar,group:\"scaytButton\",onClick:function(){var b=CKEDITOR.plugins.scayt,c=a.scayt,d=a.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?a.container.getText():a.document.getBody().getText();(d=d.replace(/\\s/g,\"\"))?(c&&b.state.scayt[a.name]&&c.setMarkupPaused&&c.setMarkupPaused(!0),a.lockSelection(),a.execCommand(\"checkspell\")):alert(\"Nothing to check!\")}});a.addMenuItems(c)},bindEvents:function(a){var f=CKEDITOR.plugins.scayt,\nb=a.elementMode==CKEDITOR.ELEMENT_MODE_INLINE,c=function(){f.destroy(a)},e=function(){!f.state.scayt[a.name]||a.readOnly||a.scayt||f.createScayt(a)},m=function(){var c=a.editable();c.attachListener(c,\"focus\",function(c){CKEDITOR.plugins.scayt&&!a.scayt&&setTimeout(e,0);c=CKEDITOR.plugins.scayt&&CKEDITOR.plugins.scayt.state.scayt[a.name]&&a.scayt;var d,f;if((b||c)&&a._.savedSelection){c=a._.savedSelection.getSelectedElement();c=!c&&a._.savedSelection.getRanges();for(var l=0;l<c.length;l++)f=c[l],\"string\"===\ntypeof f.startContainer.$.nodeValue&&(d=f.startContainer.getText().length,(d<f.startOffset||d<f.endOffset)&&a.unlockSelection(!1))}},this,null,-10)},l=function(){b?a.config.scayt_inlineModeImmediateMarkup?e():(a.on(\"blur\",function(){setTimeout(c,0)}),a.on(\"focus\",e),a.focusManager.hasFocus&&e()):e();m();var d=a.editable();d.attachListener(d,\"mousedown\",function(b){b=b.data.getTarget();var c=a.widgets&&a.widgets.getByElement(b);c&&(c.wrapper=b.getAscendant(function(a){return a.hasAttribute(\"data-cke-widget-wrapper\")},\n!0))},this,null,-10)};a.on(\"contentDom\",l);a.on(\"beforeCommandExec\",function(b){var c=a.scayt,e=null,g=!1,l=!0;b.data.name in f.options.disablingCommandExec&&\"wysiwyg\"==a.mode?c&&(f.destroy(a),a.fire(\"scaytButtonState\",CKEDITOR.TRISTATE_DISABLED)):\"bold\"!==b.data.name&&\"italic\"!==b.data.name&&\"underline\"!==b.data.name&&\"strike\"!==b.data.name&&\"subscript\"!==b.data.name&&\"superscript\"!==b.data.name&&\"enter\"!==b.data.name&&\"cut\"!==b.data.name&&\"language\"!==b.data.name||!c||(\"cut\"===b.data.name&&(l=!1,\ng=!0),\"language\"===b.data.name&&(e=(e=a.plugins.language.getCurrentLangElement(a))&&e.$,g=!0),a.fire(\"reloadMarkupScayt\",{removeOptions:{removeInside:l,forceBookmark:g,selectionNode:e},timeout:0}))});a.on(\"beforeSetMode\",function(b){if(\"source\"==b.data){if(b=a.scayt)f.destroy(a),a.fire(\"scaytButtonState\",CKEDITOR.TRISTATE_DISABLED);a.document&&a.document.getBody().removeAttribute(\"_jquid\")}});a.on(\"afterCommandExec\",function(b){\"wysiwyg\"!=a.mode||\"undo\"!=b.data.name&&\"redo\"!=b.data.name||setTimeout(function(){f.reloadMarkup(a.scayt)},\n250)});a.on(\"readOnly\",function(b){var c;b&&(c=a.scayt,!0===b.editor.readOnly?c&&c.fire(\"removeMarkupInDocument\",{}):c?f.reloadMarkup(c):\"wysiwyg\"==b.editor.mode&&!0===f.state.scayt[b.editor.name]&&(f.createScayt(a),b.editor.fire(\"scaytButtonState\",CKEDITOR.TRISTATE_ON)))});a.on(\"beforeDestroy\",c);a.on(\"setData\",function(){c();(a.elementMode==CKEDITOR.ELEMENT_MODE_INLINE||a.plugins.divarea)&&l()},this,null,50);a.on(\"reloadMarkupScayt\",function(b){var c=b.data&&b.data.removeOptions;b=b.data&&b.data.timeout;\nvar e=a.scayt;e&&setTimeout(function(){e.removeMarkupInSelectionNode(c);f.reloadMarkup(e)},b||0)});a.on(\"insertElement\",function(){a.fire(\"reloadMarkupScayt\",{removeOptions:{forceBookmark:!0}})},this,null,50);a.on(\"insertHtml\",function(){a.fire(\"reloadMarkupScayt\")},this,null,50);a.on(\"insertText\",function(){a.fire(\"reloadMarkupScayt\")},this,null,50);a.on(\"scaytDialogShown\",function(b){b.data.selectPage(a.scayt.tabToOpen)})},parseConfig:function(a){var f=CKEDITOR.plugins.scayt;f.replaceOldOptionsNames(a.config);\n\"boolean\"!==typeof a.config.scayt_autoStartup&&(a.config.scayt_autoStartup=!1);f.state.scayt[a.name]=a.config.scayt_autoStartup;\"boolean\"!==typeof a.config.grayt_autoStartup&&(a.config.grayt_autoStartup=!1);\"boolean\"!==typeof a.config.scayt_inlineModeImmediateMarkup&&(a.config.scayt_inlineModeImmediateMarkup=!1);f.state.grayt[a.name]=a.config.grayt_autoStartup;a.config.scayt_contextCommands||(a.config.scayt_contextCommands=\"ignore|ignoreall|add\");a.config.scayt_contextMenuItemsOrder||(a.config.scayt_contextMenuItemsOrder=\n\"suggest|moresuggest|control\");a.config.scayt_sLang||(a.config.scayt_sLang=\"en_US\");if(void 0===a.config.scayt_maxSuggestions||\"number\"!=typeof a.config.scayt_maxSuggestions||0>a.config.scayt_maxSuggestions)a.config.scayt_maxSuggestions=5;if(void 0===a.config.scayt_minWordLength||\"number\"!=typeof a.config.scayt_minWordLength||1>a.config.scayt_minWordLength)a.config.scayt_minWordLength=4;if(void 0===a.config.scayt_customDictionaryIds||\"string\"!==typeof a.config.scayt_customDictionaryIds)a.config.scayt_customDictionaryIds=\n\"\";if(void 0===a.config.scayt_userDictionaryName||\"string\"!==typeof a.config.scayt_userDictionaryName)a.config.scayt_userDictionaryName=null;if(\"string\"===typeof a.config.scayt_uiTabs&&3===a.config.scayt_uiTabs.split(\",\").length){var b=[],c=[];a.config.scayt_uiTabs=a.config.scayt_uiTabs.split(\",\");CKEDITOR.tools.search(a.config.scayt_uiTabs,function(a){1===Number(a)||0===Number(a)?(c.push(!0),b.push(Number(a))):c.push(!1)});null===CKEDITOR.tools.search(c,!1)?a.config.scayt_uiTabs=b:a.config.scayt_uiTabs=\n[1,1,1]}else a.config.scayt_uiTabs=[1,1,1];\"string\"!=typeof a.config.scayt_serviceProtocol&&(a.config.scayt_serviceProtocol=null);\"string\"!=typeof a.config.scayt_serviceHost&&(a.config.scayt_serviceHost=null);\"string\"!=typeof a.config.scayt_servicePort&&(a.config.scayt_servicePort=null);\"string\"!=typeof a.config.scayt_servicePath&&(a.config.scayt_servicePath=null);a.config.scayt_moreSuggestions||(a.config.scayt_moreSuggestions=\"on\");\"string\"!==typeof a.config.scayt_customerId&&(a.config.scayt_customerId=\n\"1:WvF0D4-UtPqN1-43nkD4-NKvUm2-daQqk3-LmNiI-z7Ysb4-mwry24-T8YrS3-Q2tpq2\");\"string\"!==typeof a.config.scayt_srcUrl&&(f=document.location.protocol,f=-1!=f.search(/https?:/)?f:\"http:\",a.config.scayt_srcUrl=f+\"//svc.webspellchecker.net/spellcheck31/lf/scayt3/ckscayt/ckscayt.js\");\"boolean\"!==typeof CKEDITOR.config.scayt_handleCheckDirty&&(CKEDITOR.config.scayt_handleCheckDirty=!0);\"boolean\"!==typeof CKEDITOR.config.scayt_handleUndoRedo&&(CKEDITOR.config.scayt_handleUndoRedo=!0);CKEDITOR.config.scayt_handleUndoRedo=\nCKEDITOR.plugins.undo?CKEDITOR.config.scayt_handleUndoRedo:!1;\"boolean\"!==typeof a.config.scayt_multiLanguageMode&&(a.config.scayt_multiLanguageMode=!1);\"object\"!==typeof a.config.scayt_multiLanguageStyles&&(a.config.scayt_multiLanguageStyles={});a.config.scayt_ignoreAllCapsWords&&\"boolean\"!==typeof a.config.scayt_ignoreAllCapsWords&&(a.config.scayt_ignoreAllCapsWords=!1);a.config.scayt_ignoreDomainNames&&\"boolean\"!==typeof a.config.scayt_ignoreDomainNames&&(a.config.scayt_ignoreDomainNames=!1);a.config.scayt_ignoreWordsWithMixedCases&&\n\"boolean\"!==typeof a.config.scayt_ignoreWordsWithMixedCases&&(a.config.scayt_ignoreWordsWithMixedCases=!1);a.config.scayt_ignoreWordsWithNumbers&&\"boolean\"!==typeof a.config.scayt_ignoreWordsWithNumbers&&(a.config.scayt_ignoreWordsWithNumbers=!1);if(a.config.scayt_disableOptionsStorage){var f=CKEDITOR.tools.isArray(a.config.scayt_disableOptionsStorage)?a.config.scayt_disableOptionsStorage:\"string\"===typeof a.config.scayt_disableOptionsStorage?[a.config.scayt_disableOptionsStorage]:void 0,e=\"all options lang ignore-all-caps-words ignore-domain-names ignore-words-with-mixed-cases ignore-words-with-numbers\".split(\" \"),\nm=[\"lang\",\"ignore-all-caps-words\",\"ignore-domain-names\",\"ignore-words-with-mixed-cases\",\"ignore-words-with-numbers\"],l=CKEDITOR.tools.search,d=CKEDITOR.tools.indexOf;a.config.scayt_disableOptionsStorage=function(a){for(var b=[],c=0;c<a.length;c++){var f=a[c],q=!!l(a,\"options\");if(!l(e,f)||q&&l(m,function(a){if(\"lang\"===a)return!1}))return;l(m,f)&&m.splice(d(m,f),1);if(\"all\"===f||q&&l(a,\"lang\"))return[];\"options\"===f&&(m=[\"lang\"])}return b=b.concat(m)}(f)}},addRule:function(a){var f=CKEDITOR.plugins.scayt,\nb=a.dataProcessor,c=b&&b.htmlFilter,e=a._.elementsPath&&a._.elementsPath.filters,b=b&&b.dataFilter,m=a.addRemoveFormatFilter,l=function(b){if(a.scayt&&(b.hasAttribute(f.options.data_attribute_name)||b.hasAttribute(f.options.problem_grammar_data_attribute)))return!1},d=function(b){var c=!0;a.scayt&&(b.hasAttribute(f.options.data_attribute_name)||b.hasAttribute(f.options.problem_grammar_data_attribute))&&(c=!1);return c};e&&e.push(l);b&&b.addRules({elements:{span:function(a){var b=a.hasClass(f.options.misspelled_word_class)&&\na.attributes[f.options.data_attribute_name],c=a.hasClass(f.options.problem_grammar_class)&&a.attributes[f.options.problem_grammar_data_attribute];f&&(b||c)&&delete a.name;return a}}});c&&c.addRules({elements:{span:function(a){var b=a.hasClass(f.options.misspelled_word_class)&&a.attributes[f.options.data_attribute_name],c=a.hasClass(f.options.problem_grammar_class)&&a.attributes[f.options.problem_grammar_data_attribute];f&&(b||c)&&delete a.name;return a}}});m&&m.call(a,d)},scaytMenuDefinition:function(a){var f=\nthis;a=a.scayt;return{scayt:{scayt_ignore:{label:a.getLocal(\"btn_ignore\"),group:\"scayt_control\",order:1,exec:function(a){a.scayt.ignoreWord()}},scayt_ignoreall:{label:a.getLocal(\"btn_ignoreAll\"),group:\"scayt_control\",order:2,exec:function(a){a.scayt.ignoreAllWords()}},scayt_add:{label:a.getLocal(\"btn_addWord\"),group:\"scayt_control\",order:3,exec:function(a){var c=a.scayt;setTimeout(function(){c.addWordToUserDictionary()},10)}},scayt_option:{label:a.getLocal(\"btn_options\"),group:\"scayt_control\",order:4,\nexec:function(a){a.scayt.tabToOpen=\"options\";a.lockSelection();a.openDialog(f.dialogName)},verification:function(a){return 1==a.config.scayt_uiTabs[0]?!0:!1}},scayt_language:{label:a.getLocal(\"btn_langs\"),group:\"scayt_control\",order:5,exec:function(a){a.scayt.tabToOpen=\"langs\";a.lockSelection();a.openDialog(f.dialogName)},verification:function(a){return 1==a.config.scayt_uiTabs[1]?!0:!1}},scayt_dictionary:{label:a.getLocal(\"btn_dictionaries\"),group:\"scayt_control\",order:6,exec:function(a){a.scayt.tabToOpen=\n\"dictionaries\";a.lockSelection();a.openDialog(f.dialogName)},verification:function(a){return 1==a.config.scayt_uiTabs[2]?!0:!1}},scayt_about:{label:a.getLocal(\"btn_about\"),group:\"scayt_control\",order:7,exec:function(a){a.scayt.tabToOpen=\"about\";a.lockSelection();a.openDialog(f.dialogName)}}},grayt:{grayt_problemdescription:{label:\"Grammar problem description\",group:\"grayt_description\",order:1,state:CKEDITOR.TRISTATE_DISABLED,exec:function(a){}},grayt_ignore:{label:a.getLocal(\"btn_ignore\"),group:\"grayt_control\",\norder:2,exec:function(a){a.scayt.ignorePhrase()}}}}},buildSuggestionMenuItems:function(a,f,b){var c={},e={},m=b?\"word\":\"phrase\",l=b?\"startGrammarCheck\":\"startSpellCheck\",d=a.scayt;if(0<f.length&&\"no_any_suggestions\"!==f[0])if(b)for(b=0;b<f.length;b++){var h=\"scayt_suggest_\"+CKEDITOR.plugins.scayt.suggestions[b].replace(\" \",\"_\");a.addCommand(h,this.createCommand(CKEDITOR.plugins.scayt.suggestions[b],m,l));b<a.config.scayt_maxSuggestions?(a.addMenuItem(h,{label:f[b],command:h,group:\"scayt_suggest\",\norder:b+1}),c[h]=CKEDITOR.TRISTATE_OFF):(a.addMenuItem(h,{label:f[b],command:h,group:\"scayt_moresuggest\",order:b+1}),e[h]=CKEDITOR.TRISTATE_OFF,\"on\"===a.config.scayt_moreSuggestions&&(a.addMenuItem(\"scayt_moresuggest\",{label:d.getLocal(\"btn_moreSuggestions\"),group:\"scayt_moresuggest\",order:10,getItems:function(){return e}}),c.scayt_moresuggest=CKEDITOR.TRISTATE_OFF))}else for(b=0;b<f.length;b++)h=\"grayt_suggest_\"+CKEDITOR.plugins.scayt.suggestions[b].replace(\" \",\"_\"),a.addCommand(h,this.createCommand(CKEDITOR.plugins.scayt.suggestions[b],\nm,l)),a.addMenuItem(h,{label:f[b],command:h,group:\"grayt_suggest\",order:b+1}),c[h]=CKEDITOR.TRISTATE_OFF;else c.no_scayt_suggest=CKEDITOR.TRISTATE_DISABLED,a.addCommand(\"no_scayt_suggest\",{exec:function(){}}),a.addMenuItem(\"no_scayt_suggest\",{label:d.getLocal(\"btn_noSuggestions\")||\"no_scayt_suggest\",command:\"no_scayt_suggest\",group:\"scayt_suggest\",order:0});return c},menuGenerator:function(a,f){var b=a.scayt,c=this.scaytMenuDefinition(a),e={},m=a.config.scayt_contextCommands.split(\"|\"),l=f.getAttribute(b.getLangAttribute())||\nb.getLang(),d,h;d=b.isScaytNode(f);h=b.isGraytNode(f);d?(c=c.scayt,e=f.getAttribute(b.getScaytNodeAttributeName()),b.fire(\"getSuggestionsList\",{lang:l,word:e}),e=this.buildSuggestionMenuItems(a,CKEDITOR.plugins.scayt.suggestions,d)):h&&(c=c.grayt,e=f.getAttribute(b.getGraytNodeAttributeName()),h=b.getProblemDescriptionText(e,l),c.grayt_problemdescription&&h&&(c.grayt_problemdescription.label=h),b.fire(\"getGrammarSuggestionsList\",{lang:l,phrase:e}),e=this.buildSuggestionMenuItems(a,CKEDITOR.plugins.scayt.suggestions,\nd));if(d&&\"off\"==a.config.scayt_contextCommands)return e;for(var k in c)d&&-1==CKEDITOR.tools.indexOf(m,k.replace(\"scayt_\",\"\"))&&\"all\"!=a.config.scayt_contextCommands||(e[k]=\"undefined\"!=typeof c[k].state?c[k].state:CKEDITOR.TRISTATE_OFF,\"function\"!==typeof c[k].verification||c[k].verification(a)||delete e[k],a.addCommand(k,{exec:c[k].exec}),a.addMenuItem(k,{label:a.lang.scayt[c[k].label]||c[k].label,command:k,group:c[k].group,order:c[k].order}));return e},createCommand:function(a,f,b){return{exec:function(c){c=\nc.scayt;var e={};e[f]=a;c.replaceSelectionNode(e);\"startGrammarCheck\"===b&&c.removeMarkupInSelectionNode({grammarOnly:!0});c.fire(b)}}}}),CKEDITOR.plugins.scayt={charsToObserve:[{charName:\"cke-fillingChar\",charCode:function(){var a=CKEDITOR.version.match(/^\\d(\\.\\d*)*/),a=a&&a[0],f;if(a){f=\"4.5.7\";var b,a=a.replace(/\\./g,\"\");f=f.replace(/\\./g,\"\");b=a.length-f.length;b=0<=b?b:0;f=parseInt(a)>=parseInt(f)*Math.pow(10,b)}return f?Array(7).join(String.fromCharCode(8203)):String.fromCharCode(8203)}()}],\nonLoadTimestamp:\"\",state:{scayt:{},grayt:{}},warningCounter:0,suggestions:[],options:{disablingCommandExec:{source:!0,newpage:!0,templates:!0},data_attribute_name:\"data-scayt-word\",misspelled_word_class:\"scayt-misspell-word\",problem_grammar_data_attribute:\"data-grayt-phrase\",problem_grammar_class:\"gramm-problem\"},backCompatibilityMap:{scayt_service_protocol:\"scayt_serviceProtocol\",scayt_service_host:\"scayt_serviceHost\",scayt_service_port:\"scayt_servicePort\",scayt_service_path:\"scayt_servicePath\",\nscayt_customerid:\"scayt_customerId\"},alarmCompatibilityMessage:function(){5>this.warningCounter&&(console.warn(\"Note: You are using latest version of SCAYT plug-in. It is recommended to upgrade WebSpellChecker.net application to version v4.8.3.Contact us by e-mail at support@webspellchecker.net.\"),this.warningCounter+=1)},reloadMarkup:function(a){var f;a&&(f=a.getScaytLangList(),a.reloadMarkup?a.reloadMarkup():(this.alarmCompatibilityMessage(),f&&f.ltr&&f.rtl&&a.fire(\"startSpellCheck, startGrammarCheck\")))},\nreplaceOldOptionsNames:function(a){for(var f in a)f in this.backCompatibilityMap&&(a[this.backCompatibilityMap[f]]=a[f],delete a[f])},createScayt:function(a){var f=this,b=CKEDITOR.plugins.scayt;this.loadScaytLibrary(a,function(a){function e(a){return new SCAYT.CKSCAYT(a,function(){},function(){})}var m=a.window&&a.window.getFrame()||a.editable();if(m){m={lang:a.config.scayt_sLang,container:m.$,customDictionary:a.config.scayt_customDictionaryIds,userDictionaryName:a.config.scayt_userDictionaryName,\nlocalization:a.langCode,customer_id:a.config.scayt_customerId,debug:a.config.scayt_debug,data_attribute_name:f.options.data_attribute_name,misspelled_word_class:f.options.misspelled_word_class,problem_grammar_data_attribute:f.options.problem_grammar_data_attribute,problem_grammar_class:f.options.problem_grammar_class,\"options-to-restore\":a.config.scayt_disableOptionsStorage,focused:a.editable().hasFocus,ignoreElementsRegex:a.config.scayt_elementsToIgnore,minWordLength:a.config.scayt_minWordLength,\nmultiLanguageMode:a.config.scayt_multiLanguageMode,multiLanguageStyles:a.config.scayt_multiLanguageStyles,graytAutoStartup:b.state.grayt[a.name],charsToObserve:b.charsToObserve};a.config.scayt_serviceProtocol&&(m.service_protocol=a.config.scayt_serviceProtocol);a.config.scayt_serviceHost&&(m.service_host=a.config.scayt_serviceHost);a.config.scayt_servicePort&&(m.service_port=a.config.scayt_servicePort);a.config.scayt_servicePath&&(m.service_path=a.config.scayt_servicePath);\"boolean\"===typeof a.config.scayt_ignoreAllCapsWords&&\n(m[\"ignore-all-caps-words\"]=a.config.scayt_ignoreAllCapsWords);\"boolean\"===typeof a.config.scayt_ignoreDomainNames&&(m[\"ignore-domain-names\"]=a.config.scayt_ignoreDomainNames);\"boolean\"===typeof a.config.scayt_ignoreWordsWithMixedCases&&(m[\"ignore-words-with-mixed-cases\"]=a.config.scayt_ignoreWordsWithMixedCases);\"boolean\"===typeof a.config.scayt_ignoreWordsWithNumbers&&(m[\"ignore-words-with-numbers\"]=a.config.scayt_ignoreWordsWithNumbers);var l;try{l=e(m)}catch(d){f.alarmCompatibilityMessage(),delete m.charsToObserve,\nl=e(m)}l.subscribe(\"suggestionListSend\",function(a){for(var b={},c=[],d=0;d<a.suggestionList.length;d++)b[\"word_\"+a.suggestionList[d]]||(b[\"word_\"+a.suggestionList[d]]=a.suggestionList[d],c.push(a.suggestionList[d]));CKEDITOR.plugins.scayt.suggestions=c});l.subscribe(\"selectionIsChanged\",function(b){a.getSelection().isLocked&&a.lockSelection()});l.subscribe(\"graytStateChanged\",function(d){b.state.grayt[a.name]=d.state});l.addMarkupHandler&&l.addMarkupHandler(function(b){var d=a.editable(),e=d.getCustomData(b.charName);\ne&&(e.$=b.node,d.setCustomData(b.charName,e))});a.scayt=l;a.fire(\"scaytButtonState\",a.readOnly?CKEDITOR.TRISTATE_DISABLED:CKEDITOR.TRISTATE_ON)}else b.state.scayt[a.name]=!1})},destroy:function(a){a.scayt&&a.scayt.destroy();delete a.scayt;a.fire(\"scaytButtonState\",CKEDITOR.TRISTATE_OFF)},loadScaytLibrary:function(a,f){var b,c=function(){CKEDITOR.fireOnce(\"scaytReady\");a.scayt||\"function\"===typeof f&&f(a)};\"undefined\"===typeof window.SCAYT||\"function\"!==typeof window.SCAYT.CKSCAYT?(b=a.config.scayt_srcUrl+\n\"?\"+this.onLoadTimestamp,CKEDITOR.scriptLoader.load(b,function(a){a&&c()})):window.SCAYT&&\"function\"===typeof window.SCAYT.CKSCAYT&&c()}},CKEDITOR.on(\"dialogDefinition\",function(a){var f=a.data.name;a=a.data.definition.dialog;if(\"scaytDialog\"===f)a.on(\"cancel\",function(a){return!1},this,null,-1);if(\"checkspell\"===f)a.on(\"cancel\",function(a){a=a.sender&&a.sender.getParentEditor();var c=CKEDITOR.plugins.scayt,e=a.scayt;e&&c.state.scayt[a.name]&&e.setMarkupPaused&&e.setMarkupPaused(!1);a.unlockSelection()},\nthis,null,-2);if(\"link\"===f)a.on(\"ok\",function(a){var c=a.sender&&a.sender.getParentEditor();c&&setTimeout(function(){c.fire(\"reloadMarkupScayt\",{removeOptions:{removeInside:!0,forceBookmark:!0},timeout:0})},0)})}),CKEDITOR.on(\"scaytReady\",function(){if(!0===CKEDITOR.config.scayt_handleCheckDirty){var a=CKEDITOR.editor.prototype;a.checkDirty=CKEDITOR.tools.override(a.checkDirty,function(a){return function(){var c=null,e=this.scayt;if(CKEDITOR.plugins.scayt&&CKEDITOR.plugins.scayt.state.scayt[this.name]&&\nthis.scayt){if(c=\"ready\"==this.status)var f=e.removeMarkupFromString(this.getSnapshot()),e=e.removeMarkupFromString(this._.previousValue),c=c&&e!==f}else c=a.call(this);return c}});a.resetDirty=CKEDITOR.tools.override(a.resetDirty,function(a){return function(){var c=this.scayt;CKEDITOR.plugins.scayt&&CKEDITOR.plugins.scayt.state.scayt[this.name]&&this.scayt?this._.previousValue=c.removeMarkupFromString(this.getSnapshot()):a.call(this)}})}if(!0===CKEDITOR.config.scayt_handleUndoRedo){var a=CKEDITOR.plugins.undo.Image.prototype,\nf=\"function\"==typeof a.equalsContent?\"equalsContent\":\"equals\";a[f]=CKEDITOR.tools.override(a[f],function(a){return function(c){var e=c.editor.scayt,f=this.contents,l=c.contents,d=null;CKEDITOR.plugins.scayt&&CKEDITOR.plugins.scayt.state.scayt[c.editor.name]&&c.editor.scayt&&(this.contents=e.removeMarkupFromString(f)||\"\",c.contents=e.removeMarkupFromString(l)||\"\");d=a.apply(this,arguments);this.contents=f;c.contents=l;return d}})}}),function(){var a={preserveState:!0,editorFocus:!1,readOnly:1,exec:function(a){this.toggleState();\nthis.refresh(a)},refresh:function(a){if(a.document){var b=this.state==CKEDITOR.TRISTATE_ON?\"attachClass\":\"removeClass\";a.editable()[b](\"cke_show_borders\")}}};CKEDITOR.plugins.add(\"showborders\",{modes:{wysiwyg:1},onLoad:function(){var a;a=(CKEDITOR.env.ie6Compat?[\".%1 table.%2,\",\".%1 table.%2 td, .%1 table.%2 th\",\"{\",\"border : #d3d3d3 1px dotted\",\"}\"]:\".%1 table.%2,;.%1 table.%2 \\x3e tr \\x3e td, .%1 table.%2 \\x3e tr \\x3e th,;.%1 table.%2 \\x3e tbody \\x3e tr \\x3e td, .%1 table.%2 \\x3e tbody \\x3e tr \\x3e th,;.%1 table.%2 \\x3e thead \\x3e tr \\x3e td, .%1 table.%2 \\x3e thead \\x3e tr \\x3e th,;.%1 table.%2 \\x3e tfoot \\x3e tr \\x3e td, .%1 table.%2 \\x3e tfoot \\x3e tr \\x3e th;{;border : #d3d3d3 1px dotted;}\".split(\";\")).join(\"\").replace(/%2/g,\n\"cke_show_border\").replace(/%1/g,\"cke_show_borders \");CKEDITOR.addCss(a)},init:function(f){var b=f.addCommand(\"showborders\",a);b.canUndo=!1;!1!==f.config.startupShowBorders&&b.setState(CKEDITOR.TRISTATE_ON);f.on(\"mode\",function(){b.state!=CKEDITOR.TRISTATE_DISABLED&&b.refresh(f)},null,null,100);f.on(\"contentDom\",function(){b.state!=CKEDITOR.TRISTATE_DISABLED&&b.refresh(f)});f.on(\"removeFormatCleanup\",function(a){a=a.data;f.getCommand(\"showborders\").state==CKEDITOR.TRISTATE_ON&&a.is(\"table\")&&(!a.hasAttribute(\"border\")||\n0>=parseInt(a.getAttribute(\"border\"),10))&&a.addClass(\"cke_show_border\")})},afterInit:function(a){var b=a.dataProcessor;a=b&&b.dataFilter;b=b&&b.htmlFilter;a&&a.addRules({elements:{table:function(a){a=a.attributes;var b=a[\"class\"],f=parseInt(a.border,10);f&&!(0>=f)||b&&-1!=b.indexOf(\"cke_show_border\")||(a[\"class\"]=(b||\"\")+\" cke_show_border\")}}});b&&b.addRules({elements:{table:function(a){a=a.attributes;var b=a[\"class\"];b&&(a[\"class\"]=b.replace(\"cke_show_border\",\"\").replace(/\\s{2}/,\" \").replace(/^\\s+|\\s+$/,\n\"\"))}}})}});CKEDITOR.on(\"dialogDefinition\",function(a){var b=a.data.name;if(\"table\"==b||\"tableProperties\"==b)if(a=a.data.definition,b=a.getContents(\"info\").get(\"txtBorder\"),b.commit=CKEDITOR.tools.override(b.commit,function(a){return function(b,f){a.apply(this,arguments);var l=parseInt(this.getValue(),10);f[!l||0>=l?\"addClass\":\"removeClass\"](\"cke_show_border\")}}),a=(a=a.getContents(\"advanced\"))&&a.get(\"advCSSClasses\"))a.setup=CKEDITOR.tools.override(a.setup,function(a){return function(){a.apply(this,\narguments);this.setValue(this.getValue().replace(/cke_show_border/,\"\"))}}),a.commit=CKEDITOR.tools.override(a.commit,function(a){return function(b,f){a.apply(this,arguments);parseInt(f.getAttribute(\"border\"),10)||f.addClass(\"cke_show_border\")}})})}(),function(){CKEDITOR.plugins.add(\"sourcearea\",{init:function(f){function b(){var a=e&&this.equals(CKEDITOR.document.getActive());this.hide();this.setStyle(\"height\",this.getParent().$.clientHeight+\"px\");this.setStyle(\"width\",this.getParent().$.clientWidth+\n\"px\");this.show();a&&this.focus()}if(f.elementMode!=CKEDITOR.ELEMENT_MODE_INLINE){var c=CKEDITOR.plugins.sourcearea;f.addMode(\"source\",function(c){var e=f.ui.space(\"contents\").getDocument().createElement(\"textarea\");e.setStyles(CKEDITOR.tools.extend({width:CKEDITOR.env.ie7Compat?\"99%\":\"100%\",height:\"100%\",resize:\"none\",outline:\"none\",\"text-align\":\"left\"},CKEDITOR.tools.cssVendorPrefix(\"tab-size\",f.config.sourceAreaTabSize||4)));e.setAttribute(\"dir\",\"ltr\");e.addClass(\"cke_source\").addClass(\"cke_reset\").addClass(\"cke_enable_context_menu\");\nf.ui.space(\"contents\").append(e);e=f.editable(new a(f,e));e.setData(f.getData(1));CKEDITOR.env.ie&&(e.attachListener(f,\"resize\",b,e),e.attachListener(CKEDITOR.document.getWindow(),\"resize\",b,e),CKEDITOR.tools.setTimeout(b,0,e));f.fire(\"ariaWidget\",this);c()});f.addCommand(\"source\",c.commands.source);f.ui.addButton&&f.ui.addButton(\"Source\",{label:f.lang.sourcearea.toolbar,command:\"source\",toolbar:\"mode,10\"});f.on(\"mode\",function(){f.getCommand(\"source\").setState(\"source\"==f.mode?CKEDITOR.TRISTATE_ON:\nCKEDITOR.TRISTATE_OFF)});var e=CKEDITOR.env.ie&&9==CKEDITOR.env.version}}});var a=CKEDITOR.tools.createClass({base:CKEDITOR.editable,proto:{setData:function(a){this.setValue(a);this.status=\"ready\";this.editor.fire(\"dataReady\")},getData:function(){return this.getValue()},insertHtml:function(){},insertElement:function(){},insertText:function(){},setReadOnly:function(a){this[(a?\"set\":\"remove\")+\"Attribute\"](\"readOnly\",\"readonly\")},detach:function(){a.baseProto.detach.call(this);this.clearCustomData();\nthis.remove()}}})}(),CKEDITOR.plugins.sourcearea={commands:{source:{modes:{wysiwyg:1,source:1},editorFocus:!1,readOnly:1,exec:function(a){\"wysiwyg\"==a.mode&&a.fire(\"saveSnapshot\");a.getCommand(\"source\").setState(CKEDITOR.TRISTATE_DISABLED);a.setMode(\"source\"==a.mode?\"wysiwyg\":\"source\")},canUndo:!1}}},CKEDITOR.plugins.add(\"specialchar\",{availableLangs:{af:1,ar:1,bg:1,ca:1,cs:1,cy:1,da:1,de:1,\"de-ch\":1,el:1,en:1,\"en-gb\":1,eo:1,es:1,et:1,eu:1,fa:1,fi:1,fr:1,\"fr-ca\":1,gl:1,he:1,hr:1,hu:1,id:1,it:1,ja:1,\nkm:1,ko:1,ku:1,lt:1,lv:1,nb:1,nl:1,no:1,pl:1,pt:1,\"pt-br\":1,ru:1,si:1,sk:1,sl:1,sq:1,sv:1,th:1,tr:1,tt:1,ug:1,uk:1,vi:1,zh:1,\"zh-cn\":1},requires:\"dialog\",init:function(a){var f=this;CKEDITOR.dialog.add(\"specialchar\",this.path+\"dialogs/specialchar.js\");a.addCommand(\"specialchar\",{exec:function(){var b=a.langCode,b=f.availableLangs[b]?b:f.availableLangs[b.replace(/-.*/,\"\")]?b.replace(/-.*/,\"\"):\"en\";CKEDITOR.scriptLoader.load(CKEDITOR.getUrl(f.path+\"dialogs/lang/\"+b+\".js\"),function(){CKEDITOR.tools.extend(a.lang.specialchar,\nf.langEntries[b]);a.openDialog(\"specialchar\")})},modes:{wysiwyg:1},canUndo:!1});a.ui.addButton&&a.ui.addButton(\"SpecialChar\",{label:a.lang.specialchar.toolbar,command:\"specialchar\",toolbar:\"insert,50\"})}}),CKEDITOR.config.specialChars=\"! \\x26quot; # $ % \\x26amp; ' ( ) * + - . / 0 1 2 3 4 5 6 7 8 9 : ; \\x26lt; \\x3d \\x26gt; ? @ A B C D E F G H I J K L M N O P Q R S T U V W X Y Z [ ] ^ _ ` a b c d e f g h i j k l m n o p q r s t u v w x y z { | } ~ \\x26euro; \\x26lsquo; \\x26rsquo; \\x26ldquo; \\x26rdquo; \\x26ndash; \\x26mdash; \\x26iexcl; \\x26cent; \\x26pound; \\x26curren; \\x26yen; \\x26brvbar; \\x26sect; \\x26uml; \\x26copy; \\x26ordf; \\x26laquo; \\x26not; \\x26reg; \\x26macr; \\x26deg; \\x26sup2; \\x26sup3; \\x26acute; \\x26micro; \\x26para; \\x26middot; \\x26cedil; \\x26sup1; \\x26ordm; \\x26raquo; \\x26frac14; \\x26frac12; \\x26frac34; \\x26iquest; \\x26Agrave; \\x26Aacute; \\x26Acirc; \\x26Atilde; \\x26Auml; \\x26Aring; \\x26AElig; \\x26Ccedil; \\x26Egrave; \\x26Eacute; \\x26Ecirc; \\x26Euml; \\x26Igrave; \\x26Iacute; \\x26Icirc; \\x26Iuml; \\x26ETH; \\x26Ntilde; \\x26Ograve; \\x26Oacute; \\x26Ocirc; \\x26Otilde; \\x26Ouml; \\x26times; \\x26Oslash; \\x26Ugrave; \\x26Uacute; \\x26Ucirc; \\x26Uuml; \\x26Yacute; \\x26THORN; \\x26szlig; \\x26agrave; \\x26aacute; \\x26acirc; \\x26atilde; \\x26auml; \\x26aring; \\x26aelig; \\x26ccedil; \\x26egrave; \\x26eacute; \\x26ecirc; \\x26euml; \\x26igrave; \\x26iacute; \\x26icirc; \\x26iuml; \\x26eth; \\x26ntilde; \\x26ograve; \\x26oacute; \\x26ocirc; \\x26otilde; \\x26ouml; \\x26divide; \\x26oslash; \\x26ugrave; \\x26uacute; \\x26ucirc; \\x26uuml; \\x26yacute; \\x26thorn; \\x26yuml; \\x26OElig; \\x26oelig; \\x26#372; \\x26#374 \\x26#373 \\x26#375; \\x26sbquo; \\x26#8219; \\x26bdquo; \\x26hellip; \\x26trade; \\x26#9658; \\x26bull; \\x26rarr; \\x26rArr; \\x26hArr; \\x26diams; \\x26asymp;\".split(\" \"),\nfunction(){CKEDITOR.plugins.add(\"stylescombo\",{requires:\"richcombo\",init:function(a){var f=a.config,b=a.lang.stylescombo,c={},e=[],m=[];a.on(\"stylesSet\",function(b){if(b=b.data.styles){for(var d,h,k,g=0,n=b.length;g<n;g++)(d=b[g],a.blockless&&d.element in CKEDITOR.dtd.$block||\"string\"==typeof d.type&&!CKEDITOR.style.customHandlers[d.type]||(h=d.name,d=new CKEDITOR.style(d),a.filter.customConfig&&!a.filter.check(d)))||(d._name=h,d._.enterMode=f.enterMode,d._.type=k=d.assignedTo||d.type,d._.weight=\ng+1E3*(k==CKEDITOR.STYLE_OBJECT?1:k==CKEDITOR.STYLE_BLOCK?2:3),c[h]=d,e.push(d),m.push(d));e.sort(function(a,b){return a._.weight-b._.weight})}});a.ui.addRichCombo(\"Styles\",{label:b.label,title:b.panelTitle,toolbar:\"styles,10\",allowedContent:m,panel:{css:[CKEDITOR.skin.getPath(\"editor\")].concat(f.contentsCss),multiSelect:!0,attributes:{\"aria-label\":b.panelTitle}},init:function(){var a,c,f,k,g,m;g=0;for(m=e.length;g<m;g++)a=e[g],c=a._name,k=a._.type,k!=f&&(this.startGroup(b[\"panelTitle\"+String(k)]),\nf=k),this.add(c,a.type==CKEDITOR.STYLE_OBJECT?c:a.buildPreview(),c);this.commit()},onClick:function(b){a.focus();a.fire(\"saveSnapshot\");b=c[b];var d=a.elementPath();a[b.checkActive(d,a)?\"removeStyle\":\"applyStyle\"](b);a.fire(\"saveSnapshot\")},onRender:function(){a.on(\"selectionChange\",function(b){var d=this.getValue();b=b.data.path.elements;for(var e=0,f=b.length,g;e<f;e++){g=b[e];for(var m in c)if(c[m].checkElementRemovable(g,!0,a)){m!=d&&this.setValue(m);return}}this.setValue(\"\")},this)},onOpen:function(){var e=\na.getSelection().getSelectedElement(),e=a.elementPath(e),d=[0,0,0,0];this.showAll();this.unmarkAll();for(var f in c){var k=c[f],g=k._.type;k.checkApplicable(e,a,a.activeFilter)?d[g]++:this.hideItem(f);k.checkActive(e,a)&&this.mark(f)}d[CKEDITOR.STYLE_BLOCK]||this.hideGroup(b[\"panelTitle\"+String(CKEDITOR.STYLE_BLOCK)]);d[CKEDITOR.STYLE_INLINE]||this.hideGroup(b[\"panelTitle\"+String(CKEDITOR.STYLE_INLINE)]);d[CKEDITOR.STYLE_OBJECT]||this.hideGroup(b[\"panelTitle\"+String(CKEDITOR.STYLE_OBJECT)])},refresh:function(){var b=\na.elementPath();if(b){for(var d in c)if(c[d].checkApplicable(b,a,a.activeFilter))return;this.setState(CKEDITOR.TRISTATE_DISABLED)}},reset:function(){c={};e=[]}})}})}(),function(){function a(a){return{editorFocus:!1,canUndo:!1,modes:{wysiwyg:1},exec:function(b){if(b.editable().hasFocus){var c=b.getSelection(),d;if(d=(new CKEDITOR.dom.elementPath(c.getCommonAncestor(),c.root)).contains({td:1,th:1},1)){var c=b.createRange(),f=CKEDITOR.tools.tryThese(function(){var b=d.getParent().$.cells[d.$.cellIndex+\n(a?-1:1)];b.parentNode.parentNode;return b},function(){var b=d.getParent(),b=b.getAscendant(\"table\").$.rows[b.$.rowIndex+(a?-1:1)];return b.cells[a?b.cells.length-1:0]});if(f||a)if(f)f=new CKEDITOR.dom.element(f),c.moveToElementEditStart(f),c.checkStartOfBlock()&&c.checkEndOfBlock()||c.selectNodeContents(f);else return!0;else{for(var k=d.getAscendant(\"table\").$,f=d.getParent().$.cells,k=new CKEDITOR.dom.element(k.insertRow(-1),b.document),g=0,n=f.length;g<n;g++)k.append((new CKEDITOR.dom.element(f[g],\nb.document)).clone(!1,!1)).appendBogus();c.moveToElementEditStart(k)}c.select(!0);return!0}}return!1}}}var f={editorFocus:!1,modes:{wysiwyg:1,source:1}},b={exec:function(a){a.container.focusNext(!0,a.tabIndex)}},c={exec:function(a){a.container.focusPrevious(!0,a.tabIndex)}};CKEDITOR.plugins.add(\"tab\",{init:function(e){for(var m=!1!==e.config.enableTabKeyTools,l=e.config.tabSpaces||0,d=\"\";l--;)d+=\" \";if(d)e.on(\"key\",function(a){9==a.data.keyCode&&(e.insertText(d),a.cancel())});if(m)e.on(\"key\",function(a){(9==\na.data.keyCode&&e.execCommand(\"selectNextCell\")||a.data.keyCode==CKEDITOR.SHIFT+9&&e.execCommand(\"selectPreviousCell\"))&&a.cancel()});e.addCommand(\"blur\",CKEDITOR.tools.extend(b,f));e.addCommand(\"blurBack\",CKEDITOR.tools.extend(c,f));e.addCommand(\"selectNextCell\",a());e.addCommand(\"selectPreviousCell\",a(!0))}})}(),CKEDITOR.dom.element.prototype.focusNext=function(a,f){var b=void 0===f?this.getTabIndex():f,c,e,m,l,d,h;if(0>=b)for(d=this.getNextSourceNode(a,CKEDITOR.NODE_ELEMENT);d;){if(d.isVisible()&&\n0===d.getTabIndex()){m=d;break}d=d.getNextSourceNode(!1,CKEDITOR.NODE_ELEMENT)}else for(d=this.getDocument().getBody().getFirst();d=d.getNextSourceNode(!1,CKEDITOR.NODE_ELEMENT);){if(!c)if(!e&&d.equals(this)){if(e=!0,a){if(!(d=d.getNextSourceNode(!0,CKEDITOR.NODE_ELEMENT)))break;c=1}}else e&&!this.contains(d)&&(c=1);if(d.isVisible()&&!(0>(h=d.getTabIndex()))){if(c&&h==b){m=d;break}h>b&&(!m||!l||h<l)?(m=d,l=h):m||0!==h||(m=d,l=h)}}m&&m.focus()},CKEDITOR.dom.element.prototype.focusPrevious=function(a,\nf){for(var b=void 0===f?this.getTabIndex():f,c,e,m,l=0,d,h=this.getDocument().getBody().getLast();h=h.getPreviousSourceNode(!1,CKEDITOR.NODE_ELEMENT);){if(!c)if(!e&&h.equals(this)){if(e=!0,a){if(!(h=h.getPreviousSourceNode(!0,CKEDITOR.NODE_ELEMENT)))break;c=1}}else e&&!this.contains(h)&&(c=1);if(h.isVisible()&&!(0>(d=h.getTabIndex())))if(0>=b){if(c&&0===d){m=h;break}d>l&&(m=h,l=d)}else{if(c&&d==b){m=h;break}d<b&&(!m||d>l)&&(m=h,l=d)}}m&&m.focus()},CKEDITOR.plugins.add(\"table\",{requires:\"dialog\",init:function(a){function f(a){return CKEDITOR.tools.extend(a||\n{},{contextSensitive:1,refresh:function(a,b){this.setState(b.contains(\"table\",1)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED)}})}if(!a.blockless){var b=a.lang.table;a.addCommand(\"table\",new CKEDITOR.dialogCommand(\"table\",{context:\"table\",allowedContent:\"table{width,height}[align,border,cellpadding,cellspacing,summary];caption tbody thead tfoot;th td tr[scope];\"+(a.plugins.dialogadvtab?\"table\"+a.plugins.dialogadvtab.allowedContent():\"\"),requiredContent:\"table\",contentTransformations:[[\"table{width}: sizeToStyle\",\n\"table[width]: sizeToAttribute\"],[\"td: splitBorderShorthand\"],[{element:\"table\",right:function(a){a.styles&&(a.styles.border&&a.styles.border.match(/solid/)&&(a.attributes.border=1),\"collapse\"==a.styles[\"border-collapse\"]&&(a.attributes.cellspacing=0))}}]]}));a.addCommand(\"tableProperties\",new CKEDITOR.dialogCommand(\"tableProperties\",f()));a.addCommand(\"tableDelete\",f({exec:function(a){var b=a.elementPath().contains(\"table\",1);if(b){var f=b.getParent(),l=a.editable();1!=f.getChildCount()||f.is(\"td\",\n\"th\")||f.equals(l)||(b=f);a=a.createRange();a.moveToPosition(b,CKEDITOR.POSITION_BEFORE_START);b.remove();a.select()}}}));a.ui.addButton&&a.ui.addButton(\"Table\",{label:b.toolbar,command:\"table\",toolbar:\"insert,30\"});CKEDITOR.dialog.add(\"table\",this.path+\"dialogs/table.js\");CKEDITOR.dialog.add(\"tableProperties\",this.path+\"dialogs/table.js\");a.addMenuItems&&a.addMenuItems({table:{label:b.menu,command:\"tableProperties\",group:\"table\",order:5},tabledelete:{label:b.deleteTable,command:\"tableDelete\",group:\"table\",\norder:1}});a.on(\"doubleclick\",function(a){a.data.element.is(\"table\")&&(a.data.dialog=\"tableProperties\")});a.contextMenu&&a.contextMenu.addListener(function(){return{tabledelete:CKEDITOR.TRISTATE_OFF,table:CKEDITOR.TRISTATE_OFF}})}}}),function(){function a(a){function b(a){0<c.length||a.type!=CKEDITOR.NODE_ELEMENT||!q.test(a.getName())||a.getCustomData(\"selected_cell\")||(CKEDITOR.dom.element.setMarker(d,a,\"selected_cell\",!0),c.push(a))}a=a.getRanges();for(var c=[],d={},e=0;e<a.length;e++){var f=a[e];\nif(f.collapsed)f=f.getCommonAncestor(),(f=f.getAscendant(\"td\",!0)||f.getAscendant(\"th\",!0))&&c.push(f);else{var f=new CKEDITOR.dom.walker(f),g;for(f.guard=b;g=f.next();)g.type==CKEDITOR.NODE_ELEMENT&&g.is(CKEDITOR.dtd.table)||(g=g.getAscendant(\"td\",!0)||g.getAscendant(\"th\",!0))&&!g.getCustomData(\"selected_cell\")&&(CKEDITOR.dom.element.setMarker(d,g,\"selected_cell\",!0),c.push(g))}}CKEDITOR.dom.element.clearAllMarkers(d);return c}function f(b,c){for(var d=a(b),e=d[0],f=e.getAscendant(\"table\"),e=e.getDocument(),\ng=d[0].getParent(),h=g.$.rowIndex,d=d[d.length-1],k=d.getParent().$.rowIndex+d.$.rowSpan-1,d=new CKEDITOR.dom.element(f.$.rows[k]),h=c?h:k,g=c?g:d,d=CKEDITOR.tools.buildTableMap(f),f=d[h],h=c?d[h-1]:d[h+1],d=d[0].length,e=e.createElement(\"tr\"),k=0;f[k]&&k<d;k++){var l;1<f[k].rowSpan&&h&&f[k]==h[k]?(l=f[k],l.rowSpan+=1):(l=(new CKEDITOR.dom.element(f[k])).clone(),l.removeAttribute(\"rowSpan\"),l.appendBogus(),e.append(l),l=l.$);k+=l.colSpan-1}c?e.insertBefore(g):e.insertAfter(g)}function b(c){if(c instanceof\nCKEDITOR.dom.selection){var d=a(c),e=d[0].getAscendant(\"table\"),f=CKEDITOR.tools.buildTableMap(e);c=d[0].getParent().$.rowIndex;for(var d=d[d.length-1],g=d.getParent().$.rowIndex+d.$.rowSpan-1,d=[],h=c;h<=g;h++){for(var k=f[h],l=new CKEDITOR.dom.element(e.$.rows[h]),m=0;m<k.length;m++){var n=new CKEDITOR.dom.element(k[m]),q=n.getParent().$.rowIndex;1==n.$.rowSpan?n.remove():(--n.$.rowSpan,q==h&&(q=f[h+1],q[m-1]?n.insertAfter(new CKEDITOR.dom.element(q[m-1])):(new CKEDITOR.dom.element(e.$.rows[h+1])).append(n,\n1)));m+=n.$.colSpan-1}d.push(l)}f=e.$.rows;e=new CKEDITOR.dom.element(f[g+1]||(0<c?f[c-1]:null)||e.$.parentNode);for(h=d.length;0<=h;h--)b(d[h]);return e}c instanceof CKEDITOR.dom.element&&(e=c.getAscendant(\"table\"),1==e.$.rows.length?e.remove():c.remove());return null}function c(a,b){for(var c=b?Infinity:0,d=0;d<a.length;d++){var e;e=a[d];for(var f=b,g=e.getParent().$.cells,h=0,k=0;k<g.length;k++){var l=g[k],h=h+(f?1:l.colSpan);if(l==e.$)break}e=h-1;if(b?e<c:e>c)c=e}return c}function e(b,d){for(var e=\na(b),f=e[0].getAscendant(\"table\"),g=c(e,1),e=c(e),g=d?g:e,h=CKEDITOR.tools.buildTableMap(f),f=[],e=[],k=h.length,l=0;l<k;l++)f.push(h[l][g]),e.push(d?h[l][g-1]:h[l][g+1]);for(l=0;l<k;l++)f[l]&&(1<f[l].colSpan&&e[l]==f[l]?(g=f[l],g.colSpan+=1):(g=(new CKEDITOR.dom.element(f[l])).clone(),g.removeAttribute(\"colSpan\"),g.appendBogus(),g[d?\"insertBefore\":\"insertAfter\"].call(g,new CKEDITOR.dom.element(f[l])),g=g.$),l+=g.rowSpan-1)}function m(a,b){var c=a.getStartElement();if(c=c.getAscendant(\"td\",1)||c.getAscendant(\"th\",\n1)){var d=c.clone();d.appendBogus();b?d.insertBefore(c):d.insertAfter(c)}}function l(b){if(b instanceof CKEDITOR.dom.selection){b=a(b);var c=b[0]&&b[0].getAscendant(\"table\"),e;a:{var f=0;e=b.length-1;for(var g={},h,k;h=b[f++];)CKEDITOR.dom.element.setMarker(g,h,\"delete_cell\",!0);for(f=0;h=b[f++];)if((k=h.getPrevious())&&!k.getCustomData(\"delete_cell\")||(k=h.getNext())&&!k.getCustomData(\"delete_cell\")){CKEDITOR.dom.element.clearAllMarkers(g);e=k;break a}CKEDITOR.dom.element.clearAllMarkers(g);k=b[0].getParent();\n(k=k.getPrevious())?e=k.getLast():(k=b[e].getParent(),e=(k=k.getNext())?k.getChild(0):null)}for(k=b.length-1;0<=k;k--)l(b[k]);e?d(e,!0):c&&c.remove()}else b instanceof CKEDITOR.dom.element&&(c=b.getParent(),1==c.getChildCount()?c.remove():b.remove())}function d(a,b){var c=a.getDocument(),d=CKEDITOR.document;CKEDITOR.env.ie&&10==CKEDITOR.env.version&&(d.focus(),c.focus());c=new CKEDITOR.dom.range(c);c[\"moveToElementEdit\"+(b?\"End\":\"Start\")](a)||(c.selectNodeContents(a),c.collapse(b?!1:!0));c.select(!0)}\nfunction h(a,b,c){a=a[b];if(\"undefined\"==typeof c)return a;for(b=0;a&&b<a.length;b++){if(c.is&&a[b]==c.$)return b;if(b==c)return new CKEDITOR.dom.element(a[b])}return c.is?-1:null}function k(b,c,d){var e=a(b),f;if((c?1!=e.length:2>e.length)||(f=b.getCommonAncestor())&&f.type==CKEDITOR.NODE_ELEMENT&&f.is(\"table\"))return!1;var g;b=e[0];f=b.getAscendant(\"table\");var k=CKEDITOR.tools.buildTableMap(f),l=k.length,m=k[0].length,n=b.getParent().$.rowIndex,q=h(k,n,b);if(c){var A;try{var C=parseInt(b.getAttribute(\"rowspan\"),\n10)||1;g=parseInt(b.getAttribute(\"colspan\"),10)||1;A=k[\"up\"==c?n-C:\"down\"==c?n+C:n][\"left\"==c?q-g:\"right\"==c?q+g:q]}catch(F){return!1}if(!A||b.$==A)return!1;e[\"up\"==c||\"left\"==c?\"unshift\":\"push\"](new CKEDITOR.dom.element(A))}c=b.getDocument();var E=n,C=A=0,J=!d&&new CKEDITOR.dom.documentFragment(c),G=0;for(c=0;c<e.length;c++){g=e[c];var M=g.getParent(),I=g.getFirst(),H=g.$.colSpan,R=g.$.rowSpan,M=M.$.rowIndex,P=h(k,M,g),G=G+H*R,C=Math.max(C,P-q+H);A=Math.max(A,M-n+R);d||(H=g,(R=H.getBogus())&&R.remove(),\nH.trim(),g.getChildren().count()&&(M==E||!I||I.isBlockBoundary&&I.isBlockBoundary({br:1})||(E=J.getLast(CKEDITOR.dom.walker.whitespaces(!0)),!E||E.is&&E.is(\"br\")||J.append(\"br\")),g.moveChildren(J)),c?g.remove():g.setHtml(\"\"));E=M}if(d)return A*C==G;J.moveChildren(b);b.appendBogus();C>=m?b.removeAttribute(\"rowSpan\"):b.$.rowSpan=A;A>=l?b.removeAttribute(\"colSpan\"):b.$.colSpan=C;d=new CKEDITOR.dom.nodeList(f.$.rows);e=d.count();for(c=e-1;0<=c;c--)f=d.getItem(c),f.$.cells.length||(f.remove(),e++);return b}\nfunction g(b,c){var d=a(b);if(1<d.length)return!1;if(c)return!0;var d=d[0],e=d.getParent(),f=e.getAscendant(\"table\"),g=CKEDITOR.tools.buildTableMap(f),k=e.$.rowIndex,l=h(g,k,d),m=d.$.rowSpan,n;if(1<m){n=Math.ceil(m/2);for(var m=Math.floor(m/2),e=k+n,f=new CKEDITOR.dom.element(f.$.rows[e]),g=h(g,e),q,e=d.clone(),k=0;k<g.length;k++)if(q=g[k],q.parentNode==f.$&&k>l){e.insertBefore(new CKEDITOR.dom.element(q));break}else q=null;q||f.append(e)}else for(m=n=1,f=e.clone(),f.insertAfter(e),f.append(e=d.clone()),\nq=h(g,k),l=0;l<q.length;l++)q[l].rowSpan++;e.appendBogus();d.$.rowSpan=n;e.$.rowSpan=m;1==n&&d.removeAttribute(\"rowSpan\");1==m&&e.removeAttribute(\"rowSpan\");return e}function n(b,c){var d=a(b);if(1<d.length)return!1;if(c)return!0;var d=d[0],e=d.getParent(),f=e.getAscendant(\"table\"),f=CKEDITOR.tools.buildTableMap(f),g=h(f,e.$.rowIndex,d),k=d.$.colSpan;if(1<k)e=Math.ceil(k/2),k=Math.floor(k/2);else{for(var k=e=1,l=[],m=0;m<f.length;m++){var n=f[m];l.push(n[g]);1<n[g].rowSpan&&(m+=n[g].rowSpan-1)}for(f=\n0;f<l.length;f++)l[f].colSpan++}f=d.clone();f.insertAfter(d);f.appendBogus();d.$.colSpan=e;f.$.colSpan=k;1==e&&d.removeAttribute(\"colSpan\");1==k&&f.removeAttribute(\"colSpan\");return f}var q=/^(?:td|th)$/;CKEDITOR.plugins.tabletools={requires:\"table,dialog,contextmenu\",init:function(c){function h(a){return CKEDITOR.tools.extend(a||{},{contextSensitive:1,refresh:function(a,b){this.setState(b.contains({td:1,th:1},1)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED)}})}function q(a,b){var d=c.addCommand(a,\nb);c.addFeature(d)}var r=c.lang.table;q(\"cellProperties\",new CKEDITOR.dialogCommand(\"cellProperties\",h({allowedContent:\"td th{width,height,border-color,background-color,white-space,vertical-align,text-align}[colspan,rowspan]\",requiredContent:\"table\",contentTransformations:[[{element:\"td\",left:function(a){return a.styles.background&&a.styles.background.match(/^(#[a-fA-F0-9]{3,6}|rgb\\([\\d, ]+\\)|\\w+)$/)},right:function(a){a.styles[\"background-color\"]=a.styles.background}}]]})));CKEDITOR.dialog.add(\"cellProperties\",\nthis.path+\"dialogs/tableCell.js\");q(\"rowDelete\",h({requiredContent:\"table\",exec:function(a){a=a.getSelection();d(b(a))}}));q(\"rowInsertBefore\",h({requiredContent:\"table\",exec:function(a){a=a.getSelection();f(a,!0)}}));q(\"rowInsertAfter\",h({requiredContent:\"table\",exec:function(a){a=a.getSelection();f(a)}}));q(\"columnDelete\",h({requiredContent:\"table\",exec:function(b){b=b.getSelection();b=a(b);var c=b[0],e=b[b.length-1];b=c.getAscendant(\"table\");for(var f=CKEDITOR.tools.buildTableMap(b),g,h,k=[],l=\n0,m=f.length;l<m;l++)for(var n=0,p=f[l].length;n<p;n++)f[l][n]==c.$&&(g=n),f[l][n]==e.$&&(h=n);for(l=g;l<=h;l++)for(n=0;n<f.length;n++)e=f[n],c=new CKEDITOR.dom.element(b.$.rows[n]),e=new CKEDITOR.dom.element(e[l]),e.$&&(1==e.$.colSpan?e.remove():--e.$.colSpan,n+=e.$.rowSpan-1,c.$.cells.length||k.push(c));h=b.$.rows[0]&&b.$.rows[0].cells;g=new CKEDITOR.dom.element(h[g]||(g?h[g-1]:b.$.parentNode));k.length==m&&b.remove();g&&d(g,!0)}}));q(\"columnInsertBefore\",h({requiredContent:\"table\",exec:function(a){a=\na.getSelection();e(a,!0)}}));q(\"columnInsertAfter\",h({requiredContent:\"table\",exec:function(a){a=a.getSelection();e(a)}}));q(\"cellDelete\",h({requiredContent:\"table\",exec:function(a){a=a.getSelection();l(a)}}));q(\"cellMerge\",h({allowedContent:\"td[colspan,rowspan]\",requiredContent:\"td[colspan,rowspan]\",exec:function(a){d(k(a.getSelection()),!0)}}));q(\"cellMergeRight\",h({allowedContent:\"td[colspan]\",requiredContent:\"td[colspan]\",exec:function(a){d(k(a.getSelection(),\"right\"),!0)}}));q(\"cellMergeDown\",\nh({allowedContent:\"td[rowspan]\",requiredContent:\"td[rowspan]\",exec:function(a){d(k(a.getSelection(),\"down\"),!0)}}));q(\"cellVerticalSplit\",h({allowedContent:\"td[rowspan]\",requiredContent:\"td[rowspan]\",exec:function(a){d(n(a.getSelection()))}}));q(\"cellHorizontalSplit\",h({allowedContent:\"td[colspan]\",requiredContent:\"td[colspan]\",exec:function(a){d(g(a.getSelection()))}}));q(\"cellInsertBefore\",h({requiredContent:\"table\",exec:function(a){a=a.getSelection();m(a,!0)}}));q(\"cellInsertAfter\",h({requiredContent:\"table\",\nexec:function(a){a=a.getSelection();m(a)}}));c.addMenuItems&&c.addMenuItems({tablecell:{label:r.cell.menu,group:\"tablecell\",order:1,getItems:function(){var b=c.getSelection(),d=a(b);return{tablecell_insertBefore:CKEDITOR.TRISTATE_OFF,tablecell_insertAfter:CKEDITOR.TRISTATE_OFF,tablecell_delete:CKEDITOR.TRISTATE_OFF,tablecell_merge:k(b,null,!0)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,tablecell_merge_right:k(b,\"right\",!0)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,tablecell_merge_down:k(b,\n\"down\",!0)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,tablecell_split_vertical:n(b,!0)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,tablecell_split_horizontal:g(b,!0)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,tablecell_properties:0<d.length?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED}}},tablecell_insertBefore:{label:r.cell.insertBefore,group:\"tablecell\",command:\"cellInsertBefore\",order:5},tablecell_insertAfter:{label:r.cell.insertAfter,group:\"tablecell\",command:\"cellInsertAfter\",\norder:10},tablecell_delete:{label:r.cell.deleteCell,group:\"tablecell\",command:\"cellDelete\",order:15},tablecell_merge:{label:r.cell.merge,group:\"tablecell\",command:\"cellMerge\",order:16},tablecell_merge_right:{label:r.cell.mergeRight,group:\"tablecell\",command:\"cellMergeRight\",order:17},tablecell_merge_down:{label:r.cell.mergeDown,group:\"tablecell\",command:\"cellMergeDown\",order:18},tablecell_split_horizontal:{label:r.cell.splitHorizontal,group:\"tablecell\",command:\"cellHorizontalSplit\",order:19},tablecell_split_vertical:{label:r.cell.splitVertical,\ngroup:\"tablecell\",command:\"cellVerticalSplit\",order:20},tablecell_properties:{label:r.cell.title,group:\"tablecellproperties\",command:\"cellProperties\",order:21},tablerow:{label:r.row.menu,group:\"tablerow\",order:1,getItems:function(){return{tablerow_insertBefore:CKEDITOR.TRISTATE_OFF,tablerow_insertAfter:CKEDITOR.TRISTATE_OFF,tablerow_delete:CKEDITOR.TRISTATE_OFF}}},tablerow_insertBefore:{label:r.row.insertBefore,group:\"tablerow\",command:\"rowInsertBefore\",order:5},tablerow_insertAfter:{label:r.row.insertAfter,\ngroup:\"tablerow\",command:\"rowInsertAfter\",order:10},tablerow_delete:{label:r.row.deleteRow,group:\"tablerow\",command:\"rowDelete\",order:15},tablecolumn:{label:r.column.menu,group:\"tablecolumn\",order:1,getItems:function(){return{tablecolumn_insertBefore:CKEDITOR.TRISTATE_OFF,tablecolumn_insertAfter:CKEDITOR.TRISTATE_OFF,tablecolumn_delete:CKEDITOR.TRISTATE_OFF}}},tablecolumn_insertBefore:{label:r.column.insertBefore,group:\"tablecolumn\",command:\"columnInsertBefore\",order:5},tablecolumn_insertAfter:{label:r.column.insertAfter,\ngroup:\"tablecolumn\",command:\"columnInsertAfter\",order:10},tablecolumn_delete:{label:r.column.deleteColumn,group:\"tablecolumn\",command:\"columnDelete\",order:15}});c.contextMenu&&c.contextMenu.addListener(function(a,b,c){return(a=c.contains({td:1,th:1},1))&&!a.isReadOnly()?{tablecell:CKEDITOR.TRISTATE_OFF,tablerow:CKEDITOR.TRISTATE_OFF,tablecolumn:CKEDITOR.TRISTATE_OFF}:null})},getSelectedCells:a};CKEDITOR.plugins.add(\"tabletools\",CKEDITOR.plugins.tabletools)}(),CKEDITOR.tools.buildTableMap=function(a){a=\na.$.rows;for(var f=-1,b=[],c=0;c<a.length;c++){f++;!b[f]&&(b[f]=[]);for(var e=-1,m=0;m<a[c].cells.length;m++){var l=a[c].cells[m];for(e++;b[f][e];)e++;for(var d=isNaN(l.colSpan)?1:l.colSpan,l=isNaN(l.rowSpan)?1:l.rowSpan,h=0;h<l;h++){b[f+h]||(b[f+h]=[]);for(var k=0;k<d;k++)b[f+h][e+k]=a[c].cells[m]}e+=d-1}}return b},function(){function a(a){function b(){for(var g=c(),h=CKEDITOR.tools.clone(a.config.toolbarGroups)||f(a),k=0;k<h.length;k++){var m=h[k];if(\"/\"!=m){\"string\"==typeof m&&(m=h[k]={name:m});\nvar v,r=m.groups;if(r)for(var u=0;u<r.length;u++)v=r[u],(v=g[v])&&d(m,v);(v=g[m.name])&&d(m,v)}}return h}function c(){var b={},d,f,g;for(d in a.ui.items)f=a.ui.items[d],g=f.toolbar||\"others\",g=g.split(\",\"),f=g[0],g=parseInt(g[1]||-1,10),b[f]||(b[f]=[]),b[f].push({name:d,order:g});for(f in b)b[f]=b[f].sort(function(a,b){return a.order==b.order?0:0>b.order?-1:0>a.order?1:a.order<b.order?-1:1});return b}function d(b,c){if(c.length){b.items?b.items.push(a.ui.create(\"-\")):b.items=[];for(var d;d=c.shift();)d=\n\"string\"==typeof d?d:d.name,k&&-1!=CKEDITOR.tools.indexOf(k,d)||(d=a.ui.create(d))&&a.addFeature(d)&&b.items.push(d)}}function h(a){var b=[],c,e,f;for(c=0;c<a.length;++c)e=a[c],f={},\"/\"==e?b.push(e):CKEDITOR.tools.isArray(e)?(d(f,CKEDITOR.tools.clone(e)),b.push(f)):e.items&&(d(f,CKEDITOR.tools.clone(e.items)),f.name=e.name,b.push(f));return b}var k=a.config.removeButtons,k=k&&k.split(\",\"),g=a.config.toolbar;\"string\"==typeof g&&(g=a.config[\"toolbar_\"+g]);return a.toolbar=g?h(g):b()}function f(a){return a._.toolbarGroups||\n(a._.toolbarGroups=[{name:\"document\",groups:[\"mode\",\"document\",\"doctools\"]},{name:\"clipboard\",groups:[\"clipboard\",\"undo\"]},{name:\"editing\",groups:[\"find\",\"selection\",\"spellchecker\"]},{name:\"forms\"},\"/\",{name:\"basicstyles\",groups:[\"basicstyles\",\"cleanup\"]},{name:\"paragraph\",groups:[\"list\",\"indent\",\"blocks\",\"align\",\"bidi\"]},{name:\"links\"},{name:\"insert\"},\"/\",{name:\"styles\"},{name:\"colors\"},{name:\"tools\"},{name:\"others\"},{name:\"about\"}])}var b=function(){this.toolbars=[];this.focusCommandExecuted=!1};\nb.prototype.focus=function(){for(var a=0,b;b=this.toolbars[a++];)for(var c=0,d;d=b.items[c++];)if(d.focus){d.focus();return}};var c={modes:{wysiwyg:1,source:1},readOnly:1,exec:function(a){a.toolbox&&(a.toolbox.focusCommandExecuted=!0,CKEDITOR.env.ie||CKEDITOR.env.air?setTimeout(function(){a.toolbox.focus()},100):a.toolbox.focus())}};CKEDITOR.plugins.add(\"toolbar\",{requires:\"button\",init:function(e){var f,l=function(a,b){var c,g=\"rtl\"==e.lang.dir,n=e.config.toolbarGroupCycling,q=g?37:39,g=g?39:37,\nn=void 0===n||n;switch(b){case 9:case CKEDITOR.SHIFT+9:for(;!c||!c.items.length;)if(c=9==b?(c?c.next:a.toolbar.next)||e.toolbox.toolbars[0]:(c?c.previous:a.toolbar.previous)||e.toolbox.toolbars[e.toolbox.toolbars.length-1],c.items.length)for(a=c.items[f?c.items.length-1:0];a&&!a.focus;)(a=f?a.previous:a.next)||(c=0);a&&a.focus();return!1;case q:c=a;do c=c.next,!c&&n&&(c=a.toolbar.items[0]);while(c&&!c.focus);c?c.focus():l(a,9);return!1;case 40:return a.button&&a.button.hasArrow?(e.once(\"panelShow\",\nfunction(a){a.data._.panel._.currentBlock.onKeyDown(40)}),a.execute()):l(a,40==b?q:g),!1;case g:case 38:c=a;do c=c.previous,!c&&n&&(c=a.toolbar.items[a.toolbar.items.length-1]);while(c&&!c.focus);c?c.focus():(f=1,l(a,CKEDITOR.SHIFT+9),f=0);return!1;case 27:return e.focus(),!1;case 13:case 32:return a.execute(),!1}return!0};e.on(\"uiSpace\",function(c){if(c.data.space==e.config.toolbarLocation){c.removeListener();e.toolbox=new b;var f=CKEDITOR.tools.getNextId(),k=['\\x3cspan id\\x3d\"',f,'\" class\\x3d\"cke_voice_label\"\\x3e',\ne.lang.toolbar.toolbars,\"\\x3c/span\\x3e\",'\\x3cspan id\\x3d\"'+e.ui.spaceId(\"toolbox\")+'\" class\\x3d\"cke_toolbox\" role\\x3d\"group\" aria-labelledby\\x3d\"',f,'\" onmousedown\\x3d\"return false;\"\\x3e'],f=!1!==e.config.toolbarStartupExpanded,g,m;e.config.toolbarCanCollapse&&e.elementMode!=CKEDITOR.ELEMENT_MODE_INLINE&&k.push('\\x3cspan class\\x3d\"cke_toolbox_main\"'+(f?\"\\x3e\":' style\\x3d\"display:none\"\\x3e'));for(var q=e.toolbox.toolbars,p=a(e),t=p.length,v=0;v<t;v++){var r,u=0,B,x=p[v],w=\"/\"!==x&&(\"/\"===p[v+1]||v==\nt-1),z;if(x)if(g&&(k.push(\"\\x3c/span\\x3e\"),m=g=0),\"/\"===x)k.push('\\x3cspan class\\x3d\"cke_toolbar_break\"\\x3e\\x3c/span\\x3e');else{z=x.items||x;for(var D=0;D<z.length;D++){var y=z[D],A;if(y){var C=function(a){a=a.render(e,k);F=u.items.push(a)-1;0<F&&(a.previous=u.items[F-1],a.previous.next=a);a.toolbar=u;a.onkey=l;a.onfocus=function(){e.toolbox.focusCommandExecuted||e.focus()}};if(y.type==CKEDITOR.UI_SEPARATOR)m=g&&y;else{A=!1!==y.canGroup;if(!u){r=CKEDITOR.tools.getNextId();u={id:r,items:[]};B=x.name&&\n(e.lang.toolbar.toolbarGroups[x.name]||x.name);k.push('\\x3cspan id\\x3d\"',r,'\" class\\x3d\"cke_toolbar'+(w?' cke_toolbar_last\"':'\"'),B?' aria-labelledby\\x3d\"'+r+'_label\"':\"\",' role\\x3d\"toolbar\"\\x3e');B&&k.push('\\x3cspan id\\x3d\"',r,'_label\" class\\x3d\"cke_voice_label\"\\x3e',B,\"\\x3c/span\\x3e\");k.push('\\x3cspan class\\x3d\"cke_toolbar_start\"\\x3e\\x3c/span\\x3e');var F=q.push(u)-1;0<F&&(u.previous=q[F-1],u.previous.next=u)}A?g||(k.push('\\x3cspan class\\x3d\"cke_toolgroup\" role\\x3d\"presentation\"\\x3e'),g=1):g&&(k.push(\"\\x3c/span\\x3e\"),\ng=0);m&&(C(m),m=0);C(y)}}}g&&(k.push(\"\\x3c/span\\x3e\"),m=g=0);u&&k.push('\\x3cspan class\\x3d\"cke_toolbar_end\"\\x3e\\x3c/span\\x3e\\x3c/span\\x3e')}}e.config.toolbarCanCollapse&&k.push(\"\\x3c/span\\x3e\");if(e.config.toolbarCanCollapse&&e.elementMode!=CKEDITOR.ELEMENT_MODE_INLINE){var E=CKEDITOR.tools.addFunction(function(){e.execCommand(\"toolbarCollapse\")});e.on(\"destroy\",function(){CKEDITOR.tools.removeFunction(E)});e.addCommand(\"toolbarCollapse\",{readOnly:1,exec:function(a){var b=a.ui.space(\"toolbar_collapser\"),\nc=b.getPrevious(),d=a.ui.space(\"contents\"),e=c.getParent(),f=parseInt(d.$.style.height,10),g=e.$.offsetHeight,h=b.hasClass(\"cke_toolbox_collapser_min\");h?(c.show(),b.removeClass(\"cke_toolbox_collapser_min\"),b.setAttribute(\"title\",a.lang.toolbar.toolbarCollapse)):(c.hide(),b.addClass(\"cke_toolbox_collapser_min\"),b.setAttribute(\"title\",a.lang.toolbar.toolbarExpand));b.getFirst().setText(h?\"▲\":\"◀\");d.setStyle(\"height\",f-(e.$.offsetHeight-g)+\"px\");a.fire(\"resize\",{outerHeight:a.container.$.offsetHeight,\ncontentsHeight:d.$.offsetHeight,outerWidth:a.container.$.offsetWidth})},modes:{wysiwyg:1,source:1}});e.setKeystroke(CKEDITOR.ALT+(CKEDITOR.env.ie||CKEDITOR.env.webkit?189:109),\"toolbarCollapse\");k.push('\\x3ca title\\x3d\"'+(f?e.lang.toolbar.toolbarCollapse:e.lang.toolbar.toolbarExpand)+'\" id\\x3d\"'+e.ui.spaceId(\"toolbar_collapser\")+'\" tabIndex\\x3d\"-1\" class\\x3d\"cke_toolbox_collapser');f||k.push(\" cke_toolbox_collapser_min\");k.push('\" onclick\\x3d\"CKEDITOR.tools.callFunction('+E+')\"\\x3e','\\x3cspan class\\x3d\"cke_arrow\"\\x3e\\x26#9650;\\x3c/span\\x3e',\n\"\\x3c/a\\x3e\")}k.push(\"\\x3c/span\\x3e\");c.data.html+=k.join(\"\")}});e.on(\"destroy\",function(){if(this.toolbox){var a,b=0,c,e,f;for(a=this.toolbox.toolbars;b<a.length;b++)for(e=a[b].items,c=0;c<e.length;c++)f=e[c],f.clickFn&&CKEDITOR.tools.removeFunction(f.clickFn),f.keyDownFn&&CKEDITOR.tools.removeFunction(f.keyDownFn)}});e.on(\"uiReady\",function(){var a=e.ui.space(\"toolbox\");a&&e.focusManager.add(a,1)});e.addCommand(\"toolbarFocus\",c);e.setKeystroke(CKEDITOR.ALT+121,\"toolbarFocus\");e.ui.add(\"-\",CKEDITOR.UI_SEPARATOR,\n{});e.ui.addHandler(CKEDITOR.UI_SEPARATOR,{create:function(){return{render:function(a,b){b.push('\\x3cspan class\\x3d\"cke_toolbar_separator\" role\\x3d\"separator\"\\x3e\\x3c/span\\x3e');return{}}}}})}});CKEDITOR.ui.prototype.addToolbarGroup=function(a,b,c){var d=f(this.editor),h=0===b,k={name:a};if(c){if(c=CKEDITOR.tools.search(d,function(a){return a.name==c})){!c.groups&&(c.groups=[]);if(b&&(b=CKEDITOR.tools.indexOf(c.groups,b),0<=b)){c.groups.splice(b+1,0,a);return}h?c.groups.splice(0,0,a):c.groups.push(a);\nreturn}b=null}b&&(b=CKEDITOR.tools.indexOf(d,function(a){return a.name==b}));h?d.splice(0,0,a):\"number\"==typeof b?d.splice(b+1,0,k):d.push(a)}}(),CKEDITOR.UI_SEPARATOR=\"separator\",CKEDITOR.config.toolbarLocation=\"top\",\"use strict\",function(){var a=[CKEDITOR.CTRL+90,CKEDITOR.CTRL+89,CKEDITOR.CTRL+CKEDITOR.SHIFT+90],f={8:1,46:1};CKEDITOR.plugins.add(\"undo\",{init:function(c){function e(a){g.enabled&&!1!==a.data.command.canUndo&&g.save()}function f(){g.enabled=c.readOnly?!1:\"wysiwyg\"==c.mode;g.onChange()}\nvar g=c.undoManager=new b(c),l=g.editingHandler=new m(g),q=c.addCommand(\"undo\",{exec:function(){g.undo()&&(c.selectionChange(),this.fire(\"afterUndo\"))},startDisabled:!0,canUndo:!1}),p=c.addCommand(\"redo\",{exec:function(){g.redo()&&(c.selectionChange(),this.fire(\"afterRedo\"))},startDisabled:!0,canUndo:!1});c.setKeystroke([[a[0],\"undo\"],[a[1],\"redo\"],[a[2],\"redo\"]]);g.onChange=function(){q.setState(g.undoable()?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED);p.setState(g.redoable()?CKEDITOR.TRISTATE_OFF:\nCKEDITOR.TRISTATE_DISABLED)};c.on(\"beforeCommandExec\",e);c.on(\"afterCommandExec\",e);c.on(\"saveSnapshot\",function(a){g.save(a.data&&a.data.contentOnly)});c.on(\"contentDom\",l.attachListeners,l);c.on(\"instanceReady\",function(){c.fire(\"saveSnapshot\")});c.on(\"beforeModeUnload\",function(){\"wysiwyg\"==c.mode&&g.save(!0)});c.on(\"mode\",f);c.on(\"readOnly\",f);c.ui.addButton&&(c.ui.addButton(\"Undo\",{label:c.lang.undo.undo,command:\"undo\",toolbar:\"undo,10\"}),c.ui.addButton(\"Redo\",{label:c.lang.undo.redo,command:\"redo\",\ntoolbar:\"undo,20\"}));c.resetUndo=function(){g.reset();c.fire(\"saveSnapshot\")};c.on(\"updateSnapshot\",function(){g.currentImage&&g.update()});c.on(\"lockSnapshot\",function(a){a=a.data;g.lock(a&&a.dontUpdate,a&&a.forceUpdate)});c.on(\"unlockSnapshot\",g.unlock,g)}});CKEDITOR.plugins.undo={};var b=CKEDITOR.plugins.undo.UndoManager=function(a){this.strokesRecorded=[0,0];this.locked=null;this.previousKeyGroup=-1;this.limit=a.config.undoStackSize||20;this.strokesLimit=25;this.editor=a;this.reset()};b.prototype=\n{type:function(a,c){var e=b.getKeyGroup(a),f=this.strokesRecorded[e]+1;c=c||f>=this.strokesLimit;this.typing||(this.hasUndo=this.typing=!0,this.hasRedo=!1,this.onChange());c?(f=0,this.editor.fire(\"saveSnapshot\")):this.editor.fire(\"change\");this.strokesRecorded[e]=f;this.previousKeyGroup=e},keyGroupChanged:function(a){return b.getKeyGroup(a)!=this.previousKeyGroup},reset:function(){this.snapshots=[];this.index=-1;this.currentImage=null;this.hasRedo=this.hasUndo=!1;this.locked=null;this.resetType()},\nresetType:function(){this.strokesRecorded=[0,0];this.typing=!1;this.previousKeyGroup=-1},refreshState:function(){this.hasUndo=!!this.getNextImage(!0);this.hasRedo=!!this.getNextImage(!1);this.resetType();this.onChange()},save:function(a,b,e){var f=this.editor;if(this.locked||\"ready\"!=f.status||\"wysiwyg\"!=f.mode)return!1;var l=f.editable();if(!l||\"ready\"!=l.status)return!1;l=this.snapshots;b||(b=new c(f));if(!1===b.contents)return!1;if(this.currentImage)if(b.equalsContent(this.currentImage)){if(a||\nb.equalsSelection(this.currentImage))return!1}else!1!==e&&f.fire(\"change\");l.splice(this.index+1,l.length-this.index-1);l.length==this.limit&&l.shift();this.index=l.push(b)-1;this.currentImage=b;!1!==e&&this.refreshState();return!0},restoreImage:function(a){var b=this.editor,c;a.bookmarks&&(b.focus(),c=b.getSelection());this.locked={level:999};this.editor.loadSnapshot(a.contents);a.bookmarks?c.selectBookmarks(a.bookmarks):CKEDITOR.env.ie&&(c=this.editor.document.getBody().$.createTextRange(),c.collapse(!0),\nc.select());this.locked=null;this.index=a.index;this.currentImage=this.snapshots[this.index];this.update();this.refreshState();b.fire(\"change\")},getNextImage:function(a){var b=this.snapshots,c=this.currentImage,e;if(c)if(a)for(e=this.index-1;0<=e;e--){if(a=b[e],!c.equalsContent(a))return a.index=e,a}else for(e=this.index+1;e<b.length;e++)if(a=b[e],!c.equalsContent(a))return a.index=e,a;return null},redoable:function(){return this.enabled&&this.hasRedo},undoable:function(){return this.enabled&&this.hasUndo},\nundo:function(){if(this.undoable()){this.save(!0);var a=this.getNextImage(!0);if(a)return this.restoreImage(a),!0}return!1},redo:function(){if(this.redoable()&&(this.save(!0),this.redoable())){var a=this.getNextImage(!1);if(a)return this.restoreImage(a),!0}return!1},update:function(a){if(!this.locked){a||(a=new c(this.editor));for(var b=this.index,e=this.snapshots;0<b&&this.currentImage.equalsContent(e[b-1]);)--b;e.splice(b,this.index-b+1,a);this.index=b;this.currentImage=a}},updateSelection:function(a){if(!this.snapshots.length)return!1;\nvar b=this.snapshots,c=b[b.length-1];return c.equalsContent(a)&&!c.equalsSelection(a)?(this.currentImage=b[b.length-1]=a,!0):!1},lock:function(a,b){if(this.locked)this.locked.level++;else if(a)this.locked={level:1};else{var e=null;if(b)e=!0;else{var f=new c(this.editor,!0);this.currentImage&&this.currentImage.equalsContent(f)&&(e=f)}this.locked={update:e,level:1}}},unlock:function(){if(this.locked&&!--this.locked.level){var a=this.locked.update;this.locked=null;if(!0===a)this.update();else if(a){var b=\nnew c(this.editor,!0);a.equalsContent(b)||this.update()}}}};b.navigationKeyCodes={37:1,38:1,39:1,40:1,36:1,35:1,33:1,34:1};b.keyGroups={PRINTABLE:0,FUNCTIONAL:1};b.isNavigationKey=function(a){return!!b.navigationKeyCodes[a]};b.getKeyGroup=function(a){var c=b.keyGroups;return f[a]?c.FUNCTIONAL:c.PRINTABLE};b.getOppositeKeyGroup=function(a){var c=b.keyGroups;return a==c.FUNCTIONAL?c.PRINTABLE:c.FUNCTIONAL};b.ieFunctionalKeysBug=function(a){return CKEDITOR.env.ie&&b.getKeyGroup(a)==b.keyGroups.FUNCTIONAL};\nvar c=CKEDITOR.plugins.undo.Image=function(a,b){this.editor=a;a.fire(\"beforeUndoImage\");var c=a.getSnapshot();CKEDITOR.env.ie&&c&&(c=c.replace(/\\s+data-cke-expando=\".*?\"/g,\"\"));this.contents=c;b||(this.bookmarks=(c=c&&a.getSelection())&&c.createBookmarks2(!0));a.fire(\"afterUndoImage\")},e=/\\b(?:href|src|name)=\"[^\"]*?\"/gi;c.prototype={equalsContent:function(a){var b=this.contents;a=a.contents;CKEDITOR.env.ie&&(CKEDITOR.env.ie7Compat||CKEDITOR.env.quirks)&&(b=b.replace(e,\"\"),a=a.replace(e,\"\"));return b!=\na?!1:!0},equalsSelection:function(a){var b=this.bookmarks;a=a.bookmarks;if(b||a){if(!b||!a||b.length!=a.length)return!1;for(var c=0;c<b.length;c++){var e=b[c],f=a[c];if(e.startOffset!=f.startOffset||e.endOffset!=f.endOffset||!CKEDITOR.tools.arrayCompare(e.start,f.start)||!CKEDITOR.tools.arrayCompare(e.end,f.end))return!1}}return!0}};var m=CKEDITOR.plugins.undo.NativeEditingHandler=function(a){this.undoManager=a;this.ignoreInputEvent=!1;this.keyEventsStack=new l;this.lastKeydownImage=null};m.prototype=\n{onKeydown:function(d){var e=d.data.getKey();if(229!==e)if(-1<CKEDITOR.tools.indexOf(a,d.data.getKeystroke()))d.data.preventDefault();else if(this.keyEventsStack.cleanUp(d),d=this.undoManager,this.keyEventsStack.getLast(e)||this.keyEventsStack.push(e),this.lastKeydownImage=new c(d.editor),b.isNavigationKey(e)||this.undoManager.keyGroupChanged(e))if(d.strokesRecorded[0]||d.strokesRecorded[1])d.save(!1,this.lastKeydownImage,!1),d.resetType()},onInput:function(){if(this.ignoreInputEvent)this.ignoreInputEvent=\n!1;else{var a=this.keyEventsStack.getLast();a||(a=this.keyEventsStack.push(0));this.keyEventsStack.increment(a.keyCode);this.keyEventsStack.getTotalInputs()>=this.undoManager.strokesLimit&&(this.undoManager.type(a.keyCode,!0),this.keyEventsStack.resetInputs())}},onKeyup:function(a){var e=this.undoManager;a=a.data.getKey();var f=this.keyEventsStack.getTotalInputs();this.keyEventsStack.remove(a);if(!(b.ieFunctionalKeysBug(a)&&this.lastKeydownImage&&this.lastKeydownImage.equalsContent(new c(e.editor,\n!0))))if(0<f)e.type(a);else if(b.isNavigationKey(a))this.onNavigationKey(!0)},onNavigationKey:function(a){var b=this.undoManager;!a&&b.save(!0,null,!1)||b.updateSelection(new c(b.editor));b.resetType()},ignoreInputEventListener:function(){this.ignoreInputEvent=!0},attachListeners:function(){var a=this.undoManager.editor,c=a.editable(),e=this;c.attachListener(c,\"keydown\",function(a){e.onKeydown(a);if(b.ieFunctionalKeysBug(a.data.getKey()))e.onInput()},null,null,999);c.attachListener(c,CKEDITOR.env.ie?\n\"keypress\":\"input\",e.onInput,e,null,999);c.attachListener(c,\"keyup\",e.onKeyup,e,null,999);c.attachListener(c,\"paste\",e.ignoreInputEventListener,e,null,999);c.attachListener(c,\"drop\",e.ignoreInputEventListener,e,null,999);c.attachListener(c.isInline()?c:a.document.getDocumentElement(),\"click\",function(){e.onNavigationKey()},null,null,999);c.attachListener(this.undoManager.editor,\"blur\",function(){e.keyEventsStack.remove(9)},null,null,999)}};var l=CKEDITOR.plugins.undo.KeyEventsStack=function(){this.stack=\n[]};l.prototype={push:function(a){a=this.stack.push({keyCode:a,inputs:0});return this.stack[a-1]},getLastIndex:function(a){if(\"number\"!=typeof a)return this.stack.length-1;for(var b=this.stack.length;b--;)if(this.stack[b].keyCode==a)return b;return-1},getLast:function(a){a=this.getLastIndex(a);return-1!=a?this.stack[a]:null},increment:function(a){this.getLast(a).inputs++},remove:function(a){a=this.getLastIndex(a);-1!=a&&this.stack.splice(a,1)},resetInputs:function(a){if(\"number\"==typeof a)this.getLast(a).inputs=\n0;else for(a=this.stack.length;a--;)this.stack[a].inputs=0},getTotalInputs:function(){for(var a=this.stack.length,b=0;a--;)b+=this.stack[a].inputs;return b},cleanUp:function(a){a=a.data.$;a.ctrlKey||a.metaKey||this.remove(17);a.shiftKey||this.remove(16);a.altKey||this.remove(18)}}}(),CKEDITOR.plugins.add(\"wsc\",{requires:\"dialog\",parseApi:function(a){a.config.wsc_onFinish=\"function\"===typeof a.config.wsc_onFinish?a.config.wsc_onFinish:function(){};a.config.wsc_onClose=\"function\"===typeof a.config.wsc_onClose?\na.config.wsc_onClose:function(){}},parseConfig:function(a){a.config.wsc_customerId=a.config.wsc_customerId||CKEDITOR.config.wsc_customerId||\"1:ua3xw1-2XyGJ3-GWruD3-6OFNT1-oXcuB1-nR6Bp4-hgQHc-EcYng3-sdRXG3-NOfFk\";a.config.wsc_customDictionaryIds=a.config.wsc_customDictionaryIds||CKEDITOR.config.wsc_customDictionaryIds||\"\";a.config.wsc_userDictionaryName=a.config.wsc_userDictionaryName||CKEDITOR.config.wsc_userDictionaryName||\"\";a.config.wsc_customLoaderScript=a.config.wsc_customLoaderScript||CKEDITOR.config.wsc_customLoaderScript;\na.config.wsc_interfaceLang=a.config.wsc_interfaceLang;CKEDITOR.config.wsc_cmd=a.config.wsc_cmd||CKEDITOR.config.wsc_cmd||\"spell\";CKEDITOR.config.wsc_version=\"v4.3.0-master-d769233\";CKEDITOR.config.wsc_removeGlobalVariable=!0},onLoad:function(a){\"moono-lisa\"==(CKEDITOR.skinName||a.config.skin)&&CKEDITOR.document.appendStyleSheet(this.path+\"skins/\"+CKEDITOR.skin.name+\"/wsc.css\")},init:function(a){var f=CKEDITOR.env;this.parseConfig(a);this.parseApi(a);a.addCommand(\"checkspell\",new CKEDITOR.dialogCommand(\"checkspell\")).modes=\n{wysiwyg:!CKEDITOR.env.opera&&!CKEDITOR.env.air&&document.domain==window.location.hostname&&!(f.ie&&(8>f.version||f.quirks))};\"undefined\"==typeof a.plugins.scayt&&a.ui.addButton&&a.ui.addButton(\"SpellChecker\",{label:a.lang.wsc.toolbar,click:function(a){var c=a.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?a.container.getText():a.document.getBody().getText();(c=c.replace(/\\s/g,\"\"))?a.execCommand(\"checkspell\"):alert(\"Nothing to check!\")},toolbar:\"spellchecker,10\"});CKEDITOR.dialog.add(\"checkspell\",this.path+\n(CKEDITOR.env.ie&&7>=CKEDITOR.env.version?\"dialogs/wsc_ie.js\":window.postMessage?\"dialogs/wsc.js\":\"dialogs/wsc_ie.js\"))}}),function(){function a(a){function b(a){var c=!1;g.attachListener(g,\"keydown\",function(){var b=d.getBody().getElementsByTag(a);if(!c){for(var e=0;e<b.count();e++)b.getItem(e).setCustomData(\"retain\",!0);c=!0}},null,null,1);g.attachListener(g,\"keyup\",function(){var b=d.getElementsByTag(a);c&&(1!=b.count()||b.getItem(0).getCustomData(\"retain\")||b.getItem(0).hasAttribute(\"data-cke-temp\")||\nb.getItem(0).remove(1),c=!1)})}var c=this.editor,d=a.document,h=d.body,k=d.getElementById(\"cke_actscrpt\");k&&k.parentNode.removeChild(k);(k=d.getElementById(\"cke_shimscrpt\"))&&k.parentNode.removeChild(k);(k=d.getElementById(\"cke_basetagscrpt\"))&&k.parentNode.removeChild(k);h.contentEditable=!0;CKEDITOR.env.ie&&(h.hideFocus=!0,h.disabled=!0,h.removeAttribute(\"disabled\"));delete this._.isLoadingData;this.$=h;d=new CKEDITOR.dom.document(d);this.setup();this.fixInitialSelection();var g=this;CKEDITOR.env.ie&&\n!CKEDITOR.env.edge&&d.getDocumentElement().addClass(d.$.compatMode);CKEDITOR.env.ie&&!CKEDITOR.env.edge&&c.enterMode!=CKEDITOR.ENTER_P?b(\"p\"):CKEDITOR.env.edge&&c.enterMode!=CKEDITOR.ENTER_DIV&&b(\"div\");if(CKEDITOR.env.webkit||CKEDITOR.env.ie&&10<CKEDITOR.env.version)d.getDocumentElement().on(\"mousedown\",function(a){a.data.getTarget().is(\"html\")&&setTimeout(function(){c.editable().focus()})});f(c);try{c.document.$.execCommand(\"2D-position\",!1,!0)}catch(n){}(CKEDITOR.env.gecko||CKEDITOR.env.ie&&\"CSS1Compat\"==\nc.document.$.compatMode)&&this.attachListener(this,\"keydown\",function(a){var b=a.data.getKeystroke();if(33==b||34==b)if(CKEDITOR.env.ie)setTimeout(function(){c.getSelection().scrollIntoView()},0);else if(c.window.$.innerHeight>this.$.offsetHeight){var d=c.createRange();d[33==b?\"moveToElementEditStart\":\"moveToElementEditEnd\"](this);d.select();a.data.preventDefault()}});CKEDITOR.env.ie&&this.attachListener(d,\"blur\",function(){try{d.$.selection.empty()}catch(a){}});CKEDITOR.env.iOS&&this.attachListener(d,\n\"touchend\",function(){a.focus()});h=c.document.getElementsByTag(\"title\").getItem(0);h.data(\"cke-title\",h.getText());CKEDITOR.env.ie&&(c.document.$.title=this._.docTitle);CKEDITOR.tools.setTimeout(function(){\"unloaded\"==this.status&&(this.status=\"ready\");c.fire(\"contentDom\");this._.isPendingFocus&&(c.focus(),this._.isPendingFocus=!1);setTimeout(function(){c.fire(\"dataReady\")},0)},0,this)}function f(a){function b(){var d;a.editable().attachListener(a,\"selectionChange\",function(){var b=a.getSelection().getSelectedElement();\nb&&(d&&(d.detachEvent(\"onresizestart\",c),d=null),b.$.attachEvent(\"onresizestart\",c),d=b.$)})}function c(a){a.returnValue=!1}if(CKEDITOR.env.gecko)try{var d=a.document.$;d.execCommand(\"enableObjectResizing\",!1,!a.config.disableObjectResizing);d.execCommand(\"enableInlineTableEditing\",!1,!a.config.disableNativeTableHandles)}catch(f){}else CKEDITOR.env.ie&&11>CKEDITOR.env.version&&a.config.disableObjectResizing&&b(a)}function b(){var a=[];if(8<=CKEDITOR.document.$.documentMode){a.push(\"html.CSS1Compat [contenteditable\\x3dfalse]{min-height:0 !important}\");\nvar b=[],c;for(c in CKEDITOR.dtd.$removeEmpty)b.push(\"html.CSS1Compat \"+c+\"[contenteditable\\x3dfalse]\");a.push(b.join(\",\")+\"{display:inline-block}\")}else CKEDITOR.env.gecko&&(a.push(\"html{height:100% !important}\"),a.push(\"img:-moz-broken{-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}\"));a.push(\"html{cursor:text;*cursor:auto}\");a.push(\"img,input,textarea{cursor:default}\");return a.join(\"\\n\")}var c;CKEDITOR.plugins.add(\"wysiwygarea\",{init:function(a){a.config.fullPage&&a.addFeature({allowedContent:\"html head title; style [media,type]; body (*)[id]; meta link [*]\",\nrequiredContent:\"body\"});a.addMode(\"wysiwyg\",function(b){function f(d){d&&d.removeListener();a.editable(new c(a,h.$.contentWindow.document.body));a.setData(a.getData(1),b)}var d=\"document.open();\"+(CKEDITOR.env.ie?\"(\"+CKEDITOR.tools.fixDomain+\")();\":\"\")+\"document.close();\",d=CKEDITOR.env.air?\"javascript:void(0)\":CKEDITOR.env.ie&&!CKEDITOR.env.edge?\"javascript:void(function(){\"+encodeURIComponent(d)+\"}())\":\"\",h=CKEDITOR.dom.element.createFromHtml('\\x3ciframe src\\x3d\"'+d+'\" frameBorder\\x3d\"0\"\\x3e\\x3c/iframe\\x3e');\nh.setStyles({width:\"100%\",height:\"100%\"});h.addClass(\"cke_wysiwyg_frame\").addClass(\"cke_reset\");d=a.ui.space(\"contents\");d.append(h);var k=CKEDITOR.env.ie&&!CKEDITOR.env.edge||CKEDITOR.env.gecko;if(k)h.on(\"load\",f);var g=a.title,n=a.fire(\"ariaEditorHelpLabel\",{}).label;g&&(CKEDITOR.env.ie&&n&&(g+=\", \"+n),h.setAttribute(\"title\",g));if(n){var g=CKEDITOR.tools.getNextId(),q=CKEDITOR.dom.element.createFromHtml('\\x3cspan id\\x3d\"'+g+'\" class\\x3d\"cke_voice_label\"\\x3e'+n+\"\\x3c/span\\x3e\");d.append(q,1);h.setAttribute(\"aria-describedby\",\ng)}a.on(\"beforeModeUnload\",function(a){a.removeListener();q&&q.remove()});h.setAttributes({tabIndex:a.tabIndex,allowTransparency:\"true\"});!k&&f();a.fire(\"ariaWidget\",h)})}});CKEDITOR.editor.prototype.addContentsCss=function(a){var b=this.config,c=b.contentsCss;CKEDITOR.tools.isArray(c)||(b.contentsCss=c?[c]:[]);b.contentsCss.push(a)};c=CKEDITOR.tools.createClass({$:function(){this.base.apply(this,arguments);this._.frameLoadedHandler=CKEDITOR.tools.addFunction(function(b){CKEDITOR.tools.setTimeout(a,\n0,this,b)},this);this._.docTitle=this.getWindow().getFrame().getAttribute(\"title\")},base:CKEDITOR.editable,proto:{setData:function(a,c){var f=this.editor;if(c)this.setHtml(a),this.fixInitialSelection(),f.fire(\"dataReady\");else{this._.isLoadingData=!0;f._.dataStore={id:1};var d=f.config,h=d.fullPage,k=d.docType,g=CKEDITOR.tools.buildStyleHtml(b()).replace(/<style>/,'\\x3cstyle data-cke-temp\\x3d\"1\"\\x3e');h||(g+=CKEDITOR.tools.buildStyleHtml(f.config.contentsCss));var n=d.baseHref?'\\x3cbase href\\x3d\"'+\nd.baseHref+'\" data-cke-temp\\x3d\"1\" /\\x3e':\"\";h&&(a=a.replace(/<!DOCTYPE[^>]*>/i,function(a){f.docType=k=a;return\"\"}).replace(/<\\?xml\\s[^\\?]*\\?>/i,function(a){f.xmlDeclaration=a;return\"\"}));a=f.dataProcessor.toHtml(a);h?(/<body[\\s|>]/.test(a)||(a=\"\\x3cbody\\x3e\"+a),/<html[\\s|>]/.test(a)||(a=\"\\x3chtml\\x3e\"+a+\"\\x3c/html\\x3e\"),/<head[\\s|>]/.test(a)?/<title[\\s|>]/.test(a)||(a=a.replace(/<head[^>]*>/,\"$\\x26\\x3ctitle\\x3e\\x3c/title\\x3e\")):a=a.replace(/<html[^>]*>/,\"$\\x26\\x3chead\\x3e\\x3ctitle\\x3e\\x3c/title\\x3e\\x3c/head\\x3e\"),\nn&&(a=a.replace(/<head[^>]*?>/,\"$\\x26\"+n)),a=a.replace(/<\\/head\\s*>/,g+\"$\\x26\"),a=k+a):a=d.docType+'\\x3chtml dir\\x3d\"'+d.contentsLangDirection+'\" lang\\x3d\"'+(d.contentsLanguage||f.langCode)+'\"\\x3e\\x3chead\\x3e\\x3ctitle\\x3e'+this._.docTitle+\"\\x3c/title\\x3e\"+n+g+\"\\x3c/head\\x3e\\x3cbody\"+(d.bodyId?' id\\x3d\"'+d.bodyId+'\"':\"\")+(d.bodyClass?' class\\x3d\"'+d.bodyClass+'\"':\"\")+\"\\x3e\"+a+\"\\x3c/body\\x3e\\x3c/html\\x3e\";CKEDITOR.env.gecko&&(a=a.replace(/<body/,'\\x3cbody contenteditable\\x3d\"true\" '),2E4>CKEDITOR.env.version&&\n(a=a.replace(/<body[^>]*>/,\"$\\x26\\x3c!-- cke-content-start --\\x3e\")));d='\\x3cscript id\\x3d\"cke_actscrpt\" type\\x3d\"text/javascript\"'+(CKEDITOR.env.ie?' defer\\x3d\"defer\" ':\"\")+\"\\x3evar wasLoaded\\x3d0;function onload(){if(!wasLoaded)window.parent.CKEDITOR.tools.callFunction(\"+this._.frameLoadedHandler+\",window);wasLoaded\\x3d1;}\"+(CKEDITOR.env.ie?\"onload();\":'document.addEventListener(\"DOMContentLoaded\", onload, false );')+\"\\x3c/script\\x3e\";CKEDITOR.env.ie&&9>CKEDITOR.env.version&&(d+='\\x3cscript id\\x3d\"cke_shimscrpt\"\\x3ewindow.parent.CKEDITOR.tools.enableHtml5Elements(document)\\x3c/script\\x3e');\nn&&CKEDITOR.env.ie&&10>CKEDITOR.env.version&&(d+='\\x3cscript id\\x3d\"cke_basetagscrpt\"\\x3evar baseTag \\x3d document.querySelector( \"base\" );baseTag.href \\x3d baseTag.href;\\x3c/script\\x3e');a=a.replace(/(?=\\s*<\\/(:?head)>)/,d);this.clearCustomData();this.clearListeners();f.fire(\"contentDomUnload\");var q=this.getDocument();try{q.write(a)}catch(p){setTimeout(function(){q.write(a)},0)}}},getData:function(a){if(a)return this.getHtml();a=this.editor;var b=a.config,c=b.fullPage,d=c&&a.docType,f=c&&a.xmlDeclaration,\nk=this.getDocument(),c=c?k.getDocumentElement().getOuterHtml():k.getBody().getHtml();CKEDITOR.env.gecko&&b.enterMode!=CKEDITOR.ENTER_BR&&(c=c.replace(/<br>(?=\\s*(:?$|<\\/body>))/,\"\"));c=a.dataProcessor.toDataFormat(c);f&&(c=f+\"\\n\"+c);d&&(c=d+\"\\n\"+c);return c},focus:function(){this._.isLoadingData?this._.isPendingFocus=!0:c.baseProto.focus.call(this)},detach:function(){var a=this.editor,b=a.document,f;try{f=a.window.getFrame()}catch(d){}c.baseProto.detach.call(this);this.clearCustomData();b.getDocumentElement().clearCustomData();\nCKEDITOR.tools.removeFunction(this._.frameLoadedHandler);f&&f.getParent()?(f.clearCustomData(),(a=f.removeCustomData(\"onResize\"))&&a.removeListener(),f.remove()):CKEDITOR.warn(\"editor-destroy-iframe\")}}})}(),CKEDITOR.config.disableObjectResizing=!1,CKEDITOR.config.disableNativeTableHandles=!0,CKEDITOR.config.disableNativeSpellChecker=!0,CKEDITOR.config.plugins=\"dialogui,dialog,a11yhelp,about,basicstyles,blockquote,clipboard,panel,floatpanel,menu,contextmenu,elementspath,indent,indentlist,list,enterkey,entities,popup,filebrowser,floatingspace,listblock,button,richcombo,format,horizontalrule,htmlwriter,image,fakeobjects,link,magicline,maximize,pastefromword,pastetext,removeformat,resize,menubutton,scayt,showborders,sourcearea,specialchar,stylescombo,tab,table,tabletools,toolbar,undo,wsc,wysiwygarea\",\nCKEDITOR.config.skin=\"moono-lisa\",function(){var a=function(a,b){var c=CKEDITOR.getUrl(\"plugins/\"+b);a=a.split(\",\");for(var e=0;e<a.length;e++)CKEDITOR.skin.icons[a[e]]={path:c,offset:-a[++e],bgsize:a[++e]}};CKEDITOR.env.hidpi?a(\"about,0,,bold,24,,italic,48,,strike,72,,subscript,96,,superscript,120,,underline,144,,bidiltr,168,,bidirtl,192,,blockquote,216,,copy-rtl,240,,copy,264,,cut-rtl,288,,cut,312,,paste-rtl,336,,paste,360,,codesnippet,384,,bgcolor,408,,textcolor,432,,copyformatting,456,,creatediv,480,,docprops-rtl,504,,docprops,528,,embed,552,,embedsemantic,576,,find-rtl,600,,find,624,,replace,648,,flash,672,,button,696,,checkbox,720,,form,744,,hiddenfield,768,,imagebutton,792,,radio,816,,select-rtl,840,,select,864,,textarea-rtl,888,,textarea,912,,textfield-rtl,936,,textfield,960,,horizontalrule,984,,iframe,1008,,image,1032,,indent-rtl,1056,,indent,1080,,outdent-rtl,1104,,outdent,1128,,justifyblock,1152,,justifycenter,1176,,justifyleft,1200,,justifyright,1224,,language,1248,,anchor-rtl,1272,,anchor,1296,,link,1320,,unlink,1344,,bulletedlist-rtl,1368,,bulletedlist,1392,,numberedlist-rtl,1416,,numberedlist,1440,,mathjax,1464,,maximize,1488,,newpage-rtl,1512,,newpage,1536,,pagebreak-rtl,1560,,pagebreak,1584,,pastefromword-rtl,1608,,pastefromword,1632,,pastetext-rtl,1656,,pastetext,1680,,placeholder,1704,,preview-rtl,1728,,preview,1752,,print,1776,,removeformat,1800,,save,1824,,scayt,1848,,selectall,1872,,showblocks-rtl,1896,,showblocks,1920,,smiley,1944,,source-rtl,1968,,source,1992,,sourcedialog-rtl,2016,,sourcedialog,2040,,specialchar,2064,,table,2088,,templates-rtl,2112,,templates,2136,,uicolor,2160,,redo-rtl,2184,,redo,2208,,undo-rtl,2232,,undo,2256,,simplebox,4560,auto,spellchecker,2304,\",\n\"icons_hidpi.png\"):a(\"about,0,auto,bold,24,auto,italic,48,auto,strike,72,auto,subscript,96,auto,superscript,120,auto,underline,144,auto,bidiltr,168,auto,bidirtl,192,auto,blockquote,216,auto,copy-rtl,240,auto,copy,264,auto,cut-rtl,288,auto,cut,312,auto,paste-rtl,336,auto,paste,360,auto,codesnippet,384,auto,bgcolor,408,auto,textcolor,432,auto,copyformatting,456,auto,creatediv,480,auto,docprops-rtl,504,auto,docprops,528,auto,embed,552,auto,embedsemantic,576,auto,find-rtl,600,auto,find,624,auto,replace,648,auto,flash,672,auto,button,696,auto,checkbox,720,auto,form,744,auto,hiddenfield,768,auto,imagebutton,792,auto,radio,816,auto,select-rtl,840,auto,select,864,auto,textarea-rtl,888,auto,textarea,912,auto,textfield-rtl,936,auto,textfield,960,auto,horizontalrule,984,auto,iframe,1008,auto,image,1032,auto,indent-rtl,1056,auto,indent,1080,auto,outdent-rtl,1104,auto,outdent,1128,auto,justifyblock,1152,auto,justifycenter,1176,auto,justifyleft,1200,auto,justifyright,1224,auto,language,1248,auto,anchor-rtl,1272,auto,anchor,1296,auto,link,1320,auto,unlink,1344,auto,bulletedlist-rtl,1368,auto,bulletedlist,1392,auto,numberedlist-rtl,1416,auto,numberedlist,1440,auto,mathjax,1464,auto,maximize,1488,auto,newpage-rtl,1512,auto,newpage,1536,auto,pagebreak-rtl,1560,auto,pagebreak,1584,auto,pastefromword-rtl,1608,auto,pastefromword,1632,auto,pastetext-rtl,1656,auto,pastetext,1680,auto,placeholder,1704,auto,preview-rtl,1728,auto,preview,1752,auto,print,1776,auto,removeformat,1800,auto,save,1824,auto,scayt,1848,auto,selectall,1872,auto,showblocks-rtl,1896,auto,showblocks,1920,auto,smiley,1944,auto,source-rtl,1968,auto,source,1992,auto,sourcedialog-rtl,2016,auto,sourcedialog,2040,auto,specialchar,2064,auto,table,2088,auto,templates-rtl,2112,auto,templates,2136,auto,uicolor,2160,auto,redo-rtl,2184,auto,redo,2208,auto,undo-rtl,2232,auto,undo,2256,auto,simplebox,2280,auto,spellchecker,2304,auto\",\n\"icons.png\")}())})();//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTM4Mi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL34vY2tlZGl0b3IvY2tlZGl0b3IuanM/NzI5NCJdLCJzb3VyY2VzQ29udGVudCI6WyLvu78vKlxuQ29weXJpZ2h0IChjKSAyMDAzLTIwMTYsIENLU291cmNlIC0gRnJlZGVyaWNvIEtuYWJiZW4uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG5Gb3IgbGljZW5zaW5nLCBzZWUgTElDRU5TRS5tZCBvciBodHRwOi8vY2tlZGl0b3IuY29tL2xpY2Vuc2VcbiovXG4oZnVuY3Rpb24oKXt3aW5kb3cuQ0tFRElUT1ImJndpbmRvdy5DS0VESVRPUi5kb218fCh3aW5kb3cuQ0tFRElUT1J8fCh3aW5kb3cuQ0tFRElUT1I9ZnVuY3Rpb24oKXt2YXIgYT0vKF58LipbXFxcXFxcL10pY2tlZGl0b3JcXC5qcyg/OlxcPy4qfDsuKik/JC9pLGY9e3RpbWVzdGFtcDpcIkdBR0VcIix2ZXJzaW9uOlwiNC42LjAgKFN0YW5kYXJkKVwiLHJldmlzaW9uOlwiNTg3N2Q4YlwiLHJuZDpNYXRoLmZsb29yKDkwMCpNYXRoLnJhbmRvbSgpKSsxMDAsXzp7cGVuZGluZzpbXSxiYXNlUGF0aFNyY1BhdHRlcm46YX0sc3RhdHVzOlwidW5sb2FkZWRcIixiYXNlUGF0aDpmdW5jdGlvbigpe3ZhciBiPXdpbmRvdy5DS0VESVRPUl9CQVNFUEFUSHx8XCJcIjtpZighYilmb3IodmFyIGM9ZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJzY3JpcHRcIiksZj0wO2Y8Yy5sZW5ndGg7ZisrKXt2YXIgZD1jW2ZdLnNyYy5tYXRjaChhKTtpZihkKXtiPWRbMV07YnJlYWt9fS0xPT1iLmluZGV4T2YoXCI6L1wiKSYmXCIvL1wiIT1cbmIuc2xpY2UoMCwyKSYmKGI9MD09PWIuaW5kZXhPZihcIi9cIik/bG9jYXRpb24uaHJlZi5tYXRjaCgvXi4qPzpcXC9cXC9bXlxcL10qLylbMF0rYjpsb2NhdGlvbi5ocmVmLm1hdGNoKC9eW15cXD9dKlxcLyg/OikvKVswXStiKTtpZighYil0aHJvdydUaGUgQ0tFZGl0b3IgaW5zdGFsbGF0aW9uIHBhdGggY291bGQgbm90IGJlIGF1dG9tYXRpY2FsbHkgZGV0ZWN0ZWQuIFBsZWFzZSBzZXQgdGhlIGdsb2JhbCB2YXJpYWJsZSBcIkNLRURJVE9SX0JBU0VQQVRIXCIgYmVmb3JlIGNyZWF0aW5nIGVkaXRvciBpbnN0YW5jZXMuJztyZXR1cm4gYn0oKSxnZXRVcmw6ZnVuY3Rpb24oYSl7LTE9PWEuaW5kZXhPZihcIjovXCIpJiYwIT09YS5pbmRleE9mKFwiL1wiKSYmKGE9dGhpcy5iYXNlUGF0aCthKTt0aGlzLnRpbWVzdGFtcCYmXCIvXCIhPWEuY2hhckF0KGEubGVuZ3RoLTEpJiYhL1smP110PS8udGVzdChhKSYmKGErPSgwPD1hLmluZGV4T2YoXCI/XCIpP1wiXFx4MjZcIjpcIj9cIikrXCJ0XFx4M2RcIit0aGlzLnRpbWVzdGFtcCk7XG5yZXR1cm4gYX0sZG9tUmVhZHk6ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKCl7dHJ5e2RvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXI/KGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIsYSwhMSksYigpKTpkb2N1bWVudC5hdHRhY2hFdmVudCYmXCJjb21wbGV0ZVwiPT09ZG9jdW1lbnQucmVhZHlTdGF0ZSYmKGRvY3VtZW50LmRldGFjaEV2ZW50KFwib25yZWFkeXN0YXRlY2hhbmdlXCIsYSksYigpKX1jYXRjaChkKXt9fWZ1bmN0aW9uIGIoKXtmb3IodmFyIGE7YT1jLnNoaWZ0KCk7KWEoKX12YXIgYz1bXTtyZXR1cm4gZnVuY3Rpb24oZCl7ZnVuY3Rpb24gYigpe3RyeXtkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuZG9TY3JvbGwoXCJsZWZ0XCIpfWNhdGNoKGcpe3NldFRpbWVvdXQoYiwxKTtyZXR1cm59YSgpfWMucHVzaChkKTtcImNvbXBsZXRlXCI9PT1kb2N1bWVudC5yZWFkeVN0YXRlJiZzZXRUaW1lb3V0KGEsMSk7aWYoMT09Yy5sZW5ndGgpaWYoZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcilkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLFxuYSwhMSksd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsYSwhMSk7ZWxzZSBpZihkb2N1bWVudC5hdHRhY2hFdmVudCl7ZG9jdW1lbnQuYXR0YWNoRXZlbnQoXCJvbnJlYWR5c3RhdGVjaGFuZ2VcIixhKTt3aW5kb3cuYXR0YWNoRXZlbnQoXCJvbmxvYWRcIixhKTtkPSExO3RyeXtkPSF3aW5kb3cuZnJhbWVFbGVtZW50fWNhdGNoKGspe31kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuZG9TY3JvbGwmJmQmJmIoKX19fSgpfSxiPXdpbmRvdy5DS0VESVRPUl9HRVRVUkw7aWYoYil7dmFyIGM9Zi5nZXRVcmw7Zi5nZXRVcmw9ZnVuY3Rpb24oYSl7cmV0dXJuIGIuY2FsbChmLGEpfHxjLmNhbGwoZixhKX19cmV0dXJuIGZ9KCkpLENLRURJVE9SLmV2ZW50fHwoQ0tFRElUT1IuZXZlbnQ9ZnVuY3Rpb24oKXt9LENLRURJVE9SLmV2ZW50LmltcGxlbWVudE9uPWZ1bmN0aW9uKGEpe3ZhciBmPUNLRURJVE9SLmV2ZW50LnByb3RvdHlwZSxiO2ZvcihiIGluIGYpbnVsbD09YVtiXSYmKGFbYl09ZltiXSl9LFxuQ0tFRElUT1IuZXZlbnQucHJvdG90eXBlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhKXt2YXIgZT1mKHRoaXMpO3JldHVybiBlW2FdfHwoZVthXT1uZXcgYihhKSl9dmFyIGY9ZnVuY3Rpb24oYSl7YT1hLmdldFByaXZhdGUmJmEuZ2V0UHJpdmF0ZSgpfHxhLl98fChhLl89e30pO3JldHVybiBhLmV2ZW50c3x8KGEuZXZlbnRzPXt9KX0sYj1mdW5jdGlvbihhKXt0aGlzLm5hbWU9YTt0aGlzLmxpc3RlbmVycz1bXX07Yi5wcm90b3R5cGU9e2dldExpc3RlbmVySW5kZXg6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPTAsZj10aGlzLmxpc3RlbmVycztiPGYubGVuZ3RoO2IrKylpZihmW2JdLmZuPT1hKXJldHVybiBiO3JldHVybi0xfX07cmV0dXJue2RlZmluZTpmdW5jdGlvbihiLGUpe3ZhciBmPWEuY2FsbCh0aGlzLGIpO0NLRURJVE9SLnRvb2xzLmV4dGVuZChmLGUsITApfSxvbjpmdW5jdGlvbihiLGUsZixsLGQpe2Z1bmN0aW9uIGgoYSxnLGQsaCl7YT17bmFtZTpiLHNlbmRlcjp0aGlzLGVkaXRvcjphLFxuZGF0YTpnLGxpc3RlbmVyRGF0YTpsLHN0b3A6ZCxjYW5jZWw6aCxyZW1vdmVMaXN0ZW5lcjprfTtyZXR1cm4hMT09PWUuY2FsbChmLGEpPyExOmEuZGF0YX1mdW5jdGlvbiBrKCl7bi5yZW1vdmVMaXN0ZW5lcihiLGUpfXZhciBnPWEuY2FsbCh0aGlzLGIpO2lmKDA+Zy5nZXRMaXN0ZW5lckluZGV4KGUpKXtnPWcubGlzdGVuZXJzO2Z8fChmPXRoaXMpO2lzTmFOKGQpJiYoZD0xMCk7dmFyIG49dGhpcztoLmZuPWU7aC5wcmlvcml0eT1kO2Zvcih2YXIgcT1nLmxlbmd0aC0xOzA8PXE7cS0tKWlmKGdbcV0ucHJpb3JpdHk8PWQpcmV0dXJuIGcuc3BsaWNlKHErMSwwLGgpLHtyZW1vdmVMaXN0ZW5lcjprfTtnLnVuc2hpZnQoaCl9cmV0dXJue3JlbW92ZUxpc3RlbmVyOmt9fSxvbmNlOmZ1bmN0aW9uKCl7dmFyIGE9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKSxiPWFbMV07YVsxXT1mdW5jdGlvbihhKXthLnJlbW92ZUxpc3RlbmVyKCk7cmV0dXJuIGIuYXBwbHkodGhpcyxcbmFyZ3VtZW50cyl9O3JldHVybiB0aGlzLm9uLmFwcGx5KHRoaXMsYSl9LGNhcHR1cmU6ZnVuY3Rpb24oKXtDS0VESVRPUi5ldmVudC51c2VDYXB0dXJlPTE7dmFyIGE9dGhpcy5vbi5hcHBseSh0aGlzLGFyZ3VtZW50cyk7Q0tFRElUT1IuZXZlbnQudXNlQ2FwdHVyZT0wO3JldHVybiBhfSxmaXJlOmZ1bmN0aW9uKCl7dmFyIGE9MCxiPWZ1bmN0aW9uKCl7YT0xfSxtPTAsbD1mdW5jdGlvbigpe209MX07cmV0dXJuIGZ1bmN0aW9uKGQsaCxrKXt2YXIgZz1mKHRoaXMpW2RdO2Q9YTt2YXIgbj1tO2E9bT0wO2lmKGcpe3ZhciBxPWcubGlzdGVuZXJzO2lmKHEubGVuZ3RoKWZvcih2YXIgcT1xLnNsaWNlKDApLHAsdD0wO3Q8cS5sZW5ndGg7dCsrKXtpZihnLmVycm9yUHJvb2YpdHJ5e3A9cVt0XS5jYWxsKHRoaXMsayxoLGIsbCl9Y2F0Y2godil7fWVsc2UgcD1xW3RdLmNhbGwodGhpcyxrLGgsYixsKTshMT09PXA/bT0xOlwidW5kZWZpbmVkXCIhPXR5cGVvZiBwJiYoaD1wKTtpZihhfHxtKWJyZWFrfX1oPVxubT8hMTpcInVuZGVmaW5lZFwiPT10eXBlb2YgaD8hMDpoO2E9ZDttPW47cmV0dXJuIGh9fSgpLGZpcmVPbmNlOmZ1bmN0aW9uKGEsYixtKXtiPXRoaXMuZmlyZShhLGIsbSk7ZGVsZXRlIGYodGhpcylbYV07cmV0dXJuIGJ9LHJlbW92ZUxpc3RlbmVyOmZ1bmN0aW9uKGEsYil7dmFyIG09Zih0aGlzKVthXTtpZihtKXt2YXIgbD1tLmdldExpc3RlbmVySW5kZXgoYik7MDw9bCYmbS5saXN0ZW5lcnMuc3BsaWNlKGwsMSl9fSxyZW1vdmVBbGxMaXN0ZW5lcnM6ZnVuY3Rpb24oKXt2YXIgYT1mKHRoaXMpLGI7Zm9yKGIgaW4gYSlkZWxldGUgYVtiXX0saGFzTGlzdGVuZXJzOmZ1bmN0aW9uKGEpe3JldHVybihhPWYodGhpcylbYV0pJiYwPGEubGlzdGVuZXJzLmxlbmd0aH19fSgpKSxDS0VESVRPUi5lZGl0b3J8fChDS0VESVRPUi5lZGl0b3I9ZnVuY3Rpb24oKXtDS0VESVRPUi5fLnBlbmRpbmcucHVzaChbdGhpcyxhcmd1bWVudHNdKTtDS0VESVRPUi5ldmVudC5jYWxsKHRoaXMpfSxDS0VESVRPUi5lZGl0b3IucHJvdG90eXBlLmZpcmU9XG5mdW5jdGlvbihhLGYpe2EgaW57aW5zdGFuY2VSZWFkeToxLGxvYWRlZDoxfSYmKHRoaXNbYV09ITApO3JldHVybiBDS0VESVRPUi5ldmVudC5wcm90b3R5cGUuZmlyZS5jYWxsKHRoaXMsYSxmLHRoaXMpfSxDS0VESVRPUi5lZGl0b3IucHJvdG90eXBlLmZpcmVPbmNlPWZ1bmN0aW9uKGEsZil7YSBpbntpbnN0YW5jZVJlYWR5OjEsbG9hZGVkOjF9JiYodGhpc1thXT0hMCk7cmV0dXJuIENLRURJVE9SLmV2ZW50LnByb3RvdHlwZS5maXJlT25jZS5jYWxsKHRoaXMsYSxmLHRoaXMpfSxDS0VESVRPUi5ldmVudC5pbXBsZW1lbnRPbihDS0VESVRPUi5lZGl0b3IucHJvdG90eXBlKSksQ0tFRElUT1IuZW52fHwoQ0tFRElUT1IuZW52PWZ1bmN0aW9uKCl7dmFyIGE9bmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLGY9YS5tYXRjaCgvZWRnZVsgXFwvXShcXGQrLj9cXGQqKS8pLGI9LTE8YS5pbmRleE9mKFwidHJpZGVudC9cIiksYj0hKCFmJiYhYiksYj17aWU6YixlZGdlOiEhZix3ZWJraXQ6IWImJlxuLTE8YS5pbmRleE9mKFwiIGFwcGxld2Via2l0L1wiKSxhaXI6LTE8YS5pbmRleE9mKFwiIGFkb2JlYWlyL1wiKSxtYWM6LTE8YS5pbmRleE9mKFwibWFjaW50b3NoXCIpLHF1aXJrczpcIkJhY2tDb21wYXRcIj09ZG9jdW1lbnQuY29tcGF0TW9kZSYmKCFkb2N1bWVudC5kb2N1bWVudE1vZGV8fDEwPmRvY3VtZW50LmRvY3VtZW50TW9kZSksbW9iaWxlOi0xPGEuaW5kZXhPZihcIm1vYmlsZVwiKSxpT1M6LyhpcGFkfGlwaG9uZXxpcG9kKS8udGVzdChhKSxpc0N1c3RvbURvbWFpbjpmdW5jdGlvbigpe2lmKCF0aGlzLmllKXJldHVybiExO3ZhciBhPWRvY3VtZW50LmRvbWFpbixiPXdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZTtyZXR1cm4gYSE9YiYmYSE9XCJbXCIrYitcIl1cIn0sc2VjdXJlOlwiaHR0cHM6XCI9PWxvY2F0aW9uLnByb3RvY29sfTtiLmdlY2tvPVwiR2Vja29cIj09bmF2aWdhdG9yLnByb2R1Y3QmJiFiLndlYmtpdCYmIWIuaWU7Yi53ZWJraXQmJigtMTxhLmluZGV4T2YoXCJjaHJvbWVcIik/Yi5jaHJvbWU9XG4hMDpiLnNhZmFyaT0hMCk7dmFyIGM9MDtiLmllJiYoYz1mP3BhcnNlRmxvYXQoZlsxXSk6Yi5xdWlya3N8fCFkb2N1bWVudC5kb2N1bWVudE1vZGU/cGFyc2VGbG9hdChhLm1hdGNoKC9tc2llIChcXGQrKS8pWzFdKTpkb2N1bWVudC5kb2N1bWVudE1vZGUsYi5pZTlDb21wYXQ9OT09YyxiLmllOENvbXBhdD04PT1jLGIuaWU3Q29tcGF0PTc9PWMsYi5pZTZDb21wYXQ9Nz5jfHxiLnF1aXJrcyk7Yi5nZWNrbyYmKGY9YS5tYXRjaCgvcnY6KFtcXGRcXC5dKykvKSkmJihmPWZbMV0uc3BsaXQoXCIuXCIpLGM9MUU0KmZbMF0rMTAwKihmWzFdfHwwKSsxKihmWzJdfHwwKSk7Yi5haXImJihjPXBhcnNlRmxvYXQoYS5tYXRjaCgvIGFkb2JlYWlyXFwvKFxcZCspLylbMV0pKTtiLndlYmtpdCYmKGM9cGFyc2VGbG9hdChhLm1hdGNoKC8gYXBwbGV3ZWJraXRcXC8oXFxkKykvKVsxXSkpO2IudmVyc2lvbj1jO2IuaXNDb21wYXRpYmxlPSEoYi5pZSYmNz5jKSYmIShiLmdlY2tvJiY0RTQ+YykmJiEoYi53ZWJraXQmJlxuNTM0PmMpO2IuaGlkcGk9Mjw9d2luZG93LmRldmljZVBpeGVsUmF0aW87Yi5uZWVkc0JyRmlsbGVyPWIuZ2Vja298fGIud2Via2l0fHxiLmllJiYxMDxjO2IubmVlZHNOYnNwRmlsbGVyPWIuaWUmJjExPmM7Yi5jc3NDbGFzcz1cImNrZV9icm93c2VyX1wiKyhiLmllP1wiaWVcIjpiLmdlY2tvP1wiZ2Vja29cIjpiLndlYmtpdD9cIndlYmtpdFwiOlwidW5rbm93blwiKTtiLnF1aXJrcyYmKGIuY3NzQ2xhc3MrPVwiIGNrZV9icm93c2VyX3F1aXJrc1wiKTtiLmllJiYoYi5jc3NDbGFzcys9XCIgY2tlX2Jyb3dzZXJfaWVcIisoYi5xdWlya3M/XCI2IGNrZV9icm93c2VyX2llcXVpcmtzXCI6Yi52ZXJzaW9uKSk7Yi5haXImJihiLmNzc0NsYXNzKz1cIiBja2VfYnJvd3Nlcl9haXJcIik7Yi5pT1MmJihiLmNzc0NsYXNzKz1cIiBja2VfYnJvd3Nlcl9pb3NcIik7Yi5oaWRwaSYmKGIuY3NzQ2xhc3MrPVwiIGNrZV9oaWRwaVwiKTtyZXR1cm4gYn0oKSksXCJ1bmxvYWRlZFwiPT1DS0VESVRPUi5zdGF0dXMmJmZ1bmN0aW9uKCl7Q0tFRElUT1IuZXZlbnQuaW1wbGVtZW50T24oQ0tFRElUT1IpO1xuQ0tFRElUT1IubG9hZEZ1bGxDb3JlPWZ1bmN0aW9uKCl7aWYoXCJiYXNpY19yZWFkeVwiIT1DS0VESVRPUi5zdGF0dXMpQ0tFRElUT1IubG9hZEZ1bGxDb3JlLl9sb2FkPTE7ZWxzZXtkZWxldGUgQ0tFRElUT1IubG9hZEZ1bGxDb3JlO3ZhciBhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIik7YS50eXBlPVwidGV4dC9qYXZhc2NyaXB0XCI7YS5zcmM9Q0tFRElUT1IuYmFzZVBhdGgrXCJja2VkaXRvci5qc1wiO2RvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiaGVhZFwiKVswXS5hcHBlbmRDaGlsZChhKX19O0NLRURJVE9SLmxvYWRGdWxsQ29yZVRpbWVvdXQ9MDtDS0VESVRPUi5hZGQ9ZnVuY3Rpb24oYSl7KHRoaXMuXy5wZW5kaW5nfHwodGhpcy5fLnBlbmRpbmc9W10pKS5wdXNoKGEpfTsoZnVuY3Rpb24oKXtDS0VESVRPUi5kb21SZWFkeShmdW5jdGlvbigpe3ZhciBhPUNLRURJVE9SLmxvYWRGdWxsQ29yZSxmPUNLRURJVE9SLmxvYWRGdWxsQ29yZVRpbWVvdXQ7YSYmKENLRURJVE9SLnN0YXR1cz1cblwiYmFzaWNfcmVhZHlcIixhJiZhLl9sb2FkP2EoKTpmJiZzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Q0tFRElUT1IubG9hZEZ1bGxDb3JlJiZDS0VESVRPUi5sb2FkRnVsbENvcmUoKX0sMUUzKmYpKX0pfSkoKTtDS0VESVRPUi5zdGF0dXM9XCJiYXNpY19sb2FkZWRcIn0oKSxcInVzZSBzdHJpY3RcIixDS0VESVRPUi5WRVJCT1NJVFlfV0FSTj0xLENLRURJVE9SLlZFUkJPU0lUWV9FUlJPUj0yLENLRURJVE9SLnZlcmJvc2l0eT1DS0VESVRPUi5WRVJCT1NJVFlfV0FSTnxDS0VESVRPUi5WRVJCT1NJVFlfRVJST1IsQ0tFRElUT1Iud2Fybj1mdW5jdGlvbihhLGYpe0NLRURJVE9SLnZlcmJvc2l0eSZDS0VESVRPUi5WRVJCT1NJVFlfV0FSTiYmQ0tFRElUT1IuZmlyZShcImxvZ1wiLHt0eXBlOlwid2FyblwiLGVycm9yQ29kZTphLGFkZGl0aW9uYWxEYXRhOmZ9KX0sQ0tFRElUT1IuZXJyb3I9ZnVuY3Rpb24oYSxmKXtDS0VESVRPUi52ZXJib3NpdHkmQ0tFRElUT1IuVkVSQk9TSVRZX0VSUk9SJiZDS0VESVRPUi5maXJlKFwibG9nXCIsXG57dHlwZTpcImVycm9yXCIsZXJyb3JDb2RlOmEsYWRkaXRpb25hbERhdGE6Zn0pfSxDS0VESVRPUi5vbihcImxvZ1wiLGZ1bmN0aW9uKGEpe2lmKHdpbmRvdy5jb25zb2xlJiZ3aW5kb3cuY29uc29sZS5sb2cpe3ZhciBmPWNvbnNvbGVbYS5kYXRhLnR5cGVdP2EuZGF0YS50eXBlOlwibG9nXCIsYj1hLmRhdGEuZXJyb3JDb2RlO2lmKGE9YS5kYXRhLmFkZGl0aW9uYWxEYXRhKWNvbnNvbGVbZl0oXCJbQ0tFRElUT1JdIEVycm9yIGNvZGU6IFwiK2IrXCIuXCIsYSk7ZWxzZSBjb25zb2xlW2ZdKFwiW0NLRURJVE9SXSBFcnJvciBjb2RlOiBcIitiK1wiLlwiKTtjb25zb2xlW2ZdKFwiW0NLRURJVE9SXSBGb3IgbW9yZSBpbmZvcm1hdGlvbiBhYm91dCB0aGlzIGVycm9yIGdvIHRvIGh0dHA6Ly9kb2NzLmNrZWRpdG9yLmNvbS8jIS9ndWlkZS9kZXZfZXJyb3JzLXNlY3Rpb24tXCIrYil9fSxudWxsLG51bGwsOTk5KSxDS0VESVRPUi5kb209e30sZnVuY3Rpb24oKXt2YXIgYT1bXSxmPUNLRURJVE9SLmVudi5nZWNrbz9cIi1tb3otXCI6XG5DS0VESVRPUi5lbnYud2Via2l0P1wiLXdlYmtpdC1cIjpDS0VESVRPUi5lbnYuaWU/XCItbXMtXCI6XCJcIixiPS8mL2csYz0vPi9nLGU9LzwvZyxtPS9cIi9nLGw9LyYobHR8Z3R8YW1wfHF1b3R8bmJzcHxzaHl8I1xcZHsxLDV9KTsvZyxkPXtsdDpcIlxceDNjXCIsZ3Q6XCJcXHgzZVwiLGFtcDpcIlxceDI2XCIscXVvdDonXCInLG5ic3A6XCLCoFwiLHNoeTpcIsKtXCJ9LGg9ZnVuY3Rpb24oYSxnKXtyZXR1cm5cIiNcIj09Z1swXT9TdHJpbmcuZnJvbUNoYXJDb2RlKHBhcnNlSW50KGcuc2xpY2UoMSksMTApKTpkW2ddfTtDS0VESVRPUi5vbihcInJlc2V0XCIsZnVuY3Rpb24oKXthPVtdfSk7Q0tFRElUT1IudG9vbHM9e2FycmF5Q29tcGFyZTpmdW5jdGlvbihhLGcpe2lmKCFhJiYhZylyZXR1cm4hMDtpZighYXx8IWd8fGEubGVuZ3RoIT1nLmxlbmd0aClyZXR1cm4hMTtmb3IodmFyIGQ9MDtkPGEubGVuZ3RoO2QrKylpZihhW2RdIT1nW2RdKXJldHVybiExO3JldHVybiEwfSxnZXRJbmRleDpmdW5jdGlvbihhLGcpe2Zvcih2YXIgZD1cbjA7ZDxhLmxlbmd0aDsrK2QpaWYoZyhhW2RdKSlyZXR1cm4gZDtyZXR1cm4tMX0sY2xvbmU6ZnVuY3Rpb24oYSl7dmFyIGc7aWYoYSYmYSBpbnN0YW5jZW9mIEFycmF5KXtnPVtdO2Zvcih2YXIgZD0wO2Q8YS5sZW5ndGg7ZCsrKWdbZF09Q0tFRElUT1IudG9vbHMuY2xvbmUoYVtkXSk7cmV0dXJuIGd9aWYobnVsbD09PWF8fFwib2JqZWN0XCIhPXR5cGVvZiBhfHxhIGluc3RhbmNlb2YgU3RyaW5nfHxhIGluc3RhbmNlb2YgTnVtYmVyfHxhIGluc3RhbmNlb2YgQm9vbGVhbnx8YSBpbnN0YW5jZW9mIERhdGV8fGEgaW5zdGFuY2VvZiBSZWdFeHB8fGEubm9kZVR5cGV8fGEud2luZG93PT09YSlyZXR1cm4gYTtnPW5ldyBhLmNvbnN0cnVjdG9yO2ZvcihkIGluIGEpZ1tkXT1DS0VESVRPUi50b29scy5jbG9uZShhW2RdKTtyZXR1cm4gZ30sY2FwaXRhbGl6ZTpmdW5jdGlvbihhLGcpe3JldHVybiBhLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpKyhnP2Euc2xpY2UoMSk6YS5zbGljZSgxKS50b0xvd2VyQ2FzZSgpKX0sXG5leHRlbmQ6ZnVuY3Rpb24oYSl7dmFyIGc9YXJndW1lbnRzLmxlbmd0aCxkLGI7XCJib29sZWFuXCI9PXR5cGVvZihkPWFyZ3VtZW50c1tnLTFdKT9nLS06XCJib29sZWFuXCI9PXR5cGVvZihkPWFyZ3VtZW50c1tnLTJdKSYmKGI9YXJndW1lbnRzW2ctMV0sZy09Mik7Zm9yKHZhciBoPTE7aDxnO2grKyl7dmFyIGM9YXJndW1lbnRzW2hdLGU7Zm9yKGUgaW4gYylpZighMD09PWR8fG51bGw9PWFbZV0paWYoIWJ8fGUgaW4gYilhW2VdPWNbZV19cmV0dXJuIGF9LHByb3RvdHlwZWRDb3B5OmZ1bmN0aW9uKGEpe3ZhciBnPWZ1bmN0aW9uKCl7fTtnLnByb3RvdHlwZT1hO3JldHVybiBuZXcgZ30sY29weTpmdW5jdGlvbihhKXt2YXIgZz17fSxkO2ZvcihkIGluIGEpZ1tkXT1hW2RdO3JldHVybiBnfSxpc0FycmF5OmZ1bmN0aW9uKGEpe3JldHVyblwiW29iamVjdCBBcnJheV1cIj09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGEpfSxpc0VtcHR5OmZ1bmN0aW9uKGEpe2Zvcih2YXIgZyBpbiBhKWlmKGEuaGFzT3duUHJvcGVydHkoZykpcmV0dXJuITE7XG5yZXR1cm4hMH0sY3NzVmVuZG9yUHJlZml4OmZ1bmN0aW9uKGEsZyxkKXtpZihkKXJldHVybiBmK2ErXCI6XCIrZytcIjtcIithK1wiOlwiK2c7ZD17fTtkW2FdPWc7ZFtmK2FdPWc7cmV0dXJuIGR9LGNzc1N0eWxlVG9Eb21TdHlsZTpmdW5jdGlvbigpe3ZhciBhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikuc3R5bGUsZz1cInVuZGVmaW5lZFwiIT10eXBlb2YgYS5jc3NGbG9hdD9cImNzc0Zsb2F0XCI6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGEuc3R5bGVGbG9hdD9cInN0eWxlRmxvYXRcIjpcImZsb2F0XCI7cmV0dXJuIGZ1bmN0aW9uKGEpe3JldHVyblwiZmxvYXRcIj09YT9nOmEucmVwbGFjZSgvLS4vZyxmdW5jdGlvbihhKXtyZXR1cm4gYS5zdWJzdHIoMSkudG9VcHBlckNhc2UoKX0pfX0oKSxidWlsZFN0eWxlSHRtbDpmdW5jdGlvbihhKXthPVtdLmNvbmNhdChhKTtmb3IodmFyIGcsZD1bXSxiPTA7YjxhLmxlbmd0aDtiKyspaWYoZz1hW2JdKS9AaW1wb3J0fFt7fV0vLnRlc3QoZyk/ZC5wdXNoKFwiXFx4M2NzdHlsZVxceDNlXCIrXG5nK1wiXFx4M2Mvc3R5bGVcXHgzZVwiKTpkLnB1c2goJ1xceDNjbGluayB0eXBlXFx4M2RcInRleHQvY3NzXCIgcmVsXFx4M2RzdHlsZXNoZWV0IGhyZWZcXHgzZFwiJytnKydcIlxceDNlJyk7cmV0dXJuIGQuam9pbihcIlwiKX0saHRtbEVuY29kZTpmdW5jdGlvbihhKXtyZXR1cm4gdm9pZCAwPT09YXx8bnVsbD09PWE/XCJcIjpTdHJpbmcoYSkucmVwbGFjZShiLFwiXFx4MjZhbXA7XCIpLnJlcGxhY2UoYyxcIlxceDI2Z3Q7XCIpLnJlcGxhY2UoZSxcIlxceDI2bHQ7XCIpfSxodG1sRGVjb2RlOmZ1bmN0aW9uKGEpe3JldHVybiBhLnJlcGxhY2UobCxoKX0saHRtbEVuY29kZUF0dHI6ZnVuY3Rpb24oYSl7cmV0dXJuIENLRURJVE9SLnRvb2xzLmh0bWxFbmNvZGUoYSkucmVwbGFjZShtLFwiXFx4MjZxdW90O1wiKX0saHRtbERlY29kZUF0dHI6ZnVuY3Rpb24oYSl7cmV0dXJuIENLRURJVE9SLnRvb2xzLmh0bWxEZWNvZGUoYSl9LHRyYW5zZm9ybVBsYWluVGV4dFRvSHRtbDpmdW5jdGlvbihhLGcpe3ZhciBkPWc9PUNLRURJVE9SLkVOVEVSX0JSLFxuYj10aGlzLmh0bWxFbmNvZGUoYS5yZXBsYWNlKC9cXHJcXG4vZyxcIlxcblwiKSksYj1iLnJlcGxhY2UoL1xcdC9nLFwiXFx4MjZuYnNwO1xceDI2bmJzcDsgXFx4MjZuYnNwO1wiKSxoPWc9PUNLRURJVE9SLkVOVEVSX1A/XCJwXCI6XCJkaXZcIjtpZighZCl7dmFyIGM9L1xcbnsyfS9nO2lmKGMudGVzdChiKSl2YXIgZT1cIlxceDNjXCIraCtcIlxceDNlXCIsZj1cIlxceDNjL1wiK2grXCJcXHgzZVwiLGI9ZStiLnJlcGxhY2UoYyxmdW5jdGlvbigpe3JldHVybiBmK2V9KStmfWI9Yi5yZXBsYWNlKC9cXG4vZyxcIlxceDNjYnJcXHgzZVwiKTtkfHwoYj1iLnJlcGxhY2UobmV3IFJlZ0V4cChcIlxceDNjYnJcXHgzZSg/XFx4M2RcXHgzYy9cIitoK1wiXFx4M2UpXCIpLGZ1bmN0aW9uKGEpe3JldHVybiBDS0VESVRPUi50b29scy5yZXBlYXQoYSwyKX0pKTtiPWIucmVwbGFjZSgvXiB8ICQvZyxcIlxceDI2bmJzcDtcIik7cmV0dXJuIGI9Yi5yZXBsYWNlKC8oPnxcXHMpIC9nLGZ1bmN0aW9uKGEsZyl7cmV0dXJuIGcrXCJcXHgyNm5ic3A7XCJ9KS5yZXBsYWNlKC8gKD89PCkvZyxcblwiXFx4MjZuYnNwO1wiKX0sZ2V0TmV4dE51bWJlcjpmdW5jdGlvbigpe3ZhciBhPTA7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuKythfX0oKSxnZXROZXh0SWQ6ZnVuY3Rpb24oKXtyZXR1cm5cImNrZV9cIit0aGlzLmdldE5leHROdW1iZXIoKX0sZ2V0VW5pcXVlSWQ6ZnVuY3Rpb24oKXtmb3IodmFyIGE9XCJlXCIsZz0wOzg+ZztnKyspYSs9TWF0aC5mbG9vcig2NTUzNiooMStNYXRoLnJhbmRvbSgpKSkudG9TdHJpbmcoMTYpLnN1YnN0cmluZygxKTtyZXR1cm4gYX0sb3ZlcnJpZGU6ZnVuY3Rpb24oYSxnKXt2YXIgZD1nKGEpO2QucHJvdG90eXBlPWEucHJvdG90eXBlO3JldHVybiBkfSxzZXRUaW1lb3V0OmZ1bmN0aW9uKGEsZyxkLGIsaCl7aHx8KGg9d2luZG93KTtkfHwoZD1oKTtyZXR1cm4gaC5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Yj9hLmFwcGx5KGQsW10uY29uY2F0KGIpKTphLmFwcGx5KGQpfSxnfHwwKX0sdHJpbTpmdW5jdGlvbigpe3ZhciBhPS8oPzpeWyBcXHRcXG5cXHJdKyl8KD86WyBcXHRcXG5cXHJdKyQpL2c7XG5yZXR1cm4gZnVuY3Rpb24oZyl7cmV0dXJuIGcucmVwbGFjZShhLFwiXCIpfX0oKSxsdHJpbTpmdW5jdGlvbigpe3ZhciBhPS9eWyBcXHRcXG5cXHJdKy9nO3JldHVybiBmdW5jdGlvbihnKXtyZXR1cm4gZy5yZXBsYWNlKGEsXCJcIil9fSgpLHJ0cmltOmZ1bmN0aW9uKCl7dmFyIGE9L1sgXFx0XFxuXFxyXSskL2c7cmV0dXJuIGZ1bmN0aW9uKGcpe3JldHVybiBnLnJlcGxhY2UoYSxcIlwiKX19KCksaW5kZXhPZjpmdW5jdGlvbihhLGcpe2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGcpZm9yKHZhciBkPTAsYj1hLmxlbmd0aDtkPGI7ZCsrKXtpZihnKGFbZF0pKXJldHVybiBkfWVsc2V7aWYoYS5pbmRleE9mKXJldHVybiBhLmluZGV4T2YoZyk7ZD0wO2ZvcihiPWEubGVuZ3RoO2Q8YjtkKyspaWYoYVtkXT09PWcpcmV0dXJuIGR9cmV0dXJuLTF9LHNlYXJjaDpmdW5jdGlvbihhLGcpe3ZhciBkPUNLRURJVE9SLnRvb2xzLmluZGV4T2YoYSxnKTtyZXR1cm4gMDw9ZD9hW2RdOm51bGx9LGJpbmQ6ZnVuY3Rpb24oYSxcbmcpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBhLmFwcGx5KGcsYXJndW1lbnRzKX19LGNyZWF0ZUNsYXNzOmZ1bmN0aW9uKGEpe3ZhciBnPWEuJCxkPWEuYmFzZSxiPWEucHJpdmF0ZXN8fGEuXyxoPWEucHJvdG87YT1hLnN0YXRpY3M7IWcmJihnPWZ1bmN0aW9uKCl7ZCYmdGhpcy5iYXNlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pO2lmKGIpdmFyIGM9ZyxnPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5ffHwodGhpcy5fPXt9KSxnO2ZvcihnIGluIGIpe3ZhciBkPWJbZ107YVtnXT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBkP0NLRURJVE9SLnRvb2xzLmJpbmQoZCx0aGlzKTpkfWMuYXBwbHkodGhpcyxhcmd1bWVudHMpfTtkJiYoZy5wcm90b3R5cGU9dGhpcy5wcm90b3R5cGVkQ29weShkLnByb3RvdHlwZSksZy5wcm90b3R5cGUuY29uc3RydWN0b3I9ZyxnLmJhc2U9ZCxnLmJhc2VQcm90bz1kLnByb3RvdHlwZSxnLnByb3RvdHlwZS5iYXNlPWZ1bmN0aW9uKCl7dGhpcy5iYXNlPWQucHJvdG90eXBlLmJhc2U7XG5kLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt0aGlzLmJhc2U9YXJndW1lbnRzLmNhbGxlZX0pO2gmJnRoaXMuZXh0ZW5kKGcucHJvdG90eXBlLGgsITApO2EmJnRoaXMuZXh0ZW5kKGcsYSwhMCk7cmV0dXJuIGd9LGFkZEZ1bmN0aW9uOmZ1bmN0aW9uKGQsZyl7cmV0dXJuIGEucHVzaChmdW5jdGlvbigpe3JldHVybiBkLmFwcGx5KGd8fHRoaXMsYXJndW1lbnRzKX0pLTF9LHJlbW92ZUZ1bmN0aW9uOmZ1bmN0aW9uKGQpe2FbZF09bnVsbH0sY2FsbEZ1bmN0aW9uOmZ1bmN0aW9uKGQpe3ZhciBnPWFbZF07cmV0dXJuIGcmJmcuYXBwbHkod2luZG93LEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKSl9LGNzc0xlbmd0aDpmdW5jdGlvbigpe3ZhciBhPS9eLT9cXGQrXFwuP1xcZCpweCQvLGc7cmV0dXJuIGZ1bmN0aW9uKGQpe2c9Q0tFRElUT1IudG9vbHMudHJpbShkK1wiXCIpK1wicHhcIjtyZXR1cm4gYS50ZXN0KGcpP2c6ZHx8XCJcIn19KCksY29udmVydFRvUHg6ZnVuY3Rpb24oKXt2YXIgYTtcbnJldHVybiBmdW5jdGlvbihnKXthfHwoYT1DS0VESVRPUi5kb20uZWxlbWVudC5jcmVhdGVGcm9tSHRtbCgnXFx4M2NkaXYgc3R5bGVcXHgzZFwicG9zaXRpb246YWJzb2x1dGU7bGVmdDotOTk5OXB4O3RvcDotOTk5OXB4O21hcmdpbjowcHg7cGFkZGluZzowcHg7Ym9yZGVyOjBweDtcIlxceDNlXFx4M2MvZGl2XFx4M2UnLENLRURJVE9SLmRvY3VtZW50KSxDS0VESVRPUi5kb2N1bWVudC5nZXRCb2R5KCkuYXBwZW5kKGEpKTtyZXR1cm4vJSQvLnRlc3QoZyk/ZzooYS5zZXRTdHlsZShcIndpZHRoXCIsZyksYS4kLmNsaWVudFdpZHRoKX19KCkscmVwZWF0OmZ1bmN0aW9uKGEsZyl7cmV0dXJuIEFycmF5KGcrMSkuam9pbihhKX0sdHJ5VGhlc2U6ZnVuY3Rpb24oKXtmb3IodmFyIGEsZz0wLGQ9YXJndW1lbnRzLmxlbmd0aDtnPGQ7ZysrKXt2YXIgYj1hcmd1bWVudHNbZ107dHJ5e2E9YigpO2JyZWFrfWNhdGNoKGgpe319cmV0dXJuIGF9LGdlbktleTpmdW5jdGlvbigpe3JldHVybiBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpLmpvaW4oXCItXCIpfSxcbmRlZmVyOmZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbigpe3ZhciBnPWFyZ3VtZW50cyxkPXRoaXM7d2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKXthLmFwcGx5KGQsZyl9LDApfX0sbm9ybWFsaXplQ3NzVGV4dDpmdW5jdGlvbihhLGcpe3ZhciBkPVtdLGIsaD1DS0VESVRPUi50b29scy5wYXJzZUNzc1RleHQoYSwhMCxnKTtmb3IoYiBpbiBoKWQucHVzaChiK1wiOlwiK2hbYl0pO2Quc29ydCgpO3JldHVybiBkLmxlbmd0aD9kLmpvaW4oXCI7XCIpK1wiO1wiOlwiXCJ9LGNvbnZlcnRSZ2JUb0hleDpmdW5jdGlvbihhKXtyZXR1cm4gYS5yZXBsYWNlKC8oPzpyZ2JcXChcXHMqKFxcZCspXFxzKixcXHMqKFxcZCspXFxzKixcXHMqKFxcZCspXFxzKlxcKSkvZ2ksZnVuY3Rpb24oYSxkLGIsaCl7YT1bZCxiLGhdO2ZvcihkPTA7Mz5kO2QrKylhW2RdPShcIjBcIitwYXJzZUludChhW2RdLDEwKS50b1N0cmluZygxNikpLnNsaWNlKC0yKTtyZXR1cm5cIiNcIithLmpvaW4oXCJcIil9KX0sbm9ybWFsaXplSGV4OmZ1bmN0aW9uKGEpe3JldHVybiBhLnJlcGxhY2UoLyMoKFswLTlhLWZdezN9KXsxLDJ9KSgkfDt8XFxzKykvZ2ksXG5mdW5jdGlvbihhLGQsYixoKXthPWQudG9Mb3dlckNhc2UoKTszPT1hLmxlbmd0aCYmKGE9YS5zcGxpdChcIlwiKSxhPVthWzBdLGFbMF0sYVsxXSxhWzFdLGFbMl0sYVsyXV0uam9pbihcIlwiKSk7cmV0dXJuXCIjXCIrYStofSl9LHBhcnNlQ3NzVGV4dDpmdW5jdGlvbihhLGcsZCl7dmFyIGI9e307ZCYmKGE9KG5ldyBDS0VESVRPUi5kb20uZWxlbWVudChcInNwYW5cIikpLnNldEF0dHJpYnV0ZShcInN0eWxlXCIsYSkuZ2V0QXR0cmlidXRlKFwic3R5bGVcIil8fFwiXCIpO2EmJihhPUNLRURJVE9SLnRvb2xzLm5vcm1hbGl6ZUhleChDS0VESVRPUi50b29scy5jb252ZXJ0UmdiVG9IZXgoYSkpKTtpZighYXx8XCI7XCI9PWEpcmV0dXJuIGI7YS5yZXBsYWNlKC8mcXVvdDsvZywnXCInKS5yZXBsYWNlKC9cXHMqKFteOjtcXHNdKylcXHMqOlxccyooW147XSspXFxzKig/PTt8JCkvZyxmdW5jdGlvbihhLGQsaCl7ZyYmKGQ9ZC50b0xvd2VyQ2FzZSgpLFwiZm9udC1mYW1pbHlcIj09ZCYmKGg9aC5yZXBsYWNlKC9cXHMqLFxccyovZyxcblwiLFwiKSksaD1DS0VESVRPUi50b29scy50cmltKGgpKTtiW2RdPWh9KTtyZXR1cm4gYn0sd3JpdGVDc3NUZXh0OmZ1bmN0aW9uKGEsZyl7dmFyIGQsYj1bXTtmb3IoZCBpbiBhKWIucHVzaChkK1wiOlwiK2FbZF0pO2cmJmIuc29ydCgpO3JldHVybiBiLmpvaW4oXCI7IFwiKX0sb2JqZWN0Q29tcGFyZTpmdW5jdGlvbihhLGcsZCl7dmFyIGI7aWYoIWEmJiFnKXJldHVybiEwO2lmKCFhfHwhZylyZXR1cm4hMTtmb3IoYiBpbiBhKWlmKGFbYl0hPWdbYl0pcmV0dXJuITE7aWYoIWQpZm9yKGIgaW4gZylpZihhW2JdIT1nW2JdKXJldHVybiExO3JldHVybiEwfSxvYmplY3RLZXlzOmZ1bmN0aW9uKGEpe3ZhciBnPVtdLGQ7Zm9yKGQgaW4gYSlnLnB1c2goZCk7cmV0dXJuIGd9LGNvbnZlcnRBcnJheVRvT2JqZWN0OmZ1bmN0aW9uKGEsZyl7dmFyIGQ9e307MT09YXJndW1lbnRzLmxlbmd0aCYmKGc9ITApO2Zvcih2YXIgYj0wLGg9YS5sZW5ndGg7YjxoOysrYilkW2FbYl1dPWc7cmV0dXJuIGR9LGZpeERvbWFpbjpmdW5jdGlvbigpe2Zvcih2YXIgYTs7KXRyeXthPVxud2luZG93LnBhcmVudC5kb2N1bWVudC5kb21haW47YnJlYWt9Y2F0Y2goZyl7YT1hP2EucmVwbGFjZSgvLis/KD86XFwufCQpLyxcIlwiKTpkb2N1bWVudC5kb21haW47aWYoIWEpYnJlYWs7ZG9jdW1lbnQuZG9tYWluPWF9cmV0dXJuISFhfSxldmVudHNCdWZmZXI6ZnVuY3Rpb24oYSxnLGQpe2Z1bmN0aW9uIGIoKXtjPShuZXcgRGF0ZSkuZ2V0VGltZSgpO2g9ITE7ZD9nLmNhbGwoZCk6ZygpfXZhciBoLGM9MDtyZXR1cm57aW5wdXQ6ZnVuY3Rpb24oKXtpZighaCl7dmFyIGc9KG5ldyBEYXRlKS5nZXRUaW1lKCktYztnPGE/aD1zZXRUaW1lb3V0KGIsYS1nKTpiKCl9fSxyZXNldDpmdW5jdGlvbigpe2gmJmNsZWFyVGltZW91dChoKTtoPWM9MH19fSxlbmFibGVIdG1sNUVsZW1lbnRzOmZ1bmN0aW9uKGEsZyl7Zm9yKHZhciBkPVwiYWJiciBhcnRpY2xlIGFzaWRlIGF1ZGlvIGJkaSBjYW52YXMgZGF0YSBkYXRhbGlzdCBkZXRhaWxzIGZpZ2NhcHRpb24gZmlndXJlIGZvb3RlciBoZWFkZXIgaGdyb3VwIG1haW4gbWFyayBtZXRlciBuYXYgb3V0cHV0IHByb2dyZXNzIHNlY3Rpb24gc3VtbWFyeSB0aW1lIHZpZGVvXCIuc3BsaXQoXCIgXCIpLFxuYj1kLmxlbmd0aCxoO2ItLTspaD1hLmNyZWF0ZUVsZW1lbnQoZFtiXSksZyYmYS5hcHBlbmRDaGlsZChoKX0sY2hlY2tJZkFueUFycmF5SXRlbU1hdGNoZXM6ZnVuY3Rpb24oYSxnKXtmb3IodmFyIGQ9MCxiPWEubGVuZ3RoO2Q8YjsrK2QpaWYoYVtkXS5tYXRjaChnKSlyZXR1cm4hMDtyZXR1cm4hMX0sY2hlY2tJZkFueU9iamVjdFByb3BlcnR5TWF0Y2hlczpmdW5jdGlvbihhLGcpe2Zvcih2YXIgZCBpbiBhKWlmKGQubWF0Y2goZykpcmV0dXJuITA7cmV0dXJuITF9LGtleXN0cm9rZVRvU3RyaW5nOmZ1bmN0aW9uKGEsZyl7dmFyIGQ9ZyYxNjcxMTY4MCxiPWcmNjU1MzUsaD1DS0VESVRPUi5lbnYubWFjLGM9W10sZT1bXTtkJkNLRURJVE9SLkNUUkwmJihjLnB1c2goaD9cIuKMmFwiOmFbMTddKSxlLnB1c2goaD9hWzIyNF06YVsxN10pKTtkJkNLRURJVE9SLkFMVCYmKGMucHVzaChoP1wi4oylXCI6YVsxOF0pLGUucHVzaChhWzE4XSkpO2QmQ0tFRElUT1IuU0hJRlQmJihjLnB1c2goaD9cIuKHp1wiOmFbMTZdKSxcbmUucHVzaChhWzE2XSkpO2ImJihhW2JdPyhjLnB1c2goYVtiXSksZS5wdXNoKGFbYl0pKTooYy5wdXNoKFN0cmluZy5mcm9tQ2hhckNvZGUoYikpLGUucHVzaChTdHJpbmcuZnJvbUNoYXJDb2RlKGIpKSkpO3JldHVybntkaXNwbGF5OmMuam9pbihcIitcIiksYXJpYTplLmpvaW4oXCIrXCIpfX0sdHJhbnNwYXJlbnRJbWFnZURhdGE6XCJkYXRhOmltYWdlL2dpZjtiYXNlNjQsUjBsR09EbGhBUUFCQVBBQkFQLy8vd0FBQUNINUJBRUtBQUFBTEFBQUFBQUJBQUVBQUFJQ1JBRUFPd1xceDNkXFx4M2RcIixnZXRDb29raWU6ZnVuY3Rpb24oYSl7YT1hLnRvTG93ZXJDYXNlKCk7Zm9yKHZhciBnPWRvY3VtZW50LmNvb2tpZS5zcGxpdChcIjtcIiksZCxiLGg9MDtoPGcubGVuZ3RoO2grKylpZihkPWdbaF0uc3BsaXQoXCJcXHgzZFwiKSxiPWRlY29kZVVSSUNvbXBvbmVudChDS0VESVRPUi50b29scy50cmltKGRbMF0pLnRvTG93ZXJDYXNlKCkpLGI9PT1hKXJldHVybiBkZWNvZGVVUklDb21wb25lbnQoMTxkLmxlbmd0aD9cbmRbMV06XCJcIik7cmV0dXJuIG51bGx9LHNldENvb2tpZTpmdW5jdGlvbihhLGcpe2RvY3VtZW50LmNvb2tpZT1lbmNvZGVVUklDb21wb25lbnQoYSkrXCJcXHgzZFwiK2VuY29kZVVSSUNvbXBvbmVudChnKStcIjtwYXRoXFx4M2QvXCJ9LGdldENzcmZUb2tlbjpmdW5jdGlvbigpe3ZhciBhPUNLRURJVE9SLnRvb2xzLmdldENvb2tpZShcImNrQ3NyZlRva2VuXCIpO2lmKCFhfHw0MCE9YS5sZW5ndGgpe3ZhciBhPVtdLGc9XCJcIjtpZih3aW5kb3cuY3J5cHRvJiZ3aW5kb3cuY3J5cHRvLmdldFJhbmRvbVZhbHVlcylhPW5ldyBVaW50OEFycmF5KDQwKSx3aW5kb3cuY3J5cHRvLmdldFJhbmRvbVZhbHVlcyhhKTtlbHNlIGZvcih2YXIgZD0wOzQwPmQ7ZCsrKWEucHVzaChNYXRoLmZsb29yKDI1NipNYXRoLnJhbmRvbSgpKSk7Zm9yKGQ9MDtkPGEubGVuZ3RoO2QrKyl2YXIgYj1cImFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OVwiLmNoYXJBdChhW2RdJTM2KSxnPWcrKC41PE1hdGgucmFuZG9tKCk/XG5iLnRvVXBwZXJDYXNlKCk6Yik7YT1nO0NLRURJVE9SLnRvb2xzLnNldENvb2tpZShcImNrQ3NyZlRva2VuXCIsYSl9cmV0dXJuIGF9LGVzY2FwZUNzczpmdW5jdGlvbihhKXtyZXR1cm4gYT93aW5kb3cuQ1NTJiZDU1MuZXNjYXBlP0NTUy5lc2NhcGUoYSk6aXNOYU4ocGFyc2VJbnQoYS5jaGFyQXQoMCksMTApKT9hOlwiXFxcXDNcIithLmNoYXJBdCgwKStcIiBcIithLnN1YnN0cmluZygxLGEubGVuZ3RoKTpcIlwifX19KCksQ0tFRElUT1IuZHRkPWZ1bmN0aW9uKCl7dmFyIGE9Q0tFRElUT1IudG9vbHMuZXh0ZW5kLGY9ZnVuY3Rpb24oYSxnKXtmb3IodmFyIGQ9Q0tFRElUT1IudG9vbHMuY2xvbmUoYSksYj0xO2I8YXJndW1lbnRzLmxlbmd0aDtiKyspe2c9YXJndW1lbnRzW2JdO2Zvcih2YXIgaCBpbiBnKWRlbGV0ZSBkW2hdfXJldHVybiBkfSxiPXt9LGM9e30sZT17YWRkcmVzczoxLGFydGljbGU6MSxhc2lkZToxLGJsb2NrcXVvdGU6MSxkZXRhaWxzOjEsZGl2OjEsZGw6MSxmaWVsZHNldDoxLGZpZ3VyZToxLFxuZm9vdGVyOjEsZm9ybToxLGgxOjEsaDI6MSxoMzoxLGg0OjEsaDU6MSxoNjoxLGhlYWRlcjoxLGhncm91cDoxLGhyOjEsbWFpbjoxLG1lbnU6MSxuYXY6MSxvbDoxLHA6MSxwcmU6MSxzZWN0aW9uOjEsdGFibGU6MSx1bDoxfSxtPXtjb21tYW5kOjEsbGluazoxLG1ldGE6MSxub3NjcmlwdDoxLHNjcmlwdDoxLHN0eWxlOjF9LGw9e30sZD17XCIjXCI6MX0saD17Y2VudGVyOjEsZGlyOjEsbm9mcmFtZXM6MX07YShiLHthOjEsYWJicjoxLGFyZWE6MSxhdWRpbzoxLGI6MSxiZGk6MSxiZG86MSxicjoxLGJ1dHRvbjoxLGNhbnZhczoxLGNpdGU6MSxjb2RlOjEsY29tbWFuZDoxLGRhdGFsaXN0OjEsZGVsOjEsZGZuOjEsZW06MSxlbWJlZDoxLGk6MSxpZnJhbWU6MSxpbWc6MSxpbnB1dDoxLGluczoxLGtiZDoxLGtleWdlbjoxLGxhYmVsOjEsbWFwOjEsbWFyazoxLG1ldGVyOjEsbm9zY3JpcHQ6MSxvYmplY3Q6MSxvdXRwdXQ6MSxwcm9ncmVzczoxLHE6MSxydWJ5OjEsczoxLHNhbXA6MSxzY3JpcHQ6MSxcbnNlbGVjdDoxLHNtYWxsOjEsc3BhbjoxLHN0cm9uZzoxLHN1YjoxLHN1cDoxLHRleHRhcmVhOjEsdGltZToxLHU6MSxcInZhclwiOjEsdmlkZW86MSx3YnI6MX0sZCx7YWNyb255bToxLGFwcGxldDoxLGJhc2Vmb250OjEsYmlnOjEsZm9udDoxLGlzaW5kZXg6MSxzdHJpa2U6MSxzdHlsZToxLHR0OjF9KTthKGMsZSxiLGgpO2Y9e2E6ZihiLHthOjEsYnV0dG9uOjF9KSxhYmJyOmIsYWRkcmVzczpjLGFyZWE6bCxhcnRpY2xlOmMsYXNpZGU6YyxhdWRpbzphKHtzb3VyY2U6MSx0cmFjazoxfSxjKSxiOmIsYmFzZTpsLGJkaTpiLGJkbzpiLGJsb2NrcXVvdGU6Yyxib2R5OmMsYnI6bCxidXR0b246ZihiLHthOjEsYnV0dG9uOjF9KSxjYW52YXM6YixjYXB0aW9uOmMsY2l0ZTpiLGNvZGU6Yixjb2w6bCxjb2xncm91cDp7Y29sOjF9LGNvbW1hbmQ6bCxkYXRhbGlzdDphKHtvcHRpb246MX0sYiksZGQ6YyxkZWw6YixkZXRhaWxzOmEoe3N1bW1hcnk6MX0sYyksZGZuOmIsZGl2OmMsZGw6e2R0OjEsXG5kZDoxfSxkdDpjLGVtOmIsZW1iZWQ6bCxmaWVsZHNldDphKHtsZWdlbmQ6MX0sYyksZmlnY2FwdGlvbjpjLGZpZ3VyZTphKHtmaWdjYXB0aW9uOjF9LGMpLGZvb3RlcjpjLGZvcm06YyxoMTpiLGgyOmIsaDM6YixoNDpiLGg1OmIsaDY6YixoZWFkOmEoe3RpdGxlOjEsYmFzZToxfSxtKSxoZWFkZXI6YyxoZ3JvdXA6e2gxOjEsaDI6MSxoMzoxLGg0OjEsaDU6MSxoNjoxfSxocjpsLGh0bWw6YSh7aGVhZDoxLGJvZHk6MX0sYyxtKSxpOmIsaWZyYW1lOmQsaW1nOmwsaW5wdXQ6bCxpbnM6YixrYmQ6YixrZXlnZW46bCxsYWJlbDpiLGxlZ2VuZDpiLGxpOmMsbGluazpsLG1haW46YyxtYXA6YyxtYXJrOmIsbWVudTphKHtsaToxfSxjKSxtZXRhOmwsbWV0ZXI6ZihiLHttZXRlcjoxfSksbmF2OmMsbm9zY3JpcHQ6YSh7bGluazoxLG1ldGE6MSxzdHlsZToxfSxiKSxvYmplY3Q6YSh7cGFyYW06MX0sYiksb2w6e2xpOjF9LG9wdGdyb3VwOntvcHRpb246MX0sb3B0aW9uOmQsb3V0cHV0OmIscDpiLFxucGFyYW06bCxwcmU6Yixwcm9ncmVzczpmKGIse3Byb2dyZXNzOjF9KSxxOmIscnA6YixydDpiLHJ1Ynk6YSh7cnA6MSxydDoxfSxiKSxzOmIsc2FtcDpiLHNjcmlwdDpkLHNlY3Rpb246YyxzZWxlY3Q6e29wdGdyb3VwOjEsb3B0aW9uOjF9LHNtYWxsOmIsc291cmNlOmwsc3BhbjpiLHN0cm9uZzpiLHN0eWxlOmQsc3ViOmIsc3VtbWFyeTphKHtoMToxLGgyOjEsaDM6MSxoNDoxLGg1OjEsaDY6MX0sYiksc3VwOmIsdGFibGU6e2NhcHRpb246MSxjb2xncm91cDoxLHRoZWFkOjEsdGZvb3Q6MSx0Ym9keToxLHRyOjF9LHRib2R5Ont0cjoxfSx0ZDpjLHRleHRhcmVhOmQsdGZvb3Q6e3RyOjF9LHRoOmMsdGhlYWQ6e3RyOjF9LHRpbWU6ZihiLHt0aW1lOjF9KSx0aXRsZTpkLHRyOnt0aDoxLHRkOjF9LHRyYWNrOmwsdTpiLHVsOntsaToxfSxcInZhclwiOmIsdmlkZW86YSh7c291cmNlOjEsdHJhY2s6MX0sYyksd2JyOmwsYWNyb255bTpiLGFwcGxldDphKHtwYXJhbToxfSxjKSxiYXNlZm9udDpsLFxuYmlnOmIsY2VudGVyOmMsZGlhbG9nOmwsZGlyOntsaToxfSxmb250OmIsaXNpbmRleDpsLG5vZnJhbWVzOmMsc3RyaWtlOmIsdHQ6Yn07YShmLHskYmxvY2s6YSh7YXVkaW86MSxkZDoxLGR0OjEsZmlnY2FwdGlvbjoxLGxpOjEsdmlkZW86MX0sZSxoKSwkYmxvY2tMaW1pdDp7YXJ0aWNsZToxLGFzaWRlOjEsYXVkaW86MSxib2R5OjEsY2FwdGlvbjoxLGRldGFpbHM6MSxkaXI6MSxkaXY6MSxkbDoxLGZpZWxkc2V0OjEsZmlnY2FwdGlvbjoxLGZpZ3VyZToxLGZvb3RlcjoxLGZvcm06MSxoZWFkZXI6MSxoZ3JvdXA6MSxtYWluOjEsbWVudToxLG5hdjoxLG9sOjEsc2VjdGlvbjoxLHRhYmxlOjEsdGQ6MSx0aDoxLHRyOjEsdWw6MSx2aWRlbzoxfSwkY2RhdGE6e3NjcmlwdDoxLHN0eWxlOjF9LCRlZGl0YWJsZTp7YWRkcmVzczoxLGFydGljbGU6MSxhc2lkZToxLGJsb2NrcXVvdGU6MSxib2R5OjEsZGV0YWlsczoxLGRpdjoxLGZpZWxkc2V0OjEsZmlnY2FwdGlvbjoxLGZvb3RlcjoxLGZvcm06MSxcbmgxOjEsaDI6MSxoMzoxLGg0OjEsaDU6MSxoNjoxLGhlYWRlcjoxLGhncm91cDoxLG1haW46MSxuYXY6MSxwOjEscHJlOjEsc2VjdGlvbjoxfSwkZW1wdHk6e2FyZWE6MSxiYXNlOjEsYmFzZWZvbnQ6MSxicjoxLGNvbDoxLGNvbW1hbmQ6MSxkaWFsb2c6MSxlbWJlZDoxLGhyOjEsaW1nOjEsaW5wdXQ6MSxpc2luZGV4OjEsa2V5Z2VuOjEsbGluazoxLG1ldGE6MSxwYXJhbToxLHNvdXJjZToxLHRyYWNrOjEsd2JyOjF9LCRpbmxpbmU6YiwkbGlzdDp7ZGw6MSxvbDoxLHVsOjF9LCRsaXN0SXRlbTp7ZGQ6MSxkdDoxLGxpOjF9LCRub25Cb2R5Q29udGVudDphKHtib2R5OjEsaGVhZDoxLGh0bWw6MX0sZi5oZWFkKSwkbm9uRWRpdGFibGU6e2FwcGxldDoxLGF1ZGlvOjEsYnV0dG9uOjEsZW1iZWQ6MSxpZnJhbWU6MSxtYXA6MSxvYmplY3Q6MSxvcHRpb246MSxwYXJhbToxLHNjcmlwdDoxLHRleHRhcmVhOjEsdmlkZW86MX0sJG9iamVjdDp7YXBwbGV0OjEsYXVkaW86MSxidXR0b246MSxocjoxLFxuaWZyYW1lOjEsaW1nOjEsaW5wdXQ6MSxvYmplY3Q6MSxzZWxlY3Q6MSx0YWJsZToxLHRleHRhcmVhOjEsdmlkZW86MX0sJHJlbW92ZUVtcHR5OnthYmJyOjEsYWNyb255bToxLGI6MSxiZGk6MSxiZG86MSxiaWc6MSxjaXRlOjEsY29kZToxLGRlbDoxLGRmbjoxLGVtOjEsZm9udDoxLGk6MSxpbnM6MSxsYWJlbDoxLGtiZDoxLG1hcms6MSxtZXRlcjoxLG91dHB1dDoxLHE6MSxydWJ5OjEsczoxLHNhbXA6MSxzbWFsbDoxLHNwYW46MSxzdHJpa2U6MSxzdHJvbmc6MSxzdWI6MSxzdXA6MSx0aW1lOjEsdHQ6MSx1OjEsXCJ2YXJcIjoxfSwkdGFiSW5kZXg6e2E6MSxhcmVhOjEsYnV0dG9uOjEsaW5wdXQ6MSxvYmplY3Q6MSxzZWxlY3Q6MSx0ZXh0YXJlYToxfSwkdGFibGVDb250ZW50OntjYXB0aW9uOjEsY29sOjEsY29sZ3JvdXA6MSx0Ym9keToxLHRkOjEsdGZvb3Q6MSx0aDoxLHRoZWFkOjEsdHI6MX0sJHRyYW5zcGFyZW50OnthOjEsYXVkaW86MSxjYW52YXM6MSxkZWw6MSxpbnM6MSxtYXA6MSxcbm5vc2NyaXB0OjEsb2JqZWN0OjEsdmlkZW86MX0sJGludGVybWVkaWF0ZTp7Y2FwdGlvbjoxLGNvbGdyb3VwOjEsZGQ6MSxkdDoxLGZpZ2NhcHRpb246MSxsZWdlbmQ6MSxsaToxLG9wdGdyb3VwOjEsb3B0aW9uOjEscnA6MSxydDoxLHN1bW1hcnk6MSx0Ym9keToxLHRkOjEsdGZvb3Q6MSx0aDoxLHRoZWFkOjEsdHI6MX19KTtyZXR1cm4gZn0oKSxDS0VESVRPUi5kb20uZXZlbnQ9ZnVuY3Rpb24oYSl7dGhpcy4kPWF9LENLRURJVE9SLmRvbS5ldmVudC5wcm90b3R5cGU9e2dldEtleTpmdW5jdGlvbigpe3JldHVybiB0aGlzLiQua2V5Q29kZXx8dGhpcy4kLndoaWNofSxnZXRLZXlzdHJva2U6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmdldEtleSgpO2lmKHRoaXMuJC5jdHJsS2V5fHx0aGlzLiQubWV0YUtleSlhKz1DS0VESVRPUi5DVFJMO3RoaXMuJC5zaGlmdEtleSYmKGErPUNLRURJVE9SLlNISUZUKTt0aGlzLiQuYWx0S2V5JiYoYSs9Q0tFRElUT1IuQUxUKTtyZXR1cm4gYX0scHJldmVudERlZmF1bHQ6ZnVuY3Rpb24oYSl7dmFyIGY9XG50aGlzLiQ7Zi5wcmV2ZW50RGVmYXVsdD9mLnByZXZlbnREZWZhdWx0KCk6Zi5yZXR1cm5WYWx1ZT0hMTthJiZ0aGlzLnN0b3BQcm9wYWdhdGlvbigpfSxzdG9wUHJvcGFnYXRpb246ZnVuY3Rpb24oKXt2YXIgYT10aGlzLiQ7YS5zdG9wUHJvcGFnYXRpb24/YS5zdG9wUHJvcGFnYXRpb24oKTphLmNhbmNlbEJ1YmJsZT0hMH0sZ2V0VGFyZ2V0OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy4kLnRhcmdldHx8dGhpcy4kLnNyY0VsZW1lbnQ7cmV0dXJuIGE/bmV3IENLRURJVE9SLmRvbS5ub2RlKGEpOm51bGx9LGdldFBoYXNlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJC5ldmVudFBoYXNlfHwyfSxnZXRQYWdlT2Zmc2V0OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5nZXRUYXJnZXQoKS5nZXREb2N1bWVudCgpLiQ7cmV0dXJue3g6dGhpcy4kLnBhZ2VYfHx0aGlzLiQuY2xpZW50WCsoYS5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsTGVmdHx8YS5ib2R5LnNjcm9sbExlZnQpLHk6dGhpcy4kLnBhZ2VZfHxcbnRoaXMuJC5jbGllbnRZKyhhLmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3B8fGEuYm9keS5zY3JvbGxUb3ApfX19LENLRURJVE9SLkNUUkw9MTExNDExMixDS0VESVRPUi5TSElGVD0yMjI4MjI0LENLRURJVE9SLkFMVD00NDU2NDQ4LENLRURJVE9SLkVWRU5UX1BIQVNFX0NBUFRVUklORz0xLENLRURJVE9SLkVWRU5UX1BIQVNFX0FUX1RBUkdFVD0yLENLRURJVE9SLkVWRU5UX1BIQVNFX0JVQkJMSU5HPTMsQ0tFRElUT1IuZG9tLmRvbU9iamVjdD1mdW5jdGlvbihhKXthJiYodGhpcy4kPWEpfSxDS0VESVRPUi5kb20uZG9tT2JqZWN0LnByb3RvdHlwZT1mdW5jdGlvbigpe3ZhciBhPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGZ1bmN0aW9uKGMpe1widW5kZWZpbmVkXCIhPXR5cGVvZiBDS0VESVRPUiYmYS5maXJlKGIsbmV3IENLRURJVE9SLmRvbS5ldmVudChjKSl9fTtyZXR1cm57Z2V0UHJpdmF0ZTpmdW5jdGlvbigpe3ZhciBhOyhhPXRoaXMuZ2V0Q3VzdG9tRGF0YShcIl9cIikpfHx0aGlzLnNldEN1c3RvbURhdGEoXCJfXCIsXG5hPXt9KTtyZXR1cm4gYX0sb246ZnVuY3Rpb24oZil7dmFyIGI9dGhpcy5nZXRDdXN0b21EYXRhKFwiX2NrZV9uYXRpdmVMaXN0ZW5lcnNcIik7Ynx8KGI9e30sdGhpcy5zZXRDdXN0b21EYXRhKFwiX2NrZV9uYXRpdmVMaXN0ZW5lcnNcIixiKSk7YltmXXx8KGI9YltmXT1hKHRoaXMsZiksdGhpcy4kLmFkZEV2ZW50TGlzdGVuZXI/dGhpcy4kLmFkZEV2ZW50TGlzdGVuZXIoZixiLCEhQ0tFRElUT1IuZXZlbnQudXNlQ2FwdHVyZSk6dGhpcy4kLmF0dGFjaEV2ZW50JiZ0aGlzLiQuYXR0YWNoRXZlbnQoXCJvblwiK2YsYikpO3JldHVybiBDS0VESVRPUi5ldmVudC5wcm90b3R5cGUub24uYXBwbHkodGhpcyxhcmd1bWVudHMpfSxyZW1vdmVMaXN0ZW5lcjpmdW5jdGlvbihhKXtDS0VESVRPUi5ldmVudC5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXIuYXBwbHkodGhpcyxhcmd1bWVudHMpO2lmKCF0aGlzLmhhc0xpc3RlbmVycyhhKSl7dmFyIGI9dGhpcy5nZXRDdXN0b21EYXRhKFwiX2NrZV9uYXRpdmVMaXN0ZW5lcnNcIiksXG5jPWImJmJbYV07YyYmKHRoaXMuJC5yZW1vdmVFdmVudExpc3RlbmVyP3RoaXMuJC5yZW1vdmVFdmVudExpc3RlbmVyKGEsYywhMSk6dGhpcy4kLmRldGFjaEV2ZW50JiZ0aGlzLiQuZGV0YWNoRXZlbnQoXCJvblwiK2EsYyksZGVsZXRlIGJbYV0pfX0scmVtb3ZlQWxsTGlzdGVuZXJzOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5nZXRDdXN0b21EYXRhKFwiX2NrZV9uYXRpdmVMaXN0ZW5lcnNcIiksYjtmb3IoYiBpbiBhKXt2YXIgYz1hW2JdO3RoaXMuJC5kZXRhY2hFdmVudD90aGlzLiQuZGV0YWNoRXZlbnQoXCJvblwiK2IsYyk6dGhpcy4kLnJlbW92ZUV2ZW50TGlzdGVuZXImJnRoaXMuJC5yZW1vdmVFdmVudExpc3RlbmVyKGIsYywhMSk7ZGVsZXRlIGFbYl19Q0tFRElUT1IuZXZlbnQucHJvdG90eXBlLnJlbW92ZUFsbExpc3RlbmVycy5jYWxsKHRoaXMpfX19KCksZnVuY3Rpb24oYSl7dmFyIGY9e307Q0tFRElUT1Iub24oXCJyZXNldFwiLGZ1bmN0aW9uKCl7Zj17fX0pO2EuZXF1YWxzPWZ1bmN0aW9uKGEpe3RyeXtyZXR1cm4gYSYmXG5hLiQ9PT10aGlzLiR9Y2F0Y2goYyl7cmV0dXJuITF9fTthLnNldEN1c3RvbURhdGE9ZnVuY3Rpb24oYSxjKXt2YXIgZT10aGlzLmdldFVuaXF1ZUlkKCk7KGZbZV18fChmW2VdPXt9KSlbYV09YztyZXR1cm4gdGhpc307YS5nZXRDdXN0b21EYXRhPWZ1bmN0aW9uKGEpe3ZhciBjPXRoaXMuJFtcImRhdGEtY2tlLWV4cGFuZG9cIl07cmV0dXJuKGM9YyYmZltjXSkmJmEgaW4gYz9jW2FdOm51bGx9O2EucmVtb3ZlQ3VzdG9tRGF0YT1mdW5jdGlvbihhKXt2YXIgYz10aGlzLiRbXCJkYXRhLWNrZS1leHBhbmRvXCJdLGM9YyYmZltjXSxlLG07YyYmKGU9Y1thXSxtPWEgaW4gYyxkZWxldGUgY1thXSk7cmV0dXJuIG0/ZTpudWxsfTthLmNsZWFyQ3VzdG9tRGF0YT1mdW5jdGlvbigpe3RoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKCk7dmFyIGE9dGhpcy4kW1wiZGF0YS1ja2UtZXhwYW5kb1wiXTthJiZkZWxldGUgZlthXX07YS5nZXRVbmlxdWVJZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLiRbXCJkYXRhLWNrZS1leHBhbmRvXCJdfHxcbih0aGlzLiRbXCJkYXRhLWNrZS1leHBhbmRvXCJdPUNLRURJVE9SLnRvb2xzLmdldE5leHROdW1iZXIoKSl9O0NLRURJVE9SLmV2ZW50LmltcGxlbWVudE9uKGEpfShDS0VESVRPUi5kb20uZG9tT2JqZWN0LnByb3RvdHlwZSksQ0tFRElUT1IuZG9tLm5vZGU9ZnVuY3Rpb24oYSl7cmV0dXJuIGE/bmV3IENLRURJVE9SLmRvbVthLm5vZGVUeXBlPT1DS0VESVRPUi5OT0RFX0RPQ1VNRU5UP1wiZG9jdW1lbnRcIjphLm5vZGVUeXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQ/XCJlbGVtZW50XCI6YS5ub2RlVHlwZT09Q0tFRElUT1IuTk9ERV9URVhUP1widGV4dFwiOmEubm9kZVR5cGU9PUNLRURJVE9SLk5PREVfQ09NTUVOVD9cImNvbW1lbnRcIjphLm5vZGVUeXBlPT1DS0VESVRPUi5OT0RFX0RPQ1VNRU5UX0ZSQUdNRU5UP1wiZG9jdW1lbnRGcmFnbWVudFwiOlwiZG9tT2JqZWN0XCJdKGEpOnRoaXN9LENLRURJVE9SLmRvbS5ub2RlLnByb3RvdHlwZT1uZXcgQ0tFRElUT1IuZG9tLmRvbU9iamVjdCxDS0VESVRPUi5OT0RFX0VMRU1FTlQ9XG4xLENLRURJVE9SLk5PREVfRE9DVU1FTlQ9OSxDS0VESVRPUi5OT0RFX1RFWFQ9MyxDS0VESVRPUi5OT0RFX0NPTU1FTlQ9OCxDS0VESVRPUi5OT0RFX0RPQ1VNRU5UX0ZSQUdNRU5UPTExLENLRURJVE9SLlBPU0lUSU9OX0lERU5USUNBTD0wLENLRURJVE9SLlBPU0lUSU9OX0RJU0NPTk5FQ1RFRD0xLENLRURJVE9SLlBPU0lUSU9OX0ZPTExPV0lORz0yLENLRURJVE9SLlBPU0lUSU9OX1BSRUNFRElORz00LENLRURJVE9SLlBPU0lUSU9OX0lTX0NPTlRBSU5FRD04LENLRURJVE9SLlBPU0lUSU9OX0NPTlRBSU5TPTE2LENLRURJVE9SLnRvb2xzLmV4dGVuZChDS0VESVRPUi5kb20ubm9kZS5wcm90b3R5cGUse2FwcGVuZFRvOmZ1bmN0aW9uKGEsZil7YS5hcHBlbmQodGhpcyxmKTtyZXR1cm4gYX0sY2xvbmU6ZnVuY3Rpb24oYSxmKXtmdW5jdGlvbiBiKGMpe2NbXCJkYXRhLWNrZS1leHBhbmRvXCJdJiYoY1tcImRhdGEtY2tlLWV4cGFuZG9cIl09ITEpO2lmKGMubm9kZVR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVHx8XG5jLm5vZGVUeXBlPT1DS0VESVRPUi5OT0RFX0RPQ1VNRU5UX0ZSQUdNRU5UKWlmKGZ8fGMubm9kZVR5cGUhPUNLRURJVE9SLk5PREVfRUxFTUVOVHx8Yy5yZW1vdmVBdHRyaWJ1dGUoXCJpZFwiLCExKSxhKXtjPWMuY2hpbGROb2Rlcztmb3IodmFyIGU9MDtlPGMubGVuZ3RoO2UrKyliKGNbZV0pfX1mdW5jdGlvbiBjKGIpe2lmKGIudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UfHxiLnR5cGU9PUNLRURJVE9SLk5PREVfRE9DVU1FTlRfRlJBR01FTlQpe2lmKGIudHlwZSE9Q0tFRElUT1IuTk9ERV9ET0NVTUVOVF9GUkFHTUVOVCl7dmFyIGU9Yi5nZXROYW1lKCk7XCI6XCI9PWVbMF0mJmIucmVuYW1lTm9kZShlLnN1YnN0cmluZygxKSl9aWYoYSlmb3IoZT0wO2U8Yi5nZXRDaGlsZENvdW50KCk7ZSsrKWMoYi5nZXRDaGlsZChlKSl9fXZhciBlPXRoaXMuJC5jbG9uZU5vZGUoYSk7YihlKTtlPW5ldyBDS0VESVRPUi5kb20ubm9kZShlKTtDS0VESVRPUi5lbnYuaWUmJjk+Q0tFRElUT1IuZW52LnZlcnNpb24mJlxuKHRoaXMudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UfHx0aGlzLnR5cGU9PUNLRURJVE9SLk5PREVfRE9DVU1FTlRfRlJBR01FTlQpJiZjKGUpO3JldHVybiBlfSxoYXNQcmV2aW91czpmdW5jdGlvbigpe3JldHVybiEhdGhpcy4kLnByZXZpb3VzU2libGluZ30saGFzTmV4dDpmdW5jdGlvbigpe3JldHVybiEhdGhpcy4kLm5leHRTaWJsaW5nfSxpbnNlcnRBZnRlcjpmdW5jdGlvbihhKXthLiQucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUodGhpcy4kLGEuJC5uZXh0U2libGluZyk7cmV0dXJuIGF9LGluc2VydEJlZm9yZTpmdW5jdGlvbihhKXthLiQucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUodGhpcy4kLGEuJCk7cmV0dXJuIGF9LGluc2VydEJlZm9yZU1lOmZ1bmN0aW9uKGEpe3RoaXMuJC5wYXJlbnROb2RlLmluc2VydEJlZm9yZShhLiQsdGhpcy4kKTtyZXR1cm4gYX0sZ2V0QWRkcmVzczpmdW5jdGlvbihhKXtmb3IodmFyIGY9W10sYj10aGlzLmdldERvY3VtZW50KCkuJC5kb2N1bWVudEVsZW1lbnQsXG5jPXRoaXMuJDtjJiZjIT1iOyl7dmFyIGU9Yy5wYXJlbnROb2RlO2UmJmYudW5zaGlmdCh0aGlzLmdldEluZGV4LmNhbGwoeyQ6Y30sYSkpO2M9ZX1yZXR1cm4gZn0sZ2V0RG9jdW1lbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IENLRURJVE9SLmRvbS5kb2N1bWVudCh0aGlzLiQub3duZXJEb2N1bWVudHx8dGhpcy4kLnBhcmVudE5vZGUub3duZXJEb2N1bWVudCl9LGdldEluZGV4OmZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGYoYSxkKXt2YXIgaD1kP2EubmV4dFNpYmxpbmc6YS5wcmV2aW91c1NpYmxpbmc7cmV0dXJuIGgmJmgubm9kZVR5cGU9PUNLRURJVE9SLk5PREVfVEVYVD9iKGgpP2YoaCxkKTpoOm51bGx9ZnVuY3Rpb24gYihhKXtyZXR1cm4hYS5ub2RlVmFsdWV8fGEubm9kZVZhbHVlPT1DS0VESVRPUi5kb20uc2VsZWN0aW9uLkZJTExJTkdfQ0hBUl9TRVFVRU5DRX12YXIgYz10aGlzLiQsZT0tMSxtO2lmKCF0aGlzLiQucGFyZW50Tm9kZXx8YSYmYy5ub2RlVHlwZT09Q0tFRElUT1IuTk9ERV9URVhUJiZcbmIoYykmJiFmKGMpJiYhZihjLCEwKSlyZXR1cm4tMTtkbyBhJiZjIT10aGlzLiQmJmMubm9kZVR5cGU9PUNLRURJVE9SLk5PREVfVEVYVCYmKG18fGIoYykpfHwoZSsrLG09Yy5ub2RlVHlwZT09Q0tFRElUT1IuTk9ERV9URVhUKTt3aGlsZShjPWMucHJldmlvdXNTaWJsaW5nKTtyZXR1cm4gZX0sZ2V0TmV4dFNvdXJjZU5vZGU6ZnVuY3Rpb24oYSxmLGIpe2lmKGImJiFiLmNhbGwpe3ZhciBjPWI7Yj1mdW5jdGlvbihhKXtyZXR1cm4hYS5lcXVhbHMoYyl9fWE9IWEmJnRoaXMuZ2V0Rmlyc3QmJnRoaXMuZ2V0Rmlyc3QoKTt2YXIgZTtpZighYSl7aWYodGhpcy50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmImJiExPT09Yih0aGlzLCEwKSlyZXR1cm4gbnVsbDthPXRoaXMuZ2V0TmV4dCgpfWZvcig7IWEmJihlPShlfHx0aGlzKS5nZXRQYXJlbnQoKSk7KXtpZihiJiYhMT09PWIoZSwhMCkpcmV0dXJuIG51bGw7YT1lLmdldE5leHQoKX1yZXR1cm4hYXx8YiYmITE9PT1iKGEpP251bGw6XG5mJiZmIT1hLnR5cGU/YS5nZXROZXh0U291cmNlTm9kZSghMSxmLGIpOmF9LGdldFByZXZpb3VzU291cmNlTm9kZTpmdW5jdGlvbihhLGYsYil7aWYoYiYmIWIuY2FsbCl7dmFyIGM9YjtiPWZ1bmN0aW9uKGEpe3JldHVybiFhLmVxdWFscyhjKX19YT0hYSYmdGhpcy5nZXRMYXN0JiZ0aGlzLmdldExhc3QoKTt2YXIgZTtpZighYSl7aWYodGhpcy50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmImJiExPT09Yih0aGlzLCEwKSlyZXR1cm4gbnVsbDthPXRoaXMuZ2V0UHJldmlvdXMoKX1mb3IoOyFhJiYoZT0oZXx8dGhpcykuZ2V0UGFyZW50KCkpOyl7aWYoYiYmITE9PT1iKGUsITApKXJldHVybiBudWxsO2E9ZS5nZXRQcmV2aW91cygpfXJldHVybiFhfHxiJiYhMT09PWIoYSk/bnVsbDpmJiZhLnR5cGUhPWY/YS5nZXRQcmV2aW91c1NvdXJjZU5vZGUoITEsZixiKTphfSxnZXRQcmV2aW91czpmdW5jdGlvbihhKXt2YXIgZj10aGlzLiQsYjtkbyBiPShmPWYucHJldmlvdXNTaWJsaW5nKSYmXG4xMCE9Zi5ub2RlVHlwZSYmbmV3IENLRURJVE9SLmRvbS5ub2RlKGYpO3doaWxlKGImJmEmJiFhKGIpKTtyZXR1cm4gYn0sZ2V0TmV4dDpmdW5jdGlvbihhKXt2YXIgZj10aGlzLiQsYjtkbyBiPShmPWYubmV4dFNpYmxpbmcpJiZuZXcgQ0tFRElUT1IuZG9tLm5vZGUoZik7d2hpbGUoYiYmYSYmIWEoYikpO3JldHVybiBifSxnZXRQYXJlbnQ6ZnVuY3Rpb24oYSl7dmFyIGY9dGhpcy4kLnBhcmVudE5vZGU7cmV0dXJuIGYmJihmLm5vZGVUeXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlR8fGEmJmYubm9kZVR5cGU9PUNLRURJVE9SLk5PREVfRE9DVU1FTlRfRlJBR01FTlQpP25ldyBDS0VESVRPUi5kb20ubm9kZShmKTpudWxsfSxnZXRQYXJlbnRzOmZ1bmN0aW9uKGEpe3ZhciBmPXRoaXMsYj1bXTtkbyBiW2E/XCJwdXNoXCI6XCJ1bnNoaWZ0XCJdKGYpO3doaWxlKGY9Zi5nZXRQYXJlbnQoKSk7cmV0dXJuIGJ9LGdldENvbW1vbkFuY2VzdG9yOmZ1bmN0aW9uKGEpe2lmKGEuZXF1YWxzKHRoaXMpKXJldHVybiB0aGlzO1xuaWYoYS5jb250YWlucyYmYS5jb250YWlucyh0aGlzKSlyZXR1cm4gYTt2YXIgZj10aGlzLmNvbnRhaW5zP3RoaXM6dGhpcy5nZXRQYXJlbnQoKTtkbyBpZihmLmNvbnRhaW5zKGEpKXJldHVybiBmO3doaWxlKGY9Zi5nZXRQYXJlbnQoKSk7cmV0dXJuIG51bGx9LGdldFBvc2l0aW9uOmZ1bmN0aW9uKGEpe3ZhciBmPXRoaXMuJCxiPWEuJDtpZihmLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKXJldHVybiBmLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKGIpO2lmKGY9PWIpcmV0dXJuIENLRURJVE9SLlBPU0lUSU9OX0lERU5USUNBTDtpZih0aGlzLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmYS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQpe2lmKGYuY29udGFpbnMpe2lmKGYuY29udGFpbnMoYikpcmV0dXJuIENLRURJVE9SLlBPU0lUSU9OX0NPTlRBSU5TK0NLRURJVE9SLlBPU0lUSU9OX1BSRUNFRElORztpZihiLmNvbnRhaW5zKGYpKXJldHVybiBDS0VESVRPUi5QT1NJVElPTl9JU19DT05UQUlORUQrXG5DS0VESVRPUi5QT1NJVElPTl9GT0xMT1dJTkd9aWYoXCJzb3VyY2VJbmRleFwiaW4gZilyZXR1cm4gMD5mLnNvdXJjZUluZGV4fHwwPmIuc291cmNlSW5kZXg/Q0tFRElUT1IuUE9TSVRJT05fRElTQ09OTkVDVEVEOmYuc291cmNlSW5kZXg8Yi5zb3VyY2VJbmRleD9DS0VESVRPUi5QT1NJVElPTl9QUkVDRURJTkc6Q0tFRElUT1IuUE9TSVRJT05fRk9MTE9XSU5HfWY9dGhpcy5nZXRBZGRyZXNzKCk7YT1hLmdldEFkZHJlc3MoKTtmb3IodmFyIGI9TWF0aC5taW4oZi5sZW5ndGgsYS5sZW5ndGgpLGM9MDtjPGI7YysrKWlmKGZbY10hPWFbY10pcmV0dXJuIGZbY108YVtjXT9DS0VESVRPUi5QT1NJVElPTl9QUkVDRURJTkc6Q0tFRElUT1IuUE9TSVRJT05fRk9MTE9XSU5HO3JldHVybiBmLmxlbmd0aDxhLmxlbmd0aD9DS0VESVRPUi5QT1NJVElPTl9DT05UQUlOUytDS0VESVRPUi5QT1NJVElPTl9QUkVDRURJTkc6Q0tFRElUT1IuUE9TSVRJT05fSVNfQ09OVEFJTkVEK0NLRURJVE9SLlBPU0lUSU9OX0ZPTExPV0lOR30sXG5nZXRBc2NlbmRhbnQ6ZnVuY3Rpb24oYSxmKXt2YXIgYj10aGlzLiQsYyxlO2Z8fChiPWIucGFyZW50Tm9kZSk7XCJmdW5jdGlvblwiPT10eXBlb2YgYT8oZT0hMCxjPWEpOihlPSExLGM9ZnVuY3Rpb24oYil7Yj1cInN0cmluZ1wiPT10eXBlb2YgYi5ub2RlTmFtZT9iLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk6XCJcIjtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgYT9iPT1hOmIgaW4gYX0pO2Zvcig7Yjspe2lmKGMoZT9uZXcgQ0tFRElUT1IuZG9tLm5vZGUoYik6YikpcmV0dXJuIG5ldyBDS0VESVRPUi5kb20ubm9kZShiKTt0cnl7Yj1iLnBhcmVudE5vZGV9Y2F0Y2gobSl7Yj1udWxsfX1yZXR1cm4gbnVsbH0saGFzQXNjZW5kYW50OmZ1bmN0aW9uKGEsZil7dmFyIGI9dGhpcy4kO2Z8fChiPWIucGFyZW50Tm9kZSk7Zm9yKDtiOyl7aWYoYi5ub2RlTmFtZSYmYi5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT1hKXJldHVybiEwO2I9Yi5wYXJlbnROb2RlfXJldHVybiExfSxtb3ZlOmZ1bmN0aW9uKGEsZil7YS5hcHBlbmQodGhpcy5yZW1vdmUoKSxcbmYpfSxyZW1vdmU6ZnVuY3Rpb24oYSl7dmFyIGY9dGhpcy4kLGI9Zi5wYXJlbnROb2RlO2lmKGIpe2lmKGEpZm9yKDthPWYuZmlyc3RDaGlsZDspYi5pbnNlcnRCZWZvcmUoZi5yZW1vdmVDaGlsZChhKSxmKTtiLnJlbW92ZUNoaWxkKGYpfXJldHVybiB0aGlzfSxyZXBsYWNlOmZ1bmN0aW9uKGEpe3RoaXMuaW5zZXJ0QmVmb3JlKGEpO2EucmVtb3ZlKCl9LHRyaW06ZnVuY3Rpb24oKXt0aGlzLmx0cmltKCk7dGhpcy5ydHJpbSgpfSxsdHJpbTpmdW5jdGlvbigpe2Zvcih2YXIgYTt0aGlzLmdldEZpcnN0JiYoYT10aGlzLmdldEZpcnN0KCkpOyl7aWYoYS50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFQpe3ZhciBmPUNLRURJVE9SLnRvb2xzLmx0cmltKGEuZ2V0VGV4dCgpKSxiPWEuZ2V0TGVuZ3RoKCk7aWYoZilmLmxlbmd0aDxiJiYoYS5zcGxpdChiLWYubGVuZ3RoKSx0aGlzLiQucmVtb3ZlQ2hpbGQodGhpcy4kLmZpcnN0Q2hpbGQpKTtlbHNle2EucmVtb3ZlKCk7Y29udGludWV9fWJyZWFrfX0sXG5ydHJpbTpmdW5jdGlvbigpe2Zvcih2YXIgYTt0aGlzLmdldExhc3QmJihhPXRoaXMuZ2V0TGFzdCgpKTspe2lmKGEudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUKXt2YXIgZj1DS0VESVRPUi50b29scy5ydHJpbShhLmdldFRleHQoKSksYj1hLmdldExlbmd0aCgpO2lmKGYpZi5sZW5ndGg8YiYmKGEuc3BsaXQoZi5sZW5ndGgpLHRoaXMuJC5sYXN0Q2hpbGQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLiQubGFzdENoaWxkKSk7ZWxzZXthLnJlbW92ZSgpO2NvbnRpbnVlfX1icmVha31DS0VESVRPUi5lbnYubmVlZHNCckZpbGxlciYmKGE9dGhpcy4kLmxhc3RDaGlsZCkmJjE9PWEudHlwZSYmXCJiclwiPT1hLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkmJmEucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChhKX0saXNSZWFkT25seTpmdW5jdGlvbihhKXt2YXIgZj10aGlzO3RoaXMudHlwZSE9Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiYoZj10aGlzLmdldFBhcmVudCgpKTtDS0VESVRPUi5lbnYuZWRnZSYmXG5mJiZmLmlzKFwidGV4dGFyZWFcIixcImlucHV0XCIpJiYoYT0hMCk7aWYoIWEmJmYmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBmLiQuaXNDb250ZW50RWRpdGFibGUpcmV0dXJuIShmLiQuaXNDb250ZW50RWRpdGFibGV8fGYuZGF0YShcImNrZS1lZGl0YWJsZVwiKSk7Zm9yKDtmOyl7aWYoZi5kYXRhKFwiY2tlLWVkaXRhYmxlXCIpKXJldHVybiExO2lmKGYuaGFzQXR0cmlidXRlKFwiY29udGVudGVkaXRhYmxlXCIpKXJldHVyblwiZmFsc2VcIj09Zi5nZXRBdHRyaWJ1dGUoXCJjb250ZW50ZWRpdGFibGVcIik7Zj1mLmdldFBhcmVudCgpfXJldHVybiEwfX0pLENLRURJVE9SLmRvbS53aW5kb3c9ZnVuY3Rpb24oYSl7Q0tFRElUT1IuZG9tLmRvbU9iamVjdC5jYWxsKHRoaXMsYSl9LENLRURJVE9SLmRvbS53aW5kb3cucHJvdG90eXBlPW5ldyBDS0VESVRPUi5kb20uZG9tT2JqZWN0LENLRURJVE9SLnRvb2xzLmV4dGVuZChDS0VESVRPUi5kb20ud2luZG93LnByb3RvdHlwZSx7Zm9jdXM6ZnVuY3Rpb24oKXt0aGlzLiQuZm9jdXMoKX0sXG5nZXRWaWV3UGFuZVNpemU6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLiQuZG9jdW1lbnQsZj1cIkNTUzFDb21wYXRcIj09YS5jb21wYXRNb2RlO3JldHVybnt3aWR0aDooZj9hLmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aDphLmJvZHkuY2xpZW50V2lkdGgpfHwwLGhlaWdodDooZj9hLmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQ6YS5ib2R5LmNsaWVudEhlaWdodCl8fDB9fSxnZXRTY3JvbGxQb3NpdGlvbjpmdW5jdGlvbigpe3ZhciBhPXRoaXMuJDtpZihcInBhZ2VYT2Zmc2V0XCJpbiBhKXJldHVybnt4OmEucGFnZVhPZmZzZXR8fDAseTphLnBhZ2VZT2Zmc2V0fHwwfTthPWEuZG9jdW1lbnQ7cmV0dXJue3g6YS5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsTGVmdHx8YS5ib2R5LnNjcm9sbExlZnR8fDAseTphLmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3B8fGEuYm9keS5zY3JvbGxUb3B8fDB9fSxnZXRGcmFtZTpmdW5jdGlvbigpe3ZhciBhPXRoaXMuJC5mcmFtZUVsZW1lbnQ7cmV0dXJuIGE/XG5uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQuZ2V0KGEpOm51bGx9fSksQ0tFRElUT1IuZG9tLmRvY3VtZW50PWZ1bmN0aW9uKGEpe0NLRURJVE9SLmRvbS5kb21PYmplY3QuY2FsbCh0aGlzLGEpfSxDS0VESVRPUi5kb20uZG9jdW1lbnQucHJvdG90eXBlPW5ldyBDS0VESVRPUi5kb20uZG9tT2JqZWN0LENLRURJVE9SLnRvb2xzLmV4dGVuZChDS0VESVRPUi5kb20uZG9jdW1lbnQucHJvdG90eXBlLHt0eXBlOkNLRURJVE9SLk5PREVfRE9DVU1FTlQsYXBwZW5kU3R5bGVTaGVldDpmdW5jdGlvbihhKXtpZih0aGlzLiQuY3JlYXRlU3R5bGVTaGVldCl0aGlzLiQuY3JlYXRlU3R5bGVTaGVldChhKTtlbHNle3ZhciBmPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudChcImxpbmtcIik7Zi5zZXRBdHRyaWJ1dGVzKHtyZWw6XCJzdHlsZXNoZWV0XCIsdHlwZTpcInRleHQvY3NzXCIsaHJlZjphfSk7dGhpcy5nZXRIZWFkKCkuYXBwZW5kKGYpfX0sYXBwZW5kU3R5bGVUZXh0OmZ1bmN0aW9uKGEpe2lmKHRoaXMuJC5jcmVhdGVTdHlsZVNoZWV0KXt2YXIgZj1cbnRoaXMuJC5jcmVhdGVTdHlsZVNoZWV0KFwiXCIpO2YuY3NzVGV4dD1hfWVsc2V7dmFyIGI9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KFwic3R5bGVcIix0aGlzKTtiLmFwcGVuZChuZXcgQ0tFRElUT1IuZG9tLnRleHQoYSx0aGlzKSk7dGhpcy5nZXRIZWFkKCkuYXBwZW5kKGIpfXJldHVybiBmfHxiLiQuc2hlZXR9LGNyZWF0ZUVsZW1lbnQ6ZnVuY3Rpb24oYSxmKXt2YXIgYj1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoYSx0aGlzKTtmJiYoZi5hdHRyaWJ1dGVzJiZiLnNldEF0dHJpYnV0ZXMoZi5hdHRyaWJ1dGVzKSxmLnN0eWxlcyYmYi5zZXRTdHlsZXMoZi5zdHlsZXMpKTtyZXR1cm4gYn0sY3JlYXRlVGV4dDpmdW5jdGlvbihhKXtyZXR1cm4gbmV3IENLRURJVE9SLmRvbS50ZXh0KGEsdGhpcyl9LGZvY3VzOmZ1bmN0aW9uKCl7dGhpcy5nZXRXaW5kb3coKS5mb2N1cygpfSxnZXRBY3RpdmU6ZnVuY3Rpb24oKXt2YXIgYTt0cnl7YT10aGlzLiQuYWN0aXZlRWxlbWVudH1jYXRjaChmKXtyZXR1cm4gbnVsbH1yZXR1cm4gbmV3IENLRURJVE9SLmRvbS5lbGVtZW50KGEpfSxcbmdldEJ5SWQ6ZnVuY3Rpb24oYSl7cmV0dXJuKGE9dGhpcy4kLmdldEVsZW1lbnRCeUlkKGEpKT9uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoYSk6bnVsbH0sZ2V0QnlBZGRyZXNzOmZ1bmN0aW9uKGEsZil7Zm9yKHZhciBiPXRoaXMuJC5kb2N1bWVudEVsZW1lbnQsYz0wO2ImJmM8YS5sZW5ndGg7YysrKXt2YXIgZT1hW2NdO2lmKGYpZm9yKHZhciBtPS0xLGw9MDtsPGIuY2hpbGROb2Rlcy5sZW5ndGg7bCsrKXt2YXIgZD1iLmNoaWxkTm9kZXNbbF07aWYoITAhPT1mfHwzIT1kLm5vZGVUeXBlfHwhZC5wcmV2aW91c1NpYmxpbmd8fDMhPWQucHJldmlvdXNTaWJsaW5nLm5vZGVUeXBlKWlmKG0rKyxtPT1lKXtiPWQ7YnJlYWt9fWVsc2UgYj1iLmNoaWxkTm9kZXNbZV19cmV0dXJuIGI/bmV3IENLRURJVE9SLmRvbS5ub2RlKGIpOm51bGx9LGdldEVsZW1lbnRzQnlUYWc6ZnVuY3Rpb24oYSxmKXtDS0VESVRPUi5lbnYuaWUmJjg+PWRvY3VtZW50LmRvY3VtZW50TW9kZXx8IWZ8fChhPWYrXCI6XCIrXG5hKTtyZXR1cm4gbmV3IENLRURJVE9SLmRvbS5ub2RlTGlzdCh0aGlzLiQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoYSkpfSxnZXRIZWFkOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy4kLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiaGVhZFwiKVswXTtyZXR1cm4gYT1hP25ldyBDS0VESVRPUi5kb20uZWxlbWVudChhKTp0aGlzLmdldERvY3VtZW50RWxlbWVudCgpLmFwcGVuZChuZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoXCJoZWFkXCIpLCEwKX0sZ2V0Qm9keTpmdW5jdGlvbigpe3JldHVybiBuZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQodGhpcy4kLmJvZHkpfSxnZXREb2N1bWVudEVsZW1lbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IENLRURJVE9SLmRvbS5lbGVtZW50KHRoaXMuJC5kb2N1bWVudEVsZW1lbnQpfSxnZXRXaW5kb3c6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IENLRURJVE9SLmRvbS53aW5kb3codGhpcy4kLnBhcmVudFdpbmRvd3x8dGhpcy4kLmRlZmF1bHRWaWV3KX0sd3JpdGU6ZnVuY3Rpb24oYSl7dGhpcy4kLm9wZW4oXCJ0ZXh0L2h0bWxcIixcblwicmVwbGFjZVwiKTtDS0VESVRPUi5lbnYuaWUmJihhPWEucmVwbGFjZSgvKD86Xlxccyo8IURPQ1RZUEVbXj5dKj8+KXxeL2ksJyRcXHgyNlxcblxceDNjc2NyaXB0IGRhdGEtY2tlLXRlbXBcXHgzZFwiMVwiXFx4M2UoJytDS0VESVRPUi50b29scy5maXhEb21haW4rXCIpKCk7XFx4M2Mvc2NyaXB0XFx4M2VcIikpO3RoaXMuJC53cml0ZShhKTt0aGlzLiQuY2xvc2UoKX0sZmluZDpmdW5jdGlvbihhKXtyZXR1cm4gbmV3IENLRURJVE9SLmRvbS5ub2RlTGlzdCh0aGlzLiQucXVlcnlTZWxlY3RvckFsbChhKSl9LGZpbmRPbmU6ZnVuY3Rpb24oYSl7cmV0dXJuKGE9dGhpcy4kLnF1ZXJ5U2VsZWN0b3IoYSkpP25ldyBDS0VESVRPUi5kb20uZWxlbWVudChhKTpudWxsfSxfZ2V0SHRtbDVTaGl2RnJhZzpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZ2V0Q3VzdG9tRGF0YShcImh0bWw1U2hpdkZyYWdcIik7YXx8KGE9dGhpcy4kLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSxDS0VESVRPUi50b29scy5lbmFibGVIdG1sNUVsZW1lbnRzKGEsXG4hMCksdGhpcy5zZXRDdXN0b21EYXRhKFwiaHRtbDVTaGl2RnJhZ1wiLGEpKTtyZXR1cm4gYX19KSxDS0VESVRPUi5kb20ubm9kZUxpc3Q9ZnVuY3Rpb24oYSl7dGhpcy4kPWF9LENLRURJVE9SLmRvbS5ub2RlTGlzdC5wcm90b3R5cGU9e2NvdW50OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJC5sZW5ndGh9LGdldEl0ZW06ZnVuY3Rpb24oYSl7cmV0dXJuIDA+YXx8YT49dGhpcy4kLmxlbmd0aD9udWxsOihhPXRoaXMuJFthXSk/bmV3IENLRURJVE9SLmRvbS5ub2RlKGEpOm51bGx9fSxDS0VESVRPUi5kb20uZWxlbWVudD1mdW5jdGlvbihhLGYpe1wic3RyaW5nXCI9PXR5cGVvZiBhJiYoYT0oZj9mLiQ6ZG9jdW1lbnQpLmNyZWF0ZUVsZW1lbnQoYSkpO0NLRURJVE9SLmRvbS5kb21PYmplY3QuY2FsbCh0aGlzLGEpfSxDS0VESVRPUi5kb20uZWxlbWVudC5nZXQ9ZnVuY3Rpb24oYSl7cmV0dXJuKGE9XCJzdHJpbmdcIj09dHlwZW9mIGE/ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYSl8fGRvY3VtZW50LmdldEVsZW1lbnRzQnlOYW1lKGEpWzBdOlxuYSkmJihhLiQ/YTpuZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoYSkpfSxDS0VESVRPUi5kb20uZWxlbWVudC5wcm90b3R5cGU9bmV3IENLRURJVE9SLmRvbS5ub2RlLENLRURJVE9SLmRvbS5lbGVtZW50LmNyZWF0ZUZyb21IdG1sPWZ1bmN0aW9uKGEsZil7dmFyIGI9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KFwiZGl2XCIsZik7Yi5zZXRIdG1sKGEpO3JldHVybiBiLmdldEZpcnN0KCkucmVtb3ZlKCl9LENLRURJVE9SLmRvbS5lbGVtZW50LnNldE1hcmtlcj1mdW5jdGlvbihhLGYsYixjKXt2YXIgZT1mLmdldEN1c3RvbURhdGEoXCJsaXN0X21hcmtlcl9pZFwiKXx8Zi5zZXRDdXN0b21EYXRhKFwibGlzdF9tYXJrZXJfaWRcIixDS0VESVRPUi50b29scy5nZXROZXh0TnVtYmVyKCkpLmdldEN1c3RvbURhdGEoXCJsaXN0X21hcmtlcl9pZFwiKSxtPWYuZ2V0Q3VzdG9tRGF0YShcImxpc3RfbWFya2VyX25hbWVzXCIpfHxmLnNldEN1c3RvbURhdGEoXCJsaXN0X21hcmtlcl9uYW1lc1wiLHt9KS5nZXRDdXN0b21EYXRhKFwibGlzdF9tYXJrZXJfbmFtZXNcIik7XG5hW2VdPWY7bVtiXT0xO3JldHVybiBmLnNldEN1c3RvbURhdGEoYixjKX0sQ0tFRElUT1IuZG9tLmVsZW1lbnQuY2xlYXJBbGxNYXJrZXJzPWZ1bmN0aW9uKGEpe2Zvcih2YXIgZiBpbiBhKUNLRURJVE9SLmRvbS5lbGVtZW50LmNsZWFyTWFya2VycyhhLGFbZl0sMSl9LENLRURJVE9SLmRvbS5lbGVtZW50LmNsZWFyTWFya2Vycz1mdW5jdGlvbihhLGYsYil7dmFyIGM9Zi5nZXRDdXN0b21EYXRhKFwibGlzdF9tYXJrZXJfbmFtZXNcIiksZT1mLmdldEN1c3RvbURhdGEoXCJsaXN0X21hcmtlcl9pZFwiKSxtO2ZvcihtIGluIGMpZi5yZW1vdmVDdXN0b21EYXRhKG0pO2YucmVtb3ZlQ3VzdG9tRGF0YShcImxpc3RfbWFya2VyX25hbWVzXCIpO2ImJihmLnJlbW92ZUN1c3RvbURhdGEoXCJsaXN0X21hcmtlcl9pZFwiKSxkZWxldGUgYVtlXSl9LGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhLGIpe3JldHVybi0xPChcIiBcIithK1wiIFwiKS5yZXBsYWNlKG0sXCIgXCIpLmluZGV4T2YoXCIgXCIrYitcIiBcIil9ZnVuY3Rpb24gZihhKXt2YXIgYj1cbiEwO2EuJC5pZHx8KGEuJC5pZD1cImNrZV90bXBfXCIrQ0tFRElUT1IudG9vbHMuZ2V0TmV4dE51bWJlcigpLGI9ITEpO3JldHVybiBmdW5jdGlvbigpe2J8fGEucmVtb3ZlQXR0cmlidXRlKFwiaWRcIil9fWZ1bmN0aW9uIGIoYSxiKXt2YXIgYz1DS0VESVRPUi50b29scy5lc2NhcGVDc3MoYS4kLmlkKTtyZXR1cm5cIiNcIitjK1wiIFwiK2Iuc3BsaXQoLyxcXHMqLykuam9pbihcIiwgI1wiK2MrXCIgXCIpfWZ1bmN0aW9uIGMoYSl7Zm9yKHZhciBiPTAsYz0wLGc9bFthXS5sZW5ndGg7YzxnO2MrKyliKz1wYXJzZUludCh0aGlzLmdldENvbXB1dGVkU3R5bGUobFthXVtjXSl8fDAsMTApfHwwO3JldHVybiBifXZhciBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJfXCIpLmNsYXNzTGlzdCxlPVwidW5kZWZpbmVkXCIhPT10eXBlb2YgZSYmbnVsbCE9PVN0cmluZyhlLmFkZCkubWF0Y2goL1xcW05hdGl2ZSBjb2RlXFxdL2dpKSxtPS9bXFxuXFx0XFxyXS9nO0NLRURJVE9SLnRvb2xzLmV4dGVuZChDS0VESVRPUi5kb20uZWxlbWVudC5wcm90b3R5cGUsXG57dHlwZTpDS0VESVRPUi5OT0RFX0VMRU1FTlQsYWRkQ2xhc3M6ZT9mdW5jdGlvbihhKXt0aGlzLiQuY2xhc3NMaXN0LmFkZChhKTtyZXR1cm4gdGhpc306ZnVuY3Rpb24oZCl7dmFyIGI9dGhpcy4kLmNsYXNzTmFtZTtiJiYoYShiLGQpfHwoYis9XCIgXCIrZCkpO3RoaXMuJC5jbGFzc05hbWU9Ynx8ZDtyZXR1cm4gdGhpc30scmVtb3ZlQ2xhc3M6ZT9mdW5jdGlvbihhKXt2YXIgYj10aGlzLiQ7Yi5jbGFzc0xpc3QucmVtb3ZlKGEpO2IuY2xhc3NOYW1lfHxiLnJlbW92ZUF0dHJpYnV0ZShcImNsYXNzXCIpO3JldHVybiB0aGlzfTpmdW5jdGlvbihkKXt2YXIgYj10aGlzLmdldEF0dHJpYnV0ZShcImNsYXNzXCIpO2ImJmEoYixkKSYmKChiPWIucmVwbGFjZShuZXcgUmVnRXhwKFwiKD86XnxcXFxccyspXCIrZCtcIig/XFx4M2RcXFxcc3wkKVwiKSxcIlwiKS5yZXBsYWNlKC9eXFxzKy8sXCJcIikpP3RoaXMuc2V0QXR0cmlidXRlKFwiY2xhc3NcIixiKTp0aGlzLnJlbW92ZUF0dHJpYnV0ZShcImNsYXNzXCIpKTtyZXR1cm4gdGhpc30sXG5oYXNDbGFzczpmdW5jdGlvbihkKXtyZXR1cm4gYSh0aGlzLiQuY2xhc3NOYW1lLGQpfSxhcHBlbmQ6ZnVuY3Rpb24oYSxiKXtcInN0cmluZ1wiPT10eXBlb2YgYSYmKGE9dGhpcy5nZXREb2N1bWVudCgpLmNyZWF0ZUVsZW1lbnQoYSkpO2I/dGhpcy4kLmluc2VydEJlZm9yZShhLiQsdGhpcy4kLmZpcnN0Q2hpbGQpOnRoaXMuJC5hcHBlbmRDaGlsZChhLiQpO3JldHVybiBhfSxhcHBlbmRIdG1sOmZ1bmN0aW9uKGEpe2lmKHRoaXMuJC5jaGlsZE5vZGVzLmxlbmd0aCl7dmFyIGI9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KFwiZGl2XCIsdGhpcy5nZXREb2N1bWVudCgpKTtiLnNldEh0bWwoYSk7Yi5tb3ZlQ2hpbGRyZW4odGhpcyl9ZWxzZSB0aGlzLnNldEh0bWwoYSl9LGFwcGVuZFRleHQ6ZnVuY3Rpb24oYSl7bnVsbCE9dGhpcy4kLnRleHQmJkNLRURJVE9SLmVudi5pZSYmOT5DS0VESVRPUi5lbnYudmVyc2lvbj90aGlzLiQudGV4dCs9YTp0aGlzLmFwcGVuZChuZXcgQ0tFRElUT1IuZG9tLnRleHQoYSkpfSxcbmFwcGVuZEJvZ3VzOmZ1bmN0aW9uKGEpe2lmKGF8fENLRURJVE9SLmVudi5uZWVkc0JyRmlsbGVyKXtmb3IoYT10aGlzLmdldExhc3QoKTthJiZhLnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVCYmIUNLRURJVE9SLnRvb2xzLnJ0cmltKGEuZ2V0VGV4dCgpKTspYT1hLmdldFByZXZpb3VzKCk7YSYmYS5pcyYmYS5pcyhcImJyXCIpfHwoYT10aGlzLmdldERvY3VtZW50KCkuY3JlYXRlRWxlbWVudChcImJyXCIpLENLRURJVE9SLmVudi5nZWNrbyYmYS5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsXCJfbW96XCIpLHRoaXMuYXBwZW5kKGEpKX19LGJyZWFrUGFyZW50OmZ1bmN0aW9uKGEsYil7dmFyIGM9bmV3IENLRURJVE9SLmRvbS5yYW5nZSh0aGlzLmdldERvY3VtZW50KCkpO2Muc2V0U3RhcnRBZnRlcih0aGlzKTtjLnNldEVuZEFmdGVyKGEpO3ZhciBnPWMuZXh0cmFjdENvbnRlbnRzKCExLGJ8fCExKSxlO2MuaW5zZXJ0Tm9kZSh0aGlzLnJlbW92ZSgpKTtpZihDS0VESVRPUi5lbnYuaWUmJiFDS0VESVRPUi5lbnYuZWRnZSl7Zm9yKGM9XG5uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoXCJkaXZcIik7ZT1nLmdldEZpcnN0KCk7KWUuJC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3ImJihlLiQuc3R5bGUuYmFja2dyb3VuZENvbG9yPWUuJC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IpLGMuYXBwZW5kKGUpO2MuaW5zZXJ0QWZ0ZXIodGhpcyk7Yy5yZW1vdmUoITApfWVsc2UgZy5pbnNlcnRBZnRlck5vZGUodGhpcyl9LGNvbnRhaW5zOmRvY3VtZW50LmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uP2Z1bmN0aW9uKGEpe3JldHVybiEhKHRoaXMuJC5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihhLiQpJjE2KX06ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy4kO3JldHVybiBhLnR5cGUhPUNLRURJVE9SLk5PREVfRUxFTUVOVD9iLmNvbnRhaW5zKGEuZ2V0UGFyZW50KCkuJCk6YiE9YS4kJiZiLmNvbnRhaW5zKGEuJCl9LGZvY3VzOmZ1bmN0aW9uKCl7ZnVuY3Rpb24gYSgpe3RyeXt0aGlzLiQuZm9jdXMoKX1jYXRjaChiKXt9fXJldHVybiBmdW5jdGlvbihiKXtiP1xuQ0tFRElUT1IudG9vbHMuc2V0VGltZW91dChhLDEwMCx0aGlzKTphLmNhbGwodGhpcyl9fSgpLGdldEh0bWw6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLiQuaW5uZXJIVE1MO3JldHVybiBDS0VESVRPUi5lbnYuaWU/YS5yZXBsYWNlKC88XFw/W14+XSo+L2csXCJcIik6YX0sZ2V0T3V0ZXJIdG1sOmZ1bmN0aW9uKCl7aWYodGhpcy4kLm91dGVySFRNTClyZXR1cm4gdGhpcy4kLm91dGVySFRNTC5yZXBsYWNlKC88XFw/W14+XSo+LyxcIlwiKTt2YXIgYT10aGlzLiQub3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO2EuYXBwZW5kQ2hpbGQodGhpcy4kLmNsb25lTm9kZSghMCkpO3JldHVybiBhLmlubmVySFRNTH0sZ2V0Q2xpZW50UmVjdDpmdW5jdGlvbigpe3ZhciBhPUNLRURJVE9SLnRvb2xzLmV4dGVuZCh7fSx0aGlzLiQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkpOyFhLndpZHRoJiYoYS53aWR0aD1hLnJpZ2h0LWEubGVmdCk7IWEuaGVpZ2h0JiYoYS5oZWlnaHQ9YS5ib3R0b20tYS50b3ApO1xucmV0dXJuIGF9LHNldEh0bWw6Q0tFRElUT1IuZW52LmllJiY5PkNLRURJVE9SLmVudi52ZXJzaW9uP2Z1bmN0aW9uKGEpe3RyeXt2YXIgYj10aGlzLiQ7aWYodGhpcy5nZXRQYXJlbnQoKSlyZXR1cm4gYi5pbm5lckhUTUw9YTt2YXIgYz10aGlzLmdldERvY3VtZW50KCkuX2dldEh0bWw1U2hpdkZyYWcoKTtjLmFwcGVuZENoaWxkKGIpO2IuaW5uZXJIVE1MPWE7Yy5yZW1vdmVDaGlsZChiKTtyZXR1cm4gYX1jYXRjaChnKXt0aGlzLiQuaW5uZXJIVE1MPVwiXCI7Yj1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoXCJib2R5XCIsdGhpcy5nZXREb2N1bWVudCgpKTtiLiQuaW5uZXJIVE1MPWE7Zm9yKGI9Yi5nZXRDaGlsZHJlbigpO2IuY291bnQoKTspdGhpcy5hcHBlbmQoYi5nZXRJdGVtKDApKTtyZXR1cm4gYX19OmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLiQuaW5uZXJIVE1MPWF9LHNldFRleHQ6ZnVuY3Rpb24oKXt2YXIgYT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTthLmlubmVySFRNTD1cblwieFwiO2E9YS50ZXh0Q29udGVudDtyZXR1cm4gZnVuY3Rpb24oYil7dGhpcy4kW2E/XCJ0ZXh0Q29udGVudFwiOlwiaW5uZXJUZXh0XCJdPWJ9fSgpLGdldEF0dHJpYnV0ZTpmdW5jdGlvbigpe3ZhciBhPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLiQuZ2V0QXR0cmlidXRlKGEsMil9O3JldHVybiBDS0VESVRPUi5lbnYuaWUmJihDS0VESVRPUi5lbnYuaWU3Q29tcGF0fHxDS0VESVRPUi5lbnYucXVpcmtzKT9mdW5jdGlvbihhKXtzd2l0Y2goYSl7Y2FzZSBcImNsYXNzXCI6YT1cImNsYXNzTmFtZVwiO2JyZWFrO2Nhc2UgXCJodHRwLWVxdWl2XCI6YT1cImh0dHBFcXVpdlwiO2JyZWFrO2Nhc2UgXCJuYW1lXCI6cmV0dXJuIHRoaXMuJC5uYW1lO2Nhc2UgXCJ0YWJpbmRleFwiOnJldHVybiBhPXRoaXMuJC5nZXRBdHRyaWJ1dGUoYSwyKSwwIT09YSYmMD09PXRoaXMuJC50YWJJbmRleCYmKGE9bnVsbCksYTtjYXNlIFwiY2hlY2tlZFwiOnJldHVybiBhPXRoaXMuJC5hdHRyaWJ1dGVzLmdldE5hbWVkSXRlbShhKSwoYS5zcGVjaWZpZWQ/XG5hLm5vZGVWYWx1ZTp0aGlzLiQuY2hlY2tlZCk/XCJjaGVja2VkXCI6bnVsbDtjYXNlIFwiaHNwYWNlXCI6Y2FzZSBcInZhbHVlXCI6cmV0dXJuIHRoaXMuJFthXTtjYXNlIFwic3R5bGVcIjpyZXR1cm4gdGhpcy4kLnN0eWxlLmNzc1RleHQ7Y2FzZSBcImNvbnRlbnRlZGl0YWJsZVwiOmNhc2UgXCJjb250ZW50RWRpdGFibGVcIjpyZXR1cm4gdGhpcy4kLmF0dHJpYnV0ZXMuZ2V0TmFtZWRJdGVtKFwiY29udGVudEVkaXRhYmxlXCIpLnNwZWNpZmllZD90aGlzLiQuZ2V0QXR0cmlidXRlKFwiY29udGVudEVkaXRhYmxlXCIpOm51bGx9cmV0dXJuIHRoaXMuJC5nZXRBdHRyaWJ1dGUoYSwyKX06YX0oKSxnZXRBdHRyaWJ1dGVzOmZ1bmN0aW9uKGEpe3ZhciBiPXt9LGM9dGhpcy4kLmF0dHJpYnV0ZXMsZzthPUNLRURJVE9SLnRvb2xzLmlzQXJyYXkoYSk/YTpbXTtmb3IoZz0wO2c8Yy5sZW5ndGg7ZysrKS0xPT09Q0tFRElUT1IudG9vbHMuaW5kZXhPZihhLGNbZ10ubmFtZSkmJihiW2NbZ10ubmFtZV09Y1tnXS52YWx1ZSk7XG5yZXR1cm4gYn0sZ2V0Q2hpbGRyZW46ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IENLRURJVE9SLmRvbS5ub2RlTGlzdCh0aGlzLiQuY2hpbGROb2Rlcyl9LGdldENvbXB1dGVkU3R5bGU6ZG9jdW1lbnQuZGVmYXVsdFZpZXcmJmRvY3VtZW50LmRlZmF1bHRWaWV3LmdldENvbXB1dGVkU3R5bGU/ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5nZXRXaW5kb3coKS4kLmdldENvbXB1dGVkU3R5bGUodGhpcy4kLG51bGwpO3JldHVybiBiP2IuZ2V0UHJvcGVydHlWYWx1ZShhKTpcIlwifTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy4kLmN1cnJlbnRTdHlsZVtDS0VESVRPUi50b29scy5jc3NTdHlsZVRvRG9tU3R5bGUoYSldfSxnZXREdGQ6ZnVuY3Rpb24oKXt2YXIgYT1DS0VESVRPUi5kdGRbdGhpcy5nZXROYW1lKCldO3RoaXMuZ2V0RHRkPWZ1bmN0aW9uKCl7cmV0dXJuIGF9O3JldHVybiBhfSxnZXRFbGVtZW50c0J5VGFnOkNLRURJVE9SLmRvbS5kb2N1bWVudC5wcm90b3R5cGUuZ2V0RWxlbWVudHNCeVRhZyxcbmdldFRhYkluZGV4OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy4kLnRhYkluZGV4O3JldHVybiAwIT09YXx8Q0tFRElUT1IuZHRkLiR0YWJJbmRleFt0aGlzLmdldE5hbWUoKV18fDA9PT1wYXJzZUludCh0aGlzLmdldEF0dHJpYnV0ZShcInRhYmluZGV4XCIpLDEwKT9hOi0xfSxnZXRUZXh0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJC50ZXh0Q29udGVudHx8dGhpcy4kLmlubmVyVGV4dHx8XCJcIn0sZ2V0V2luZG93OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0RG9jdW1lbnQoKS5nZXRXaW5kb3coKX0sZ2V0SWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kLmlkfHxudWxsfSxnZXROYW1lQXR0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJC5uYW1lfHxudWxsfSxnZXROYW1lOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy4kLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7aWYoQ0tFRElUT1IuZW52LmllJiY4Pj1kb2N1bWVudC5kb2N1bWVudE1vZGUpe3ZhciBiPXRoaXMuJC5zY29wZU5hbWU7XCJIVE1MXCIhPVxuYiYmKGE9Yi50b0xvd2VyQ2FzZSgpK1wiOlwiK2EpfXRoaXMuZ2V0TmFtZT1mdW5jdGlvbigpe3JldHVybiBhfTtyZXR1cm4gdGhpcy5nZXROYW1lKCl9LGdldFZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJC52YWx1ZX0sZ2V0Rmlyc3Q6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy4kLmZpcnN0Q2hpbGQ7KGI9YiYmbmV3IENLRURJVE9SLmRvbS5ub2RlKGIpKSYmYSYmIWEoYikmJihiPWIuZ2V0TmV4dChhKSk7cmV0dXJuIGJ9LGdldExhc3Q6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy4kLmxhc3RDaGlsZDsoYj1iJiZuZXcgQ0tFRElUT1IuZG9tLm5vZGUoYikpJiZhJiYhYShiKSYmKGI9Yi5nZXRQcmV2aW91cyhhKSk7cmV0dXJuIGJ9LGdldFN0eWxlOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLiQuc3R5bGVbQ0tFRElUT1IudG9vbHMuY3NzU3R5bGVUb0RvbVN0eWxlKGEpXX0saXM6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmdldE5hbWUoKTtpZihcIm9iamVjdFwiPT10eXBlb2YgYXJndW1lbnRzWzBdKXJldHVybiEhYXJndW1lbnRzWzBdW2FdO1xuZm9yKHZhciBiPTA7Yjxhcmd1bWVudHMubGVuZ3RoO2IrKylpZihhcmd1bWVudHNbYl09PWEpcmV0dXJuITA7cmV0dXJuITF9LGlzRWRpdGFibGU6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5nZXROYW1lKCk7cmV0dXJuIHRoaXMuaXNSZWFkT25seSgpfHxcIm5vbmVcIj09dGhpcy5nZXRDb21wdXRlZFN0eWxlKFwiZGlzcGxheVwiKXx8XCJoaWRkZW5cIj09dGhpcy5nZXRDb21wdXRlZFN0eWxlKFwidmlzaWJpbGl0eVwiKXx8Q0tFRElUT1IuZHRkLiRub25FZGl0YWJsZVtiXXx8Q0tFRElUT1IuZHRkLiRlbXB0eVtiXXx8dGhpcy5pcyhcImFcIikmJih0aGlzLmRhdGEoXCJja2Utc2F2ZWQtbmFtZVwiKXx8dGhpcy5oYXNBdHRyaWJ1dGUoXCJuYW1lXCIpKSYmIXRoaXMuZ2V0Q2hpbGRDb3VudCgpPyExOiExIT09YT8oYT1DS0VESVRPUi5kdGRbYl18fENLRURJVE9SLmR0ZC5zcGFuLCEoIWF8fCFhW1wiI1wiXSkpOiEwfSxpc0lkZW50aWNhbDpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmNsb25lKDAsMSk7YT1hLmNsb25lKDAsXG4xKTtiLnJlbW92ZUF0dHJpYnV0ZXMoW1wiX21vel9kaXJ0eVwiLFwiZGF0YS1ja2UtZXhwYW5kb1wiLFwiZGF0YS1ja2Utc2F2ZWQtaHJlZlwiLFwiZGF0YS1ja2Utc2F2ZWQtbmFtZVwiXSk7YS5yZW1vdmVBdHRyaWJ1dGVzKFtcIl9tb3pfZGlydHlcIixcImRhdGEtY2tlLWV4cGFuZG9cIixcImRhdGEtY2tlLXNhdmVkLWhyZWZcIixcImRhdGEtY2tlLXNhdmVkLW5hbWVcIl0pO2lmKGIuJC5pc0VxdWFsTm9kZSlyZXR1cm4gYi4kLnN0eWxlLmNzc1RleHQ9Q0tFRElUT1IudG9vbHMubm9ybWFsaXplQ3NzVGV4dChiLiQuc3R5bGUuY3NzVGV4dCksYS4kLnN0eWxlLmNzc1RleHQ9Q0tFRElUT1IudG9vbHMubm9ybWFsaXplQ3NzVGV4dChhLiQuc3R5bGUuY3NzVGV4dCksYi4kLmlzRXF1YWxOb2RlKGEuJCk7Yj1iLmdldE91dGVySHRtbCgpO2E9YS5nZXRPdXRlckh0bWwoKTtpZihDS0VESVRPUi5lbnYuaWUmJjk+Q0tFRElUT1IuZW52LnZlcnNpb24mJnRoaXMuaXMoXCJhXCIpKXt2YXIgYz10aGlzLmdldFBhcmVudCgpO1xuYy50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJihjPWMuY2xvbmUoKSxjLnNldEh0bWwoYiksYj1jLmdldEh0bWwoKSxjLnNldEh0bWwoYSksYT1jLmdldEh0bWwoKSl9cmV0dXJuIGI9PWF9LGlzVmlzaWJsZTpmdW5jdGlvbigpe3ZhciBhPSh0aGlzLiQub2Zmc2V0SGVpZ2h0fHx0aGlzLiQub2Zmc2V0V2lkdGgpJiZcImhpZGRlblwiIT10aGlzLmdldENvbXB1dGVkU3R5bGUoXCJ2aXNpYmlsaXR5XCIpLGIsYzthJiZDS0VESVRPUi5lbnYud2Via2l0JiYoYj10aGlzLmdldFdpbmRvdygpLCFiLmVxdWFscyhDS0VESVRPUi5kb2N1bWVudC5nZXRXaW5kb3coKSkmJihjPWIuJC5mcmFtZUVsZW1lbnQpJiYoYT0obmV3IENLRURJVE9SLmRvbS5lbGVtZW50KGMpKS5pc1Zpc2libGUoKSkpO3JldHVybiEhYX0saXNFbXB0eUlubGluZVJlbW92ZWFibGU6ZnVuY3Rpb24oKXtpZighQ0tFRElUT1IuZHRkLiRyZW1vdmVFbXB0eVt0aGlzLmdldE5hbWUoKV0pcmV0dXJuITE7Zm9yKHZhciBhPXRoaXMuZ2V0Q2hpbGRyZW4oKSxcbmI9MCxjPWEuY291bnQoKTtiPGM7YisrKXt2YXIgZz1hLmdldEl0ZW0oYik7aWYoZy50eXBlIT1DS0VESVRPUi5OT0RFX0VMRU1FTlR8fCFnLmRhdGEoXCJja2UtYm9va21hcmtcIikpaWYoZy50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJiFnLmlzRW1wdHlJbmxpbmVSZW1vdmVhYmxlKCl8fGcudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUJiZDS0VESVRPUi50b29scy50cmltKGcuZ2V0VGV4dCgpKSlyZXR1cm4hMX1yZXR1cm4hMH0saGFzQXR0cmlidXRlczpDS0VESVRPUi5lbnYuaWUmJihDS0VESVRPUi5lbnYuaWU3Q29tcGF0fHxDS0VESVRPUi5lbnYucXVpcmtzKT9mdW5jdGlvbigpe2Zvcih2YXIgYT10aGlzLiQuYXR0cmlidXRlcyxiPTA7YjxhLmxlbmd0aDtiKyspe3ZhciBjPWFbYl07c3dpdGNoKGMubm9kZU5hbWUpe2Nhc2UgXCJjbGFzc1wiOmlmKHRoaXMuZ2V0QXR0cmlidXRlKFwiY2xhc3NcIikpcmV0dXJuITA7Y2FzZSBcImRhdGEtY2tlLWV4cGFuZG9cIjpjb250aW51ZTtkZWZhdWx0OmlmKGMuc3BlY2lmaWVkKXJldHVybiEwfX1yZXR1cm4hMX06XG5mdW5jdGlvbigpe3ZhciBhPXRoaXMuJC5hdHRyaWJ1dGVzLGI9YS5sZW5ndGgsYz17XCJkYXRhLWNrZS1leHBhbmRvXCI6MSxfbW96X2RpcnR5OjF9O3JldHVybiAwPGImJigyPGJ8fCFjW2FbMF0ubm9kZU5hbWVdfHwyPT1iJiYhY1thWzFdLm5vZGVOYW1lXSl9LGhhc0F0dHJpYnV0ZTpmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYil7dmFyIGQ9dGhpcy4kLmF0dHJpYnV0ZXMuZ2V0TmFtZWRJdGVtKGIpO2lmKFwiaW5wdXRcIj09dGhpcy5nZXROYW1lKCkpc3dpdGNoKGIpe2Nhc2UgXCJjbGFzc1wiOnJldHVybiAwPHRoaXMuJC5jbGFzc05hbWUubGVuZ3RoO2Nhc2UgXCJjaGVja2VkXCI6cmV0dXJuISF0aGlzLiQuY2hlY2tlZDtjYXNlIFwidmFsdWVcIjpyZXR1cm4gYj10aGlzLmdldEF0dHJpYnV0ZShcInR5cGVcIiksXCJjaGVja2JveFwiPT1ifHxcInJhZGlvXCI9PWI/XCJvblwiIT10aGlzLiQudmFsdWU6ISF0aGlzLiQudmFsdWV9cmV0dXJuIGQ/ZC5zcGVjaWZpZWQ6ITF9cmV0dXJuIENLRURJVE9SLmVudi5pZT9cbjg+Q0tFRElUT1IuZW52LnZlcnNpb24/ZnVuY3Rpb24oYil7cmV0dXJuXCJuYW1lXCI9PWI/ISF0aGlzLiQubmFtZTphLmNhbGwodGhpcyxiKX06YTpmdW5jdGlvbihhKXtyZXR1cm4hIXRoaXMuJC5hdHRyaWJ1dGVzLmdldE5hbWVkSXRlbShhKX19KCksaGlkZTpmdW5jdGlvbigpe3RoaXMuc2V0U3R5bGUoXCJkaXNwbGF5XCIsXCJub25lXCIpfSxtb3ZlQ2hpbGRyZW46ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLiQ7YT1hLiQ7aWYoYyE9YSl7dmFyIGc7aWYoYilmb3IoO2c9Yy5sYXN0Q2hpbGQ7KWEuaW5zZXJ0QmVmb3JlKGMucmVtb3ZlQ2hpbGQoZyksYS5maXJzdENoaWxkKTtlbHNlIGZvcig7Zz1jLmZpcnN0Q2hpbGQ7KWEuYXBwZW5kQ2hpbGQoYy5yZW1vdmVDaGlsZChnKSl9fSxtZXJnZVNpYmxpbmdzOmZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShiLGQsZyl7aWYoZCYmZC50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQpe2Zvcih2YXIgYz1bXTtkLmRhdGEoXCJja2UtYm9va21hcmtcIil8fGQuaXNFbXB0eUlubGluZVJlbW92ZWFibGUoKTspaWYoYy5wdXNoKGQpLFxuZD1nP2QuZ2V0TmV4dCgpOmQuZ2V0UHJldmlvdXMoKSwhZHx8ZC50eXBlIT1DS0VESVRPUi5OT0RFX0VMRU1FTlQpcmV0dXJuO2lmKGIuaXNJZGVudGljYWwoZCkpe2Zvcih2YXIgZT1nP2IuZ2V0TGFzdCgpOmIuZ2V0Rmlyc3QoKTtjLmxlbmd0aDspYy5zaGlmdCgpLm1vdmUoYiwhZyk7ZC5tb3ZlQ2hpbGRyZW4oYiwhZyk7ZC5yZW1vdmUoKTtlJiZlLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmZS5tZXJnZVNpYmxpbmdzKCl9fX1yZXR1cm4gZnVuY3Rpb24oYil7aWYoITE9PT1ifHxDS0VESVRPUi5kdGQuJHJlbW92ZUVtcHR5W3RoaXMuZ2V0TmFtZSgpXXx8dGhpcy5pcyhcImFcIikpYSh0aGlzLHRoaXMuZ2V0TmV4dCgpLCEwKSxhKHRoaXMsdGhpcy5nZXRQcmV2aW91cygpKX19KCksc2hvdzpmdW5jdGlvbigpe3RoaXMuc2V0U3R5bGVzKHtkaXNwbGF5OlwiXCIsdmlzaWJpbGl0eTpcIlwifSl9LHNldEF0dHJpYnV0ZTpmdW5jdGlvbigpe3ZhciBhPWZ1bmN0aW9uKGEsYil7dGhpcy4kLnNldEF0dHJpYnV0ZShhLFxuYik7cmV0dXJuIHRoaXN9O3JldHVybiBDS0VESVRPUi5lbnYuaWUmJihDS0VESVRPUi5lbnYuaWU3Q29tcGF0fHxDS0VESVRPUi5lbnYucXVpcmtzKT9mdW5jdGlvbihiLGMpe1wiY2xhc3NcIj09Yj90aGlzLiQuY2xhc3NOYW1lPWM6XCJzdHlsZVwiPT1iP3RoaXMuJC5zdHlsZS5jc3NUZXh0PWM6XCJ0YWJpbmRleFwiPT1iP3RoaXMuJC50YWJJbmRleD1jOlwiY2hlY2tlZFwiPT1iP3RoaXMuJC5jaGVja2VkPWM6XCJjb250ZW50ZWRpdGFibGVcIj09Yj9hLmNhbGwodGhpcyxcImNvbnRlbnRFZGl0YWJsZVwiLGMpOmEuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiB0aGlzfTpDS0VESVRPUi5lbnYuaWU4Q29tcGF0JiZDS0VESVRPUi5lbnYuc2VjdXJlP2Z1bmN0aW9uKGIsYyl7aWYoXCJzcmNcIj09YiYmYy5tYXRjaCgvXmh0dHA6XFwvXFwvLykpdHJ5e2EuYXBwbHkodGhpcyxhcmd1bWVudHMpfWNhdGNoKGcpe31lbHNlIGEuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiB0aGlzfTphfSgpLHNldEF0dHJpYnV0ZXM6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiIGluIGEpdGhpcy5zZXRBdHRyaWJ1dGUoYixcbmFbYl0pO3JldHVybiB0aGlzfSxzZXRWYWx1ZTpmdW5jdGlvbihhKXt0aGlzLiQudmFsdWU9YTtyZXR1cm4gdGhpc30scmVtb3ZlQXR0cmlidXRlOmZ1bmN0aW9uKCl7dmFyIGE9ZnVuY3Rpb24oYSl7dGhpcy4kLnJlbW92ZUF0dHJpYnV0ZShhKX07cmV0dXJuIENLRURJVE9SLmVudi5pZSYmKENLRURJVE9SLmVudi5pZTdDb21wYXR8fENLRURJVE9SLmVudi5xdWlya3MpP2Z1bmN0aW9uKGEpe1wiY2xhc3NcIj09YT9hPVwiY2xhc3NOYW1lXCI6XCJ0YWJpbmRleFwiPT1hP2E9XCJ0YWJJbmRleFwiOlwiY29udGVudGVkaXRhYmxlXCI9PWEmJihhPVwiY29udGVudEVkaXRhYmxlXCIpO3RoaXMuJC5yZW1vdmVBdHRyaWJ1dGUoYSl9OmF9KCkscmVtb3ZlQXR0cmlidXRlczpmdW5jdGlvbihhKXtpZihDS0VESVRPUi50b29scy5pc0FycmF5KGEpKWZvcih2YXIgYj0wO2I8YS5sZW5ndGg7YisrKXRoaXMucmVtb3ZlQXR0cmlidXRlKGFbYl0pO2Vsc2UgZm9yKGIgaW4gYT1hfHx0aGlzLmdldEF0dHJpYnV0ZXMoKSxcbmEpYS5oYXNPd25Qcm9wZXJ0eShiKSYmdGhpcy5yZW1vdmVBdHRyaWJ1dGUoYil9LHJlbW92ZVN0eWxlOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuJC5zdHlsZTtpZihiLnJlbW92ZVByb3BlcnR5fHxcImJvcmRlclwiIT1hJiZcIm1hcmdpblwiIT1hJiZcInBhZGRpbmdcIiE9YSliLnJlbW92ZVByb3BlcnR5P2IucmVtb3ZlUHJvcGVydHkoYSk6Yi5yZW1vdmVBdHRyaWJ1dGUoQ0tFRElUT1IudG9vbHMuY3NzU3R5bGVUb0RvbVN0eWxlKGEpKSx0aGlzLiQuc3R5bGUuY3NzVGV4dHx8dGhpcy5yZW1vdmVBdHRyaWJ1dGUoXCJzdHlsZVwiKTtlbHNle3ZhciBjPVtcInRvcFwiLFwibGVmdFwiLFwicmlnaHRcIixcImJvdHRvbVwiXSxnO1wiYm9yZGVyXCI9PWEmJihnPVtcImNvbG9yXCIsXCJzdHlsZVwiLFwid2lkdGhcIl0pO2Zvcih2YXIgYj1bXSxlPTA7ZTxjLmxlbmd0aDtlKyspaWYoZylmb3IodmFyIGY9MDtmPGcubGVuZ3RoO2YrKyliLnB1c2goW2EsY1tlXSxnW2ZdXS5qb2luKFwiLVwiKSk7ZWxzZSBiLnB1c2goW2EsY1tlXV0uam9pbihcIi1cIikpO1xuZm9yKGE9MDthPGIubGVuZ3RoO2ErKyl0aGlzLnJlbW92ZVN0eWxlKGJbYV0pfX0sc2V0U3R5bGU6ZnVuY3Rpb24oYSxiKXt0aGlzLiQuc3R5bGVbQ0tFRElUT1IudG9vbHMuY3NzU3R5bGVUb0RvbVN0eWxlKGEpXT1iO3JldHVybiB0aGlzfSxzZXRTdHlsZXM6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiIGluIGEpdGhpcy5zZXRTdHlsZShiLGFbYl0pO3JldHVybiB0aGlzfSxzZXRPcGFjaXR5OmZ1bmN0aW9uKGEpe0NLRURJVE9SLmVudi5pZSYmOT5DS0VESVRPUi5lbnYudmVyc2lvbj8oYT1NYXRoLnJvdW5kKDEwMCphKSx0aGlzLnNldFN0eWxlKFwiZmlsdGVyXCIsMTAwPD1hP1wiXCI6XCJwcm9naWQ6RFhJbWFnZVRyYW5zZm9ybS5NaWNyb3NvZnQuQWxwaGEob3BhY2l0eVxceDNkXCIrYStcIilcIikpOnRoaXMuc2V0U3R5bGUoXCJvcGFjaXR5XCIsYSl9LHVuc2VsZWN0YWJsZTpmdW5jdGlvbigpe3RoaXMuc2V0U3R5bGVzKENLRURJVE9SLnRvb2xzLmNzc1ZlbmRvclByZWZpeChcInVzZXItc2VsZWN0XCIsXCJub25lXCIpKTtcbmlmKENLRURJVE9SLmVudi5pZSl7dGhpcy5zZXRBdHRyaWJ1dGUoXCJ1bnNlbGVjdGFibGVcIixcIm9uXCIpO2Zvcih2YXIgYSxiPXRoaXMuZ2V0RWxlbWVudHNCeVRhZyhcIipcIiksYz0wLGc9Yi5jb3VudCgpO2M8ZztjKyspYT1iLmdldEl0ZW0oYyksYS5zZXRBdHRyaWJ1dGUoXCJ1bnNlbGVjdGFibGVcIixcIm9uXCIpfX0sZ2V0UG9zaXRpb25lZEFuY2VzdG9yOmZ1bmN0aW9uKCl7Zm9yKHZhciBhPXRoaXM7XCJodG1sXCIhPWEuZ2V0TmFtZSgpOyl7aWYoXCJzdGF0aWNcIiE9YS5nZXRDb21wdXRlZFN0eWxlKFwicG9zaXRpb25cIikpcmV0dXJuIGE7YT1hLmdldFBhcmVudCgpfXJldHVybiBudWxsfSxnZXREb2N1bWVudFBvc2l0aW9uOmZ1bmN0aW9uKGEpe3ZhciBiPTAsYz0wLGc9dGhpcy5nZXREb2N1bWVudCgpLGU9Zy5nZXRCb2R5KCksZj1cIkJhY2tDb21wYXRcIj09Zy4kLmNvbXBhdE1vZGU7aWYoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCYmKENLRURJVE9SLmVudi5pZT9cbjghPT1DS0VESVRPUi5lbnYudmVyc2lvbjoxKSl7dmFyIG09dGhpcy4kLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLGw9Zy4kLmRvY3VtZW50RWxlbWVudCx2PWwuY2xpZW50VG9wfHxlLiQuY2xpZW50VG9wfHwwLHI9bC5jbGllbnRMZWZ0fHxlLiQuY2xpZW50TGVmdHx8MCx1PSEwO0NLRURJVE9SLmVudi5pZSYmKHU9Zy5nZXREb2N1bWVudEVsZW1lbnQoKS5jb250YWlucyh0aGlzKSxnPWcuZ2V0Qm9keSgpLmNvbnRhaW5zKHRoaXMpLHU9ZiYmZ3x8IWYmJnUpO3UmJihDS0VESVRPUi5lbnYud2Via2l0fHxDS0VESVRPUi5lbnYuaWUmJjEyPD1DS0VESVRPUi5lbnYudmVyc2lvbj8oYj1lLiQuc2Nyb2xsTGVmdHx8bC5zY3JvbGxMZWZ0LGM9ZS4kLnNjcm9sbFRvcHx8bC5zY3JvbGxUb3ApOihjPWY/ZS4kOmwsYj1jLnNjcm9sbExlZnQsYz1jLnNjcm9sbFRvcCksYj1tLmxlZnQrYi1yLGM9bS50b3ArYy12KX1lbHNlIGZvcih2PXRoaXMscj1udWxsO3YmJlwiYm9keVwiIT12LmdldE5hbWUoKSYmXG5cImh0bWxcIiE9di5nZXROYW1lKCk7KXtiKz12LiQub2Zmc2V0TGVmdC12LiQuc2Nyb2xsTGVmdDtjKz12LiQub2Zmc2V0VG9wLXYuJC5zY3JvbGxUb3A7di5lcXVhbHModGhpcyl8fChiKz12LiQuY2xpZW50TGVmdHx8MCxjKz12LiQuY2xpZW50VG9wfHwwKTtmb3IoO3ImJiFyLmVxdWFscyh2KTspYi09ci4kLnNjcm9sbExlZnQsYy09ci4kLnNjcm9sbFRvcCxyPXIuZ2V0UGFyZW50KCk7cj12O3Y9KG09di4kLm9mZnNldFBhcmVudCk/bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KG0pOm51bGx9YSYmKG09dGhpcy5nZXRXaW5kb3coKSx2PWEuZ2V0V2luZG93KCksIW0uZXF1YWxzKHYpJiZtLiQuZnJhbWVFbGVtZW50JiYoYT0obmV3IENLRURJVE9SLmRvbS5lbGVtZW50KG0uJC5mcmFtZUVsZW1lbnQpKS5nZXREb2N1bWVudFBvc2l0aW9uKGEpLGIrPWEueCxjKz1hLnkpKTtkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0fHwhQ0tFRElUT1IuZW52LmdlY2tvfHxcbmZ8fChiKz10aGlzLiQuY2xpZW50TGVmdD8xOjAsYys9dGhpcy4kLmNsaWVudFRvcD8xOjApO3JldHVybnt4OmIseTpjfX0sc2Nyb2xsSW50b1ZpZXc6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5nZXRQYXJlbnQoKTtpZihiKXtkbyBpZigoYi4kLmNsaWVudFdpZHRoJiZiLiQuY2xpZW50V2lkdGg8Yi4kLnNjcm9sbFdpZHRofHxiLiQuY2xpZW50SGVpZ2h0JiZiLiQuY2xpZW50SGVpZ2h0PGIuJC5zY3JvbGxIZWlnaHQpJiYhYi5pcyhcImJvZHlcIikmJnRoaXMuc2Nyb2xsSW50b1BhcmVudChiLGEsMSksYi5pcyhcImh0bWxcIikpe3ZhciBjPWIuZ2V0V2luZG93KCk7dHJ5e3ZhciBnPWMuJC5mcmFtZUVsZW1lbnQ7ZyYmKGI9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KGcpKX1jYXRjaChlKXt9fXdoaWxlKGI9Yi5nZXRQYXJlbnQoKSl9fSxzY3JvbGxJbnRvUGFyZW50OmZ1bmN0aW9uKGEsYixjKXt2YXIgZyxlLGYsbTtmdW5jdGlvbiBsKGIsZyl7L2JvZHl8aHRtbC8udGVzdChhLmdldE5hbWUoKSk/XG5hLmdldFdpbmRvdygpLiQuc2Nyb2xsQnkoYixnKTooYS4kLnNjcm9sbExlZnQrPWIsYS4kLnNjcm9sbFRvcCs9Zyl9ZnVuY3Rpb24gdihhLGIpe3ZhciBnPXt4OjAseTowfTtpZighYS5pcyh1P1wiYm9keVwiOlwiaHRtbFwiKSl7dmFyIGM9YS4kLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO2cueD1jLmxlZnQ7Zy55PWMudG9wfWM9YS5nZXRXaW5kb3coKTtjLmVxdWFscyhiKXx8KGM9dihDS0VESVRPUi5kb20uZWxlbWVudC5nZXQoYy4kLmZyYW1lRWxlbWVudCksYiksZy54Kz1jLngsZy55Kz1jLnkpO3JldHVybiBnfWZ1bmN0aW9uIHIoYSxiKXtyZXR1cm4gcGFyc2VJbnQoYS5nZXRDb21wdXRlZFN0eWxlKFwibWFyZ2luLVwiK2IpfHwwLDEwKXx8MH0hYSYmKGE9dGhpcy5nZXRXaW5kb3coKSk7Zj1hLmdldERvY3VtZW50KCk7dmFyIHU9XCJCYWNrQ29tcGF0XCI9PWYuJC5jb21wYXRNb2RlO2EgaW5zdGFuY2VvZiBDS0VESVRPUi5kb20ud2luZG93JiYoYT11P2YuZ2V0Qm9keSgpOmYuZ2V0RG9jdW1lbnRFbGVtZW50KCkpO1xuQ0tFRElUT1IuZW52LndlYmtpdCYmKGY9dGhpcy5nZXRFZGl0b3IoITEpKSYmKGYuXy5wcmV2aW91c1Njcm9sbFRvcD1udWxsKTtmPWEuZ2V0V2luZG93KCk7ZT12KHRoaXMsZik7dmFyIEI9dihhLGYpLHg9dGhpcy4kLm9mZnNldEhlaWdodDtnPXRoaXMuJC5vZmZzZXRXaWR0aDt2YXIgdz1hLiQuY2xpZW50SGVpZ2h0LHo9YS4kLmNsaWVudFdpZHRoO2Y9ZS54LXIodGhpcyxcImxlZnRcIiktQi54fHwwO209ZS55LXIodGhpcyxcInRvcFwiKS1CLnl8fDA7Zz1lLngrZytyKHRoaXMsXCJyaWdodFwiKS0oQi54K3opfHwwO2U9ZS55K3grcih0aGlzLFwiYm90dG9tXCIpLShCLnkrdyl8fDA7KDA+bXx8MDxlKSYmbCgwLCEwPT09Yj9tOiExPT09Yj9lOjA+bT9tOmUpO2MmJigwPmZ8fDA8ZykmJmwoMD5mP2Y6ZywwKX0sc2V0U3RhdGU6ZnVuY3Rpb24oYSxiLGMpe2I9Ynx8XCJja2VcIjtzd2l0Y2goYSl7Y2FzZSBDS0VESVRPUi5UUklTVEFURV9PTjp0aGlzLmFkZENsYXNzKGIrXCJfb25cIik7dGhpcy5yZW1vdmVDbGFzcyhiK1xuXCJfb2ZmXCIpO3RoaXMucmVtb3ZlQ2xhc3MoYitcIl9kaXNhYmxlZFwiKTtjJiZ0aGlzLnNldEF0dHJpYnV0ZShcImFyaWEtcHJlc3NlZFwiLCEwKTtjJiZ0aGlzLnJlbW92ZUF0dHJpYnV0ZShcImFyaWEtZGlzYWJsZWRcIik7YnJlYWs7Y2FzZSBDS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRDp0aGlzLmFkZENsYXNzKGIrXCJfZGlzYWJsZWRcIik7dGhpcy5yZW1vdmVDbGFzcyhiK1wiX29mZlwiKTt0aGlzLnJlbW92ZUNsYXNzKGIrXCJfb25cIik7YyYmdGhpcy5zZXRBdHRyaWJ1dGUoXCJhcmlhLWRpc2FibGVkXCIsITApO2MmJnRoaXMucmVtb3ZlQXR0cmlidXRlKFwiYXJpYS1wcmVzc2VkXCIpO2JyZWFrO2RlZmF1bHQ6dGhpcy5hZGRDbGFzcyhiK1wiX29mZlwiKSx0aGlzLnJlbW92ZUNsYXNzKGIrXCJfb25cIiksdGhpcy5yZW1vdmVDbGFzcyhiK1wiX2Rpc2FibGVkXCIpLGMmJnRoaXMucmVtb3ZlQXR0cmlidXRlKFwiYXJpYS1wcmVzc2VkXCIpLGMmJnRoaXMucmVtb3ZlQXR0cmlidXRlKFwiYXJpYS1kaXNhYmxlZFwiKX19LFxuZ2V0RnJhbWVEb2N1bWVudDpmdW5jdGlvbigpe3ZhciBhPXRoaXMuJDt0cnl7YS5jb250ZW50V2luZG93LmRvY3VtZW50fWNhdGNoKGIpe2Euc3JjPWEuc3JjfXJldHVybiBhJiZuZXcgQ0tFRElUT1IuZG9tLmRvY3VtZW50KGEuY29udGVudFdpbmRvdy5kb2N1bWVudCl9LGNvcHlBdHRyaWJ1dGVzOmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy4kLmF0dHJpYnV0ZXM7Yj1ifHx7fTtmb3IodmFyIGc9MDtnPGMubGVuZ3RoO2crKyl7dmFyIGU9Y1tnXSxmPWUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSxtO2lmKCEoZiBpbiBiKSlpZihcImNoZWNrZWRcIj09ZiYmKG09dGhpcy5nZXRBdHRyaWJ1dGUoZikpKWEuc2V0QXR0cmlidXRlKGYsbSk7ZWxzZSBpZighQ0tFRElUT1IuZW52LmllfHx0aGlzLmhhc0F0dHJpYnV0ZShmKSltPXRoaXMuZ2V0QXR0cmlidXRlKGYpLG51bGw9PT1tJiYobT1lLm5vZGVWYWx1ZSksYS5zZXRBdHRyaWJ1dGUoZixtKX1cIlwiIT09dGhpcy4kLnN0eWxlLmNzc1RleHQmJlxuKGEuJC5zdHlsZS5jc3NUZXh0PXRoaXMuJC5zdHlsZS5jc3NUZXh0KX0scmVuYW1lTm9kZTpmdW5jdGlvbihhKXtpZih0aGlzLmdldE5hbWUoKSE9YSl7dmFyIGI9dGhpcy5nZXREb2N1bWVudCgpO2E9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KGEsYik7dGhpcy5jb3B5QXR0cmlidXRlcyhhKTt0aGlzLm1vdmVDaGlsZHJlbihhKTt0aGlzLmdldFBhcmVudCghMCkmJnRoaXMuJC5wYXJlbnROb2RlLnJlcGxhY2VDaGlsZChhLiQsdGhpcy4kKTthLiRbXCJkYXRhLWNrZS1leHBhbmRvXCJdPXRoaXMuJFtcImRhdGEtY2tlLWV4cGFuZG9cIl07dGhpcy4kPWEuJDtkZWxldGUgdGhpcy5nZXROYW1lfX0sZ2V0Q2hpbGQ6ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGIsYyl7dmFyIGc9Yi5jaGlsZE5vZGVzO2lmKDA8PWMmJmM8Zy5sZW5ndGgpcmV0dXJuIGdbY119cmV0dXJuIGZ1bmN0aW9uKGIpe3ZhciBjPXRoaXMuJDtpZihiLnNsaWNlKWZvcihiPWIuc2xpY2UoKTswPGIubGVuZ3RoJiZjOyljPWEoYyxcbmIuc2hpZnQoKSk7ZWxzZSBjPWEoYyxiKTtyZXR1cm4gYz9uZXcgQ0tFRElUT1IuZG9tLm5vZGUoYyk6bnVsbH19KCksZ2V0Q2hpbGRDb3VudDpmdW5jdGlvbigpe3JldHVybiB0aGlzLiQuY2hpbGROb2Rlcy5sZW5ndGh9LGRpc2FibGVDb250ZXh0TWVudTpmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYil7cmV0dXJuIGIudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZiLmhhc0NsYXNzKFwiY2tlX2VuYWJsZV9jb250ZXh0X21lbnVcIil9dGhpcy5vbihcImNvbnRleHRtZW51XCIsZnVuY3Rpb24oYil7Yi5kYXRhLmdldFRhcmdldCgpLmdldEFzY2VuZGFudChhLCEwKXx8Yi5kYXRhLnByZXZlbnREZWZhdWx0KCl9KX0sZ2V0RGlyZWN0aW9uOmZ1bmN0aW9uKGEpe3JldHVybiBhP3RoaXMuZ2V0Q29tcHV0ZWRTdHlsZShcImRpcmVjdGlvblwiKXx8dGhpcy5nZXREaXJlY3Rpb24oKXx8dGhpcy5nZXRQYXJlbnQoKSYmdGhpcy5nZXRQYXJlbnQoKS5nZXREaXJlY3Rpb24oMSl8fHRoaXMuZ2V0RG9jdW1lbnQoKS4kLmRpcnx8XG5cImx0clwiOnRoaXMuZ2V0U3R5bGUoXCJkaXJlY3Rpb25cIil8fHRoaXMuZ2V0QXR0cmlidXRlKFwiZGlyXCIpfSxkYXRhOmZ1bmN0aW9uKGEsYil7YT1cImRhdGEtXCIrYTtpZih2b2lkIDA9PT1iKXJldHVybiB0aGlzLmdldEF0dHJpYnV0ZShhKTshMT09PWI/dGhpcy5yZW1vdmVBdHRyaWJ1dGUoYSk6dGhpcy5zZXRBdHRyaWJ1dGUoYSxiKTtyZXR1cm4gbnVsbH0sZ2V0RWRpdG9yOmZ1bmN0aW9uKGEpe3ZhciBiPUNLRURJVE9SLmluc3RhbmNlcyxjLGcsZTthPWF8fHZvaWQgMD09PWE7Zm9yKGMgaW4gYilpZihnPWJbY10sZy5lbGVtZW50LmVxdWFscyh0aGlzKSYmZy5lbGVtZW50TW9kZSE9Q0tFRElUT1IuRUxFTUVOVF9NT0RFX0FQUEVORFRPfHwhYSYmKGU9Zy5lZGl0YWJsZSgpLGUuZXF1YWxzKHRoaXMpfHxlLmNvbnRhaW5zKHRoaXMpKSlyZXR1cm4gZztyZXR1cm4gbnVsbH0sZmluZDpmdW5jdGlvbihhKXt2YXIgYz1mKHRoaXMpO2E9bmV3IENLRURJVE9SLmRvbS5ub2RlTGlzdCh0aGlzLiQucXVlcnlTZWxlY3RvckFsbChiKHRoaXMsXG5hKSkpO2MoKTtyZXR1cm4gYX0sZmluZE9uZTpmdW5jdGlvbihhKXt2YXIgYz1mKHRoaXMpO2E9dGhpcy4kLnF1ZXJ5U2VsZWN0b3IoYih0aGlzLGEpKTtjKCk7cmV0dXJuIGE/bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KGEpOm51bGx9LGZvckVhY2g6ZnVuY3Rpb24oYSxiLGMpe2lmKCEoY3x8YiYmdGhpcy50eXBlIT1iKSl2YXIgZz1hKHRoaXMpO2lmKCExIT09Zyl7Yz10aGlzLmdldENoaWxkcmVuKCk7Zm9yKHZhciBlPTA7ZTxjLmNvdW50KCk7ZSsrKWc9Yy5nZXRJdGVtKGUpLGcudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UP2cuZm9yRWFjaChhLGIpOmImJmcudHlwZSE9Ynx8YShnKX19fSk7dmFyIGw9e3dpZHRoOltcImJvcmRlci1sZWZ0LXdpZHRoXCIsXCJib3JkZXItcmlnaHQtd2lkdGhcIixcInBhZGRpbmctbGVmdFwiLFwicGFkZGluZy1yaWdodFwiXSxoZWlnaHQ6W1wiYm9yZGVyLXRvcC13aWR0aFwiLFwiYm9yZGVyLWJvdHRvbS13aWR0aFwiLFwicGFkZGluZy10b3BcIixcInBhZGRpbmctYm90dG9tXCJdfTtcbkNLRURJVE9SLmRvbS5lbGVtZW50LnByb3RvdHlwZS5zZXRTaXplPWZ1bmN0aW9uKGEsYixlKXtcIm51bWJlclwiPT10eXBlb2YgYiYmKCFlfHxDS0VESVRPUi5lbnYuaWUmJkNLRURJVE9SLmVudi5xdWlya3N8fChiLT1jLmNhbGwodGhpcyxhKSksdGhpcy5zZXRTdHlsZShhLGIrXCJweFwiKSl9O0NLRURJVE9SLmRvbS5lbGVtZW50LnByb3RvdHlwZS5nZXRTaXplPWZ1bmN0aW9uKGEsYil7dmFyIGU9TWF0aC5tYXgodGhpcy4kW1wib2Zmc2V0XCIrQ0tFRElUT1IudG9vbHMuY2FwaXRhbGl6ZShhKV0sdGhpcy4kW1wiY2xpZW50XCIrQ0tFRElUT1IudG9vbHMuY2FwaXRhbGl6ZShhKV0pfHwwO2ImJihlLT1jLmNhbGwodGhpcyxhKSk7cmV0dXJuIGV9fSgpLENLRURJVE9SLmRvbS5kb2N1bWVudEZyYWdtZW50PWZ1bmN0aW9uKGEpe2E9YXx8Q0tFRElUT1IuZG9jdW1lbnQ7dGhpcy4kPWEudHlwZT09Q0tFRElUT1IuTk9ERV9ET0NVTUVOVD9hLiQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpOmF9LENLRURJVE9SLnRvb2xzLmV4dGVuZChDS0VESVRPUi5kb20uZG9jdW1lbnRGcmFnbWVudC5wcm90b3R5cGUsXG5DS0VESVRPUi5kb20uZWxlbWVudC5wcm90b3R5cGUse3R5cGU6Q0tFRElUT1IuTk9ERV9ET0NVTUVOVF9GUkFHTUVOVCxpbnNlcnRBZnRlck5vZGU6ZnVuY3Rpb24oYSl7YT1hLiQ7YS5wYXJlbnROb2RlLmluc2VydEJlZm9yZSh0aGlzLiQsYS5uZXh0U2libGluZyl9LGdldEh0bWw6ZnVuY3Rpb24oKXt2YXIgYT1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoXCJkaXZcIik7dGhpcy5jbG9uZSgxLDEpLmFwcGVuZFRvKGEpO3JldHVybiBhLmdldEh0bWwoKS5yZXBsYWNlKC9cXHMqZGF0YS1ja2UtZXhwYW5kbz1cIi4qP1wiL2csXCJcIil9fSwhMCx7YXBwZW5kOjEsYXBwZW5kQm9ndXM6MSxjbG9uZToxLGdldEZpcnN0OjEsZ2V0SHRtbDoxLGdldExhc3Q6MSxnZXRQYXJlbnQ6MSxnZXROZXh0OjEsZ2V0UHJldmlvdXM6MSxhcHBlbmRUbzoxLG1vdmVDaGlsZHJlbjoxLGluc2VydEJlZm9yZToxLGluc2VydEFmdGVyTm9kZToxLHJlcGxhY2U6MSx0cmltOjEsdHlwZToxLGx0cmltOjEscnRyaW06MSxnZXREb2N1bWVudDoxLFxuZ2V0Q2hpbGRDb3VudDoxLGdldENoaWxkOjEsZ2V0Q2hpbGRyZW46MX0pLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhLGIpe3ZhciBnPXRoaXMucmFuZ2U7aWYodGhpcy5fLmVuZClyZXR1cm4gbnVsbDtpZighdGhpcy5fLnN0YXJ0KXt0aGlzLl8uc3RhcnQ9MTtpZihnLmNvbGxhcHNlZClyZXR1cm4gdGhpcy5lbmQoKSxudWxsO2cub3B0aW1pemUoKX12YXIgYyxkPWcuc3RhcnRDb250YWluZXI7Yz1nLmVuZENvbnRhaW5lcjt2YXIgZT1nLnN0YXJ0T2Zmc2V0LGs9Zy5lbmRPZmZzZXQsZixoPXRoaXMuZ3VhcmQsbj10aGlzLnR5cGUsbT1hP1wiZ2V0UHJldmlvdXNTb3VyY2VOb2RlXCI6XCJnZXROZXh0U291cmNlTm9kZVwiO2lmKCFhJiYhdGhpcy5fLmd1YXJkTFRSKXt2YXIgbD1jLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVD9jOmMuZ2V0UGFyZW50KCksQT1jLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVD9jLmdldENoaWxkKGspOmMuZ2V0TmV4dCgpO3RoaXMuXy5ndWFyZExUUj1mdW5jdGlvbihhLFxuYil7cmV0dXJuKCFifHwhbC5lcXVhbHMoYSkpJiYoIUF8fCFhLmVxdWFscyhBKSkmJihhLnR5cGUhPUNLRURJVE9SLk5PREVfRUxFTUVOVHx8IWJ8fCFhLmVxdWFscyhnLnJvb3QpKX19aWYoYSYmIXRoaXMuXy5ndWFyZFJUTCl7dmFyIEM9ZC50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQ/ZDpkLmdldFBhcmVudCgpLEY9ZC50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQ/ZT9kLmdldENoaWxkKGUtMSk6bnVsbDpkLmdldFByZXZpb3VzKCk7dGhpcy5fLmd1YXJkUlRMPWZ1bmN0aW9uKGEsYil7cmV0dXJuKCFifHwhQy5lcXVhbHMoYSkpJiYoIUZ8fCFhLmVxdWFscyhGKSkmJihhLnR5cGUhPUNLRURJVE9SLk5PREVfRUxFTUVOVHx8IWJ8fCFhLmVxdWFscyhnLnJvb3QpKX19dmFyIEU9YT90aGlzLl8uZ3VhcmRSVEw6dGhpcy5fLmd1YXJkTFRSO2Y9aD9mdW5jdGlvbihhLGIpe3JldHVybiExPT09RShhLGIpPyExOmgoYSxiKX06RTt0aGlzLmN1cnJlbnQ/Yz10aGlzLmN1cnJlbnRbbV0oITEsXG5uLGYpOihhP2MudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiYoYz0wPGs/Yy5nZXRDaGlsZChrLTEpOiExPT09ZihjLCEwKT9udWxsOmMuZ2V0UHJldmlvdXNTb3VyY2VOb2RlKCEwLG4sZikpOihjPWQsYy50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJigoYz1jLmdldENoaWxkKGUpKXx8KGM9ITE9PT1mKGQsITApP251bGw6ZC5nZXROZXh0U291cmNlTm9kZSghMCxuLGYpKSkpLGMmJiExPT09ZihjKSYmKGM9bnVsbCkpO2Zvcig7YyYmIXRoaXMuXy5lbmQ7KXt0aGlzLmN1cnJlbnQ9YztpZighdGhpcy5ldmFsdWF0b3J8fCExIT09dGhpcy5ldmFsdWF0b3IoYykpe2lmKCFiKXJldHVybiBjfWVsc2UgaWYoYiYmdGhpcy5ldmFsdWF0b3IpcmV0dXJuITE7Yz1jW21dKCExLG4sZil9dGhpcy5lbmQoKTtyZXR1cm4gdGhpcy5jdXJyZW50PW51bGx9ZnVuY3Rpb24gZihiKXtmb3IodmFyIGcsYz1udWxsO2c9YS5jYWxsKHRoaXMsYik7KWM9ZztyZXR1cm4gY31DS0VESVRPUi5kb20ud2Fsa2VyPVxuQ0tFRElUT1IudG9vbHMuY3JlYXRlQ2xhc3MoeyQ6ZnVuY3Rpb24oYSl7dGhpcy5yYW5nZT1hO3RoaXMuXz17fX0scHJvdG86e2VuZDpmdW5jdGlvbigpe3RoaXMuXy5lbmQ9MX0sbmV4dDpmdW5jdGlvbigpe3JldHVybiBhLmNhbGwodGhpcyl9LHByZXZpb3VzOmZ1bmN0aW9uKCl7cmV0dXJuIGEuY2FsbCh0aGlzLDEpfSxjaGVja0ZvcndhcmQ6ZnVuY3Rpb24oKXtyZXR1cm4hMSE9PWEuY2FsbCh0aGlzLDAsMSl9LGNoZWNrQmFja3dhcmQ6ZnVuY3Rpb24oKXtyZXR1cm4hMSE9PWEuY2FsbCh0aGlzLDEsMSl9LGxhc3RGb3J3YXJkOmZ1bmN0aW9uKCl7cmV0dXJuIGYuY2FsbCh0aGlzKX0sbGFzdEJhY2t3YXJkOmZ1bmN0aW9uKCl7cmV0dXJuIGYuY2FsbCh0aGlzLDEpfSxyZXNldDpmdW5jdGlvbigpe2RlbGV0ZSB0aGlzLmN1cnJlbnQ7dGhpcy5fPXt9fX19KTt2YXIgYj17YmxvY2s6MSxcImxpc3QtaXRlbVwiOjEsdGFibGU6MSxcInRhYmxlLXJvdy1ncm91cFwiOjEsXCJ0YWJsZS1oZWFkZXItZ3JvdXBcIjoxLFxuXCJ0YWJsZS1mb290ZXItZ3JvdXBcIjoxLFwidGFibGUtcm93XCI6MSxcInRhYmxlLWNvbHVtbi1ncm91cFwiOjEsXCJ0YWJsZS1jb2x1bW5cIjoxLFwidGFibGUtY2VsbFwiOjEsXCJ0YWJsZS1jYXB0aW9uXCI6MX0sYz17YWJzb2x1dGU6MSxmaXhlZDoxfTtDS0VESVRPUi5kb20uZWxlbWVudC5wcm90b3R5cGUuaXNCbG9ja0JvdW5kYXJ5PWZ1bmN0aW9uKGEpe3JldHVyblwibm9uZVwiIT10aGlzLmdldENvbXB1dGVkU3R5bGUoXCJmbG9hdFwiKXx8dGhpcy5nZXRDb21wdXRlZFN0eWxlKFwicG9zaXRpb25cIilpbiBjfHwhYlt0aGlzLmdldENvbXB1dGVkU3R5bGUoXCJkaXNwbGF5XCIpXT8hISh0aGlzLmlzKENLRURJVE9SLmR0ZC4kYmxvY2spfHxhJiZ0aGlzLmlzKGEpKTohMH07Q0tFRElUT1IuZG9tLndhbGtlci5ibG9ja0JvdW5kYXJ5PWZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbihiKXtyZXR1cm4hKGIudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZiLmlzQmxvY2tCb3VuZGFyeShhKSl9fTtDS0VESVRPUi5kb20ud2Fsa2VyLmxpc3RJdGVtQm91bmRhcnk9XG5mdW5jdGlvbigpe3JldHVybiB0aGlzLmJsb2NrQm91bmRhcnkoe2JyOjF9KX07Q0tFRElUT1IuZG9tLndhbGtlci5ib29rbWFyaz1mdW5jdGlvbihhLGIpe2Z1bmN0aW9uIGcoYSl7cmV0dXJuIGEmJmEuZ2V0TmFtZSYmXCJzcGFuXCI9PWEuZ2V0TmFtZSgpJiZhLmRhdGEoXCJja2UtYm9va21hcmtcIil9cmV0dXJuIGZ1bmN0aW9uKGMpe3ZhciBkLGU7ZD1jJiZjLnR5cGUhPUNLRURJVE9SLk5PREVfRUxFTUVOVCYmKGU9Yy5nZXRQYXJlbnQoKSkmJmcoZSk7ZD1hP2Q6ZHx8ZyhjKTtyZXR1cm4hIShiXmQpfX07Q0tFRElUT1IuZG9tLndhbGtlci53aGl0ZXNwYWNlcz1mdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oYil7dmFyIGc7YiYmYi50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFQmJihnPSFDS0VESVRPUi50b29scy50cmltKGIuZ2V0VGV4dCgpKXx8Q0tFRElUT1IuZW52LndlYmtpdCYmYi5nZXRUZXh0KCk9PUNLRURJVE9SLmRvbS5zZWxlY3Rpb24uRklMTElOR19DSEFSX1NFUVVFTkNFKTtcbnJldHVybiEhKGFeZyl9fTtDS0VESVRPUi5kb20ud2Fsa2VyLmludmlzaWJsZT1mdW5jdGlvbihhKXt2YXIgYj1DS0VESVRPUi5kb20ud2Fsa2VyLndoaXRlc3BhY2VzKCksZz1DS0VESVRPUi5lbnYud2Via2l0PzE6MDtyZXR1cm4gZnVuY3Rpb24oYyl7YihjKT9jPTE6KGMudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUJiYoYz1jLmdldFBhcmVudCgpKSxjPWMuJC5vZmZzZXRXaWR0aDw9Zyk7cmV0dXJuISEoYV5jKX19O0NLRURJVE9SLmRvbS53YWxrZXIubm9kZVR5cGU9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gZnVuY3Rpb24oZyl7cmV0dXJuISEoYl5nLnR5cGU9PWEpfX07Q0tFRElUT1IuZG9tLndhbGtlci5ib2d1cz1mdW5jdGlvbihhKXtmdW5jdGlvbiBiKGEpe3JldHVybiFtKGEpJiYhbChhKX1yZXR1cm4gZnVuY3Rpb24oZyl7dmFyIGM9Q0tFRElUT1IuZW52Lm5lZWRzQnJGaWxsZXI/Zy5pcyYmZy5pcyhcImJyXCIpOmcuZ2V0VGV4dCYmZS50ZXN0KGcuZ2V0VGV4dCgpKTtjJiYoYz1nLmdldFBhcmVudCgpLFxuZz1nLmdldE5leHQoYiksYz1jLmlzQmxvY2tCb3VuZGFyeSgpJiYoIWd8fGcudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZnLmlzQmxvY2tCb3VuZGFyeSgpKSk7cmV0dXJuISEoYV5jKX19O0NLRURJVE9SLmRvbS53YWxrZXIudGVtcD1mdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oYil7Yi50eXBlIT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJihiPWIuZ2V0UGFyZW50KCkpO2I9YiYmYi5oYXNBdHRyaWJ1dGUoXCJkYXRhLWNrZS10ZW1wXCIpO3JldHVybiEhKGFeYil9fTt2YXIgZT0vXltcXHRcXHJcXG4gXSooPzombmJzcDt8XFx4YTApJC8sbT1DS0VESVRPUi5kb20ud2Fsa2VyLndoaXRlc3BhY2VzKCksbD1DS0VESVRPUi5kb20ud2Fsa2VyLmJvb2ttYXJrKCksZD1DS0VESVRPUi5kb20ud2Fsa2VyLnRlbXAoKSxoPWZ1bmN0aW9uKGEpe3JldHVybiBsKGEpfHxtKGEpfHxhLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmYS5pcyhDS0VESVRPUi5kdGQuJGlubGluZSkmJiFhLmlzKENLRURJVE9SLmR0ZC4kZW1wdHkpfTtcbkNLRURJVE9SLmRvbS53YWxrZXIuaWdub3JlZD1mdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oYil7Yj1tKGIpfHxsKGIpfHxkKGIpO3JldHVybiEhKGFeYil9fTt2YXIgaz1DS0VESVRPUi5kb20ud2Fsa2VyLmlnbm9yZWQoKTtDS0VESVRPUi5kb20ud2Fsa2VyLmVtcHR5PWZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbihiKXtmb3IodmFyIGc9MCxjPWIuZ2V0Q2hpbGRDb3VudCgpO2c8YzsrK2cpaWYoIWsoYi5nZXRDaGlsZChnKSkpcmV0dXJuISFhO3JldHVybiFhfX07dmFyIGc9Q0tFRElUT1IuZG9tLndhbGtlci5lbXB0eSgpLG49Q0tFRElUT1IuZG9tLndhbGtlci52YWxpZEVtcHR5QmxvY2tDb250YWluZXJzPUNLRURJVE9SLnRvb2xzLmV4dGVuZChmdW5jdGlvbihhKXt2YXIgYj17fSxnO2ZvcihnIGluIGEpQ0tFRElUT1IuZHRkW2ddW1wiI1wiXSYmKGJbZ109MSk7cmV0dXJuIGJ9KENLRURJVE9SLmR0ZC4kYmxvY2spLHtjYXB0aW9uOjEsdGQ6MSx0aDoxfSk7Q0tFRElUT1IuZG9tLndhbGtlci5lZGl0YWJsZT1cbmZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbihiKXtiPWsoYik/ITE6Yi50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFR8fGIudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiYoYi5pcyhDS0VESVRPUi5kdGQuJGlubGluZSl8fGIuaXMoXCJoclwiKXx8XCJmYWxzZVwiPT1iLmdldEF0dHJpYnV0ZShcImNvbnRlbnRlZGl0YWJsZVwiKXx8IUNLRURJVE9SLmVudi5uZWVkc0JyRmlsbGVyJiZiLmlzKG4pJiZnKGIpKT8hMDohMTtyZXR1cm4hIShhXmIpfX07Q0tFRElUT1IuZG9tLmVsZW1lbnQucHJvdG90eXBlLmdldEJvZ3VzPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcztkbyBhPWEuZ2V0UHJldmlvdXNTb3VyY2VOb2RlKCk7d2hpbGUoaChhKSk7cmV0dXJuIGEmJihDS0VESVRPUi5lbnYubmVlZHNCckZpbGxlcj9hLmlzJiZhLmlzKFwiYnJcIik6YS5nZXRUZXh0JiZlLnRlc3QoYS5nZXRUZXh0KCkpKT9hOiExfX0oKSxDS0VESVRPUi5kb20ucmFuZ2U9ZnVuY3Rpb24oYSl7dGhpcy5lbmRPZmZzZXQ9dGhpcy5lbmRDb250YWluZXI9XG50aGlzLnN0YXJ0T2Zmc2V0PXRoaXMuc3RhcnRDb250YWluZXI9bnVsbDt0aGlzLmNvbGxhcHNlZD0hMDt2YXIgZj1hIGluc3RhbmNlb2YgQ0tFRElUT1IuZG9tLmRvY3VtZW50O3RoaXMuZG9jdW1lbnQ9Zj9hOmEuZ2V0RG9jdW1lbnQoKTt0aGlzLnJvb3Q9Zj9hLmdldEJvZHkoKTphfSxmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSl7YS5jb2xsYXBzZWQ9YS5zdGFydENvbnRhaW5lciYmYS5lbmRDb250YWluZXImJmEuc3RhcnRDb250YWluZXIuZXF1YWxzKGEuZW5kQ29udGFpbmVyKSYmYS5zdGFydE9mZnNldD09YS5lbmRPZmZzZXR9ZnVuY3Rpb24gZihhLGIsYyxkLGUpe2Z1bmN0aW9uIGsoYSxiLGcsYyl7dmFyIGQ9Zz9hLmdldFByZXZpb3VzKCk6YS5nZXROZXh0KCk7aWYoYyYmbSlyZXR1cm4gZDt3fHxjP2IuYXBwZW5kKGEuY2xvbmUoITAsZSksZyk6KGEucmVtb3ZlKCksbCYmYi5hcHBlbmQoYSkpO3JldHVybiBkfWZ1bmN0aW9uIGYoKXt2YXIgYSxiLGcsYz1NYXRoLm1pbihJLmxlbmd0aCxcbkgubGVuZ3RoKTtmb3IoYT0wO2E8YzthKyspaWYoYj1JW2FdLGc9SFthXSwhYi5lcXVhbHMoZykpcmV0dXJuIGE7cmV0dXJuIGEtMX1mdW5jdGlvbiBoKCl7dmFyIGI9Ui0xLGM9RSYmSiYmIXouZXF1YWxzKEQpO2I8UC0xfHxiPFQtMXx8Yz8oYz9hLm1vdmVUb1Bvc2l0aW9uKEQsQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX1NUQVJUKTpUPT1iKzEmJkY/YS5tb3ZlVG9Qb3NpdGlvbihIW2JdLENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9FTkQpOmEubW92ZVRvUG9zaXRpb24oSFtiKzFdLENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9TVEFSVCksZCYmKGI9SVtiKzFdKSYmYi50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJihjPUNLRURJVE9SLmRvbS5lbGVtZW50LmNyZWF0ZUZyb21IdG1sKCdcXHgzY3NwYW4gZGF0YS1ja2UtYm9va21hcmtcXHgzZFwiMVwiIHN0eWxlXFx4M2RcImRpc3BsYXk6bm9uZVwiXFx4M2VcXHgyNm5ic3A7XFx4M2Mvc3BhblxceDNlJyxhLmRvY3VtZW50KSxjLmluc2VydEFmdGVyKGIpLFxuYi5tZXJnZVNpYmxpbmdzKCExKSxhLm1vdmVUb0Jvb2ttYXJrKHtzdGFydE5vZGU6Y30pKSk6YS5jb2xsYXBzZSghMCl9YS5vcHRpbWl6ZUJvb2ttYXJrKCk7dmFyIG09MD09PWIsbD0xPT1iLHc9Mj09YjtiPXd8fGw7dmFyIHo9YS5zdGFydENvbnRhaW5lcixEPWEuZW5kQ29udGFpbmVyLHk9YS5zdGFydE9mZnNldCxBPWEuZW5kT2Zmc2V0LEMsRixFLEosRyxNO2lmKHcmJkQudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUJiZ6LmVxdWFscyhEKSl6PWEuZG9jdW1lbnQuY3JlYXRlVGV4dCh6LnN1YnN0cmluZyh5LEEpKSxjLmFwcGVuZCh6KTtlbHNle0QudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUP3c/TT0hMDpEPUQuc3BsaXQoQSk6MDxELmdldENoaWxkQ291bnQoKT9BPj1ELmdldENoaWxkQ291bnQoKT8oRD1ELmdldENoaWxkKEEtMSksRj0hMCk6RD1ELmdldENoaWxkKEEpOko9Rj0hMDt6LnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVD93P0c9ITA6ei5zcGxpdCh5KTowPHouZ2V0Q2hpbGRDb3VudCgpP1xuMD09PXk/KHo9ei5nZXRDaGlsZCh5KSxDPSEwKTp6PXouZ2V0Q2hpbGQoeS0xKTpFPUM9ITA7Zm9yKHZhciBJPXouZ2V0UGFyZW50cygpLEg9RC5nZXRQYXJlbnRzKCksUj1mKCksUD1JLmxlbmd0aC0xLFQ9SC5sZW5ndGgtMSxPPWMsSyxjYSxXLFU9LTEsTD1SO0w8PVA7TCsrKXtjYT1JW0xdO1c9Y2EuZ2V0TmV4dCgpO2ZvcihMIT1QfHxjYS5lcXVhbHMoSFtMXSkmJlA8VD9iJiYoSz1PLmFwcGVuZChjYS5jbG9uZSgwLGUpKSk6Qz9rKGNhLE8sITEsRSk6RyYmTy5hcHBlbmQoYS5kb2N1bWVudC5jcmVhdGVUZXh0KGNhLnN1YnN0cmluZyh5KSkpO1c7KXtpZihXLmVxdWFscyhIW0xdKSl7VT1MO2JyZWFrfVc9ayhXLE8pfU89S31PPWM7Zm9yKEw9UjtMPD1UO0wrKylpZihjPUhbTF0sVz1jLmdldFByZXZpb3VzKCksYy5lcXVhbHMoSVtMXSkpYiYmKE89Ty5nZXRDaGlsZCgwKSk7ZWxzZXtMIT1UfHxjLmVxdWFscyhJW0xdKSYmVDxQP2ImJihLPU8uYXBwZW5kKGMuY2xvbmUoMCxlKSkpOlxuRj9rKGMsTywhMSxKKTpNJiZPLmFwcGVuZChhLmRvY3VtZW50LmNyZWF0ZVRleHQoYy5zdWJzdHJpbmcoMCxBKSkpO2lmKEw+VSlmb3IoO1c7KVc9ayhXLE8sITApO089S313fHxoKCl9fWZ1bmN0aW9uIGIoKXt2YXIgYT0hMSxiPUNLRURJVE9SLmRvbS53YWxrZXIud2hpdGVzcGFjZXMoKSxjPUNLRURJVE9SLmRvbS53YWxrZXIuYm9va21hcmsoITApLGQ9Q0tFRElUT1IuZG9tLndhbGtlci5ib2d1cygpO3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gYyhlKXx8YihlKT8hMDpkKGUpJiYhYT9hPSEwOmUudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUJiYoZS5oYXNBc2NlbmRhbnQoXCJwcmVcIil8fENLRURJVE9SLnRvb2xzLnRyaW0oZS5nZXRUZXh0KCkpLmxlbmd0aCl8fGUudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiYhZS5pcyhtKT8hMTohMH19ZnVuY3Rpb24gYyhhKXt2YXIgYj1DS0VESVRPUi5kb20ud2Fsa2VyLndoaXRlc3BhY2VzKCksYz1DS0VESVRPUi5kb20ud2Fsa2VyLmJvb2ttYXJrKDEpO1xucmV0dXJuIGZ1bmN0aW9uKGQpe3JldHVybiBjKGQpfHxiKGQpPyEwOiFhJiZsKGQpfHxkLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmZC5pcyhDS0VESVRPUi5kdGQuJHJlbW92ZUVtcHR5KX19ZnVuY3Rpb24gZShhKXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgYjtyZXR1cm4gdGhpc1thP1wiZ2V0UHJldmlvdXNOb2RlXCI6XCJnZXROZXh0Tm9kZVwiXShmdW5jdGlvbihhKXshYiYmayhhKSYmKGI9YSk7cmV0dXJuIGgoYSkmJiEobChhKSYmYS5lcXVhbHMoYikpfSl9fXZhciBtPXthYmJyOjEsYWNyb255bToxLGI6MSxiZG86MSxiaWc6MSxjaXRlOjEsY29kZToxLGRlbDoxLGRmbjoxLGVtOjEsZm9udDoxLGk6MSxpbnM6MSxsYWJlbDoxLGtiZDoxLHE6MSxzYW1wOjEsc21hbGw6MSxzcGFuOjEsc3RyaWtlOjEsc3Ryb25nOjEsc3ViOjEsc3VwOjEsdHQ6MSx1OjEsXCJ2YXJcIjoxfSxsPUNLRURJVE9SLmRvbS53YWxrZXIuYm9ndXMoKSxkPS9eW1xcdFxcclxcbiBdKig/OiZuYnNwO3xcXHhhMCkkLyxcbmg9Q0tFRElUT1IuZG9tLndhbGtlci5lZGl0YWJsZSgpLGs9Q0tFRElUT1IuZG9tLndhbGtlci5pZ25vcmVkKCEwKTtDS0VESVRPUi5kb20ucmFuZ2UucHJvdG90eXBlPXtjbG9uZTpmdW5jdGlvbigpe3ZhciBhPW5ldyBDS0VESVRPUi5kb20ucmFuZ2UodGhpcy5yb290KTthLl9zZXRTdGFydENvbnRhaW5lcih0aGlzLnN0YXJ0Q29udGFpbmVyKTthLnN0YXJ0T2Zmc2V0PXRoaXMuc3RhcnRPZmZzZXQ7YS5fc2V0RW5kQ29udGFpbmVyKHRoaXMuZW5kQ29udGFpbmVyKTthLmVuZE9mZnNldD10aGlzLmVuZE9mZnNldDthLmNvbGxhcHNlZD10aGlzLmNvbGxhcHNlZDtyZXR1cm4gYX0sY29sbGFwc2U6ZnVuY3Rpb24oYSl7YT8odGhpcy5fc2V0RW5kQ29udGFpbmVyKHRoaXMuc3RhcnRDb250YWluZXIpLHRoaXMuZW5kT2Zmc2V0PXRoaXMuc3RhcnRPZmZzZXQpOih0aGlzLl9zZXRTdGFydENvbnRhaW5lcih0aGlzLmVuZENvbnRhaW5lciksdGhpcy5zdGFydE9mZnNldD10aGlzLmVuZE9mZnNldCk7XG50aGlzLmNvbGxhcHNlZD0hMH0sY2xvbmVDb250ZW50czpmdW5jdGlvbihhKXt2YXIgYj1uZXcgQ0tFRElUT1IuZG9tLmRvY3VtZW50RnJhZ21lbnQodGhpcy5kb2N1bWVudCk7dGhpcy5jb2xsYXBzZWR8fGYodGhpcywyLGIsITEsXCJ1bmRlZmluZWRcIj09dHlwZW9mIGE/ITA6YSk7cmV0dXJuIGJ9LGRlbGV0ZUNvbnRlbnRzOmZ1bmN0aW9uKGEpe3RoaXMuY29sbGFwc2VkfHxmKHRoaXMsMCxudWxsLGEpfSxleHRyYWN0Q29udGVudHM6ZnVuY3Rpb24oYSxiKXt2YXIgYz1uZXcgQ0tFRElUT1IuZG9tLmRvY3VtZW50RnJhZ21lbnQodGhpcy5kb2N1bWVudCk7dGhpcy5jb2xsYXBzZWR8fGYodGhpcywxLGMsYSxcInVuZGVmaW5lZFwiPT10eXBlb2YgYj8hMDpiKTtyZXR1cm4gY30sY3JlYXRlQm9va21hcms6ZnVuY3Rpb24oYSl7dmFyIGIsYyxkLGUsaz10aGlzLmNvbGxhcHNlZDtiPXRoaXMuZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7Yi5kYXRhKFwiY2tlLWJvb2ttYXJrXCIsMSk7Yi5zZXRTdHlsZShcImRpc3BsYXlcIixcblwibm9uZVwiKTtiLnNldEh0bWwoXCJcXHgyNm5ic3A7XCIpO2EmJihkPVwiY2tlX2JtX1wiK0NLRURJVE9SLnRvb2xzLmdldE5leHROdW1iZXIoKSxiLnNldEF0dHJpYnV0ZShcImlkXCIsZCsoaz9cIkNcIjpcIlNcIikpKTtrfHwoYz1iLmNsb25lKCksYy5zZXRIdG1sKFwiXFx4MjZuYnNwO1wiKSxhJiZjLnNldEF0dHJpYnV0ZShcImlkXCIsZCtcIkVcIiksZT10aGlzLmNsb25lKCksZS5jb2xsYXBzZSgpLGUuaW5zZXJ0Tm9kZShjKSk7ZT10aGlzLmNsb25lKCk7ZS5jb2xsYXBzZSghMCk7ZS5pbnNlcnROb2RlKGIpO2M/KHRoaXMuc2V0U3RhcnRBZnRlcihiKSx0aGlzLnNldEVuZEJlZm9yZShjKSk6dGhpcy5tb3ZlVG9Qb3NpdGlvbihiLENLRURJVE9SLlBPU0lUSU9OX0FGVEVSX0VORCk7cmV0dXJue3N0YXJ0Tm9kZTphP2QrKGs/XCJDXCI6XCJTXCIpOmIsZW5kTm9kZTphP2QrXCJFXCI6YyxzZXJpYWxpemFibGU6YSxjb2xsYXBzZWQ6a319LGNyZWF0ZUJvb2ttYXJrMjpmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYil7dmFyIGc9XG5iLmNvbnRhaW5lcixkPWIub2Zmc2V0LGU7ZT1nO3ZhciBrPWQ7ZT1lLnR5cGUhPUNLRURJVE9SLk5PREVfRUxFTUVOVHx8MD09PWt8fGs9PWUuZ2V0Q2hpbGRDb3VudCgpPzA6ZS5nZXRDaGlsZChrLTEpLnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVCYmZS5nZXRDaGlsZChrKS50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFQ7ZSYmKGc9Zy5nZXRDaGlsZChkLTEpLGQ9Zy5nZXRMZW5ndGgoKSk7aWYoZy50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJjA8ZCl7YTp7Zm9yKGU9ZztkLS07KWlmKGs9ZS5nZXRDaGlsZChkKS5nZXRJbmRleCghMCksMDw9ayl7ZD1rO2JyZWFrIGF9ZD0tMX1kKz0xfWlmKGcudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUKXtlPWc7Zm9yKGs9MDsoZT1lLmdldFByZXZpb3VzKCkpJiZlLnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVDspays9ZS5nZXRUZXh0KCkucmVwbGFjZShDS0VESVRPUi5kb20uc2VsZWN0aW9uLkZJTExJTkdfQ0hBUl9TRVFVRU5DRSxcIlwiKS5sZW5ndGg7XG5lPWs7Zy5nZXRUZXh0KCk/ZCs9ZTooaz1nLmdldFByZXZpb3VzKGMpLGU/KGQ9ZSxnPWs/ay5nZXROZXh0KCk6Zy5nZXRQYXJlbnQoKS5nZXRGaXJzdCgpKTooZz1nLmdldFBhcmVudCgpLGQ9az9rLmdldEluZGV4KCEwKSsxOjApKX1iLmNvbnRhaW5lcj1nO2Iub2Zmc2V0PWR9ZnVuY3Rpb24gYihhLGcpe3ZhciBjPWcuZ2V0Q3VzdG9tRGF0YShcImNrZS1maWxsaW5nQ2hhclwiKTtpZihjKXt2YXIgZD1hLmNvbnRhaW5lcjtjLmVxdWFscyhkKSYmKGEub2Zmc2V0LT1DS0VESVRPUi5kb20uc2VsZWN0aW9uLkZJTExJTkdfQ0hBUl9TRVFVRU5DRS5sZW5ndGgsMD49YS5vZmZzZXQmJihhLm9mZnNldD1kLmdldEluZGV4KCksYS5jb250YWluZXI9ZC5nZXRQYXJlbnQoKSkpfX12YXIgYz1DS0VESVRPUi5kb20ud2Fsa2VyLm5vZGVUeXBlKENLRURJVE9SLk5PREVfVEVYVCwhMCk7cmV0dXJuIGZ1bmN0aW9uKGMpe3ZhciBkPXRoaXMuY29sbGFwc2VkLGU9e2NvbnRhaW5lcjp0aGlzLnN0YXJ0Q29udGFpbmVyLFxub2Zmc2V0OnRoaXMuc3RhcnRPZmZzZXR9LGs9e2NvbnRhaW5lcjp0aGlzLmVuZENvbnRhaW5lcixvZmZzZXQ6dGhpcy5lbmRPZmZzZXR9O2MmJihhKGUpLGIoZSx0aGlzLnJvb3QpLGR8fChhKGspLGIoayx0aGlzLnJvb3QpKSk7cmV0dXJue3N0YXJ0OmUuY29udGFpbmVyLmdldEFkZHJlc3MoYyksZW5kOmQ/bnVsbDprLmNvbnRhaW5lci5nZXRBZGRyZXNzKGMpLHN0YXJ0T2Zmc2V0OmUub2Zmc2V0LGVuZE9mZnNldDprLm9mZnNldCxub3JtYWxpemVkOmMsY29sbGFwc2VkOmQsaXMyOiEwfX19KCksbW92ZVRvQm9va21hcms6ZnVuY3Rpb24oYSl7aWYoYS5pczIpe3ZhciBiPXRoaXMuZG9jdW1lbnQuZ2V0QnlBZGRyZXNzKGEuc3RhcnQsYS5ub3JtYWxpemVkKSxjPWEuc3RhcnRPZmZzZXQsZD1hLmVuZCYmdGhpcy5kb2N1bWVudC5nZXRCeUFkZHJlc3MoYS5lbmQsYS5ub3JtYWxpemVkKTthPWEuZW5kT2Zmc2V0O3RoaXMuc2V0U3RhcnQoYixjKTtkP3RoaXMuc2V0RW5kKGQsYSk6dGhpcy5jb2xsYXBzZSghMCl9ZWxzZSBiPVxuKGM9YS5zZXJpYWxpemFibGUpP3RoaXMuZG9jdW1lbnQuZ2V0QnlJZChhLnN0YXJ0Tm9kZSk6YS5zdGFydE5vZGUsYT1jP3RoaXMuZG9jdW1lbnQuZ2V0QnlJZChhLmVuZE5vZGUpOmEuZW5kTm9kZSx0aGlzLnNldFN0YXJ0QmVmb3JlKGIpLGIucmVtb3ZlKCksYT8odGhpcy5zZXRFbmRCZWZvcmUoYSksYS5yZW1vdmUoKSk6dGhpcy5jb2xsYXBzZSghMCl9LGdldEJvdW5kYXJ5Tm9kZXM6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnN0YXJ0Q29udGFpbmVyLGI9dGhpcy5lbmRDb250YWluZXIsYz10aGlzLnN0YXJ0T2Zmc2V0LGQ9dGhpcy5lbmRPZmZzZXQsZTtpZihhLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVClpZihlPWEuZ2V0Q2hpbGRDb3VudCgpLGU+YylhPWEuZ2V0Q2hpbGQoYyk7ZWxzZSBpZigxPmUpYT1hLmdldFByZXZpb3VzU291cmNlTm9kZSgpO2Vsc2V7Zm9yKGE9YS4kO2EubGFzdENoaWxkOylhPWEubGFzdENoaWxkO2E9bmV3IENLRURJVE9SLmRvbS5ub2RlKGEpO2E9XG5hLmdldE5leHRTb3VyY2VOb2RlKCl8fGF9aWYoYi50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQpaWYoZT1iLmdldENoaWxkQ291bnQoKSxlPmQpYj1iLmdldENoaWxkKGQpLmdldFByZXZpb3VzU291cmNlTm9kZSghMCk7ZWxzZSBpZigxPmUpYj1iLmdldFByZXZpb3VzU291cmNlTm9kZSgpO2Vsc2V7Zm9yKGI9Yi4kO2IubGFzdENoaWxkOyliPWIubGFzdENoaWxkO2I9bmV3IENLRURJVE9SLmRvbS5ub2RlKGIpfWEuZ2V0UG9zaXRpb24oYikmQ0tFRElUT1IuUE9TSVRJT05fRk9MTE9XSU5HJiYoYT1iKTtyZXR1cm57c3RhcnROb2RlOmEsZW5kTm9kZTpifX0sZ2V0Q29tbW9uQW5jZXN0b3I6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLnN0YXJ0Q29udGFpbmVyLGQ9dGhpcy5lbmRDb250YWluZXIsYz1jLmVxdWFscyhkKT9hJiZjLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmdGhpcy5zdGFydE9mZnNldD09dGhpcy5lbmRPZmZzZXQtMT9jLmdldENoaWxkKHRoaXMuc3RhcnRPZmZzZXQpOlxuYzpjLmdldENvbW1vbkFuY2VzdG9yKGQpO3JldHVybiBiJiYhYy5pcz9jLmdldFBhcmVudCgpOmN9LG9wdGltaXplOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5zdGFydENvbnRhaW5lcixiPXRoaXMuc3RhcnRPZmZzZXQ7YS50eXBlIT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJihiP2I+PWEuZ2V0TGVuZ3RoKCkmJnRoaXMuc2V0U3RhcnRBZnRlcihhKTp0aGlzLnNldFN0YXJ0QmVmb3JlKGEpKTthPXRoaXMuZW5kQ29udGFpbmVyO2I9dGhpcy5lbmRPZmZzZXQ7YS50eXBlIT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJihiP2I+PWEuZ2V0TGVuZ3RoKCkmJnRoaXMuc2V0RW5kQWZ0ZXIoYSk6dGhpcy5zZXRFbmRCZWZvcmUoYSkpfSxvcHRpbWl6ZUJvb2ttYXJrOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5zdGFydENvbnRhaW5lcixiPXRoaXMuZW5kQ29udGFpbmVyO2EuaXMmJmEuaXMoXCJzcGFuXCIpJiZhLmRhdGEoXCJja2UtYm9va21hcmtcIikmJnRoaXMuc2V0U3RhcnRBdChhLENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9TVEFSVCk7XG5iJiZiLmlzJiZiLmlzKFwic3BhblwiKSYmYi5kYXRhKFwiY2tlLWJvb2ttYXJrXCIpJiZ0aGlzLnNldEVuZEF0KGIsQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfRU5EKX0sdHJpbTpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuc3RhcnRDb250YWluZXIsZD10aGlzLnN0YXJ0T2Zmc2V0LGU9dGhpcy5jb2xsYXBzZWQ7aWYoKCFhfHxlKSYmYyYmYy50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFQpe2lmKGQpaWYoZD49Yy5nZXRMZW5ndGgoKSlkPWMuZ2V0SW5kZXgoKSsxLGM9Yy5nZXRQYXJlbnQoKTtlbHNle3ZhciBrPWMuc3BsaXQoZCksZD1jLmdldEluZGV4KCkrMSxjPWMuZ2V0UGFyZW50KCk7dGhpcy5zdGFydENvbnRhaW5lci5lcXVhbHModGhpcy5lbmRDb250YWluZXIpP3RoaXMuc2V0RW5kKGssdGhpcy5lbmRPZmZzZXQtdGhpcy5zdGFydE9mZnNldCk6Yy5lcXVhbHModGhpcy5lbmRDb250YWluZXIpJiYodGhpcy5lbmRPZmZzZXQrPTEpfWVsc2UgZD1jLmdldEluZGV4KCksYz1jLmdldFBhcmVudCgpO1xudGhpcy5zZXRTdGFydChjLGQpO2lmKGUpe3RoaXMuY29sbGFwc2UoITApO3JldHVybn19Yz10aGlzLmVuZENvbnRhaW5lcjtkPXRoaXMuZW5kT2Zmc2V0O2J8fGV8fCFjfHxjLnR5cGUhPUNLRURJVE9SLk5PREVfVEVYVHx8KGQ/KGQ+PWMuZ2V0TGVuZ3RoKCl8fGMuc3BsaXQoZCksZD1jLmdldEluZGV4KCkrMSk6ZD1jLmdldEluZGV4KCksYz1jLmdldFBhcmVudCgpLHRoaXMuc2V0RW5kKGMsZCkpfSxlbmxhcmdlOmZ1bmN0aW9uKGEsYil7ZnVuY3Rpb24gYyhhKXtyZXR1cm4gYSYmYS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmEuaGFzQXR0cmlidXRlKFwiY29udGVudGVkaXRhYmxlXCIpP251bGw6YX12YXIgZD1uZXcgUmVnRXhwKC9bXlxcc1xcdWZlZmZdLyk7c3dpdGNoKGEpe2Nhc2UgQ0tFRElUT1IuRU5MQVJHRV9JTkxJTkU6dmFyIGU9MTtjYXNlIENLRURJVE9SLkVOTEFSR0VfRUxFTUVOVDp2YXIgaz1mdW5jdGlvbihhLGIpe3ZhciBjPW5ldyBDS0VESVRPUi5kb20ucmFuZ2UoaCk7XG5jLnNldFN0YXJ0KGEsYik7Yy5zZXRFbmRBdChoLENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9FTkQpO3ZhciBjPW5ldyBDS0VESVRPUi5kb20ud2Fsa2VyKGMpLGc7Zm9yKGMuZ3VhcmQ9ZnVuY3Rpb24oYSl7cmV0dXJuIShhLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmYS5pc0Jsb2NrQm91bmRhcnkoKSl9O2c9Yy5uZXh0KCk7KXtpZihnLnR5cGUhPUNLRURJVE9SLk5PREVfVEVYVClyZXR1cm4hMTtDPWchPWE/Zy5nZXRUZXh0KCk6Zy5zdWJzdHJpbmcoYik7aWYoZC50ZXN0KEMpKXJldHVybiExfXJldHVybiEwfTtpZih0aGlzLmNvbGxhcHNlZClicmVhazt2YXIgZj10aGlzLmdldENvbW1vbkFuY2VzdG9yKCksaD10aGlzLnJvb3QsbSxsLHcseixELHk9ITEsQSxDO0E9dGhpcy5zdGFydENvbnRhaW5lcjt2YXIgRj10aGlzLnN0YXJ0T2Zmc2V0O0EudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUPyhGJiYoQT0hQ0tFRElUT1IudG9vbHMudHJpbShBLnN1YnN0cmluZygwLEYpKS5sZW5ndGgmJlxuQSx5PSEhQSksQSYmKCh6PUEuZ2V0UHJldmlvdXMoKSl8fCh3PUEuZ2V0UGFyZW50KCkpKSk6KEYmJih6PUEuZ2V0Q2hpbGQoRi0xKXx8QS5nZXRMYXN0KCkpLHp8fCh3PUEpKTtmb3Iodz1jKHcpO3d8fHo7KXtpZih3JiYheil7IUQmJncuZXF1YWxzKGYpJiYoRD0hMCk7aWYoZT93LmlzQmxvY2tCb3VuZGFyeSgpOiFoLmNvbnRhaW5zKHcpKWJyZWFrO3kmJlwiaW5saW5lXCI9PXcuZ2V0Q29tcHV0ZWRTdHlsZShcImRpc3BsYXlcIil8fCh5PSExLEQ/bT13OnRoaXMuc2V0U3RhcnRCZWZvcmUodykpO3o9dy5nZXRQcmV2aW91cygpfWZvcig7ejspaWYoQT0hMSx6LnR5cGU9PUNLRURJVE9SLk5PREVfQ09NTUVOVCl6PXouZ2V0UHJldmlvdXMoKTtlbHNle2lmKHoudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUKUM9ei5nZXRUZXh0KCksZC50ZXN0KEMpJiYoej1udWxsKSxBPS9bXFxzXFx1ZmVmZl0kLy50ZXN0KEMpO2Vsc2UgaWYoKHouJC5vZmZzZXRXaWR0aD4oQ0tFRElUT1IuZW52LndlYmtpdD8xOlxuMCl8fGImJnouaXMoXCJiclwiKSkmJiF6LmRhdGEoXCJja2UtYm9va21hcmtcIikpaWYoeSYmQ0tFRElUT1IuZHRkLiRyZW1vdmVFbXB0eVt6LmdldE5hbWUoKV0pe0M9ei5nZXRUZXh0KCk7aWYoZC50ZXN0KEMpKXo9bnVsbDtlbHNlIGZvcih2YXIgRj16LiQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCIqXCIpLEU9MCxKO0o9RltFKytdOylpZighQ0tFRElUT1IuZHRkLiRyZW1vdmVFbXB0eVtKLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCldKXt6PW51bGw7YnJlYWt9eiYmKEE9ISFDLmxlbmd0aCl9ZWxzZSB6PW51bGw7QSYmKHk/RD9tPXc6dyYmdGhpcy5zZXRTdGFydEJlZm9yZSh3KTp5PSEwKTtpZih6KXtBPXouZ2V0UHJldmlvdXMoKTtpZighdyYmIUEpe3c9ejt6PW51bGw7YnJlYWt9ej1BfWVsc2Ugdz1udWxsfXcmJih3PWMody5nZXRQYXJlbnQoKSkpfUE9dGhpcy5lbmRDb250YWluZXI7Rj10aGlzLmVuZE9mZnNldDt3PXo9bnVsbDtEPXk9ITE7QS50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFQ/XG5DS0VESVRPUi50b29scy50cmltKEEuc3Vic3RyaW5nKEYpKS5sZW5ndGg/eT0hMDooeT0hQS5nZXRMZW5ndGgoKSxGPT1BLmdldExlbmd0aCgpPyh6PUEuZ2V0TmV4dCgpKXx8KHc9QS5nZXRQYXJlbnQoKSk6ayhBLEYpJiYodz1BLmdldFBhcmVudCgpKSk6KHo9QS5nZXRDaGlsZChGKSl8fCh3PUEpO2Zvcig7d3x8ejspe2lmKHcmJiF6KXshRCYmdy5lcXVhbHMoZikmJihEPSEwKTtpZihlP3cuaXNCbG9ja0JvdW5kYXJ5KCk6IWguY29udGFpbnModykpYnJlYWs7eSYmXCJpbmxpbmVcIj09dy5nZXRDb21wdXRlZFN0eWxlKFwiZGlzcGxheVwiKXx8KHk9ITEsRD9sPXc6dyYmdGhpcy5zZXRFbmRBZnRlcih3KSk7ej13LmdldE5leHQoKX1mb3IoO3o7KXtBPSExO2lmKHoudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUKUM9ei5nZXRUZXh0KCksayh6LDApfHwoej1udWxsKSxBPS9eW1xcc1xcdWZlZmZdLy50ZXN0KEMpO2Vsc2UgaWYoei50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQpe2lmKCgwPHouJC5vZmZzZXRXaWR0aHx8XG5iJiZ6LmlzKFwiYnJcIikpJiYhei5kYXRhKFwiY2tlLWJvb2ttYXJrXCIpKWlmKHkmJkNLRURJVE9SLmR0ZC4kcmVtb3ZlRW1wdHlbei5nZXROYW1lKCldKXtDPXouZ2V0VGV4dCgpO2lmKGQudGVzdChDKSl6PW51bGw7ZWxzZSBmb3IoRj16LiQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCIqXCIpLEU9MDtKPUZbRSsrXTspaWYoIUNLRURJVE9SLmR0ZC4kcmVtb3ZlRW1wdHlbSi5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpXSl7ej1udWxsO2JyZWFrfXomJihBPSEhQy5sZW5ndGgpfWVsc2Ugej1udWxsfWVsc2UgQT0xO0EmJnkmJihEP2w9dzp0aGlzLnNldEVuZEFmdGVyKHcpKTtpZih6KXtBPXouZ2V0TmV4dCgpO2lmKCF3JiYhQSl7dz16O3o9bnVsbDticmVha316PUF9ZWxzZSB3PW51bGx9dyYmKHc9Yyh3LmdldFBhcmVudCgpKSl9bSYmbCYmKGY9bS5jb250YWlucyhsKT9sOm0sdGhpcy5zZXRTdGFydEJlZm9yZShmKSx0aGlzLnNldEVuZEFmdGVyKGYpKTticmVhaztjYXNlIENLRURJVE9SLkVOTEFSR0VfQkxPQ0tfQ09OVEVOVFM6Y2FzZSBDS0VESVRPUi5FTkxBUkdFX0xJU1RfSVRFTV9DT05URU5UUzp3PVxubmV3IENLRURJVE9SLmRvbS5yYW5nZSh0aGlzLnJvb3QpO2g9dGhpcy5yb290O3cuc2V0U3RhcnRBdChoLENLRURJVE9SLlBPU0lUSU9OX0FGVEVSX1NUQVJUKTt3LnNldEVuZCh0aGlzLnN0YXJ0Q29udGFpbmVyLHRoaXMuc3RhcnRPZmZzZXQpO3c9bmV3IENLRURJVE9SLmRvbS53YWxrZXIodyk7dmFyIEcsTSxJPUNLRURJVE9SLmRvbS53YWxrZXIuYmxvY2tCb3VuZGFyeShhPT1DS0VESVRPUi5FTkxBUkdFX0xJU1RfSVRFTV9DT05URU5UUz97YnI6MX06bnVsbCksSD1udWxsLFI9ZnVuY3Rpb24oYSl7aWYoYS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJlwiZmFsc2VcIj09YS5nZXRBdHRyaWJ1dGUoXCJjb250ZW50ZWRpdGFibGVcIikpaWYoSCl7aWYoSC5lcXVhbHMoYSkpe0g9bnVsbDtyZXR1cm59fWVsc2UgSD1hO2Vsc2UgaWYoSClyZXR1cm47dmFyIGI9SShhKTtifHwoRz1hKTtyZXR1cm4gYn0sZT1mdW5jdGlvbihhKXt2YXIgYj1SKGEpOyFiJiZhLmlzJiZhLmlzKFwiYnJcIikmJlxuKE09YSk7cmV0dXJuIGJ9O3cuZ3VhcmQ9Ujt3PXcubGFzdEJhY2t3YXJkKCk7Rz1HfHxoO3RoaXMuc2V0U3RhcnRBdChHLCFHLmlzKFwiYnJcIikmJighdyYmdGhpcy5jaGVja1N0YXJ0T2ZCbG9jaygpfHx3JiZHLmNvbnRhaW5zKHcpKT9DS0VESVRPUi5QT1NJVElPTl9BRlRFUl9TVEFSVDpDS0VESVRPUi5QT1NJVElPTl9BRlRFUl9FTkQpO2lmKGE9PUNLRURJVE9SLkVOTEFSR0VfTElTVF9JVEVNX0NPTlRFTlRTKXt3PXRoaXMuY2xvbmUoKTt3PW5ldyBDS0VESVRPUi5kb20ud2Fsa2VyKHcpO3ZhciBQPUNLRURJVE9SLmRvbS53YWxrZXIud2hpdGVzcGFjZXMoKSxUPUNLRURJVE9SLmRvbS53YWxrZXIuYm9va21hcmsoKTt3LmV2YWx1YXRvcj1mdW5jdGlvbihhKXtyZXR1cm4hUChhKSYmIVQoYSl9O2lmKCh3PXcucHJldmlvdXMoKSkmJncudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZ3LmlzKFwiYnJcIikpYnJlYWt9dz10aGlzLmNsb25lKCk7dy5jb2xsYXBzZSgpO3cuc2V0RW5kQXQoaCxcbkNLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9FTkQpO3c9bmV3IENLRURJVE9SLmRvbS53YWxrZXIodyk7dy5ndWFyZD1hPT1DS0VESVRPUi5FTkxBUkdFX0xJU1RfSVRFTV9DT05URU5UUz9lOlI7Rz1IPU09bnVsbDt3PXcubGFzdEZvcndhcmQoKTtHPUd8fGg7dGhpcy5zZXRFbmRBdChHLCF3JiZ0aGlzLmNoZWNrRW5kT2ZCbG9jaygpfHx3JiZHLmNvbnRhaW5zKHcpP0NLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9FTkQ6Q0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX1NUQVJUKTtNJiZ0aGlzLnNldEVuZEFmdGVyKE0pfX0sc2hyaW5rOmZ1bmN0aW9uKGEsYixjKXtpZighdGhpcy5jb2xsYXBzZWQpe2E9YXx8Q0tFRElUT1IuU0hSSU5LX1RFWFQ7dmFyIGQ9dGhpcy5jbG9uZSgpLGU9dGhpcy5zdGFydENvbnRhaW5lcixrPXRoaXMuZW5kQ29udGFpbmVyLGY9dGhpcy5zdGFydE9mZnNldCxoPXRoaXMuZW5kT2Zmc2V0LG09MSxsPTE7ZSYmZS50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFQmJihmP1xuZj49ZS5nZXRMZW5ndGgoKT9kLnNldFN0YXJ0QWZ0ZXIoZSk6KGQuc2V0U3RhcnRCZWZvcmUoZSksbT0wKTpkLnNldFN0YXJ0QmVmb3JlKGUpKTtrJiZrLnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVCYmKGg/aD49ay5nZXRMZW5ndGgoKT9kLnNldEVuZEFmdGVyKGspOihkLnNldEVuZEFmdGVyKGspLGw9MCk6ZC5zZXRFbmRCZWZvcmUoaykpO3ZhciBkPW5ldyBDS0VESVRPUi5kb20ud2Fsa2VyKGQpLHc9Q0tFRElUT1IuZG9tLndhbGtlci5ib29rbWFyaygpO2QuZXZhbHVhdG9yPWZ1bmN0aW9uKGIpe3JldHVybiBiLnR5cGU9PShhPT1DS0VESVRPUi5TSFJJTktfRUxFTUVOVD9DS0VESVRPUi5OT0RFX0VMRU1FTlQ6Q0tFRElUT1IuTk9ERV9URVhUKX07dmFyIHo7ZC5ndWFyZD1mdW5jdGlvbihiLGQpe2lmKHcoYikpcmV0dXJuITA7aWYoYT09Q0tFRElUT1IuU0hSSU5LX0VMRU1FTlQmJmIudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUfHxkJiZiLmVxdWFscyh6KXx8ITE9PT1jJiZiLnR5cGU9PVxuQ0tFRElUT1IuTk9ERV9FTEVNRU5UJiZiLmlzQmxvY2tCb3VuZGFyeSgpfHxiLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmYi5oYXNBdHRyaWJ1dGUoXCJjb250ZW50ZWRpdGFibGVcIikpcmV0dXJuITE7ZHx8Yi50eXBlIT1DS0VESVRPUi5OT0RFX0VMRU1FTlR8fCh6PWIpO3JldHVybiEwfTttJiYoZT1kW2E9PUNLRURJVE9SLlNIUklOS19FTEVNRU5UP1wibGFzdEZvcndhcmRcIjpcIm5leHRcIl0oKSkmJnRoaXMuc2V0U3RhcnRBdChlLGI/Q0tFRElUT1IuUE9TSVRJT05fQUZURVJfU1RBUlQ6Q0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX1NUQVJUKTtsJiYoZC5yZXNldCgpLChkPWRbYT09Q0tFRElUT1IuU0hSSU5LX0VMRU1FTlQ/XCJsYXN0QmFja3dhcmRcIjpcInByZXZpb3VzXCJdKCkpJiZ0aGlzLnNldEVuZEF0KGQsYj9DS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfRU5EOkNLRURJVE9SLlBPU0lUSU9OX0FGVEVSX0VORCkpO3JldHVybiEoIW0mJiFsKX19LGluc2VydE5vZGU6ZnVuY3Rpb24oYSl7dGhpcy5vcHRpbWl6ZUJvb2ttYXJrKCk7XG50aGlzLnRyaW0oITEsITApO3ZhciBiPXRoaXMuc3RhcnRDb250YWluZXIsYz1iLmdldENoaWxkKHRoaXMuc3RhcnRPZmZzZXQpO2M/YS5pbnNlcnRCZWZvcmUoYyk6Yi5hcHBlbmQoYSk7YS5nZXRQYXJlbnQoKSYmYS5nZXRQYXJlbnQoKS5lcXVhbHModGhpcy5lbmRDb250YWluZXIpJiZ0aGlzLmVuZE9mZnNldCsrO3RoaXMuc2V0U3RhcnRCZWZvcmUoYSl9LG1vdmVUb1Bvc2l0aW9uOmZ1bmN0aW9uKGEsYil7dGhpcy5zZXRTdGFydEF0KGEsYik7dGhpcy5jb2xsYXBzZSghMCl9LG1vdmVUb1JhbmdlOmZ1bmN0aW9uKGEpe3RoaXMuc2V0U3RhcnQoYS5zdGFydENvbnRhaW5lcixhLnN0YXJ0T2Zmc2V0KTt0aGlzLnNldEVuZChhLmVuZENvbnRhaW5lcixhLmVuZE9mZnNldCl9LHNlbGVjdE5vZGVDb250ZW50czpmdW5jdGlvbihhKXt0aGlzLnNldFN0YXJ0KGEsMCk7dGhpcy5zZXRFbmQoYSxhLnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVD9hLmdldExlbmd0aCgpOmEuZ2V0Q2hpbGRDb3VudCgpKX0sXG5zZXRTdGFydDpmdW5jdGlvbihiLGMpe2IudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZDS0VESVRPUi5kdGQuJGVtcHR5W2IuZ2V0TmFtZSgpXSYmKGM9Yi5nZXRJbmRleCgpLGI9Yi5nZXRQYXJlbnQoKSk7dGhpcy5fc2V0U3RhcnRDb250YWluZXIoYik7dGhpcy5zdGFydE9mZnNldD1jO3RoaXMuZW5kQ29udGFpbmVyfHwodGhpcy5fc2V0RW5kQ29udGFpbmVyKGIpLHRoaXMuZW5kT2Zmc2V0PWMpO2EodGhpcyl9LHNldEVuZDpmdW5jdGlvbihiLGMpe2IudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZDS0VESVRPUi5kdGQuJGVtcHR5W2IuZ2V0TmFtZSgpXSYmKGM9Yi5nZXRJbmRleCgpKzEsYj1iLmdldFBhcmVudCgpKTt0aGlzLl9zZXRFbmRDb250YWluZXIoYik7dGhpcy5lbmRPZmZzZXQ9Yzt0aGlzLnN0YXJ0Q29udGFpbmVyfHwodGhpcy5fc2V0U3RhcnRDb250YWluZXIoYiksdGhpcy5zdGFydE9mZnNldD1jKTthKHRoaXMpfSxzZXRTdGFydEFmdGVyOmZ1bmN0aW9uKGEpe3RoaXMuc2V0U3RhcnQoYS5nZXRQYXJlbnQoKSxcbmEuZ2V0SW5kZXgoKSsxKX0sc2V0U3RhcnRCZWZvcmU6ZnVuY3Rpb24oYSl7dGhpcy5zZXRTdGFydChhLmdldFBhcmVudCgpLGEuZ2V0SW5kZXgoKSl9LHNldEVuZEFmdGVyOmZ1bmN0aW9uKGEpe3RoaXMuc2V0RW5kKGEuZ2V0UGFyZW50KCksYS5nZXRJbmRleCgpKzEpfSxzZXRFbmRCZWZvcmU6ZnVuY3Rpb24oYSl7dGhpcy5zZXRFbmQoYS5nZXRQYXJlbnQoKSxhLmdldEluZGV4KCkpfSxzZXRTdGFydEF0OmZ1bmN0aW9uKGIsYyl7c3dpdGNoKGMpe2Nhc2UgQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfU1RBUlQ6dGhpcy5zZXRTdGFydChiLDApO2JyZWFrO2Nhc2UgQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX0VORDpiLnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVD90aGlzLnNldFN0YXJ0KGIsYi5nZXRMZW5ndGgoKSk6dGhpcy5zZXRTdGFydChiLGIuZ2V0Q2hpbGRDb3VudCgpKTticmVhaztjYXNlIENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9TVEFSVDp0aGlzLnNldFN0YXJ0QmVmb3JlKGIpO1xuYnJlYWs7Y2FzZSBDS0VESVRPUi5QT1NJVElPTl9BRlRFUl9FTkQ6dGhpcy5zZXRTdGFydEFmdGVyKGIpfWEodGhpcyl9LHNldEVuZEF0OmZ1bmN0aW9uKGIsYyl7c3dpdGNoKGMpe2Nhc2UgQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfU1RBUlQ6dGhpcy5zZXRFbmQoYiwwKTticmVhaztjYXNlIENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9FTkQ6Yi50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFQ/dGhpcy5zZXRFbmQoYixiLmdldExlbmd0aCgpKTp0aGlzLnNldEVuZChiLGIuZ2V0Q2hpbGRDb3VudCgpKTticmVhaztjYXNlIENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9TVEFSVDp0aGlzLnNldEVuZEJlZm9yZShiKTticmVhaztjYXNlIENLRURJVE9SLlBPU0lUSU9OX0FGVEVSX0VORDp0aGlzLnNldEVuZEFmdGVyKGIpfWEodGhpcyl9LGZpeEJsb2NrOmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5jcmVhdGVCb29rbWFyaygpLGQ9dGhpcy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KGIpO3RoaXMuY29sbGFwc2UoYSk7XG50aGlzLmVubGFyZ2UoQ0tFRElUT1IuRU5MQVJHRV9CTE9DS19DT05URU5UUyk7dGhpcy5leHRyYWN0Q29udGVudHMoKS5hcHBlbmRUbyhkKTtkLnRyaW0oKTt0aGlzLmluc2VydE5vZGUoZCk7dmFyIGU9ZC5nZXRCb2d1cygpO2UmJmUucmVtb3ZlKCk7ZC5hcHBlbmRCb2d1cygpO3RoaXMubW92ZVRvQm9va21hcmsoYyk7cmV0dXJuIGR9LHNwbGl0QmxvY2s6ZnVuY3Rpb24oYSxiKXt2YXIgYz1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnRQYXRoKHRoaXMuc3RhcnRDb250YWluZXIsdGhpcy5yb290KSxkPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudFBhdGgodGhpcy5lbmRDb250YWluZXIsdGhpcy5yb290KSxlPWMuYmxvY2ssaz1kLmJsb2NrLGY9bnVsbDtpZighYy5ibG9ja0xpbWl0LmVxdWFscyhkLmJsb2NrTGltaXQpKXJldHVybiBudWxsO1wiYnJcIiE9YSYmKGV8fChlPXRoaXMuZml4QmxvY2soITAsYSksaz0obmV3IENLRURJVE9SLmRvbS5lbGVtZW50UGF0aCh0aGlzLmVuZENvbnRhaW5lcixcbnRoaXMucm9vdCkpLmJsb2NrKSxrfHwoaz10aGlzLmZpeEJsb2NrKCExLGEpKSk7Yz1lJiZ0aGlzLmNoZWNrU3RhcnRPZkJsb2NrKCk7ZD1rJiZ0aGlzLmNoZWNrRW5kT2ZCbG9jaygpO3RoaXMuZGVsZXRlQ29udGVudHMoKTtlJiZlLmVxdWFscyhrKSYmKGQ/KGY9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50UGF0aCh0aGlzLnN0YXJ0Q29udGFpbmVyLHRoaXMucm9vdCksdGhpcy5tb3ZlVG9Qb3NpdGlvbihrLENLRURJVE9SLlBPU0lUSU9OX0FGVEVSX0VORCksaz1udWxsKTpjPyhmPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudFBhdGgodGhpcy5zdGFydENvbnRhaW5lcix0aGlzLnJvb3QpLHRoaXMubW92ZVRvUG9zaXRpb24oZSxDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfU1RBUlQpLGU9bnVsbCk6KGs9dGhpcy5zcGxpdEVsZW1lbnQoZSxifHwhMSksZS5pcyhcInVsXCIsXCJvbFwiKXx8ZS5hcHBlbmRCb2d1cygpKSk7cmV0dXJue3ByZXZpb3VzQmxvY2s6ZSxuZXh0QmxvY2s6ayx3YXNTdGFydE9mQmxvY2s6Yyxcbndhc0VuZE9mQmxvY2s6ZCxlbGVtZW50UGF0aDpmfX0sc3BsaXRFbGVtZW50OmZ1bmN0aW9uKGEsYil7aWYoIXRoaXMuY29sbGFwc2VkKXJldHVybiBudWxsO3RoaXMuc2V0RW5kQXQoYSxDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfRU5EKTt2YXIgYz10aGlzLmV4dHJhY3RDb250ZW50cyghMSxifHwhMSksZD1hLmNsb25lKCExLGJ8fCExKTtjLmFwcGVuZFRvKGQpO2QuaW5zZXJ0QWZ0ZXIoYSk7dGhpcy5tb3ZlVG9Qb3NpdGlvbihhLENLRURJVE9SLlBPU0lUSU9OX0FGVEVSX0VORCk7cmV0dXJuIGR9LHJlbW92ZUVtcHR5QmxvY2tzQXRFbmQ6ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGcpe3JldHVybiBmdW5jdGlvbihhKXtyZXR1cm4gYihhKXx8YyhhKXx8YS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmEuaXNFbXB0eUlubGluZVJlbW92ZWFibGUoKXx8Zy5pcyhcInRhYmxlXCIpJiZhLmlzKFwiY2FwdGlvblwiKT8hMTohMH19dmFyIGI9Q0tFRElUT1IuZG9tLndhbGtlci53aGl0ZXNwYWNlcygpLFxuYz1DS0VESVRPUi5kb20ud2Fsa2VyLmJvb2ttYXJrKCExKTtyZXR1cm4gZnVuY3Rpb24oYil7Zm9yKHZhciBjPXRoaXMuY3JlYXRlQm9va21hcmsoKSxkPXRoaXNbYj9cImVuZFBhdGhcIjpcInN0YXJ0UGF0aFwiXSgpLGU9ZC5ibG9ja3x8ZC5ibG9ja0xpbWl0LGs7ZSYmIWUuZXF1YWxzKGQucm9vdCkmJiFlLmdldEZpcnN0KGEoZSkpOylrPWUuZ2V0UGFyZW50KCksdGhpc1tiP1wic2V0RW5kQXRcIjpcInNldFN0YXJ0QXRcIl0oZSxDS0VESVRPUi5QT1NJVElPTl9BRlRFUl9FTkQpLGUucmVtb3ZlKDEpLGU9azt0aGlzLm1vdmVUb0Jvb2ttYXJrKGMpfX0oKSxzdGFydFBhdGg6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IENLRURJVE9SLmRvbS5lbGVtZW50UGF0aCh0aGlzLnN0YXJ0Q29udGFpbmVyLHRoaXMucm9vdCl9LGVuZFBhdGg6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IENLRURJVE9SLmRvbS5lbGVtZW50UGF0aCh0aGlzLmVuZENvbnRhaW5lcix0aGlzLnJvb3QpfSxjaGVja0JvdW5kYXJ5T2ZFbGVtZW50OmZ1bmN0aW9uKGEsXG5iKXt2YXIgZD1iPT1DS0VESVRPUi5TVEFSVCxlPXRoaXMuY2xvbmUoKTtlLmNvbGxhcHNlKGQpO2VbZD9cInNldFN0YXJ0QXRcIjpcInNldEVuZEF0XCJdKGEsZD9DS0VESVRPUi5QT1NJVElPTl9BRlRFUl9TVEFSVDpDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfRU5EKTtlPW5ldyBDS0VESVRPUi5kb20ud2Fsa2VyKGUpO2UuZXZhbHVhdG9yPWMoZCk7cmV0dXJuIGVbZD9cImNoZWNrQmFja3dhcmRcIjpcImNoZWNrRm9yd2FyZFwiXSgpfSxjaGVja1N0YXJ0T2ZCbG9jazpmdW5jdGlvbigpe3ZhciBhPXRoaXMuc3RhcnRDb250YWluZXIsYz10aGlzLnN0YXJ0T2Zmc2V0O0NLRURJVE9SLmVudi5pZSYmYyYmYS50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFQmJihhPUNLRURJVE9SLnRvb2xzLmx0cmltKGEuc3Vic3RyaW5nKDAsYykpLGQudGVzdChhKSYmdGhpcy50cmltKDAsMSkpO3RoaXMudHJpbSgpO2E9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50UGF0aCh0aGlzLnN0YXJ0Q29udGFpbmVyLHRoaXMucm9vdCk7XG5jPXRoaXMuY2xvbmUoKTtjLmNvbGxhcHNlKCEwKTtjLnNldFN0YXJ0QXQoYS5ibG9ja3x8YS5ibG9ja0xpbWl0LENLRURJVE9SLlBPU0lUSU9OX0FGVEVSX1NUQVJUKTthPW5ldyBDS0VESVRPUi5kb20ud2Fsa2VyKGMpO2EuZXZhbHVhdG9yPWIoKTtyZXR1cm4gYS5jaGVja0JhY2t3YXJkKCl9LGNoZWNrRW5kT2ZCbG9jazpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZW5kQ29udGFpbmVyLGM9dGhpcy5lbmRPZmZzZXQ7Q0tFRElUT1IuZW52LmllJiZhLnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVCYmKGE9Q0tFRElUT1IudG9vbHMucnRyaW0oYS5zdWJzdHJpbmcoYykpLGQudGVzdChhKSYmdGhpcy50cmltKDEsMCkpO3RoaXMudHJpbSgpO2E9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50UGF0aCh0aGlzLmVuZENvbnRhaW5lcix0aGlzLnJvb3QpO2M9dGhpcy5jbG9uZSgpO2MuY29sbGFwc2UoITEpO2Muc2V0RW5kQXQoYS5ibG9ja3x8YS5ibG9ja0xpbWl0LENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9FTkQpO1xuYT1uZXcgQ0tFRElUT1IuZG9tLndhbGtlcihjKTthLmV2YWx1YXRvcj1iKCk7cmV0dXJuIGEuY2hlY2tGb3J3YXJkKCl9LGdldFByZXZpb3VzTm9kZTpmdW5jdGlvbihhLGIsYyl7dmFyIGQ9dGhpcy5jbG9uZSgpO2QuY29sbGFwc2UoMSk7ZC5zZXRTdGFydEF0KGN8fHRoaXMucm9vdCxDS0VESVRPUi5QT1NJVElPTl9BRlRFUl9TVEFSVCk7Yz1uZXcgQ0tFRElUT1IuZG9tLndhbGtlcihkKTtjLmV2YWx1YXRvcj1hO2MuZ3VhcmQ9YjtyZXR1cm4gYy5wcmV2aW91cygpfSxnZXROZXh0Tm9kZTpmdW5jdGlvbihhLGIsYyl7dmFyIGQ9dGhpcy5jbG9uZSgpO2QuY29sbGFwc2UoKTtkLnNldEVuZEF0KGN8fHRoaXMucm9vdCxDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfRU5EKTtjPW5ldyBDS0VESVRPUi5kb20ud2Fsa2VyKGQpO2MuZXZhbHVhdG9yPWE7Yy5ndWFyZD1iO3JldHVybiBjLm5leHQoKX0sY2hlY2tSZWFkT25seTpmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYixjKXtmb3IoO2I7KXtpZihiLnR5cGU9PVxuQ0tFRElUT1IuTk9ERV9FTEVNRU5UKXtpZihcImZhbHNlXCI9PWIuZ2V0QXR0cmlidXRlKFwiY29udGVudEVkaXRhYmxlXCIpJiYhYi5kYXRhKFwiY2tlLWVkaXRhYmxlXCIpKXJldHVybiAwO2lmKGIuaXMoXCJodG1sXCIpfHxcInRydWVcIj09Yi5nZXRBdHRyaWJ1dGUoXCJjb250ZW50RWRpdGFibGVcIikmJihiLmNvbnRhaW5zKGMpfHxiLmVxdWFscyhjKSkpYnJlYWt9Yj1iLmdldFBhcmVudCgpfXJldHVybiAxfXJldHVybiBmdW5jdGlvbigpe3ZhciBiPXRoaXMuc3RhcnRDb250YWluZXIsYz10aGlzLmVuZENvbnRhaW5lcjtyZXR1cm4hKGEoYixjKSYmYShjLGIpKX19KCksbW92ZVRvRWxlbWVudEVkaXRhYmxlUG9zaXRpb246ZnVuY3Rpb24oYSxiKXtpZihhLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmIWEuaXNFZGl0YWJsZSghMSkpcmV0dXJuIHRoaXMubW92ZVRvUG9zaXRpb24oYSxiP0NLRURJVE9SLlBPU0lUSU9OX0FGVEVSX0VORDpDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfU1RBUlQpLFxuITA7Zm9yKHZhciBjPTA7YTspe2lmKGEudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUKXtiJiZ0aGlzLmVuZENvbnRhaW5lciYmdGhpcy5jaGVja0VuZE9mQmxvY2soKSYmZC50ZXN0KGEuZ2V0VGV4dCgpKT90aGlzLm1vdmVUb1Bvc2l0aW9uKGEsQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX1NUQVJUKTp0aGlzLm1vdmVUb1Bvc2l0aW9uKGEsYj9DS0VESVRPUi5QT1NJVElPTl9BRlRFUl9FTkQ6Q0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX1NUQVJUKTtjPTE7YnJlYWt9aWYoYS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQpaWYoYS5pc0VkaXRhYmxlKCkpdGhpcy5tb3ZlVG9Qb3NpdGlvbihhLGI/Q0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX0VORDpDS0VESVRPUi5QT1NJVElPTl9BRlRFUl9TVEFSVCksYz0xO2Vsc2UgaWYoYiYmYS5pcyhcImJyXCIpJiZ0aGlzLmVuZENvbnRhaW5lciYmdGhpcy5jaGVja0VuZE9mQmxvY2soKSl0aGlzLm1vdmVUb1Bvc2l0aW9uKGEsQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX1NUQVJUKTtcbmVsc2UgaWYoXCJmYWxzZVwiPT1hLmdldEF0dHJpYnV0ZShcImNvbnRlbnRlZGl0YWJsZVwiKSYmYS5pcyhDS0VESVRPUi5kdGQuJGJsb2NrKSlyZXR1cm4gdGhpcy5zZXRTdGFydEJlZm9yZShhKSx0aGlzLnNldEVuZEFmdGVyKGEpLCEwO3ZhciBlPWEsZj1jLGg9dm9pZCAwO2UudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZlLmlzRWRpdGFibGUoITEpJiYoaD1lW2I/XCJnZXRMYXN0XCI6XCJnZXRGaXJzdFwiXShrKSk7Znx8aHx8KGg9ZVtiP1wiZ2V0UHJldmlvdXNcIjpcImdldE5leHRcIl0oaykpO2E9aH1yZXR1cm4hIWN9LG1vdmVUb0Nsb3Nlc3RFZGl0YWJsZVBvc2l0aW9uOmZ1bmN0aW9uKGEsYil7dmFyIGMsZD0wLGUsayxmPVtDS0VESVRPUi5QT1NJVElPTl9BRlRFUl9FTkQsQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX1NUQVJUXTthPyhjPW5ldyBDS0VESVRPUi5kb20ucmFuZ2UodGhpcy5yb290KSxjLm1vdmVUb1Bvc2l0aW9uKGEsZltiPzA6MV0pKTpjPXRoaXMuY2xvbmUoKTtpZihhJiZcbiFhLmlzKENLRURJVE9SLmR0ZC4kYmxvY2spKWQ9MTtlbHNlIGlmKGU9Y1tiP1wiZ2V0TmV4dEVkaXRhYmxlTm9kZVwiOlwiZ2V0UHJldmlvdXNFZGl0YWJsZU5vZGVcIl0oKSlkPTEsKGs9ZS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQpJiZlLmlzKENLRURJVE9SLmR0ZC4kYmxvY2spJiZcImZhbHNlXCI9PWUuZ2V0QXR0cmlidXRlKFwiY29udGVudGVkaXRhYmxlXCIpPyhjLnNldFN0YXJ0QXQoZSxDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfU1RBUlQpLGMuc2V0RW5kQXQoZSxDS0VESVRPUi5QT1NJVElPTl9BRlRFUl9FTkQpKTohQ0tFRElUT1IuZW52Lm5lZWRzQnJGaWxsZXImJmsmJmUuaXMoQ0tFRElUT1IuZG9tLndhbGtlci52YWxpZEVtcHR5QmxvY2tDb250YWluZXJzKT8oYy5zZXRFbmQoZSwwKSxjLmNvbGxhcHNlKCkpOmMubW92ZVRvUG9zaXRpb24oZSxmW2I/MTowXSk7ZCYmdGhpcy5tb3ZlVG9SYW5nZShjKTtyZXR1cm4hIWR9LG1vdmVUb0VsZW1lbnRFZGl0U3RhcnQ6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMubW92ZVRvRWxlbWVudEVkaXRhYmxlUG9zaXRpb24oYSl9LFxubW92ZVRvRWxlbWVudEVkaXRFbmQ6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMubW92ZVRvRWxlbWVudEVkaXRhYmxlUG9zaXRpb24oYSwhMCl9LGdldEVuY2xvc2VkTm9kZTpmdW5jdGlvbigpe3ZhciBhPXRoaXMuY2xvbmUoKTthLm9wdGltaXplKCk7aWYoYS5zdGFydENvbnRhaW5lci50eXBlIT1DS0VESVRPUi5OT0RFX0VMRU1FTlR8fGEuZW5kQ29udGFpbmVyLnR5cGUhPUNLRURJVE9SLk5PREVfRUxFTUVOVClyZXR1cm4gbnVsbDt2YXIgYT1uZXcgQ0tFRElUT1IuZG9tLndhbGtlcihhKSxiPUNLRURJVE9SLmRvbS53YWxrZXIuYm9va21hcmsoITEsITApLGM9Q0tFRElUT1IuZG9tLndhbGtlci53aGl0ZXNwYWNlcyghMCk7YS5ldmFsdWF0b3I9ZnVuY3Rpb24oYSl7cmV0dXJuIGMoYSkmJmIoYSl9O3ZhciBkPWEubmV4dCgpO2EucmVzZXQoKTtyZXR1cm4gZCYmZC5lcXVhbHMoYS5wcmV2aW91cygpKT9kOm51bGx9LGdldFRvdWNoZWRTdGFydE5vZGU6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnN0YXJ0Q29udGFpbmVyO1xucmV0dXJuIHRoaXMuY29sbGFwc2VkfHxhLnR5cGUhPUNLRURJVE9SLk5PREVfRUxFTUVOVD9hOmEuZ2V0Q2hpbGQodGhpcy5zdGFydE9mZnNldCl8fGF9LGdldFRvdWNoZWRFbmROb2RlOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5lbmRDb250YWluZXI7cmV0dXJuIHRoaXMuY29sbGFwc2VkfHxhLnR5cGUhPUNLRURJVE9SLk5PREVfRUxFTUVOVD9hOmEuZ2V0Q2hpbGQodGhpcy5lbmRPZmZzZXQtMSl8fGF9LGdldE5leHRFZGl0YWJsZU5vZGU6ZSgpLGdldFByZXZpb3VzRWRpdGFibGVOb2RlOmUoMSksc2Nyb2xsSW50b1ZpZXc6ZnVuY3Rpb24oKXt2YXIgYT1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQuY3JlYXRlRnJvbUh0bWwoXCJcXHgzY3NwYW5cXHgzZVxceDI2bmJzcDtcXHgzYy9zcGFuXFx4M2VcIix0aGlzLmRvY3VtZW50KSxiLGMsZCxlPXRoaXMuY2xvbmUoKTtlLm9wdGltaXplKCk7KGQ9ZS5zdGFydENvbnRhaW5lci50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFQpPyhjPWUuc3RhcnRDb250YWluZXIuZ2V0VGV4dCgpLFxuYj1lLnN0YXJ0Q29udGFpbmVyLnNwbGl0KGUuc3RhcnRPZmZzZXQpLGEuaW5zZXJ0QWZ0ZXIoZS5zdGFydENvbnRhaW5lcikpOmUuaW5zZXJ0Tm9kZShhKTthLnNjcm9sbEludG9WaWV3KCk7ZCYmKGUuc3RhcnRDb250YWluZXIuc2V0VGV4dChjKSxiLnJlbW92ZSgpKTthLnJlbW92ZSgpfSxfc2V0U3RhcnRDb250YWluZXI6ZnVuY3Rpb24oYSl7dGhpcy5zdGFydENvbnRhaW5lcj1hfSxfc2V0RW5kQ29udGFpbmVyOmZ1bmN0aW9uKGEpe3RoaXMuZW5kQ29udGFpbmVyPWF9LF9maW5kOmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5nZXRDb21tb25BbmNlc3RvcigpLGQ9dGhpcy5nZXRCb3VuZGFyeU5vZGVzKCksZT1bXSxrLGYsaCxtO2lmKGMmJmMuZmluZClmb3IoZj1jLmZpbmQoYSksaz0wO2s8Zi5jb3VudCgpO2srKylpZihjPWYuZ2V0SXRlbShrKSxifHwhYy5pc1JlYWRPbmx5KCkpaD1jLmdldFBvc2l0aW9uKGQuc3RhcnROb2RlKSZDS0VESVRPUi5QT1NJVElPTl9GT0xMT1dJTkd8fFxuZC5zdGFydE5vZGUuZXF1YWxzKGMpLG09Yy5nZXRQb3NpdGlvbihkLmVuZE5vZGUpJkNLRURJVE9SLlBPU0lUSU9OX1BSRUNFRElORytDS0VESVRPUi5QT1NJVElPTl9JU19DT05UQUlORUQsaCYmbSYmZS5wdXNoKGMpO3JldHVybiBlfX19KCksQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfU1RBUlQ9MSxDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfRU5EPTIsQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX1NUQVJUPTMsQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfRU5EPTQsQ0tFRElUT1IuRU5MQVJHRV9FTEVNRU5UPTEsQ0tFRElUT1IuRU5MQVJHRV9CTE9DS19DT05URU5UUz0yLENLRURJVE9SLkVOTEFSR0VfTElTVF9JVEVNX0NPTlRFTlRTPTMsQ0tFRElUT1IuRU5MQVJHRV9JTkxJTkU9NCxDS0VESVRPUi5TVEFSVD0xLENLRURJVE9SLkVORD0yLENLRURJVE9SLlNIUklOS19FTEVNRU5UPTEsQ0tFRElUT1IuU0hSSU5LX1RFWFQ9MixcInVzZSBzdHJpY3RcIixmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSl7MT5cbmFyZ3VtZW50cy5sZW5ndGh8fCh0aGlzLnJhbmdlPWEsdGhpcy5mb3JjZUJyQnJlYWs9MCx0aGlzLmVubGFyZ2VCcj0xLHRoaXMuZW5mb3JjZVJlYWxCbG9ja3M9MCx0aGlzLl98fCh0aGlzLl89e30pKX1mdW5jdGlvbiBmKGEpe3ZhciBiPVtdO2EuZm9yRWFjaChmdW5jdGlvbihhKXtpZihcInRydWVcIj09YS5nZXRBdHRyaWJ1dGUoXCJjb250ZW50ZWRpdGFibGVcIikpcmV0dXJuIGIucHVzaChhKSwhMX0sQ0tFRElUT1IuTk9ERV9FTEVNRU5ULCEwKTtyZXR1cm4gYn1mdW5jdGlvbiBiKGEsYyxkLGUpe2E6e251bGw9PWUmJihlPWYoZCkpO2Zvcih2YXIgaDtoPWUuc2hpZnQoKTspaWYoaC5nZXREdGQoKS5wKXtlPXtlbGVtZW50OmgscmVtYWluaW5nOmV9O2JyZWFrIGF9ZT1udWxsfWlmKCFlKXJldHVybiAwO2lmKChoPUNLRURJVE9SLmZpbHRlci5pbnN0YW5jZXNbZS5lbGVtZW50LmRhdGEoXCJja2UtZmlsdGVyXCIpXSkmJiFoLmNoZWNrKGMpKXJldHVybiBiKGEsYyxkLGUucmVtYWluaW5nKTtcbmM9bmV3IENLRURJVE9SLmRvbS5yYW5nZShlLmVsZW1lbnQpO2Muc2VsZWN0Tm9kZUNvbnRlbnRzKGUuZWxlbWVudCk7Yz1jLmNyZWF0ZUl0ZXJhdG9yKCk7Yy5lbmxhcmdlQnI9YS5lbmxhcmdlQnI7Yy5lbmZvcmNlUmVhbEJsb2Nrcz1hLmVuZm9yY2VSZWFsQmxvY2tzO2MuYWN0aXZlRmlsdGVyPWMuZmlsdGVyPWg7YS5fLm5lc3RlZEVkaXRhYmxlPXtlbGVtZW50OmUuZWxlbWVudCxjb250YWluZXI6ZCxyZW1haW5pbmc6ZS5yZW1haW5pbmcsaXRlcmF0b3I6Y307cmV0dXJuIDF9ZnVuY3Rpb24gYyhhLGIsYyl7aWYoIWIpcmV0dXJuITE7YT1hLmNsb25lKCk7YS5jb2xsYXBzZSghYyk7cmV0dXJuIGEuY2hlY2tCb3VuZGFyeU9mRWxlbWVudChiLGM/Q0tFRElUT1IuU1RBUlQ6Q0tFRElUT1IuRU5EKX12YXIgZT0vXltcXHJcXG5cXHQgXSskLyxtPUNLRURJVE9SLmRvbS53YWxrZXIuYm9va21hcmsoITEsITApLGw9Q0tFRElUT1IuZG9tLndhbGtlci53aGl0ZXNwYWNlcyghMCksZD1mdW5jdGlvbihhKXtyZXR1cm4gbShhKSYmXG5sKGEpfSxoPXtkZDoxLGR0OjEsbGk6MX07YS5wcm90b3R5cGU9e2dldE5leHRQYXJhZ3JhcGg6ZnVuY3Rpb24oYSl7dmFyIGcsZixsLHAsdDthPWF8fFwicFwiO2lmKHRoaXMuXy5uZXN0ZWRFZGl0YWJsZSl7aWYoZz10aGlzLl8ubmVzdGVkRWRpdGFibGUuaXRlcmF0b3IuZ2V0TmV4dFBhcmFncmFwaChhKSlyZXR1cm4gdGhpcy5hY3RpdmVGaWx0ZXI9dGhpcy5fLm5lc3RlZEVkaXRhYmxlLml0ZXJhdG9yLmFjdGl2ZUZpbHRlcixnO3RoaXMuYWN0aXZlRmlsdGVyPXRoaXMuZmlsdGVyO2lmKGIodGhpcyxhLHRoaXMuXy5uZXN0ZWRFZGl0YWJsZS5jb250YWluZXIsdGhpcy5fLm5lc3RlZEVkaXRhYmxlLnJlbWFpbmluZykpcmV0dXJuIHRoaXMuYWN0aXZlRmlsdGVyPXRoaXMuXy5uZXN0ZWRFZGl0YWJsZS5pdGVyYXRvci5hY3RpdmVGaWx0ZXIsdGhpcy5fLm5lc3RlZEVkaXRhYmxlLml0ZXJhdG9yLmdldE5leHRQYXJhZ3JhcGgoYSk7dGhpcy5fLm5lc3RlZEVkaXRhYmxlPW51bGx9aWYoIXRoaXMucmFuZ2Uucm9vdC5nZXREdGQoKVthXSlyZXR1cm4gbnVsbDtcbmlmKCF0aGlzLl8uc3RhcnRlZCl7dmFyIHY9dGhpcy5yYW5nZS5jbG9uZSgpO2Y9di5zdGFydFBhdGgoKTt2YXIgcj12LmVuZFBhdGgoKSx1PSF2LmNvbGxhcHNlZCYmYyh2LGYuYmxvY2spLEI9IXYuY29sbGFwc2VkJiZjKHYsci5ibG9jaywxKTt2LnNocmluayhDS0VESVRPUi5TSFJJTktfRUxFTUVOVCwhMCk7dSYmdi5zZXRTdGFydEF0KGYuYmxvY2ssQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX0VORCk7QiYmdi5zZXRFbmRBdChyLmJsb2NrLENLRURJVE9SLlBPU0lUSU9OX0FGVEVSX1NUQVJUKTtmPXYuZW5kQ29udGFpbmVyLmhhc0FzY2VuZGFudChcInByZVwiLCEwKXx8di5zdGFydENvbnRhaW5lci5oYXNBc2NlbmRhbnQoXCJwcmVcIiwhMCk7di5lbmxhcmdlKHRoaXMuZm9yY2VCckJyZWFrJiYhZnx8IXRoaXMuZW5sYXJnZUJyP0NLRURJVE9SLkVOTEFSR0VfTElTVF9JVEVNX0NPTlRFTlRTOkNLRURJVE9SLkVOTEFSR0VfQkxPQ0tfQ09OVEVOVFMpO3YuY29sbGFwc2VkfHwoZj1uZXcgQ0tFRElUT1IuZG9tLndhbGtlcih2LmNsb25lKCkpLFxucj1DS0VESVRPUi5kb20ud2Fsa2VyLmJvb2ttYXJrKCEwLCEwKSxmLmV2YWx1YXRvcj1yLHRoaXMuXy5uZXh0Tm9kZT1mLm5leHQoKSxmPW5ldyBDS0VESVRPUi5kb20ud2Fsa2VyKHYuY2xvbmUoKSksZi5ldmFsdWF0b3I9cixmPWYucHJldmlvdXMoKSx0aGlzLl8ubGFzdE5vZGU9Zi5nZXROZXh0U291cmNlTm9kZSghMCxudWxsLHYucm9vdCksdGhpcy5fLmxhc3ROb2RlJiZ0aGlzLl8ubGFzdE5vZGUudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUJiYhQ0tFRElUT1IudG9vbHMudHJpbSh0aGlzLl8ubGFzdE5vZGUuZ2V0VGV4dCgpKSYmdGhpcy5fLmxhc3ROb2RlLmdldFBhcmVudCgpLmlzQmxvY2tCb3VuZGFyeSgpJiYocj10aGlzLnJhbmdlLmNsb25lKCksci5tb3ZlVG9Qb3NpdGlvbih0aGlzLl8ubGFzdE5vZGUsQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfRU5EKSxyLmNoZWNrRW5kT2ZCbG9jaygpJiYocj1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnRQYXRoKHIuZW5kQ29udGFpbmVyLFxuci5yb290KSx0aGlzLl8ubGFzdE5vZGU9KHIuYmxvY2t8fHIuYmxvY2tMaW1pdCkuZ2V0TmV4dFNvdXJjZU5vZGUoITApKSksdGhpcy5fLmxhc3ROb2RlJiZ2LnJvb3QuY29udGFpbnModGhpcy5fLmxhc3ROb2RlKXx8KHRoaXMuXy5sYXN0Tm9kZT10aGlzLl8uZG9jRW5kTWFya2VyPXYuZG9jdW1lbnQuY3JlYXRlVGV4dChcIlwiKSx0aGlzLl8ubGFzdE5vZGUuaW5zZXJ0QWZ0ZXIoZikpLHY9bnVsbCk7dGhpcy5fLnN0YXJ0ZWQ9MTtmPXZ9cj10aGlzLl8ubmV4dE5vZGU7dj10aGlzLl8ubGFzdE5vZGU7Zm9yKHRoaXMuXy5uZXh0Tm9kZT1udWxsO3I7KXt2YXIgdT0wLEI9ci5oYXNBc2NlbmRhbnQoXCJwcmVcIikseD1yLnR5cGUhPUNLRURJVE9SLk5PREVfRUxFTUVOVCx3PTA7aWYoeClyLnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVCYmZS50ZXN0KHIuZ2V0VGV4dCgpKSYmKHg9MCk7ZWxzZXt2YXIgej1yLmdldE5hbWUoKTtpZihDS0VESVRPUi5kdGQuJGJsb2NrW3pdJiZcImZhbHNlXCI9PXIuZ2V0QXR0cmlidXRlKFwiY29udGVudGVkaXRhYmxlXCIpKXtnPVxucjtiKHRoaXMsYSxnKTticmVha31lbHNlIGlmKHIuaXNCbG9ja0JvdW5kYXJ5KHRoaXMuZm9yY2VCckJyZWFrJiYhQiYme2JyOjF9KSl7aWYoXCJiclwiPT16KXg9MTtlbHNlIGlmKCFmJiYhci5nZXRDaGlsZENvdW50KCkmJlwiaHJcIiE9eil7Zz1yO2w9ci5lcXVhbHModik7YnJlYWt9ZiYmKGYuc2V0RW5kQXQocixDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfU1RBUlQpLFwiYnJcIiE9eiYmKHRoaXMuXy5uZXh0Tm9kZT1yKSk7dT0xfWVsc2V7aWYoci5nZXRGaXJzdCgpKXtmfHwoZj10aGlzLnJhbmdlLmNsb25lKCksZi5zZXRTdGFydEF0KHIsQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX1NUQVJUKSk7cj1yLmdldEZpcnN0KCk7Y29udGludWV9eD0xfX14JiYhZiYmKGY9dGhpcy5yYW5nZS5jbG9uZSgpLGYuc2V0U3RhcnRBdChyLENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9TVEFSVCkpO2w9KCF1fHx4KSYmci5lcXVhbHModik7aWYoZiYmIXUpZm9yKDshci5nZXROZXh0KGQpJiYhbDspe3o9XG5yLmdldFBhcmVudCgpO2lmKHouaXNCbG9ja0JvdW5kYXJ5KHRoaXMuZm9yY2VCckJyZWFrJiYhQiYme2JyOjF9KSl7dT0xO3g9MDtsfHx6LmVxdWFscyh2KTtmLnNldEVuZEF0KHosQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX0VORCk7YnJlYWt9cj16O3g9MTtsPXIuZXF1YWxzKHYpO3c9MX14JiZmLnNldEVuZEF0KHIsQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfRU5EKTtyPXRoaXMuX2dldE5leHRTb3VyY2VOb2RlKHIsdyx2KTtpZigobD0hcil8fHUmJmYpYnJlYWt9aWYoIWcpe2lmKCFmKXJldHVybiB0aGlzLl8uZG9jRW5kTWFya2VyJiZ0aGlzLl8uZG9jRW5kTWFya2VyLnJlbW92ZSgpLHRoaXMuXy5uZXh0Tm9kZT1udWxsO2c9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50UGF0aChmLnN0YXJ0Q29udGFpbmVyLGYucm9vdCk7cj1nLmJsb2NrTGltaXQ7dT17ZGl2OjEsdGg6MSx0ZDoxfTtnPWcuYmxvY2s7IWcmJnImJiF0aGlzLmVuZm9yY2VSZWFsQmxvY2tzJiZ1W3IuZ2V0TmFtZSgpXSYmXG5mLmNoZWNrU3RhcnRPZkJsb2NrKCkmJmYuY2hlY2tFbmRPZkJsb2NrKCkmJiFyLmVxdWFscyhmLnJvb3QpP2c9cjohZ3x8dGhpcy5lbmZvcmNlUmVhbEJsb2NrcyYmZy5pcyhoKT8oZz10aGlzLnJhbmdlLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoYSksZi5leHRyYWN0Q29udGVudHMoKS5hcHBlbmRUbyhnKSxnLnRyaW0oKSxmLmluc2VydE5vZGUoZykscD10PSEwKTpcImxpXCIhPWcuZ2V0TmFtZSgpP2YuY2hlY2tTdGFydE9mQmxvY2soKSYmZi5jaGVja0VuZE9mQmxvY2soKXx8KGc9Zy5jbG9uZSghMSksZi5leHRyYWN0Q29udGVudHMoKS5hcHBlbmRUbyhnKSxnLnRyaW0oKSx0PWYuc3BsaXRCbG9jaygpLHA9IXQud2FzU3RhcnRPZkJsb2NrLHQ9IXQud2FzRW5kT2ZCbG9jayxmLmluc2VydE5vZGUoZykpOmx8fCh0aGlzLl8ubmV4dE5vZGU9Zy5lcXVhbHModik/bnVsbDp0aGlzLl9nZXROZXh0U291cmNlTm9kZShmLmdldEJvdW5kYXJ5Tm9kZXMoKS5lbmROb2RlLDEsdikpfXAmJihwPVxuZy5nZXRQcmV2aW91cygpKSYmcC50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJihcImJyXCI9PXAuZ2V0TmFtZSgpP3AucmVtb3ZlKCk6cC5nZXRMYXN0KCkmJlwiYnJcIj09cC5nZXRMYXN0KCkuJC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpJiZwLmdldExhc3QoKS5yZW1vdmUoKSk7dCYmKHA9Zy5nZXRMYXN0KCkpJiZwLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmXCJiclwiPT1wLmdldE5hbWUoKSYmKCFDS0VESVRPUi5lbnYubmVlZHNCckZpbGxlcnx8cC5nZXRQcmV2aW91cyhtKXx8cC5nZXROZXh0KG0pKSYmcC5yZW1vdmUoKTt0aGlzLl8ubmV4dE5vZGV8fCh0aGlzLl8ubmV4dE5vZGU9bHx8Zy5lcXVhbHModil8fCF2P251bGw6dGhpcy5fZ2V0TmV4dFNvdXJjZU5vZGUoZywxLHYpKTtyZXR1cm4gZ30sX2dldE5leHRTb3VyY2VOb2RlOmZ1bmN0aW9uKGEsYixjKXtmdW5jdGlvbiBkKGEpe3JldHVybiEoYS5lcXVhbHMoYyl8fGEuZXF1YWxzKGUpKX12YXIgZT10aGlzLnJhbmdlLnJvb3Q7XG5mb3IoYT1hLmdldE5leHRTb3VyY2VOb2RlKGIsbnVsbCxkKTshbShhKTspYT1hLmdldE5leHRTb3VyY2VOb2RlKGIsbnVsbCxkKTtyZXR1cm4gYX19O0NLRURJVE9SLmRvbS5yYW5nZS5wcm90b3R5cGUuY3JlYXRlSXRlcmF0b3I9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGEodGhpcyl9fSgpLENLRURJVE9SLmNvbW1hbmQ9ZnVuY3Rpb24oYSxmKXt0aGlzLnVpSXRlbXM9W107dGhpcy5leGVjPWZ1bmN0aW9uKGIpe2lmKHRoaXMuc3RhdGU9PUNLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVEfHwhdGhpcy5jaGVja0FsbG93ZWQoKSlyZXR1cm4hMTt0aGlzLmVkaXRvckZvY3VzJiZhLmZvY3VzKCk7cmV0dXJuITE9PT10aGlzLmZpcmUoXCJleGVjXCIpPyEwOiExIT09Zi5leGVjLmNhbGwodGhpcyxhLGIpfTt0aGlzLnJlZnJlc2g9ZnVuY3Rpb24oYSxiKXtpZighdGhpcy5yZWFkT25seSYmYS5yZWFkT25seSlyZXR1cm4hMDtpZih0aGlzLmNvbnRleHQmJiFiLmlzQ29udGV4dEZvcih0aGlzLmNvbnRleHQpfHxcbiF0aGlzLmNoZWNrQWxsb3dlZCghMCkpcmV0dXJuIHRoaXMuZGlzYWJsZSgpLCEwO3RoaXMuc3RhcnREaXNhYmxlZHx8dGhpcy5lbmFibGUoKTt0aGlzLm1vZGVzJiYhdGhpcy5tb2Rlc1thLm1vZGVdJiZ0aGlzLmRpc2FibGUoKTtyZXR1cm4hMT09PXRoaXMuZmlyZShcInJlZnJlc2hcIix7ZWRpdG9yOmEscGF0aDpifSk/ITA6Zi5yZWZyZXNoJiYhMSE9PWYucmVmcmVzaC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O3ZhciBiO3RoaXMuY2hlY2tBbGxvd2VkPWZ1bmN0aW9uKGMpe3JldHVybiBjfHxcImJvb2xlYW5cIiE9dHlwZW9mIGI/Yj1hLmFjdGl2ZUZpbHRlci5jaGVja0ZlYXR1cmUodGhpcyk6Yn07Q0tFRElUT1IudG9vbHMuZXh0ZW5kKHRoaXMsZix7bW9kZXM6e3d5c2l3eWc6MX0sZWRpdG9yRm9jdXM6MSxjb250ZXh0U2Vuc2l0aXZlOiEhZi5jb250ZXh0LHN0YXRlOkNLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVEfSk7Q0tFRElUT1IuZXZlbnQuY2FsbCh0aGlzKX0sQ0tFRElUT1IuY29tbWFuZC5wcm90b3R5cGU9XG57ZW5hYmxlOmZ1bmN0aW9uKCl7dGhpcy5zdGF0ZT09Q0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUQmJnRoaXMuY2hlY2tBbGxvd2VkKCkmJnRoaXMuc2V0U3RhdGUodGhpcy5wcmVzZXJ2ZVN0YXRlJiZcInVuZGVmaW5lZFwiIT10eXBlb2YgdGhpcy5wcmV2aW91c1N0YXRlP3RoaXMucHJldmlvdXNTdGF0ZTpDS0VESVRPUi5UUklTVEFURV9PRkYpfSxkaXNhYmxlOmZ1bmN0aW9uKCl7dGhpcy5zZXRTdGF0ZShDS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRCl9LHNldFN0YXRlOmZ1bmN0aW9uKGEpe2lmKHRoaXMuc3RhdGU9PWF8fGEhPUNLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVEJiYhdGhpcy5jaGVja0FsbG93ZWQoKSlyZXR1cm4hMTt0aGlzLnByZXZpb3VzU3RhdGU9dGhpcy5zdGF0ZTt0aGlzLnN0YXRlPWE7dGhpcy5maXJlKFwic3RhdGVcIik7cmV0dXJuITB9LHRvZ2dsZVN0YXRlOmZ1bmN0aW9uKCl7dGhpcy5zdGF0ZT09Q0tFRElUT1IuVFJJU1RBVEVfT0ZGP3RoaXMuc2V0U3RhdGUoQ0tFRElUT1IuVFJJU1RBVEVfT04pOlxudGhpcy5zdGF0ZT09Q0tFRElUT1IuVFJJU1RBVEVfT04mJnRoaXMuc2V0U3RhdGUoQ0tFRElUT1IuVFJJU1RBVEVfT0ZGKX19LENLRURJVE9SLmV2ZW50LmltcGxlbWVudE9uKENLRURJVE9SLmNvbW1hbmQucHJvdG90eXBlKSxDS0VESVRPUi5FTlRFUl9QPTEsQ0tFRElUT1IuRU5URVJfQlI9MixDS0VESVRPUi5FTlRFUl9ESVY9MyxDS0VESVRPUi5jb25maWc9e2N1c3RvbUNvbmZpZzpcImNvbmZpZy5qc1wiLGF1dG9VcGRhdGVFbGVtZW50OiEwLGxhbmd1YWdlOlwiXCIsZGVmYXVsdExhbmd1YWdlOlwiZW5cIixjb250ZW50c0xhbmdEaXJlY3Rpb246XCJcIixlbnRlck1vZGU6Q0tFRElUT1IuRU5URVJfUCxmb3JjZUVudGVyTW9kZTohMSxzaGlmdEVudGVyTW9kZTpDS0VESVRPUi5FTlRFUl9CUixkb2NUeXBlOlwiXFx4M2MhRE9DVFlQRSBodG1sXFx4M2VcIixib2R5SWQ6XCJcIixib2R5Q2xhc3M6XCJcIixmdWxsUGFnZTohMSxoZWlnaHQ6MjAwLGNvbnRlbnRzQ3NzOkNLRURJVE9SLmdldFVybChcImNvbnRlbnRzLmNzc1wiKSxcbmV4dHJhUGx1Z2luczpcIlwiLHJlbW92ZVBsdWdpbnM6XCJcIixwcm90ZWN0ZWRTb3VyY2U6W10sdGFiSW5kZXg6MCx3aWR0aDpcIlwiLGJhc2VGbG9hdFpJbmRleDoxRTQsYmxvY2tlZEtleXN0cm9rZXM6W0NLRURJVE9SLkNUUkwrNjYsQ0tFRElUT1IuQ1RSTCs3MyxDS0VESVRPUi5DVFJMKzg1XX0sZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEsYixjLGQsZSl7dmFyIGcsZjthPVtdO2ZvcihnIGluIGIpe2Y9YltnXTtmPVwiYm9vbGVhblwiPT10eXBlb2YgZj97fTpcImZ1bmN0aW9uXCI9PXR5cGVvZiBmP3ttYXRjaDpmfTpFKGYpO1wiJFwiIT1nLmNoYXJBdCgwKSYmKGYuZWxlbWVudHM9Zyk7YyYmKGYuZmVhdHVyZU5hbWU9Yy50b0xvd2VyQ2FzZSgpKTt2YXIgaz1mO2suZWxlbWVudHM9bChrLmVsZW1lbnRzLC9cXHMrLyl8fG51bGw7ay5wcm9wZXJ0aWVzT25seT1rLnByb3BlcnRpZXNPbmx5fHwhMD09PWsuZWxlbWVudHM7dmFyIGg9L1xccyosXFxzKi8sbT12b2lkIDA7Zm9yKG0gaW4gTSl7a1ttXT1sKGtbbV0sXG5oKXx8bnVsbDt2YXIgdz1rLHY9SVttXSx6PWwoa1tJW21dXSxoKSx4PWtbbV0scj1bXSxEPSEwLG49dm9pZCAwO3o/RD0hMTp6PXt9O2ZvcihuIGluIHgpXCIhXCI9PW4uY2hhckF0KDApJiYobj1uLnNsaWNlKDEpLHIucHVzaChuKSx6W25dPSEwLEQ9ITEpO2Zvcig7bj1yLnBvcCgpOyl4W25dPXhbXCIhXCIrbl0sZGVsZXRlIHhbXCIhXCIrbl07d1t2XT0oRD8hMTp6KXx8bnVsbH1rLm1hdGNoPWsubWF0Y2h8fG51bGw7ZC5wdXNoKGYpO2EucHVzaChmKX1iPWUuZWxlbWVudHM7ZT1lLmdlbmVyaWM7dmFyIEg7Yz0wO2ZvcihkPWEubGVuZ3RoO2M8ZDsrK2Mpe2c9RShhW2NdKTtmPSEwPT09Zy5jbGFzc2VzfHwhMD09PWcuc3R5bGVzfHwhMD09PWcuYXR0cmlidXRlcztrPWc7bT12PWg9dm9pZCAwO2ZvcihoIGluIE0pa1toXT11KGtbaF0pO3c9ITA7Zm9yKG0gaW4gSSl7aD1JW21dO3Y9a1toXTt6PVtdO3g9dm9pZCAwO2Zvcih4IGluIHYpLTE8eC5pbmRleE9mKFwiKlwiKT96LnB1c2gobmV3IFJlZ0V4cChcIl5cIitcbngucmVwbGFjZSgvXFwqL2csXCIuKlwiKStcIiRcIikpOnoucHVzaCh4KTt2PXo7di5sZW5ndGgmJihrW2hdPXYsdz0hMSl9ay5ub3RoaW5nUmVxdWlyZWQ9dztrLm5vUHJvcGVydGllcz0hKGsuYXR0cmlidXRlc3x8ay5jbGFzc2VzfHxrLnN0eWxlcyk7aWYoITA9PT1nLmVsZW1lbnRzfHxudWxsPT09Zy5lbGVtZW50cyllW2Y/XCJ1bnNoaWZ0XCI6XCJwdXNoXCJdKGcpO2Vsc2UgZm9yKEggaW4gaz1nLmVsZW1lbnRzLGRlbGV0ZSBnLmVsZW1lbnRzLGspaWYoYltIXSliW0hdW2Y/XCJ1bnNoaWZ0XCI6XCJwdXNoXCJdKGcpO2Vsc2UgYltIXT1bZ119fWZ1bmN0aW9uIGYoYSxjLGUsZyl7aWYoIWEubWF0Y2h8fGEubWF0Y2goYykpaWYoZ3x8ZChhLGMpKWlmKGEucHJvcGVydGllc09ubHl8fChlLnZhbGlkPSEwKSxlLmFsbEF0dHJpYnV0ZXN8fChlLmFsbEF0dHJpYnV0ZXM9YihhLmF0dHJpYnV0ZXMsYy5hdHRyaWJ1dGVzLGUudmFsaWRBdHRyaWJ1dGVzKSksZS5hbGxTdHlsZXN8fChlLmFsbFN0eWxlcz1iKGEuc3R5bGVzLFxuYy5zdHlsZXMsZS52YWxpZFN0eWxlcykpLCFlLmFsbENsYXNzZXMpe2E9YS5jbGFzc2VzO2M9Yy5jbGFzc2VzO2c9ZS52YWxpZENsYXNzZXM7aWYoYSlpZighMD09PWEpYT0hMDtlbHNle2Zvcih2YXIgZj0wLGs9Yy5sZW5ndGgsaDtmPGs7KytmKWg9Y1tmXSxnW2hdfHwoZ1toXT1hKGgpKTthPSExfWVsc2UgYT0hMTtlLmFsbENsYXNzZXM9YX19ZnVuY3Rpb24gYihhLGIsYyl7aWYoIWEpcmV0dXJuITE7aWYoITA9PT1hKXJldHVybiEwO2Zvcih2YXIgZCBpbiBiKWNbZF18fChjW2RdPWEoZCkpO3JldHVybiExfWZ1bmN0aW9uIGMoYSxiLGMpe2lmKCFhLm1hdGNofHxhLm1hdGNoKGIpKXtpZihhLm5vUHJvcGVydGllcylyZXR1cm4hMTtjLmhhZEludmFsaWRBdHRyaWJ1dGU9ZShhLmF0dHJpYnV0ZXMsYi5hdHRyaWJ1dGVzKXx8Yy5oYWRJbnZhbGlkQXR0cmlidXRlO2MuaGFkSW52YWxpZFN0eWxlPWUoYS5zdHlsZXMsYi5zdHlsZXMpfHxjLmhhZEludmFsaWRTdHlsZTthPWEuY2xhc3NlcztcbmI9Yi5jbGFzc2VzO2lmKGEpe2Zvcih2YXIgZD0hMSxnPSEwPT09YSxmPWIubGVuZ3RoO2YtLTspaWYoZ3x8YShiW2ZdKSliLnNwbGljZShmLDEpLGQ9ITA7YT1kfWVsc2UgYT0hMTtjLmhhZEludmFsaWRDbGFzcz1hfHxjLmhhZEludmFsaWRDbGFzc319ZnVuY3Rpb24gZShhLGIpe2lmKCFhKXJldHVybiExO3ZhciBjPSExLGQ9ITA9PT1hLGU7Zm9yKGUgaW4gYilpZihkfHxhKGUpKWRlbGV0ZSBiW2VdLGM9ITA7cmV0dXJuIGN9ZnVuY3Rpb24gbShhLGIsYyl7aWYoYS5kaXNhYmxlZHx8YS5jdXN0b21Db25maWcmJiFjfHwhYilyZXR1cm4hMTthLl8uY2FjaGVkQ2hlY2tzPXt9O3JldHVybiEwfWZ1bmN0aW9uIGwoYSxiKXtpZighYSlyZXR1cm4hMTtpZighMD09PWEpcmV0dXJuIGE7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGEpcmV0dXJuIGE9SihhKSxcIipcIj09YT8hMDpDS0VESVRPUi50b29scy5jb252ZXJ0QXJyYXlUb09iamVjdChhLnNwbGl0KGIpKTtpZihDS0VESVRPUi50b29scy5pc0FycmF5KGEpKXJldHVybiBhLmxlbmd0aD9cbkNLRURJVE9SLnRvb2xzLmNvbnZlcnRBcnJheVRvT2JqZWN0KGEpOiExO3ZhciBjPXt9LGQ9MCxlO2ZvcihlIGluIGEpY1tlXT1hW2VdLGQrKztyZXR1cm4gZD9jOiExfWZ1bmN0aW9uIGQoYSxiKXtpZihhLm5vdGhpbmdSZXF1aXJlZClyZXR1cm4hMDt2YXIgYyxkLGUsZztpZihlPWEucmVxdWlyZWRDbGFzc2VzKWZvcihnPWIuY2xhc3NlcyxjPTA7YzxlLmxlbmd0aDsrK2MpaWYoZD1lW2NdLFwic3RyaW5nXCI9PXR5cGVvZiBkKXtpZigtMT09Q0tFRElUT1IudG9vbHMuaW5kZXhPZihnLGQpKXJldHVybiExfWVsc2UgaWYoIUNLRURJVE9SLnRvb2xzLmNoZWNrSWZBbnlBcnJheUl0ZW1NYXRjaGVzKGcsZCkpcmV0dXJuITE7cmV0dXJuIGgoYi5zdHlsZXMsYS5yZXF1aXJlZFN0eWxlcykmJmgoYi5hdHRyaWJ1dGVzLGEucmVxdWlyZWRBdHRyaWJ1dGVzKX1mdW5jdGlvbiBoKGEsYil7aWYoIWIpcmV0dXJuITA7Zm9yKHZhciBjPTAsZDtjPGIubGVuZ3RoOysrYylpZihkPWJbY10sXCJzdHJpbmdcIj09XG50eXBlb2YgZCl7aWYoIShkIGluIGEpKXJldHVybiExfWVsc2UgaWYoIUNLRURJVE9SLnRvb2xzLmNoZWNrSWZBbnlPYmplY3RQcm9wZXJ0eU1hdGNoZXMoYSxkKSlyZXR1cm4hMTtyZXR1cm4hMH1mdW5jdGlvbiBrKGEpe2lmKCFhKXJldHVybnt9O2E9YS5zcGxpdCgvXFxzKixcXHMqLykuc29ydCgpO2Zvcih2YXIgYj17fTthLmxlbmd0aDspYlthLnNoaWZ0KCldPVwiY2tlLXRlc3RcIjtyZXR1cm4gYn1mdW5jdGlvbiBnKGEpe3ZhciBiLGMsZCxlLGc9e30sZj0xO2ZvcihhPUooYSk7Yj1hLm1hdGNoKEgpOykoYz1iWzJdKT8oZD1uKGMsXCJzdHlsZXNcIiksZT1uKGMsXCJhdHRyc1wiKSxjPW4oYyxcImNsYXNzZXNcIikpOmQ9ZT1jPW51bGwsZ1tcIiRcIitmKytdPXtlbGVtZW50czpiWzFdLGNsYXNzZXM6YyxzdHlsZXM6ZCxhdHRyaWJ1dGVzOmV9LGE9YS5zbGljZShiWzBdLmxlbmd0aCk7cmV0dXJuIGd9ZnVuY3Rpb24gbihhLGIpe3ZhciBjPWEubWF0Y2goUltiXSk7cmV0dXJuIGM/SihjWzFdKTpudWxsfVxuZnVuY3Rpb24gcShhKXt2YXIgYj1hLnN0eWxlQmFja3VwPWEuYXR0cmlidXRlcy5zdHlsZSxjPWEuY2xhc3NCYWNrdXA9YS5hdHRyaWJ1dGVzW1wiY2xhc3NcIl07YS5zdHlsZXN8fChhLnN0eWxlcz1DS0VESVRPUi50b29scy5wYXJzZUNzc1RleHQoYnx8XCJcIiwxKSk7YS5jbGFzc2VzfHwoYS5jbGFzc2VzPWM/Yy5zcGxpdCgvXFxzKy8pOltdKX1mdW5jdGlvbiBwKGEsYixkLGUpe3ZhciBnPTAsaztlLnRvSHRtbCYmKGIubmFtZT1iLm5hbWUucmVwbGFjZShQLFwiJDFcIikpO2lmKGUuZG9DYWxsYmFja3MmJmEuZWxlbWVudENhbGxiYWNrcyl7YTp7az1hLmVsZW1lbnRDYWxsYmFja3M7Zm9yKHZhciBoPTAsbT1rLmxlbmd0aCxsO2g8bTsrK2gpaWYobD1rW2hdKGIpKXtrPWw7YnJlYWsgYX1rPXZvaWQgMH1pZihrKXJldHVybiBrfWlmKGUuZG9UcmFuc2Zvcm0mJihrPWEuXy50cmFuc2Zvcm1hdGlvbnNbYi5uYW1lXSkpe3EoYik7Zm9yKGg9MDtoPGsubGVuZ3RoOysraCl6KGEsYixrW2hdKTt2KGIpfWlmKGUuZG9GaWx0ZXIpe2E6e2g9XG5iLm5hbWU7bT1hLl87YT1tLmFsbG93ZWRSdWxlcy5lbGVtZW50c1toXTtrPW0uYWxsb3dlZFJ1bGVzLmdlbmVyaWM7aD1tLmRpc2FsbG93ZWRSdWxlcy5lbGVtZW50c1toXTttPW0uZGlzYWxsb3dlZFJ1bGVzLmdlbmVyaWM7bD1lLnNraXBSZXF1aXJlZDt2YXIgdz17dmFsaWQ6ITEsdmFsaWRBdHRyaWJ1dGVzOnt9LHZhbGlkQ2xhc3Nlczp7fSx2YWxpZFN0eWxlczp7fSxhbGxBdHRyaWJ1dGVzOiExLGFsbENsYXNzZXM6ITEsYWxsU3R5bGVzOiExLGhhZEludmFsaWRBdHRyaWJ1dGU6ITEsaGFkSW52YWxpZENsYXNzOiExLGhhZEludmFsaWRTdHlsZTohMX0seCx1O2lmKGF8fGspe3EoYik7aWYoaClmb3IoeD0wLHU9aC5sZW5ndGg7eDx1OysreClpZighMT09PWMoaFt4XSxiLHcpKXthPW51bGw7YnJlYWsgYX1pZihtKWZvcih4PTAsdT1tLmxlbmd0aDt4PHU7Kyt4KWMobVt4XSxiLHcpO2lmKGEpZm9yKHg9MCx1PWEubGVuZ3RoO3g8dTsrK3gpZihhW3hdLGIsdyxsKTtpZihrKWZvcih4PVxuMCx1PWsubGVuZ3RoO3g8dTsrK3gpZihrW3hdLGIsdyxsKTthPXd9ZWxzZSBhPW51bGx9aWYoIWF8fCFhLnZhbGlkKXJldHVybiBkLnB1c2goYiksMTt1PWEudmFsaWRBdHRyaWJ1dGVzO3ZhciBuPWEudmFsaWRTdHlsZXM7az1hLnZhbGlkQ2xhc3Nlczt2YXIgaD1iLmF0dHJpYnV0ZXMsRD1iLnN0eWxlcyxtPWIuY2xhc3NlcztsPWIuY2xhc3NCYWNrdXA7dmFyIEg9Yi5zdHlsZUJhY2t1cCxJLHksdD1bXSx3PVtdLHA9L15kYXRhLWNrZS0vO3g9ITE7ZGVsZXRlIGguc3R5bGU7ZGVsZXRlIGhbXCJjbGFzc1wiXTtkZWxldGUgYi5jbGFzc0JhY2t1cDtkZWxldGUgYi5zdHlsZUJhY2t1cDtpZighYS5hbGxBdHRyaWJ1dGVzKWZvcihJIGluIGgpdVtJXXx8KHAudGVzdChJKT9JPT0oeT1JLnJlcGxhY2UoL15kYXRhLWNrZS1zYXZlZC0vLFwiXCIpKXx8dVt5XXx8KGRlbGV0ZSBoW0ldLHg9ITApOihkZWxldGUgaFtJXSx4PSEwKSk7aWYoIWEuYWxsU3R5bGVzfHxhLmhhZEludmFsaWRTdHlsZSl7Zm9yKEkgaW4gRClhLmFsbFN0eWxlc3x8XG5uW0ldP3QucHVzaChJK1wiOlwiK0RbSV0pOng9ITA7dC5sZW5ndGgmJihoLnN0eWxlPXQuc29ydCgpLmpvaW4oXCI7IFwiKSl9ZWxzZSBIJiYoaC5zdHlsZT1IKTtpZighYS5hbGxDbGFzc2VzfHxhLmhhZEludmFsaWRDbGFzcyl7Zm9yKEk9MDtJPG0ubGVuZ3RoOysrSSkoYS5hbGxDbGFzc2VzfHxrW21bSV1dKSYmdy5wdXNoKG1bSV0pO3cubGVuZ3RoJiYoaFtcImNsYXNzXCJdPXcuc29ydCgpLmpvaW4oXCIgXCIpKTtsJiZ3Lmxlbmd0aDxsLnNwbGl0KC9cXHMrLykubGVuZ3RoJiYoeD0hMCl9ZWxzZSBsJiYoaFtcImNsYXNzXCJdPWwpO3gmJihnPTEpO2lmKCFlLnNraXBGaW5hbFZhbGlkYXRpb24mJiFyKGIpKXJldHVybiBkLnB1c2goYiksMX1lLnRvSHRtbCYmKGIubmFtZT1iLm5hbWUucmVwbGFjZShULFwiY2tlOiQxXCIpKTtyZXR1cm4gZ31mdW5jdGlvbiB0KGEpe3ZhciBiPVtdLGM7Zm9yKGMgaW4gYSktMTxjLmluZGV4T2YoXCIqXCIpJiZiLnB1c2goYy5yZXBsYWNlKC9cXCovZyxcIi4qXCIpKTtyZXR1cm4gYi5sZW5ndGg/XG5uZXcgUmVnRXhwKFwiXig/OlwiK2Iuam9pbihcInxcIikrXCIpJFwiKTpudWxsfWZ1bmN0aW9uIHYoYSl7dmFyIGI9YS5hdHRyaWJ1dGVzLGM7ZGVsZXRlIGIuc3R5bGU7ZGVsZXRlIGJbXCJjbGFzc1wiXTtpZihjPUNLRURJVE9SLnRvb2xzLndyaXRlQ3NzVGV4dChhLnN0eWxlcywhMCkpYi5zdHlsZT1jO2EuY2xhc3Nlcy5sZW5ndGgmJihiW1wiY2xhc3NcIl09YS5jbGFzc2VzLnNvcnQoKS5qb2luKFwiIFwiKSl9ZnVuY3Rpb24gcihhKXtzd2l0Y2goYS5uYW1lKXtjYXNlIFwiYVwiOmlmKCEoYS5jaGlsZHJlbi5sZW5ndGh8fGEuYXR0cmlidXRlcy5uYW1lfHxhLmF0dHJpYnV0ZXMuaWQpKXJldHVybiExO2JyZWFrO2Nhc2UgXCJpbWdcIjppZighYS5hdHRyaWJ1dGVzLnNyYylyZXR1cm4hMX1yZXR1cm4hMH1mdW5jdGlvbiB1KGEpe2lmKCFhKXJldHVybiExO2lmKCEwPT09YSlyZXR1cm4hMDt2YXIgYj10KGEpO3JldHVybiBmdW5jdGlvbihjKXtyZXR1cm4gYyBpbiBhfHxiJiZjLm1hdGNoKGIpfX1mdW5jdGlvbiBCKCl7cmV0dXJuIG5ldyBDS0VESVRPUi5odG1sUGFyc2VyLmVsZW1lbnQoXCJiclwiKX1cbmZ1bmN0aW9uIHgoYSl7cmV0dXJuIGEudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiYoXCJiclwiPT1hLm5hbWV8fEYuJGJsb2NrW2EubmFtZV0pfWZ1bmN0aW9uIHcoYSxiLGMpe3ZhciBkPWEubmFtZTtpZihGLiRlbXB0eVtkXXx8IWEuY2hpbGRyZW4ubGVuZ3RoKVwiaHJcIj09ZCYmXCJiclwiPT1iP2EucmVwbGFjZVdpdGgoQigpKTooYS5wYXJlbnQmJmMucHVzaCh7Y2hlY2s6XCJpdFwiLGVsOmEucGFyZW50fSksYS5yZW1vdmUoKSk7ZWxzZSBpZihGLiRibG9ja1tkXXx8XCJ0clwiPT1kKWlmKFwiYnJcIj09YilhLnByZXZpb3VzJiYheChhLnByZXZpb3VzKSYmKGI9QigpLGIuaW5zZXJ0QmVmb3JlKGEpKSxhLm5leHQmJiF4KGEubmV4dCkmJihiPUIoKSxiLmluc2VydEFmdGVyKGEpKSxhLnJlcGxhY2VXaXRoQ2hpbGRyZW4oKTtlbHNle3ZhciBkPWEuY2hpbGRyZW4sZTtiOntlPUZbYl07Zm9yKHZhciBnPTAsZj1kLmxlbmd0aCxrO2c8ZjsrK2cpaWYoaz1kW2ddLGsudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZcbiFlW2submFtZV0pe2U9ITE7YnJlYWsgYn1lPSEwfWlmKGUpYS5uYW1lPWIsYS5hdHRyaWJ1dGVzPXt9LGMucHVzaCh7Y2hlY2s6XCJwYXJlbnQtZG93blwiLGVsOmF9KTtlbHNle2U9YS5wYXJlbnQ7Zm9yKHZhciBnPWUudHlwZT09Q0tFRElUT1IuTk9ERV9ET0NVTUVOVF9GUkFHTUVOVHx8XCJib2R5XCI9PWUubmFtZSxoLG0sZj1kLmxlbmd0aDswPGY7KWs9ZFstLWZdLGcmJihrLnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVHx8ay50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJkYuJGlubGluZVtrLm5hbWVdKT8oaHx8KGg9bmV3IENLRURJVE9SLmh0bWxQYXJzZXIuZWxlbWVudChiKSxoLmluc2VydEFmdGVyKGEpLGMucHVzaCh7Y2hlY2s6XCJwYXJlbnQtZG93blwiLGVsOmh9KSksaC5hZGQoaywwKSk6KGg9bnVsbCxtPUZbZS5uYW1lXXx8Ri5zcGFuLGsuaW5zZXJ0QWZ0ZXIoYSksZS50eXBlPT1DS0VESVRPUi5OT0RFX0RPQ1VNRU5UX0ZSQUdNRU5UfHxrLnR5cGUhPUNLRURJVE9SLk5PREVfRUxFTUVOVHx8XG5tW2submFtZV18fGMucHVzaCh7Y2hlY2s6XCJlbC11cFwiLGVsOmt9KSk7YS5yZW1vdmUoKX19ZWxzZSBkIGlue3N0eWxlOjEsc2NyaXB0OjF9P2EucmVtb3ZlKCk6KGEucGFyZW50JiZjLnB1c2goe2NoZWNrOlwiaXRcIixlbDphLnBhcmVudH0pLGEucmVwbGFjZVdpdGhDaGlsZHJlbigpKX1mdW5jdGlvbiB6KGEsYixjKXt2YXIgZCxlO2ZvcihkPTA7ZDxjLmxlbmd0aDsrK2QpaWYoZT1jW2RdLCEoZS5jaGVjayYmIWEuY2hlY2soZS5jaGVjaywhMSl8fGUubGVmdCYmIWUubGVmdChiKSkpe2UucmlnaHQoYixPKTticmVha319ZnVuY3Rpb24gRChhLGIpe3ZhciBjPWIuZ2V0RGVmaW5pdGlvbigpLGQ9Yy5hdHRyaWJ1dGVzLGU9Yy5zdHlsZXMsZyxrLGYsaDtpZihhLm5hbWUhPWMuZWxlbWVudClyZXR1cm4hMTtmb3IoZyBpbiBkKWlmKFwiY2xhc3NcIj09Zylmb3IoYz1kW2ddLnNwbGl0KC9cXHMrLyksZj1hLmNsYXNzZXMuam9pbihcInxcIik7aD1jLnBvcCgpOyl7aWYoLTE9PWYuaW5kZXhPZihoKSlyZXR1cm4hMX1lbHNlIGlmKGEuYXR0cmlidXRlc1tnXSE9XG5kW2ddKXJldHVybiExO2ZvcihrIGluIGUpaWYoYS5zdHlsZXNba10hPWVba10pcmV0dXJuITE7cmV0dXJuITB9ZnVuY3Rpb24geShhLGIpe3ZhciBjLGQ7XCJzdHJpbmdcIj09dHlwZW9mIGE/Yz1hOmEgaW5zdGFuY2VvZiBDS0VESVRPUi5zdHlsZT9kPWE6KGM9YVswXSxkPWFbMV0pO3JldHVyblt7ZWxlbWVudDpjLGxlZnQ6ZCxyaWdodDpmdW5jdGlvbihhLGMpe2MudHJhbnNmb3JtKGEsYil9fV19ZnVuY3Rpb24gQShhKXtyZXR1cm4gZnVuY3Rpb24oYil7cmV0dXJuIEQoYixhKX19ZnVuY3Rpb24gQyhhKXtyZXR1cm4gZnVuY3Rpb24oYixjKXtjW2FdKGIpfX12YXIgRj1DS0VESVRPUi5kdGQsRT1DS0VESVRPUi50b29scy5jb3B5LEo9Q0tFRElUT1IudG9vbHMudHJpbSxHPVtcIlwiLFwicFwiLFwiYnJcIixcImRpdlwiXTtDS0VESVRPUi5GSUxURVJfU0tJUF9UUkVFPTI7Q0tFRElUT1IuZmlsdGVyPWZ1bmN0aW9uKGEpe3RoaXMuYWxsb3dlZENvbnRlbnQ9W107dGhpcy5kaXNhbGxvd2VkQ29udGVudD1cbltdO3RoaXMuZWxlbWVudENhbGxiYWNrcz1udWxsO3RoaXMuZGlzYWJsZWQ9ITE7dGhpcy5lZGl0b3I9bnVsbDt0aGlzLmlkPUNLRURJVE9SLnRvb2xzLmdldE5leHROdW1iZXIoKTt0aGlzLl89e2FsbG93ZWRSdWxlczp7ZWxlbWVudHM6e30sZ2VuZXJpYzpbXX0sZGlzYWxsb3dlZFJ1bGVzOntlbGVtZW50czp7fSxnZW5lcmljOltdfSx0cmFuc2Zvcm1hdGlvbnM6e30sY2FjaGVkVGVzdHM6e319O0NLRURJVE9SLmZpbHRlci5pbnN0YW5jZXNbdGhpcy5pZF09dGhpcztpZihhIGluc3RhbmNlb2YgQ0tFRElUT1IuZWRpdG9yKXthPXRoaXMuZWRpdG9yPWE7dGhpcy5jdXN0b21Db25maWc9ITA7dmFyIGI9YS5jb25maWcuYWxsb3dlZENvbnRlbnQ7ITA9PT1iP3RoaXMuZGlzYWJsZWQ9ITA6KGJ8fCh0aGlzLmN1c3RvbUNvbmZpZz0hMSksdGhpcy5hbGxvdyhiLFwiY29uZmlnXCIsMSksdGhpcy5hbGxvdyhhLmNvbmZpZy5leHRyYUFsbG93ZWRDb250ZW50LFwiZXh0cmFcIiwxKSx0aGlzLmFsbG93KEdbYS5lbnRlck1vZGVdK1xuXCIgXCIrR1thLnNoaWZ0RW50ZXJNb2RlXSxcImRlZmF1bHRcIiwxKSx0aGlzLmRpc2FsbG93KGEuY29uZmlnLmRpc2FsbG93ZWRDb250ZW50KSl9ZWxzZSB0aGlzLmN1c3RvbUNvbmZpZz0hMSx0aGlzLmFsbG93KGEsXCJkZWZhdWx0XCIsMSl9O0NLRURJVE9SLmZpbHRlci5pbnN0YW5jZXM9e307Q0tFRElUT1IuZmlsdGVyLnByb3RvdHlwZT17YWxsb3c6ZnVuY3Rpb24oYixjLGQpe2lmKCFtKHRoaXMsYixkKSlyZXR1cm4hMTt2YXIgZSxrO2lmKFwic3RyaW5nXCI9PXR5cGVvZiBiKWI9ZyhiKTtlbHNlIGlmKGIgaW5zdGFuY2VvZiBDS0VESVRPUi5zdHlsZSl7aWYoYi50b0FsbG93ZWRDb250ZW50UnVsZXMpcmV0dXJuIHRoaXMuYWxsb3coYi50b0FsbG93ZWRDb250ZW50UnVsZXModGhpcy5lZGl0b3IpLGMsZCk7ZT1iLmdldERlZmluaXRpb24oKTtiPXt9O2Q9ZS5hdHRyaWJ1dGVzO2JbZS5lbGVtZW50XT1lPXtzdHlsZXM6ZS5zdHlsZXMscmVxdWlyZWRTdHlsZXM6ZS5zdHlsZXMmJkNLRURJVE9SLnRvb2xzLm9iamVjdEtleXMoZS5zdHlsZXMpfTtcbmQmJihkPUUoZCksZS5jbGFzc2VzPWRbXCJjbGFzc1wiXT9kW1wiY2xhc3NcIl0uc3BsaXQoL1xccysvKTpudWxsLGUucmVxdWlyZWRDbGFzc2VzPWUuY2xhc3NlcyxkZWxldGUgZFtcImNsYXNzXCJdLGUuYXR0cmlidXRlcz1kLGUucmVxdWlyZWRBdHRyaWJ1dGVzPWQmJkNLRURJVE9SLnRvb2xzLm9iamVjdEtleXMoZCkpfWVsc2UgaWYoQ0tFRElUT1IudG9vbHMuaXNBcnJheShiKSl7Zm9yKGU9MDtlPGIubGVuZ3RoOysrZSlrPXRoaXMuYWxsb3coYltlXSxjLGQpO3JldHVybiBrfWEodGhpcyxiLGMsdGhpcy5hbGxvd2VkQ29udGVudCx0aGlzLl8uYWxsb3dlZFJ1bGVzKTtyZXR1cm4hMH0sYXBwbHlUbzpmdW5jdGlvbihhLGIsYyxkKXtpZih0aGlzLmRpc2FibGVkKXJldHVybiExO3ZhciBlPXRoaXMsZz1bXSxrPXRoaXMuZWRpdG9yJiZ0aGlzLmVkaXRvci5jb25maWcucHJvdGVjdGVkU291cmNlLGYsaD0hMSxtPXtkb0ZpbHRlcjohYyxkb1RyYW5zZm9ybTohMCxkb0NhbGxiYWNrczohMCx0b0h0bWw6Yn07XG5hLmZvckVhY2goZnVuY3Rpb24oYSl7aWYoYS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQpe2lmKFwib2ZmXCI9PWEuYXR0cmlidXRlc1tcImRhdGEtY2tlLWZpbHRlclwiXSlyZXR1cm4hMTtpZighYnx8XCJzcGFuXCIhPWEubmFtZXx8IX5DS0VESVRPUi50b29scy5vYmplY3RLZXlzKGEuYXR0cmlidXRlcykuam9pbihcInxcIikuaW5kZXhPZihcImRhdGEtY2tlLVwiKSlpZihmPXAoZSxhLGcsbSksZiYxKWg9ITA7ZWxzZSBpZihmJjIpcmV0dXJuITF9ZWxzZSBpZihhLnR5cGU9PUNLRURJVE9SLk5PREVfQ09NTUVOVCYmYS52YWx1ZS5tYXRjaCgvXlxce2NrZV9wcm90ZWN0ZWRcXH0oPyFcXHtDXFx9KS8pKXt2YXIgYzthOnt2YXIgZD1kZWNvZGVVUklDb21wb25lbnQoYS52YWx1ZS5yZXBsYWNlKC9eXFx7Y2tlX3Byb3RlY3RlZFxcfS8sXCJcIikpO2M9W107dmFyIGwsdyx4O2lmKGspZm9yKHc9MDt3PGsubGVuZ3RoOysrdylpZigoeD1kLm1hdGNoKGtbd10pKSYmeFswXS5sZW5ndGg9PWQubGVuZ3RoKXtjPSEwO1xuYnJlYWsgYX1kPUNLRURJVE9SLmh0bWxQYXJzZXIuZnJhZ21lbnQuZnJvbUh0bWwoZCk7MT09ZC5jaGlsZHJlbi5sZW5ndGgmJihsPWQuY2hpbGRyZW5bMF0pLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmcChlLGwsYyxtKTtjPSFjLmxlbmd0aH1jfHxnLnB1c2goYSl9fSxudWxsLCEwKTtnLmxlbmd0aCYmKGg9ITApO3ZhciBsO2E9W107ZD1HW2R8fCh0aGlzLmVkaXRvcj90aGlzLmVkaXRvci5lbnRlck1vZGU6Q0tFRElUT1IuRU5URVJfUCldO2Zvcih2YXIgeDtjPWcucG9wKCk7KWMudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UP3coYyxkLGEpOmMucmVtb3ZlKCk7Zm9yKDtsPWEucG9wKCk7KWlmKGM9bC5lbCxjLnBhcmVudClzd2l0Y2goeD1GW2MucGFyZW50Lm5hbWVdfHxGLnNwYW4sbC5jaGVjayl7Y2FzZSBcIml0XCI6Ri4kcmVtb3ZlRW1wdHlbYy5uYW1lXSYmIWMuY2hpbGRyZW4ubGVuZ3RoP3coYyxkLGEpOnIoYyl8fHcoYyxkLGEpO2JyZWFrO2Nhc2UgXCJlbC11cFwiOmMucGFyZW50LnR5cGU9PVxuQ0tFRElUT1IuTk9ERV9ET0NVTUVOVF9GUkFHTUVOVHx8eFtjLm5hbWVdfHx3KGMsZCxhKTticmVhaztjYXNlIFwicGFyZW50LWRvd25cIjpjLnBhcmVudC50eXBlPT1DS0VESVRPUi5OT0RFX0RPQ1VNRU5UX0ZSQUdNRU5UfHx4W2MubmFtZV18fHcoYy5wYXJlbnQsZCxhKX1yZXR1cm4gaH0sY2hlY2tGZWF0dXJlOmZ1bmN0aW9uKGEpe2lmKHRoaXMuZGlzYWJsZWR8fCFhKXJldHVybiEwO2EudG9GZWF0dXJlJiYoYT1hLnRvRmVhdHVyZSh0aGlzLmVkaXRvcikpO3JldHVybiFhLnJlcXVpcmVkQ29udGVudHx8dGhpcy5jaGVjayhhLnJlcXVpcmVkQ29udGVudCl9LGRpc2FibGU6ZnVuY3Rpb24oKXt0aGlzLmRpc2FibGVkPSEwfSxkaXNhbGxvdzpmdW5jdGlvbihiKXtpZighbSh0aGlzLGIsITApKXJldHVybiExO1wic3RyaW5nXCI9PXR5cGVvZiBiJiYoYj1nKGIpKTthKHRoaXMsYixudWxsLHRoaXMuZGlzYWxsb3dlZENvbnRlbnQsdGhpcy5fLmRpc2FsbG93ZWRSdWxlcyk7cmV0dXJuITB9LFxuYWRkQ29udGVudEZvcm1zOmZ1bmN0aW9uKGEpe2lmKCF0aGlzLmRpc2FibGVkJiZhKXt2YXIgYixjLGQ9W10sZTtmb3IoYj0wO2I8YS5sZW5ndGgmJiFlOysrYiljPWFbYl0sKFwic3RyaW5nXCI9PXR5cGVvZiBjfHxjIGluc3RhbmNlb2YgQ0tFRElUT1Iuc3R5bGUpJiZ0aGlzLmNoZWNrKGMpJiYoZT1jKTtpZihlKXtmb3IoYj0wO2I8YS5sZW5ndGg7KytiKWQucHVzaCh5KGFbYl0sZSkpO3RoaXMuYWRkVHJhbnNmb3JtYXRpb25zKGQpfX19LGFkZEVsZW1lbnRDYWxsYmFjazpmdW5jdGlvbihhKXt0aGlzLmVsZW1lbnRDYWxsYmFja3N8fCh0aGlzLmVsZW1lbnRDYWxsYmFja3M9W10pO3RoaXMuZWxlbWVudENhbGxiYWNrcy5wdXNoKGEpfSxhZGRGZWF0dXJlOmZ1bmN0aW9uKGEpe2lmKHRoaXMuZGlzYWJsZWR8fCFhKXJldHVybiEwO2EudG9GZWF0dXJlJiYoYT1hLnRvRmVhdHVyZSh0aGlzLmVkaXRvcikpO3RoaXMuYWxsb3coYS5hbGxvd2VkQ29udGVudCxhLm5hbWUpO3RoaXMuYWRkVHJhbnNmb3JtYXRpb25zKGEuY29udGVudFRyYW5zZm9ybWF0aW9ucyk7XG50aGlzLmFkZENvbnRlbnRGb3JtcyhhLmNvbnRlbnRGb3Jtcyk7cmV0dXJuIGEucmVxdWlyZWRDb250ZW50JiYodGhpcy5jdXN0b21Db25maWd8fHRoaXMuZGlzYWxsb3dlZENvbnRlbnQubGVuZ3RoKT90aGlzLmNoZWNrKGEucmVxdWlyZWRDb250ZW50KTohMH0sYWRkVHJhbnNmb3JtYXRpb25zOmZ1bmN0aW9uKGEpe3ZhciBiLGM7aWYoIXRoaXMuZGlzYWJsZWQmJmEpe3ZhciBkPXRoaXMuXy50cmFuc2Zvcm1hdGlvbnMsZTtmb3IoZT0wO2U8YS5sZW5ndGg7KytlKXtiPWFbZV07dmFyIGc9dm9pZCAwLGs9dm9pZCAwLGY9dm9pZCAwLGg9dm9pZCAwLG09dm9pZCAwLGw9dm9pZCAwO2M9W107Zm9yKGs9MDtrPGIubGVuZ3RoOysraylmPWJba10sXCJzdHJpbmdcIj09dHlwZW9mIGY/KGY9Zi5zcGxpdCgvXFxzKjpcXHMqLyksaD1mWzBdLG09bnVsbCxsPWZbMV0pOihoPWYuY2hlY2ssbT1mLmxlZnQsbD1mLnJpZ2h0KSxnfHwoZz1mLGc9Zy5lbGVtZW50P2cuZWxlbWVudDpoP2gubWF0Y2goL14oW2EtejAtOV0rKS9pKVswXTpcbmcubGVmdC5nZXREZWZpbml0aW9uKCkuZWxlbWVudCksbSBpbnN0YW5jZW9mIENLRURJVE9SLnN0eWxlJiYobT1BKG0pKSxjLnB1c2goe2NoZWNrOmg9PWc/bnVsbDpoLGxlZnQ6bSxyaWdodDpcInN0cmluZ1wiPT10eXBlb2YgbD9DKGwpOmx9KTtiPWc7ZFtiXXx8KGRbYl09W10pO2RbYl0ucHVzaChjKX19fSxjaGVjazpmdW5jdGlvbihhLGIsYyl7aWYodGhpcy5kaXNhYmxlZClyZXR1cm4hMDtpZihDS0VESVRPUi50b29scy5pc0FycmF5KGEpKXtmb3IodmFyIGQ9YS5sZW5ndGg7ZC0tOylpZih0aGlzLmNoZWNrKGFbZF0sYixjKSlyZXR1cm4hMDtyZXR1cm4hMX12YXIgZSxmO2lmKFwic3RyaW5nXCI9PXR5cGVvZiBhKXtmPWErXCJcXHgzY1wiKyghMT09PWI/XCIwXCI6XCIxXCIpKyhjP1wiMVwiOlwiMFwiKStcIlxceDNlXCI7aWYoZiBpbiB0aGlzLl8uY2FjaGVkQ2hlY2tzKXJldHVybiB0aGlzLl8uY2FjaGVkQ2hlY2tzW2ZdO2Q9ZyhhKS4kMTtlPWQuc3R5bGVzO3ZhciBoPWQuY2xhc3NlcztkLm5hbWU9ZC5lbGVtZW50cztcbmQuY2xhc3Nlcz1oPWg/aC5zcGxpdCgvXFxzKixcXHMqLyk6W107ZC5zdHlsZXM9ayhlKTtkLmF0dHJpYnV0ZXM9ayhkLmF0dHJpYnV0ZXMpO2QuY2hpbGRyZW49W107aC5sZW5ndGgmJihkLmF0dHJpYnV0ZXNbXCJjbGFzc1wiXT1oLmpvaW4oXCIgXCIpKTtlJiYoZC5hdHRyaWJ1dGVzLnN0eWxlPUNLRURJVE9SLnRvb2xzLndyaXRlQ3NzVGV4dChkLnN0eWxlcykpO2U9ZH1lbHNlIGQ9YS5nZXREZWZpbml0aW9uKCksZT1kLnN0eWxlcyxoPWQuYXR0cmlidXRlc3x8e30sZSYmIUNLRURJVE9SLnRvb2xzLmlzRW1wdHkoZSk/KGU9RShlKSxoLnN0eWxlPUNLRURJVE9SLnRvb2xzLndyaXRlQ3NzVGV4dChlLCEwKSk6ZT17fSxlPXtuYW1lOmQuZWxlbWVudCxhdHRyaWJ1dGVzOmgsY2xhc3NlczpoW1wiY2xhc3NcIl0/aFtcImNsYXNzXCJdLnNwbGl0KC9cXHMrLyk6W10sc3R5bGVzOmUsY2hpbGRyZW46W119O3ZhciBoPUNLRURJVE9SLnRvb2xzLmNsb25lKGUpLG09W10sbDtpZighMSE9PWImJihsPXRoaXMuXy50cmFuc2Zvcm1hdGlvbnNbZS5uYW1lXSkpe2ZvcihkPVxuMDtkPGwubGVuZ3RoOysrZCl6KHRoaXMsZSxsW2RdKTt2KGUpfXAodGhpcyxoLG0se2RvRmlsdGVyOiEwLGRvVHJhbnNmb3JtOiExIT09Yixza2lwUmVxdWlyZWQ6IWMsc2tpcEZpbmFsVmFsaWRhdGlvbjohY30pO2I9MDxtLmxlbmd0aD8hMTpDS0VESVRPUi50b29scy5vYmplY3RDb21wYXJlKGUuYXR0cmlidXRlcyxoLmF0dHJpYnV0ZXMsITApPyEwOiExO1wic3RyaW5nXCI9PXR5cGVvZiBhJiYodGhpcy5fLmNhY2hlZENoZWNrc1tmXT1iKTtyZXR1cm4gYn0sZ2V0QWxsb3dlZEVudGVyTW9kZTpmdW5jdGlvbigpe3ZhciBhPVtcInBcIixcImRpdlwiLFwiYnJcIl0sYj17cDpDS0VESVRPUi5FTlRFUl9QLGRpdjpDS0VESVRPUi5FTlRFUl9ESVYsYnI6Q0tFRElUT1IuRU5URVJfQlJ9O3JldHVybiBmdW5jdGlvbihjLGQpe3ZhciBlPWEuc2xpY2UoKSxnO2lmKHRoaXMuY2hlY2soR1tjXSkpcmV0dXJuIGM7Zm9yKGR8fChlPWUucmV2ZXJzZSgpKTtnPWUucG9wKCk7KWlmKHRoaXMuY2hlY2soZykpcmV0dXJuIGJbZ107XG5yZXR1cm4gQ0tFRElUT1IuRU5URVJfQlJ9fSgpLGRlc3Ryb3k6ZnVuY3Rpb24oKXtkZWxldGUgQ0tFRElUT1IuZmlsdGVyLmluc3RhbmNlc1t0aGlzLmlkXTtkZWxldGUgdGhpcy5fO2RlbGV0ZSB0aGlzLmFsbG93ZWRDb250ZW50O2RlbGV0ZSB0aGlzLmRpc2FsbG93ZWRDb250ZW50fX07dmFyIE09e3N0eWxlczoxLGF0dHJpYnV0ZXM6MSxjbGFzc2VzOjF9LEk9e3N0eWxlczpcInJlcXVpcmVkU3R5bGVzXCIsYXR0cmlidXRlczpcInJlcXVpcmVkQXR0cmlidXRlc1wiLGNsYXNzZXM6XCJyZXF1aXJlZENsYXNzZXNcIn0sSD0vXihbYS16MC05XFwtKlxcc10rKSgoPzpcXHMqXFx7WyFcXHdcXC0sXFxzXFwqXStcXH1cXHMqfFxccypcXFtbIVxcd1xcLSxcXHNcXCpdK1xcXVxccyp8XFxzKlxcKFshXFx3XFwtLFxcc1xcKl0rXFwpXFxzKil7MCwzfSkoPzo7XFxzKnwkKS9pLFI9e3N0eWxlczoveyhbXn1dKyl9LyxhdHRyczovXFxbKFteXFxdXSspXFxdLyxjbGFzc2VzOi9cXCgoW15cXCldKylcXCkvfSxQPS9eY2tlOihvYmplY3R8ZW1iZWR8cGFyYW0pJC8sXG5UPS9eKG9iamVjdHxlbWJlZHxwYXJhbSkkLyxPO089Q0tFRElUT1IuZmlsdGVyLnRyYW5zZm9ybWF0aW9uc1Rvb2xzPXtzaXplVG9TdHlsZTpmdW5jdGlvbihhKXt0aGlzLmxlbmd0aFRvU3R5bGUoYSxcIndpZHRoXCIpO3RoaXMubGVuZ3RoVG9TdHlsZShhLFwiaGVpZ2h0XCIpfSxzaXplVG9BdHRyaWJ1dGU6ZnVuY3Rpb24oYSl7dGhpcy5sZW5ndGhUb0F0dHJpYnV0ZShhLFwid2lkdGhcIik7dGhpcy5sZW5ndGhUb0F0dHJpYnV0ZShhLFwiaGVpZ2h0XCIpfSxsZW5ndGhUb1N0eWxlOmZ1bmN0aW9uKGEsYixjKXtjPWN8fGI7aWYoIShjIGluIGEuc3R5bGVzKSl7dmFyIGQ9YS5hdHRyaWJ1dGVzW2JdO2QmJigvXlxcZCskLy50ZXN0KGQpJiYoZCs9XCJweFwiKSxhLnN0eWxlc1tjXT1kKX1kZWxldGUgYS5hdHRyaWJ1dGVzW2JdfSxsZW5ndGhUb0F0dHJpYnV0ZTpmdW5jdGlvbihhLGIsYyl7Yz1jfHxiO2lmKCEoYyBpbiBhLmF0dHJpYnV0ZXMpKXt2YXIgZD1hLnN0eWxlc1tiXSxlPWQmJmQubWF0Y2goL14oXFxkKykoPzpcXC5cXGQqKT9weCQvKTtcbmU/YS5hdHRyaWJ1dGVzW2NdPWVbMV06XCJja2UtdGVzdFwiPT1kJiYoYS5hdHRyaWJ1dGVzW2NdPVwiY2tlLXRlc3RcIil9ZGVsZXRlIGEuc3R5bGVzW2JdfSxhbGlnbm1lbnRUb1N0eWxlOmZ1bmN0aW9uKGEpe2lmKCEoXCJmbG9hdFwiaW4gYS5zdHlsZXMpKXt2YXIgYj1hLmF0dHJpYnV0ZXMuYWxpZ247aWYoXCJsZWZ0XCI9PWJ8fFwicmlnaHRcIj09YilhLnN0eWxlc1tcImZsb2F0XCJdPWJ9ZGVsZXRlIGEuYXR0cmlidXRlcy5hbGlnbn0sYWxpZ25tZW50VG9BdHRyaWJ1dGU6ZnVuY3Rpb24oYSl7aWYoIShcImFsaWduXCJpbiBhLmF0dHJpYnV0ZXMpKXt2YXIgYj1hLnN0eWxlc1tcImZsb2F0XCJdO2lmKFwibGVmdFwiPT1ifHxcInJpZ2h0XCI9PWIpYS5hdHRyaWJ1dGVzLmFsaWduPWJ9ZGVsZXRlIGEuc3R5bGVzW1wiZmxvYXRcIl19LHNwbGl0Qm9yZGVyU2hvcnRoYW5kOmZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoZCl7YS5zdHlsZXNbXCJib3JkZXItdG9wLXdpZHRoXCJdPWNbZFswXV07YS5zdHlsZXNbXCJib3JkZXItcmlnaHQtd2lkdGhcIl09XG5jW2RbMV1dO2Euc3R5bGVzW1wiYm9yZGVyLWJvdHRvbS13aWR0aFwiXT1jW2RbMl1dO2Euc3R5bGVzW1wiYm9yZGVyLWxlZnQtd2lkdGhcIl09Y1tkWzNdXX1pZihhLnN0eWxlcy5ib3JkZXIpe3ZhciBjPWEuc3R5bGVzLmJvcmRlci5tYXRjaCgvKFtcXC5cXGRdK1xcdyspL2cpfHxbXCIwcHhcIl07c3dpdGNoKGMubGVuZ3RoKXtjYXNlIDE6YS5zdHlsZXNbXCJib3JkZXItd2lkdGhcIl09Y1swXTticmVhaztjYXNlIDI6YihbMCwxLDAsMV0pO2JyZWFrO2Nhc2UgMzpiKFswLDEsMiwxXSk7YnJlYWs7Y2FzZSA0OmIoWzAsMSwyLDNdKX1hLnN0eWxlc1tcImJvcmRlci1zdHlsZVwiXT1hLnN0eWxlc1tcImJvcmRlci1zdHlsZVwiXXx8KGEuc3R5bGVzLmJvcmRlci5tYXRjaCgvKG5vbmV8aGlkZGVufGRvdHRlZHxkYXNoZWR8c29saWR8ZG91YmxlfGdyb292ZXxyaWRnZXxpbnNldHxvdXRzZXR8aW5pdGlhbHxpbmhlcml0KS8pfHxbXSlbMF07YS5zdHlsZXNbXCJib3JkZXItc3R5bGVcIl18fGRlbGV0ZSBhLnN0eWxlc1tcImJvcmRlci1zdHlsZVwiXTtcbmRlbGV0ZSBhLnN0eWxlcy5ib3JkZXJ9fSxsaXN0VHlwZVRvU3R5bGU6ZnVuY3Rpb24oYSl7aWYoYS5hdHRyaWJ1dGVzLnR5cGUpc3dpdGNoKGEuYXR0cmlidXRlcy50eXBlKXtjYXNlIFwiYVwiOmEuc3R5bGVzW1wibGlzdC1zdHlsZS10eXBlXCJdPVwibG93ZXItYWxwaGFcIjticmVhaztjYXNlIFwiQVwiOmEuc3R5bGVzW1wibGlzdC1zdHlsZS10eXBlXCJdPVwidXBwZXItYWxwaGFcIjticmVhaztjYXNlIFwiaVwiOmEuc3R5bGVzW1wibGlzdC1zdHlsZS10eXBlXCJdPVwibG93ZXItcm9tYW5cIjticmVhaztjYXNlIFwiSVwiOmEuc3R5bGVzW1wibGlzdC1zdHlsZS10eXBlXCJdPVwidXBwZXItcm9tYW5cIjticmVhaztjYXNlIFwiMVwiOmEuc3R5bGVzW1wibGlzdC1zdHlsZS10eXBlXCJdPVwiZGVjaW1hbFwiO2JyZWFrO2RlZmF1bHQ6YS5zdHlsZXNbXCJsaXN0LXN0eWxlLXR5cGVcIl09YS5hdHRyaWJ1dGVzLnR5cGV9fSxzcGxpdE1hcmdpblNob3J0aGFuZDpmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGQpe2Euc3R5bGVzW1wibWFyZ2luLXRvcFwiXT1cbmNbZFswXV07YS5zdHlsZXNbXCJtYXJnaW4tcmlnaHRcIl09Y1tkWzFdXTthLnN0eWxlc1tcIm1hcmdpbi1ib3R0b21cIl09Y1tkWzJdXTthLnN0eWxlc1tcIm1hcmdpbi1sZWZ0XCJdPWNbZFszXV19aWYoYS5zdHlsZXMubWFyZ2luKXt2YXIgYz1hLnN0eWxlcy5tYXJnaW4ubWF0Y2goLyhcXC0/W1xcLlxcZF0rXFx3KykvZyl8fFtcIjBweFwiXTtzd2l0Y2goYy5sZW5ndGgpe2Nhc2UgMTphLnN0eWxlcy5tYXJnaW49Y1swXTticmVhaztjYXNlIDI6YihbMCwxLDAsMV0pO2JyZWFrO2Nhc2UgMzpiKFswLDEsMiwxXSk7YnJlYWs7Y2FzZSA0OmIoWzAsMSwyLDNdKX1kZWxldGUgYS5zdHlsZXMubWFyZ2lufX0sbWF0Y2hlc1N0eWxlOkQsdHJhbnNmb3JtOmZ1bmN0aW9uKGEsYil7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGIpYS5uYW1lPWI7ZWxzZXt2YXIgYz1iLmdldERlZmluaXRpb24oKSxkPWMuc3R5bGVzLGU9Yy5hdHRyaWJ1dGVzLGcsZixrLGg7YS5uYW1lPWMuZWxlbWVudDtmb3IoZyBpbiBlKWlmKFwiY2xhc3NcIj09XG5nKWZvcihjPWEuY2xhc3Nlcy5qb2luKFwifFwiKSxrPWVbZ10uc3BsaXQoL1xccysvKTtoPWsucG9wKCk7KS0xPT1jLmluZGV4T2YoaCkmJmEuY2xhc3Nlcy5wdXNoKGgpO2Vsc2UgYS5hdHRyaWJ1dGVzW2ddPWVbZ107Zm9yKGYgaW4gZClhLnN0eWxlc1tmXT1kW2ZdfX19fSgpLGZ1bmN0aW9uKCl7Q0tFRElUT1IuZm9jdXNNYW5hZ2VyPWZ1bmN0aW9uKGEpe2lmKGEuZm9jdXNNYW5hZ2VyKXJldHVybiBhLmZvY3VzTWFuYWdlcjt0aGlzLmhhc0ZvY3VzPSExO3RoaXMuY3VycmVudEFjdGl2ZT1udWxsO3RoaXMuXz17ZWRpdG9yOmF9O3JldHVybiB0aGlzfTtDS0VESVRPUi5mb2N1c01hbmFnZXIuXz17Ymx1ckRlbGF5OjIwMH07Q0tFRElUT1IuZm9jdXNNYW5hZ2VyLnByb3RvdHlwZT17Zm9jdXM6ZnVuY3Rpb24oYSl7dGhpcy5fLnRpbWVyJiZjbGVhclRpbWVvdXQodGhpcy5fLnRpbWVyKTthJiYodGhpcy5jdXJyZW50QWN0aXZlPWEpO3RoaXMuaGFzRm9jdXN8fHRoaXMuXy5sb2NrZWR8fCgoYT1cbkNLRURJVE9SLmN1cnJlbnRJbnN0YW5jZSkmJmEuZm9jdXNNYW5hZ2VyLmJsdXIoMSksdGhpcy5oYXNGb2N1cz0hMCwoYT10aGlzLl8uZWRpdG9yLmNvbnRhaW5lcikmJmEuYWRkQ2xhc3MoXCJja2VfZm9jdXNcIiksdGhpcy5fLmVkaXRvci5maXJlKFwiZm9jdXNcIikpfSxsb2NrOmZ1bmN0aW9uKCl7dGhpcy5fLmxvY2tlZD0xfSx1bmxvY2s6ZnVuY3Rpb24oKXtkZWxldGUgdGhpcy5fLmxvY2tlZH0sYmx1cjpmdW5jdGlvbihhKXtmdW5jdGlvbiBmKCl7aWYodGhpcy5oYXNGb2N1cyl7dGhpcy5oYXNGb2N1cz0hMTt2YXIgYT10aGlzLl8uZWRpdG9yLmNvbnRhaW5lcjthJiZhLnJlbW92ZUNsYXNzKFwiY2tlX2ZvY3VzXCIpO3RoaXMuXy5lZGl0b3IuZmlyZShcImJsdXJcIil9fWlmKCF0aGlzLl8ubG9ja2VkKXt0aGlzLl8udGltZXImJmNsZWFyVGltZW91dCh0aGlzLl8udGltZXIpO3ZhciBiPUNLRURJVE9SLmZvY3VzTWFuYWdlci5fLmJsdXJEZWxheTthfHwhYj9mLmNhbGwodGhpcyk6dGhpcy5fLnRpbWVyPVxuQ0tFRElUT1IudG9vbHMuc2V0VGltZW91dChmdW5jdGlvbigpe2RlbGV0ZSB0aGlzLl8udGltZXI7Zi5jYWxsKHRoaXMpfSxiLHRoaXMpfX0sYWRkOmZ1bmN0aW9uKGEsZil7dmFyIGI9YS5nZXRDdXN0b21EYXRhKFwiZm9jdXNtYW5hZ2VyXCIpO2lmKCFifHxiIT10aGlzKXtiJiZiLnJlbW92ZShhKTt2YXIgYj1cImZvY3VzXCIsYz1cImJsdXJcIjtmJiYoQ0tFRElUT1IuZW52LmllPyhiPVwiZm9jdXNpblwiLGM9XCJmb2N1c291dFwiKTpDS0VESVRPUi5ldmVudC51c2VDYXB0dXJlPTEpO3ZhciBlPXtibHVyOmZ1bmN0aW9uKCl7YS5lcXVhbHModGhpcy5jdXJyZW50QWN0aXZlKSYmdGhpcy5ibHVyKCl9LGZvY3VzOmZ1bmN0aW9uKCl7dGhpcy5mb2N1cyhhKX19O2Eub24oYixlLmZvY3VzLHRoaXMpO2Eub24oYyxlLmJsdXIsdGhpcyk7ZiYmKENLRURJVE9SLmV2ZW50LnVzZUNhcHR1cmU9MCk7YS5zZXRDdXN0b21EYXRhKFwiZm9jdXNtYW5hZ2VyXCIsdGhpcyk7YS5zZXRDdXN0b21EYXRhKFwiZm9jdXNtYW5hZ2VyX2hhbmRsZXJzXCIsXG5lKX19LHJlbW92ZTpmdW5jdGlvbihhKXthLnJlbW92ZUN1c3RvbURhdGEoXCJmb2N1c21hbmFnZXJcIik7dmFyIGY9YS5yZW1vdmVDdXN0b21EYXRhKFwiZm9jdXNtYW5hZ2VyX2hhbmRsZXJzXCIpO2EucmVtb3ZlTGlzdGVuZXIoXCJibHVyXCIsZi5ibHVyKTthLnJlbW92ZUxpc3RlbmVyKFwiZm9jdXNcIixmLmZvY3VzKX19fSgpLENLRURJVE9SLmtleXN0cm9rZUhhbmRsZXI9ZnVuY3Rpb24oYSl7aWYoYS5rZXlzdHJva2VIYW5kbGVyKXJldHVybiBhLmtleXN0cm9rZUhhbmRsZXI7dGhpcy5rZXlzdHJva2VzPXt9O3RoaXMuYmxvY2tlZEtleXN0cm9rZXM9e307dGhpcy5fPXtlZGl0b3I6YX07cmV0dXJuIHRoaXN9LGZ1bmN0aW9uKCl7dmFyIGEsZj1mdW5jdGlvbihiKXtiPWIuZGF0YTt2YXIgZT1iLmdldEtleXN0cm9rZSgpLGY9dGhpcy5rZXlzdHJva2VzW2VdLGw9dGhpcy5fLmVkaXRvcjthPSExPT09bC5maXJlKFwia2V5XCIse2tleUNvZGU6ZSxkb21FdmVudDpifSk7YXx8KGYmJihhPSExIT09XG5sLmV4ZWNDb21tYW5kKGYse2Zyb206XCJrZXlzdHJva2VIYW5kbGVyXCJ9KSksYXx8KGE9ISF0aGlzLmJsb2NrZWRLZXlzdHJva2VzW2VdKSk7YSYmYi5wcmV2ZW50RGVmYXVsdCghMCk7cmV0dXJuIWF9LGI9ZnVuY3Rpb24oYil7YSYmKGE9ITEsYi5kYXRhLnByZXZlbnREZWZhdWx0KCEwKSl9O0NLRURJVE9SLmtleXN0cm9rZUhhbmRsZXIucHJvdG90eXBlPXthdHRhY2g6ZnVuY3Rpb24oYSl7YS5vbihcImtleWRvd25cIixmLHRoaXMpO2lmKENLRURJVE9SLmVudi5nZWNrbyYmQ0tFRElUT1IuZW52Lm1hYylhLm9uKFwia2V5cHJlc3NcIixiLHRoaXMpfX19KCksZnVuY3Rpb24oKXtDS0VESVRPUi5sYW5nPXtsYW5ndWFnZXM6e2FmOjEsYXI6MSxiZzoxLGJuOjEsYnM6MSxjYToxLGNzOjEsY3k6MSxkYToxLGRlOjEsXCJkZS1jaFwiOjEsZWw6MSxcImVuLWF1XCI6MSxcImVuLWNhXCI6MSxcImVuLWdiXCI6MSxlbjoxLGVvOjEsZXM6MSxldDoxLGV1OjEsZmE6MSxmaToxLGZvOjEsXCJmci1jYVwiOjEsZnI6MSxnbDoxLFxuZ3U6MSxoZToxLGhpOjEsaHI6MSxodToxLGlkOjEsaXM6MSxpdDoxLGphOjEsa2E6MSxrbToxLGtvOjEsa3U6MSxsdDoxLGx2OjEsbWs6MSxtbjoxLG1zOjEsbmI6MSxubDoxLG5vOjEsb2M6MSxwbDoxLFwicHQtYnJcIjoxLHB0OjEscm86MSxydToxLHNpOjEsc2s6MSxzbDoxLHNxOjEsXCJzci1sYXRuXCI6MSxzcjoxLHN2OjEsdGg6MSx0cjoxLHR0OjEsdWc6MSx1azoxLHZpOjEsXCJ6aC1jblwiOjEsemg6MX0scnRsOnthcjoxLGZhOjEsaGU6MSxrdToxLHVnOjF9LGxvYWQ6ZnVuY3Rpb24oYSxmLGIpe2EmJkNLRURJVE9SLmxhbmcubGFuZ3VhZ2VzW2FdfHwoYT10aGlzLmRldGVjdChmLGEpKTt2YXIgYz10aGlzO2Y9ZnVuY3Rpb24oKXtjW2FdLmRpcj1jLnJ0bFthXT9cInJ0bFwiOlwibHRyXCI7YihhLGNbYV0pfTt0aGlzW2FdP2YoKTpDS0VESVRPUi5zY3JpcHRMb2FkZXIubG9hZChDS0VESVRPUi5nZXRVcmwoXCJsYW5nL1wiK2ErXCIuanNcIiksZix0aGlzKX0sZGV0ZWN0OmZ1bmN0aW9uKGEsZil7dmFyIGI9XG50aGlzLmxhbmd1YWdlcztmPWZ8fG5hdmlnYXRvci51c2VyTGFuZ3VhZ2V8fG5hdmlnYXRvci5sYW5ndWFnZXx8YTt2YXIgYz1mLnRvTG93ZXJDYXNlKCkubWF0Y2goLyhbYS16XSspKD86LShbYS16XSspKT8vKSxlPWNbMV0sYz1jWzJdO2JbZStcIi1cIitjXT9lPWUrXCItXCIrYzpiW2VdfHwoZT1udWxsKTtDS0VESVRPUi5sYW5nLmRldGVjdD1lP2Z1bmN0aW9uKCl7cmV0dXJuIGV9OmZ1bmN0aW9uKGEpe3JldHVybiBhfTtyZXR1cm4gZXx8YX19fSgpLENLRURJVE9SLnNjcmlwdExvYWRlcj1mdW5jdGlvbigpe3ZhciBhPXt9LGY9e307cmV0dXJue2xvYWQ6ZnVuY3Rpb24oYixjLGUsbSl7dmFyIGw9XCJzdHJpbmdcIj09dHlwZW9mIGI7bCYmKGI9W2JdKTtlfHwoZT1DS0VESVRPUik7dmFyIGQ9Yi5sZW5ndGgsaD1bXSxrPVtdLGc9ZnVuY3Rpb24oYSl7YyYmKGw/Yy5jYWxsKGUsYSk6Yy5jYWxsKGUsaCxrKSl9O2lmKDA9PT1kKWcoITApO2Vsc2V7dmFyIG49ZnVuY3Rpb24oYSxiKXsoYj9oOmspLnB1c2goYSk7XG4wPj0tLWQmJihtJiZDS0VESVRPUi5kb2N1bWVudC5nZXREb2N1bWVudEVsZW1lbnQoKS5yZW1vdmVTdHlsZShcImN1cnNvclwiKSxnKGIpKX0scT1mdW5jdGlvbihiLGMpe2FbYl09MTt2YXIgZD1mW2JdO2RlbGV0ZSBmW2JdO2Zvcih2YXIgZT0wO2U8ZC5sZW5ndGg7ZSsrKWRbZV0oYixjKX0scD1mdW5jdGlvbihiKXtpZihhW2JdKW4oYiwhMCk7ZWxzZXt2YXIgZD1mW2JdfHwoZltiXT1bXSk7ZC5wdXNoKG4pO2lmKCEoMTxkLmxlbmd0aCkpe3ZhciBlPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudChcInNjcmlwdFwiKTtlLnNldEF0dHJpYnV0ZXMoe3R5cGU6XCJ0ZXh0L2phdmFzY3JpcHRcIixzcmM6Yn0pO2MmJihDS0VESVRPUi5lbnYuaWUmJig4Pj1DS0VESVRPUi5lbnYudmVyc2lvbnx8Q0tFRElUT1IuZW52LmllOUNvbXBhdCk/ZS4kLm9ucmVhZHlzdGF0ZWNoYW5nZT1mdW5jdGlvbigpe2lmKFwibG9hZGVkXCI9PWUuJC5yZWFkeVN0YXRlfHxcImNvbXBsZXRlXCI9PWUuJC5yZWFkeVN0YXRlKWUuJC5vbnJlYWR5c3RhdGVjaGFuZ2U9XG5udWxsLHEoYiwhMCl9OihlLiQub25sb2FkPWZ1bmN0aW9uKCl7c2V0VGltZW91dChmdW5jdGlvbigpe3EoYiwhMCl9LDApfSxlLiQub25lcnJvcj1mdW5jdGlvbigpe3EoYiwhMSl9KSk7ZS5hcHBlbmRUbyhDS0VESVRPUi5kb2N1bWVudC5nZXRIZWFkKCkpfX19O20mJkNLRURJVE9SLmRvY3VtZW50LmdldERvY3VtZW50RWxlbWVudCgpLnNldFN0eWxlKFwiY3Vyc29yXCIsXCJ3YWl0XCIpO2Zvcih2YXIgdD0wO3Q8ZDt0KyspcChiW3RdKX19LHF1ZXVlOmZ1bmN0aW9uKCl7ZnVuY3Rpb24gYSgpe3ZhciBiOyhiPWNbMF0pJiZ0aGlzLmxvYWQoYi5zY3JpcHRVcmwsYi5jYWxsYmFjayxDS0VESVRPUiwwKX12YXIgYz1bXTtyZXR1cm4gZnVuY3Rpb24oZSxmKXt2YXIgbD10aGlzO2MucHVzaCh7c2NyaXB0VXJsOmUsY2FsbGJhY2s6ZnVuY3Rpb24oKXtmJiZmLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtjLnNoaWZ0KCk7YS5jYWxsKGwpfX0pOzE9PWMubGVuZ3RoJiZhLmNhbGwodGhpcyl9fSgpfX0oKSxcbkNLRURJVE9SLnJlc291cmNlTWFuYWdlcj1mdW5jdGlvbihhLGYpe3RoaXMuYmFzZVBhdGg9YTt0aGlzLmZpbGVOYW1lPWY7dGhpcy5yZWdpc3RlcmVkPXt9O3RoaXMubG9hZGVkPXt9O3RoaXMuZXh0ZXJuYWxzPXt9O3RoaXMuXz17d2FpdGluZ0xpc3Q6e319fSxDS0VESVRPUi5yZXNvdXJjZU1hbmFnZXIucHJvdG90eXBlPXthZGQ6ZnVuY3Rpb24oYSxmKXtpZih0aGlzLnJlZ2lzdGVyZWRbYV0pdGhyb3cgRXJyb3IoJ1tDS0VESVRPUi5yZXNvdXJjZU1hbmFnZXIuYWRkXSBUaGUgcmVzb3VyY2UgbmFtZSBcIicrYSsnXCIgaXMgYWxyZWFkeSByZWdpc3RlcmVkLicpO3ZhciBiPXRoaXMucmVnaXN0ZXJlZFthXT1mfHx7fTtiLm5hbWU9YTtiLnBhdGg9dGhpcy5nZXRQYXRoKGEpO0NLRURJVE9SLmZpcmUoYStDS0VESVRPUi50b29scy5jYXBpdGFsaXplKHRoaXMuZmlsZU5hbWUpK1wiUmVhZHlcIixiKTtyZXR1cm4gdGhpcy5nZXQoYSl9LGdldDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5yZWdpc3RlcmVkW2FdfHxcbm51bGx9LGdldFBhdGg6ZnVuY3Rpb24oYSl7dmFyIGY9dGhpcy5leHRlcm5hbHNbYV07cmV0dXJuIENLRURJVE9SLmdldFVybChmJiZmLmRpcnx8dGhpcy5iYXNlUGF0aCthK1wiL1wiKX0sZ2V0RmlsZVBhdGg6ZnVuY3Rpb24oYSl7dmFyIGY9dGhpcy5leHRlcm5hbHNbYV07cmV0dXJuIENLRURJVE9SLmdldFVybCh0aGlzLmdldFBhdGgoYSkrKGY/Zi5maWxlOnRoaXMuZmlsZU5hbWUrXCIuanNcIikpfSxhZGRFeHRlcm5hbDpmdW5jdGlvbihhLGYsYil7YT1hLnNwbGl0KFwiLFwiKTtmb3IodmFyIGM9MDtjPGEubGVuZ3RoO2MrKyl7dmFyIGU9YVtjXTtifHwoZj1mLnJlcGxhY2UoL1teXFwvXSskLyxmdW5jdGlvbihhKXtiPWE7cmV0dXJuXCJcIn0pKTt0aGlzLmV4dGVybmFsc1tlXT17ZGlyOmYsZmlsZTpifHx0aGlzLmZpbGVOYW1lK1wiLmpzXCJ9fX0sbG9hZDpmdW5jdGlvbihhLGYsYil7Q0tFRElUT1IudG9vbHMuaXNBcnJheShhKXx8KGE9YT9bYV06W10pO2Zvcih2YXIgYz10aGlzLmxvYWRlZCxlPVxudGhpcy5yZWdpc3RlcmVkLG09W10sbD17fSxkPXt9LGg9MDtoPGEubGVuZ3RoO2grKyl7dmFyIGs9YVtoXTtpZihrKWlmKGNba118fGVba10pZFtrXT10aGlzLmdldChrKTtlbHNle3ZhciBnPXRoaXMuZ2V0RmlsZVBhdGgoayk7bS5wdXNoKGcpO2cgaW4gbHx8KGxbZ109W10pO2xbZ10ucHVzaChrKX19Q0tFRElUT1Iuc2NyaXB0TG9hZGVyLmxvYWQobSxmdW5jdGlvbihhLGUpe2lmKGUubGVuZ3RoKXRocm93IEVycm9yKCdbQ0tFRElUT1IucmVzb3VyY2VNYW5hZ2VyLmxvYWRdIFJlc291cmNlIG5hbWUgXCInK2xbZVswXV0uam9pbihcIixcIikrJ1wiIHdhcyBub3QgZm91bmQgYXQgXCInK2VbMF0rJ1wiLicpO2Zvcih2YXIgZz0wO2c8YS5sZW5ndGg7ZysrKWZvcih2YXIgaz1sW2FbZ11dLGg9MDtoPGsubGVuZ3RoO2grKyl7dmFyIG09a1toXTtkW21dPXRoaXMuZ2V0KG0pO2NbbV09MX1mLmNhbGwoYixkKX0sdGhpcyl9fSxDS0VESVRPUi5wbHVnaW5zPW5ldyBDS0VESVRPUi5yZXNvdXJjZU1hbmFnZXIoXCJwbHVnaW5zL1wiLFxuXCJwbHVnaW5cIiksQ0tFRElUT1IucGx1Z2lucy5sb2FkPUNLRURJVE9SLnRvb2xzLm92ZXJyaWRlKENLRURJVE9SLnBsdWdpbnMubG9hZCxmdW5jdGlvbihhKXt2YXIgZj17fTtyZXR1cm4gZnVuY3Rpb24oYixjLGUpe3ZhciBtPXt9LGw9ZnVuY3Rpb24oYil7YS5jYWxsKHRoaXMsYixmdW5jdGlvbihhKXtDS0VESVRPUi50b29scy5leHRlbmQobSxhKTt2YXIgYj1bXSxkO2ZvcihkIGluIGEpe3ZhciBuPWFbZF0scT1uJiZuLnJlcXVpcmVzO2lmKCFmW2RdKXtpZihuLmljb25zKWZvcih2YXIgcD1uLmljb25zLnNwbGl0KFwiLFwiKSx0PXAubGVuZ3RoO3QtLTspQ0tFRElUT1Iuc2tpbi5hZGRJY29uKHBbdF0sbi5wYXRoK1wiaWNvbnMvXCIrKENLRURJVE9SLmVudi5oaWRwaSYmbi5oaWRwaT9cImhpZHBpL1wiOlwiXCIpK3BbdF0rXCIucG5nXCIpO2ZbZF09MX1pZihxKWZvcihxLnNwbGl0JiYocT1xLnNwbGl0KFwiLFwiKSksbj0wO248cS5sZW5ndGg7bisrKW1bcVtuXV18fGIucHVzaChxW25dKX1pZihiLmxlbmd0aClsLmNhbGwodGhpcyxcbmIpO2Vsc2V7Zm9yKGQgaW4gbSluPW1bZF0sbi5vbkxvYWQmJiFuLm9uTG9hZC5fY2FsbGVkJiYoITE9PT1uLm9uTG9hZCgpJiZkZWxldGUgbVtkXSxuLm9uTG9hZC5fY2FsbGVkPTEpO2MmJmMuY2FsbChlfHx3aW5kb3csbSl9fSx0aGlzKX07bC5jYWxsKHRoaXMsYil9fSksQ0tFRElUT1IucGx1Z2lucy5zZXRMYW5nPWZ1bmN0aW9uKGEsZixiKXt2YXIgYz10aGlzLmdldChhKTthPWMubGFuZ0VudHJpZXN8fChjLmxhbmdFbnRyaWVzPXt9KTtjPWMubGFuZ3x8KGMubGFuZz1bXSk7Yy5zcGxpdCYmKGM9Yy5zcGxpdChcIixcIikpOy0xPT1DS0VESVRPUi50b29scy5pbmRleE9mKGMsZikmJmMucHVzaChmKTthW2ZdPWJ9LENLRURJVE9SLnVpPWZ1bmN0aW9uKGEpe2lmKGEudWkpcmV0dXJuIGEudWk7dGhpcy5pdGVtcz17fTt0aGlzLmluc3RhbmNlcz17fTt0aGlzLmVkaXRvcj1hO3RoaXMuXz17aGFuZGxlcnM6e319O3JldHVybiB0aGlzfSxDS0VESVRPUi51aS5wcm90b3R5cGU9e2FkZDpmdW5jdGlvbihhLFxuZixiKXtiLm5hbWU9YS50b0xvd2VyQ2FzZSgpO3ZhciBjPXRoaXMuaXRlbXNbYV09e3R5cGU6Zixjb21tYW5kOmIuY29tbWFuZHx8bnVsbCxhcmdzOkFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywyKX07Q0tFRElUT1IudG9vbHMuZXh0ZW5kKGMsYil9LGdldDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5pbnN0YW5jZXNbYV19LGNyZWF0ZTpmdW5jdGlvbihhKXt2YXIgZj10aGlzLml0ZW1zW2FdLGI9ZiYmdGhpcy5fLmhhbmRsZXJzW2YudHlwZV0sYz1mJiZmLmNvbW1hbmQmJnRoaXMuZWRpdG9yLmdldENvbW1hbmQoZi5jb21tYW5kKSxiPWImJmIuY3JlYXRlLmFwcGx5KHRoaXMsZi5hcmdzKTt0aGlzLmluc3RhbmNlc1thXT1iO2MmJmMudWlJdGVtcy5wdXNoKGIpO2ImJiFiLnR5cGUmJihiLnR5cGU9Zi50eXBlKTtyZXR1cm4gYn0sYWRkSGFuZGxlcjpmdW5jdGlvbihhLGYpe3RoaXMuXy5oYW5kbGVyc1thXT1mfSxzcGFjZTpmdW5jdGlvbihhKXtyZXR1cm4gQ0tFRElUT1IuZG9jdW1lbnQuZ2V0QnlJZCh0aGlzLnNwYWNlSWQoYSkpfSxcbnNwYWNlSWQ6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZWRpdG9yLmlkK1wiX1wiK2F9fSxDS0VESVRPUi5ldmVudC5pbXBsZW1lbnRPbihDS0VESVRPUi51aSksZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEsZSxnKXtDS0VESVRPUi5ldmVudC5jYWxsKHRoaXMpO2E9YSYmQ0tFRElUT1IudG9vbHMuY2xvbmUoYSk7aWYodm9pZCAwIT09ZSl7aWYoIShlIGluc3RhbmNlb2YgQ0tFRElUT1IuZG9tLmVsZW1lbnQpKXRocm93IEVycm9yKFwiRXhwZWN0IGVsZW1lbnQgb2YgdHlwZSBDS0VESVRPUi5kb20uZWxlbWVudC5cIik7aWYoIWcpdGhyb3cgRXJyb3IoXCJPbmUgb2YgdGhlIGVsZW1lbnQgbW9kZXMgbXVzdCBiZSBzcGVjaWZpZWQuXCIpO2lmKENLRURJVE9SLmVudi5pZSYmQ0tFRElUT1IuZW52LnF1aXJrcyYmZz09Q0tFRElUT1IuRUxFTUVOVF9NT0RFX0lOTElORSl0aHJvdyBFcnJvcihcIklubGluZSBlbGVtZW50IG1vZGUgaXMgbm90IHN1cHBvcnRlZCBvbiBJRSBxdWlya3MuXCIpO2lmKCFiKGUsXG5nKSl0aHJvdyBFcnJvcignVGhlIHNwZWNpZmllZCBlbGVtZW50IG1vZGUgaXMgbm90IHN1cHBvcnRlZCBvbiBlbGVtZW50OiBcIicrZS5nZXROYW1lKCkrJ1wiLicpO3RoaXMuZWxlbWVudD1lO3RoaXMuZWxlbWVudE1vZGU9Zzt0aGlzLm5hbWU9dGhpcy5lbGVtZW50TW9kZSE9Q0tFRElUT1IuRUxFTUVOVF9NT0RFX0FQUEVORFRPJiYoZS5nZXRJZCgpfHxlLmdldE5hbWVBdHQoKSl9ZWxzZSB0aGlzLmVsZW1lbnRNb2RlPUNLRURJVE9SLkVMRU1FTlRfTU9ERV9OT05FO3RoaXMuXz17fTt0aGlzLmNvbW1hbmRzPXt9O3RoaXMudGVtcGxhdGVzPXt9O3RoaXMubmFtZT10aGlzLm5hbWV8fGYoKTt0aGlzLmlkPUNLRURJVE9SLnRvb2xzLmdldE5leHRJZCgpO3RoaXMuc3RhdHVzPVwidW5sb2FkZWRcIjt0aGlzLmNvbmZpZz1DS0VESVRPUi50b29scy5wcm90b3R5cGVkQ29weShDS0VESVRPUi5jb25maWcpO3RoaXMudWk9bmV3IENLRURJVE9SLnVpKHRoaXMpO3RoaXMuZm9jdXNNYW5hZ2VyPW5ldyBDS0VESVRPUi5mb2N1c01hbmFnZXIodGhpcyk7XG50aGlzLmtleXN0cm9rZUhhbmRsZXI9bmV3IENLRURJVE9SLmtleXN0cm9rZUhhbmRsZXIodGhpcyk7dGhpcy5vbihcInJlYWRPbmx5XCIsYyk7dGhpcy5vbihcInNlbGVjdGlvbkNoYW5nZVwiLGZ1bmN0aW9uKGEpe20odGhpcyxhLmRhdGEucGF0aCl9KTt0aGlzLm9uKFwiYWN0aXZlRmlsdGVyQ2hhbmdlXCIsZnVuY3Rpb24oKXttKHRoaXMsdGhpcy5lbGVtZW50UGF0aCgpLCEwKX0pO3RoaXMub24oXCJtb2RlXCIsYyk7dGhpcy5vbihcImluc3RhbmNlUmVhZHlcIixmdW5jdGlvbigpe3RoaXMuY29uZmlnLnN0YXJ0dXBGb2N1cyYmdGhpcy5mb2N1cygpfSk7Q0tFRElUT1IuZmlyZShcImluc3RhbmNlQ3JlYXRlZFwiLG51bGwsdGhpcyk7Q0tFRElUT1IuYWRkKHRoaXMpO0NLRURJVE9SLnRvb2xzLnNldFRpbWVvdXQoZnVuY3Rpb24oKXtcImRlc3Ryb3llZFwiIT09dGhpcy5zdGF0dXM/ZCh0aGlzLGEpOkNLRURJVE9SLndhcm4oXCJlZGl0b3ItaW5jb3JyZWN0LWRlc3Ryb3lcIil9LDAsdGhpcyl9ZnVuY3Rpb24gZigpe2RvIHZhciBhPVxuXCJlZGl0b3JcIisgKytwO3doaWxlKENLRURJVE9SLmluc3RhbmNlc1thXSk7cmV0dXJuIGF9ZnVuY3Rpb24gYihhLGIpe3JldHVybiBiPT1DS0VESVRPUi5FTEVNRU5UX01PREVfSU5MSU5FP2EuaXMoQ0tFRElUT1IuZHRkLiRlZGl0YWJsZSl8fGEuaXMoXCJ0ZXh0YXJlYVwiKTpiPT1DS0VESVRPUi5FTEVNRU5UX01PREVfUkVQTEFDRT8hYS5pcyhDS0VESVRPUi5kdGQuJG5vbkJvZHlDb250ZW50KToxfWZ1bmN0aW9uIGMoKXt2YXIgYT10aGlzLmNvbW1hbmRzLGI7Zm9yKGIgaW4gYSllKHRoaXMsYVtiXSl9ZnVuY3Rpb24gZShhLGIpe2JbYi5zdGFydERpc2FibGVkP1wiZGlzYWJsZVwiOmEucmVhZE9ubHkmJiFiLnJlYWRPbmx5P1wiZGlzYWJsZVwiOmIubW9kZXNbYS5tb2RlXT9cImVuYWJsZVwiOlwiZGlzYWJsZVwiXSgpfWZ1bmN0aW9uIG0oYSxiLGMpe2lmKGIpe3ZhciBkLGUsZz1hLmNvbW1hbmRzO2ZvcihlIGluIGcpZD1nW2VdLChjfHxkLmNvbnRleHRTZW5zaXRpdmUpJiZkLnJlZnJlc2goYSxiKX19XG5mdW5jdGlvbiBsKGEpe3ZhciBiPWEuY29uZmlnLmN1c3RvbUNvbmZpZztpZighYilyZXR1cm4hMTt2YXIgYj1DS0VESVRPUi5nZXRVcmwoYiksYz10W2JdfHwodFtiXT17fSk7Yy5mbj8oYy5mbi5jYWxsKGEsYS5jb25maWcpLENLRURJVE9SLmdldFVybChhLmNvbmZpZy5jdXN0b21Db25maWcpIT1iJiZsKGEpfHxhLmZpcmVPbmNlKFwiY3VzdG9tQ29uZmlnTG9hZGVkXCIpKTpDS0VESVRPUi5zY3JpcHRMb2FkZXIucXVldWUoYixmdW5jdGlvbigpe2MuZm49Q0tFRElUT1IuZWRpdG9yQ29uZmlnP0NLRURJVE9SLmVkaXRvckNvbmZpZzpmdW5jdGlvbigpe307bChhKX0pO3JldHVybiEwfWZ1bmN0aW9uIGQoYSxiKXthLm9uKFwiY3VzdG9tQ29uZmlnTG9hZGVkXCIsZnVuY3Rpb24oKXtpZihiKXtpZihiLm9uKWZvcih2YXIgYyBpbiBiLm9uKWEub24oYyxiLm9uW2NdKTtDS0VESVRPUi50b29scy5leHRlbmQoYS5jb25maWcsYiwhMCk7ZGVsZXRlIGEuY29uZmlnLm9ufWM9YS5jb25maWc7YS5yZWFkT25seT1cbmMucmVhZE9ubHk/ITA6YS5lbGVtZW50TW9kZT09Q0tFRElUT1IuRUxFTUVOVF9NT0RFX0lOTElORT9hLmVsZW1lbnQuaXMoXCJ0ZXh0YXJlYVwiKT9hLmVsZW1lbnQuaGFzQXR0cmlidXRlKFwiZGlzYWJsZWRcIil8fGEuZWxlbWVudC5oYXNBdHRyaWJ1dGUoXCJyZWFkb25seVwiKTphLmVsZW1lbnQuaXNSZWFkT25seSgpOmEuZWxlbWVudE1vZGU9PUNLRURJVE9SLkVMRU1FTlRfTU9ERV9SRVBMQUNFP2EuZWxlbWVudC5oYXNBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiKXx8YS5lbGVtZW50Lmhhc0F0dHJpYnV0ZShcInJlYWRvbmx5XCIpOiExO2EuYmxvY2tsZXNzPWEuZWxlbWVudE1vZGU9PUNLRURJVE9SLkVMRU1FTlRfTU9ERV9JTkxJTkU/IShhLmVsZW1lbnQuaXMoXCJ0ZXh0YXJlYVwiKXx8Q0tFRElUT1IuZHRkW2EuZWxlbWVudC5nZXROYW1lKCldLnApOiExO2EudGFiSW5kZXg9Yy50YWJJbmRleHx8YS5lbGVtZW50JiZhLmVsZW1lbnQuZ2V0QXR0cmlidXRlKFwidGFiaW5kZXhcIil8fDA7YS5hY3RpdmVFbnRlck1vZGU9XG5hLmVudGVyTW9kZT1hLmJsb2NrbGVzcz9DS0VESVRPUi5FTlRFUl9CUjpjLmVudGVyTW9kZTthLmFjdGl2ZVNoaWZ0RW50ZXJNb2RlPWEuc2hpZnRFbnRlck1vZGU9YS5ibG9ja2xlc3M/Q0tFRElUT1IuRU5URVJfQlI6Yy5zaGlmdEVudGVyTW9kZTtjLnNraW4mJihDS0VESVRPUi5za2luTmFtZT1jLnNraW4pO2EuZmlyZU9uY2UoXCJjb25maWdMb2FkZWRcIik7YS5kYXRhUHJvY2Vzc29yPW5ldyBDS0VESVRPUi5odG1sRGF0YVByb2Nlc3NvcihhKTthLmZpbHRlcj1hLmFjdGl2ZUZpbHRlcj1uZXcgQ0tFRElUT1IuZmlsdGVyKGEpO2goYSl9KTtiJiZudWxsIT1iLmN1c3RvbUNvbmZpZyYmKGEuY29uZmlnLmN1c3RvbUNvbmZpZz1iLmN1c3RvbUNvbmZpZyk7bChhKXx8YS5maXJlT25jZShcImN1c3RvbUNvbmZpZ0xvYWRlZFwiKX1mdW5jdGlvbiBoKGEpe0NLRURJVE9SLnNraW4ubG9hZFBhcnQoXCJlZGl0b3JcIixmdW5jdGlvbigpe2soYSl9KX1mdW5jdGlvbiBrKGEpe0NLRURJVE9SLmxhbmcubG9hZChhLmNvbmZpZy5sYW5ndWFnZSxcbmEuY29uZmlnLmRlZmF1bHRMYW5ndWFnZSxmdW5jdGlvbihiLGMpe3ZhciBkPWEuY29uZmlnLnRpdGxlO2EubGFuZ0NvZGU9YjthLmxhbmc9Q0tFRElUT1IudG9vbHMucHJvdG90eXBlZENvcHkoYyk7YS50aXRsZT1cInN0cmluZ1wiPT10eXBlb2YgZHx8ITE9PT1kP2Q6W2EubGFuZy5lZGl0b3IsYS5uYW1lXS5qb2luKFwiLCBcIik7YS5jb25maWcuY29udGVudHNMYW5nRGlyZWN0aW9ufHwoYS5jb25maWcuY29udGVudHNMYW5nRGlyZWN0aW9uPWEuZWxlbWVudE1vZGU9PUNLRURJVE9SLkVMRU1FTlRfTU9ERV9JTkxJTkU/YS5lbGVtZW50LmdldERpcmVjdGlvbigxKTphLmxhbmcuZGlyKTthLmZpcmUoXCJsYW5nTG9hZGVkXCIpO2coYSl9KX1mdW5jdGlvbiBnKGEpe2EuZ2V0U3R5bGVzU2V0KGZ1bmN0aW9uKGIpe2Eub25jZShcImxvYWRlZFwiLGZ1bmN0aW9uKCl7YS5maXJlKFwic3R5bGVzU2V0XCIse3N0eWxlczpifSl9LG51bGwsbnVsbCwxKTtuKGEpfSl9ZnVuY3Rpb24gbihhKXt2YXIgYj1hLmNvbmZpZyxcbmM9Yi5wbHVnaW5zLGQ9Yi5leHRyYVBsdWdpbnMsZT1iLnJlbW92ZVBsdWdpbnM7aWYoZCl2YXIgZz1uZXcgUmVnRXhwKFwiKD86XnwsKSg/OlwiK2QucmVwbGFjZSgvXFxzKixcXHMqL2csXCJ8XCIpK1wiKSg/XFx4M2QsfCQpXCIsXCJnXCIpLGM9Yy5yZXBsYWNlKGcsXCJcIiksYz1jKyhcIixcIitkKTtpZihlKXZhciBmPW5ldyBSZWdFeHAoXCIoPzpefCwpKD86XCIrZS5yZXBsYWNlKC9cXHMqLFxccyovZyxcInxcIikrXCIpKD9cXHgzZCx8JClcIixcImdcIiksYz1jLnJlcGxhY2UoZixcIlwiKTtDS0VESVRPUi5lbnYuYWlyJiYoYys9XCIsYWRvYmVhaXJcIik7Q0tFRElUT1IucGx1Z2lucy5sb2FkKGMuc3BsaXQoXCIsXCIpLGZ1bmN0aW9uKGMpe3ZhciBkPVtdLGU9W10sZz1bXTthLnBsdWdpbnM9Yztmb3IodmFyIGsgaW4gYyl7dmFyIGg9Y1trXSxtPWgubGFuZyxsPW51bGwsdz1oLnJlcXVpcmVzLHg7Q0tFRElUT1IudG9vbHMuaXNBcnJheSh3KSYmKHc9dy5qb2luKFwiLFwiKSk7aWYodyYmKHg9dy5tYXRjaChmKSkpZm9yKDt3PXgucG9wKCk7KUNLRURJVE9SLmVycm9yKFwiZWRpdG9yLXBsdWdpbi1yZXF1aXJlZFwiLFxue3BsdWdpbjp3LnJlcGxhY2UoXCIsXCIsXCJcIikscmVxdWlyZWRCeTprfSk7bSYmIWEubGFuZ1trXSYmKG0uc3BsaXQmJihtPW0uc3BsaXQoXCIsXCIpKSwwPD1DS0VESVRPUi50b29scy5pbmRleE9mKG0sYS5sYW5nQ29kZSk/bD1hLmxhbmdDb2RlOihsPWEubGFuZ0NvZGUucmVwbGFjZSgvLS4qLyxcIlwiKSxsPWwhPWEubGFuZ0NvZGUmJjA8PUNLRURJVE9SLnRvb2xzLmluZGV4T2YobSxsKT9sOjA8PUNLRURJVE9SLnRvb2xzLmluZGV4T2YobSxcImVuXCIpP1wiZW5cIjptWzBdKSxoLmxhbmdFbnRyaWVzJiZoLmxhbmdFbnRyaWVzW2xdPyhhLmxhbmdba109aC5sYW5nRW50cmllc1tsXSxsPW51bGwpOmcucHVzaChDS0VESVRPUi5nZXRVcmwoaC5wYXRoK1wibGFuZy9cIitsK1wiLmpzXCIpKSk7ZS5wdXNoKGwpO2QucHVzaChoKX1DS0VESVRPUi5zY3JpcHRMb2FkZXIubG9hZChnLGZ1bmN0aW9uKCl7Zm9yKHZhciBjPVtcImJlZm9yZUluaXRcIixcImluaXRcIixcImFmdGVySW5pdFwiXSxnPTA7ZzxjLmxlbmd0aDtnKyspZm9yKHZhciBmPVxuMDtmPGQubGVuZ3RoO2YrKyl7dmFyIGs9ZFtmXTswPT09ZyYmZVtmXSYmay5sYW5nJiZrLmxhbmdFbnRyaWVzJiYoYS5sYW5nW2submFtZV09ay5sYW5nRW50cmllc1tlW2ZdXSk7aWYoa1tjW2ddXSlrW2NbZ11dKGEpfWEuZmlyZU9uY2UoXCJwbHVnaW5zTG9hZGVkXCIpO2Iua2V5c3Ryb2tlcyYmYS5zZXRLZXlzdHJva2UoYS5jb25maWcua2V5c3Ryb2tlcyk7Zm9yKGY9MDtmPGEuY29uZmlnLmJsb2NrZWRLZXlzdHJva2VzLmxlbmd0aDtmKyspYS5rZXlzdHJva2VIYW5kbGVyLmJsb2NrZWRLZXlzdHJva2VzW2EuY29uZmlnLmJsb2NrZWRLZXlzdHJva2VzW2ZdXT0xO2Euc3RhdHVzPVwibG9hZGVkXCI7YS5maXJlT25jZShcImxvYWRlZFwiKTtDS0VESVRPUi5maXJlKFwiaW5zdGFuY2VMb2FkZWRcIixudWxsLGEpfSl9KX1mdW5jdGlvbiBxKCl7dmFyIGE9dGhpcy5lbGVtZW50O2lmKGEmJnRoaXMuZWxlbWVudE1vZGUhPUNLRURJVE9SLkVMRU1FTlRfTU9ERV9BUFBFTkRUTyl7dmFyIGI9dGhpcy5nZXREYXRhKCk7XG50aGlzLmNvbmZpZy5odG1sRW5jb2RlT3V0cHV0JiYoYj1DS0VESVRPUi50b29scy5odG1sRW5jb2RlKGIpKTthLmlzKFwidGV4dGFyZWFcIik/YS5zZXRWYWx1ZShiKTphLnNldEh0bWwoYik7cmV0dXJuITB9cmV0dXJuITF9YS5wcm90b3R5cGU9Q0tFRElUT1IuZWRpdG9yLnByb3RvdHlwZTtDS0VESVRPUi5lZGl0b3I9YTt2YXIgcD0wLHQ9e307Q0tFRElUT1IudG9vbHMuZXh0ZW5kKENLRURJVE9SLmVkaXRvci5wcm90b3R5cGUse2FkZENvbW1hbmQ6ZnVuY3Rpb24oYSxiKXtiLm5hbWU9YS50b0xvd2VyQ2FzZSgpO3ZhciBjPW5ldyBDS0VESVRPUi5jb21tYW5kKHRoaXMsYik7dGhpcy5tb2RlJiZlKHRoaXMsYyk7cmV0dXJuIHRoaXMuY29tbWFuZHNbYV09Y30sX2F0dGFjaFRvRm9ybTpmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYil7Yy51cGRhdGVFbGVtZW50KCk7Yy5fLnJlcXVpcmVkJiYhZC5nZXRWYWx1ZSgpJiYhMT09PWMuZmlyZShcInJlcXVpcmVkXCIpJiZiLmRhdGEucHJldmVudERlZmF1bHQoKX1cbmZ1bmN0aW9uIGIoYSl7cmV0dXJuISEoYSYmYS5jYWxsJiZhLmFwcGx5KX12YXIgYz10aGlzLGQ9Yy5lbGVtZW50LGU9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KGQuJC5mb3JtKTtkLmlzKFwidGV4dGFyZWFcIikmJmUmJihlLm9uKFwic3VibWl0XCIsYSksYihlLiQuc3VibWl0KSYmKGUuJC5zdWJtaXQ9Q0tFRElUT1IudG9vbHMub3ZlcnJpZGUoZS4kLnN1Ym1pdCxmdW5jdGlvbihiKXtyZXR1cm4gZnVuY3Rpb24oKXthKCk7Yi5hcHBseT9iLmFwcGx5KHRoaXMpOmIoKX19KSksYy5vbihcImRlc3Ryb3lcIixmdW5jdGlvbigpe2UucmVtb3ZlTGlzdGVuZXIoXCJzdWJtaXRcIixhKX0pKX0sZGVzdHJveTpmdW5jdGlvbihhKXt0aGlzLmZpcmUoXCJiZWZvcmVEZXN0cm95XCIpOyFhJiZxLmNhbGwodGhpcyk7dGhpcy5lZGl0YWJsZShudWxsKTt0aGlzLmZpbHRlciYmKHRoaXMuZmlsdGVyLmRlc3Ryb3koKSxkZWxldGUgdGhpcy5maWx0ZXIpO2RlbGV0ZSB0aGlzLmFjdGl2ZUZpbHRlcjt0aGlzLnN0YXR1cz1cblwiZGVzdHJveWVkXCI7dGhpcy5maXJlKFwiZGVzdHJveVwiKTt0aGlzLnJlbW92ZUFsbExpc3RlbmVycygpO0NLRURJVE9SLnJlbW92ZSh0aGlzKTtDS0VESVRPUi5maXJlKFwiaW5zdGFuY2VEZXN0cm95ZWRcIixudWxsLHRoaXMpfSxlbGVtZW50UGF0aDpmdW5jdGlvbihhKXtpZighYSl7YT10aGlzLmdldFNlbGVjdGlvbigpO2lmKCFhKXJldHVybiBudWxsO2E9YS5nZXRTdGFydEVsZW1lbnQoKX1yZXR1cm4gYT9uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnRQYXRoKGEsdGhpcy5lZGl0YWJsZSgpKTpudWxsfSxjcmVhdGVSYW5nZTpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZWRpdGFibGUoKTtyZXR1cm4gYT9uZXcgQ0tFRElUT1IuZG9tLnJhbmdlKGEpOm51bGx9LGV4ZWNDb21tYW5kOmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5nZXRDb21tYW5kKGEpLGQ9e25hbWU6YSxjb21tYW5kRGF0YTpiLGNvbW1hbmQ6Y307cmV0dXJuIGMmJmMuc3RhdGUhPUNLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVEJiZcbiExIT09dGhpcy5maXJlKFwiYmVmb3JlQ29tbWFuZEV4ZWNcIixkKSYmKGQucmV0dXJuVmFsdWU9Yy5leGVjKGQuY29tbWFuZERhdGEpLCFjLmFzeW5jJiYhMSE9PXRoaXMuZmlyZShcImFmdGVyQ29tbWFuZEV4ZWNcIixkKSk/ZC5yZXR1cm5WYWx1ZTohMX0sZ2V0Q29tbWFuZDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5jb21tYW5kc1thXX0sZ2V0RGF0YTpmdW5jdGlvbihhKXshYSYmdGhpcy5maXJlKFwiYmVmb3JlR2V0RGF0YVwiKTt2YXIgYj10aGlzLl8uZGF0YTtcInN0cmluZ1wiIT10eXBlb2YgYiYmKGI9KGI9dGhpcy5lbGVtZW50KSYmdGhpcy5lbGVtZW50TW9kZT09Q0tFRElUT1IuRUxFTUVOVF9NT0RFX1JFUExBQ0U/Yi5pcyhcInRleHRhcmVhXCIpP2IuZ2V0VmFsdWUoKTpiLmdldEh0bWwoKTpcIlwiKTtiPXtkYXRhVmFsdWU6Yn07IWEmJnRoaXMuZmlyZShcImdldERhdGFcIixiKTtyZXR1cm4gYi5kYXRhVmFsdWV9LGdldFNuYXBzaG90OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5maXJlKFwiZ2V0U25hcHNob3RcIik7XG5cInN0cmluZ1wiIT10eXBlb2YgYSYmKGE9KGE9dGhpcy5lbGVtZW50KSYmdGhpcy5lbGVtZW50TW9kZT09Q0tFRElUT1IuRUxFTUVOVF9NT0RFX1JFUExBQ0U/YS5pcyhcInRleHRhcmVhXCIpP2EuZ2V0VmFsdWUoKTphLmdldEh0bWwoKTpcIlwiKTtyZXR1cm4gYX0sbG9hZFNuYXBzaG90OmZ1bmN0aW9uKGEpe3RoaXMuZmlyZShcImxvYWRTbmFwc2hvdFwiLGEpfSxzZXREYXRhOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD0hMCxlPWI7YiYmXCJvYmplY3RcIj09dHlwZW9mIGImJihjPWIuaW50ZXJuYWwsZT1iLmNhbGxiYWNrLGQ9IWIubm9TbmFwc2hvdCk7IWMmJmQmJnRoaXMuZmlyZShcInNhdmVTbmFwc2hvdFwiKTtpZihlfHwhYyl0aGlzLm9uY2UoXCJkYXRhUmVhZHlcIixmdW5jdGlvbihhKXshYyYmZCYmdGhpcy5maXJlKFwic2F2ZVNuYXBzaG90XCIpO2UmJmUuY2FsbChhLmVkaXRvcil9KTthPXtkYXRhVmFsdWU6YX07IWMmJnRoaXMuZmlyZShcInNldERhdGFcIixhKTt0aGlzLl8uZGF0YT1hLmRhdGFWYWx1ZTtcbiFjJiZ0aGlzLmZpcmUoXCJhZnRlclNldERhdGFcIixhKX0sc2V0UmVhZE9ubHk6ZnVuY3Rpb24oYSl7YT1udWxsPT1hfHxhO3RoaXMucmVhZE9ubHkhPWEmJih0aGlzLnJlYWRPbmx5PWEsdGhpcy5rZXlzdHJva2VIYW5kbGVyLmJsb2NrZWRLZXlzdHJva2VzWzhdPSthLHRoaXMuZWRpdGFibGUoKS5zZXRSZWFkT25seShhKSx0aGlzLmZpcmUoXCJyZWFkT25seVwiKSl9LGluc2VydEh0bWw6ZnVuY3Rpb24oYSxiLGMpe3RoaXMuZmlyZShcImluc2VydEh0bWxcIix7ZGF0YVZhbHVlOmEsbW9kZTpiLHJhbmdlOmN9KX0saW5zZXJ0VGV4dDpmdW5jdGlvbihhKXt0aGlzLmZpcmUoXCJpbnNlcnRUZXh0XCIsYSl9LGluc2VydEVsZW1lbnQ6ZnVuY3Rpb24oYSl7dGhpcy5maXJlKFwiaW5zZXJ0RWxlbWVudFwiLGEpfSxnZXRTZWxlY3RlZEh0bWw6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5lZGl0YWJsZSgpLGM9dGhpcy5nZXRTZWxlY3Rpb24oKSxjPWMmJmMuZ2V0UmFuZ2VzKCk7aWYoIWJ8fCFjfHwwPT09Yy5sZW5ndGgpcmV0dXJuIG51bGw7XG5mb3IodmFyIGQ9bmV3IENLRURJVE9SLmRvbS5kb2N1bWVudEZyYWdtZW50LGUsZyxmLGs9MDtrPGMubGVuZ3RoO2srKyl7dmFyIGg9Y1trXSxtPWguc3RhcnRDb250YWluZXI7bS5nZXROYW1lJiZcInRyXCI9PW0uZ2V0TmFtZSgpPyhlfHwoZT1tLmdldEFzY2VuZGFudChcInRhYmxlXCIpLmNsb25lKCksZS5hcHBlbmQobS5nZXRBc2NlbmRhbnQoXCJ0Ym9keVwiKS5jbG9uZSgpKSxkLmFwcGVuZChlKSxlPWUuZmluZE9uZShcInRib2R5XCIpKSxnJiZnLmVxdWFscyhtKXx8KGc9bSxmPW0uY2xvbmUoKSxlLmFwcGVuZChmKSksZi5hcHBlbmQoaC5jbG9uZUNvbnRlbnRzKCkpKTpkLmFwcGVuZChoLmNsb25lQ29udGVudHMoKSl9Yj1lP2Q6Yi5nZXRIdG1sRnJvbVJhbmdlKGNbMF0pO3JldHVybiBhP2IuZ2V0SHRtbCgpOmJ9LGV4dHJhY3RTZWxlY3RlZEh0bWw6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmVkaXRhYmxlKCksZD10aGlzLmdldFNlbGVjdGlvbigpLmdldFJhbmdlcygpO2lmKCFjfHwwPT09XG5kLmxlbmd0aClyZXR1cm4gbnVsbDtkPWRbMF07Yz1jLmV4dHJhY3RIdG1sRnJvbVJhbmdlKGQsYik7Ynx8dGhpcy5nZXRTZWxlY3Rpb24oKS5zZWxlY3RSYW5nZXMoW2RdKTtyZXR1cm4gYT9jLmdldEh0bWwoKTpjfSxmb2N1czpmdW5jdGlvbigpe3RoaXMuZmlyZShcImJlZm9yZUZvY3VzXCIpfSxjaGVja0RpcnR5OmZ1bmN0aW9uKCl7cmV0dXJuXCJyZWFkeVwiPT10aGlzLnN0YXR1cyYmdGhpcy5fLnByZXZpb3VzVmFsdWUhPT10aGlzLmdldFNuYXBzaG90KCl9LHJlc2V0RGlydHk6ZnVuY3Rpb24oKXt0aGlzLl8ucHJldmlvdXNWYWx1ZT10aGlzLmdldFNuYXBzaG90KCl9LHVwZGF0ZUVsZW1lbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gcS5jYWxsKHRoaXMpfSxzZXRLZXlzdHJva2U6ZnVuY3Rpb24oKXtmb3IodmFyIGE9dGhpcy5rZXlzdHJva2VIYW5kbGVyLmtleXN0cm9rZXMsYj1DS0VESVRPUi50b29scy5pc0FycmF5KGFyZ3VtZW50c1swXSk/YXJndW1lbnRzWzBdOltbXS5zbGljZS5jYWxsKGFyZ3VtZW50cyxcbjApXSxjLGQsZT1iLmxlbmd0aDtlLS07KWM9YltlXSxkPTAsQ0tFRElUT1IudG9vbHMuaXNBcnJheShjKSYmKGQ9Y1sxXSxjPWNbMF0pLGQ/YVtjXT1kOmRlbGV0ZSBhW2NdfSxnZXRDb21tYW5kS2V5c3Ryb2tlOmZ1bmN0aW9uKGEpe3ZhciBiPWEubmFtZSxjPXRoaXMua2V5c3Ryb2tlSGFuZGxlci5rZXlzdHJva2VzLGQ7aWYoYS5mYWtlS2V5c3Ryb2tlKXJldHVybiBhLmZha2VLZXlzdHJva2U7Zm9yKGQgaW4gYylpZihjLmhhc093blByb3BlcnR5KGQpJiZjW2RdPT1iKXJldHVybiBkO3JldHVybiBudWxsfSxhZGRGZWF0dXJlOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmZpbHRlci5hZGRGZWF0dXJlKGEpfSxzZXRBY3RpdmVGaWx0ZXI6ZnVuY3Rpb24oYSl7YXx8KGE9dGhpcy5maWx0ZXIpO3RoaXMuYWN0aXZlRmlsdGVyIT09YSYmKHRoaXMuYWN0aXZlRmlsdGVyPWEsdGhpcy5maXJlKFwiYWN0aXZlRmlsdGVyQ2hhbmdlXCIpLGE9PT10aGlzLmZpbHRlcj90aGlzLnNldEFjdGl2ZUVudGVyTW9kZShudWxsLFxubnVsbCk6dGhpcy5zZXRBY3RpdmVFbnRlck1vZGUoYS5nZXRBbGxvd2VkRW50ZXJNb2RlKHRoaXMuZW50ZXJNb2RlKSxhLmdldEFsbG93ZWRFbnRlck1vZGUodGhpcy5zaGlmdEVudGVyTW9kZSwhMCkpKX0sc2V0QWN0aXZlRW50ZXJNb2RlOmZ1bmN0aW9uKGEsYil7YT1hP3RoaXMuYmxvY2tsZXNzP0NLRURJVE9SLkVOVEVSX0JSOmE6dGhpcy5lbnRlck1vZGU7Yj1iP3RoaXMuYmxvY2tsZXNzP0NLRURJVE9SLkVOVEVSX0JSOmI6dGhpcy5zaGlmdEVudGVyTW9kZTtpZih0aGlzLmFjdGl2ZUVudGVyTW9kZSE9YXx8dGhpcy5hY3RpdmVTaGlmdEVudGVyTW9kZSE9Yil0aGlzLmFjdGl2ZUVudGVyTW9kZT1hLHRoaXMuYWN0aXZlU2hpZnRFbnRlck1vZGU9Yix0aGlzLmZpcmUoXCJhY3RpdmVFbnRlck1vZGVDaGFuZ2VcIil9LHNob3dOb3RpZmljYXRpb246ZnVuY3Rpb24oYSl7YWxlcnQoYSl9fSl9KCksQ0tFRElUT1IuRUxFTUVOVF9NT0RFX05PTkU9MCxDS0VESVRPUi5FTEVNRU5UX01PREVfUkVQTEFDRT1cbjEsQ0tFRElUT1IuRUxFTUVOVF9NT0RFX0FQUEVORFRPPTIsQ0tFRElUT1IuRUxFTUVOVF9NT0RFX0lOTElORT0zLENLRURJVE9SLmh0bWxQYXJzZXI9ZnVuY3Rpb24oKXt0aGlzLl89e2h0bWxQYXJ0c1JlZ2V4Oi88KD86KD86XFwvKFtePl0rKT4pfCg/OiEtLShbXFxTfFxcc10qPyktLVxceDNlKXwoPzooW15cXC9cXHM+XSspKCg/OlxccytbXFx3XFwtOi5dKyg/Olxccyo9XFxzKj8oPzooPzpcIlteXCJdKlwiKXwoPzonW14nXSonKXxbXlxcc1wiJ1xcLz5dKykpPykqKVtcXFNcXHNdKj8oXFwvPyk+KSkvZ319LGZ1bmN0aW9uKCl7dmFyIGE9LyhbXFx3XFwtOi5dKykoPzooPzpcXHMqPVxccyooPzooPzpcIihbXlwiXSopXCIpfCg/OicoW14nXSopJyl8KFteXFxzPl0rKSkpfCg/PVxcc3wkKSkvZyxmPXtjaGVja2VkOjEsY29tcGFjdDoxLGRlY2xhcmU6MSxkZWZlcjoxLGRpc2FibGVkOjEsaXNtYXA6MSxtdWx0aXBsZToxLG5vaHJlZjoxLG5vcmVzaXplOjEsbm9zaGFkZToxLG5vd3JhcDoxLHJlYWRvbmx5OjEsc2VsZWN0ZWQ6MX07XG5DS0VESVRPUi5odG1sUGFyc2VyLnByb3RvdHlwZT17b25UYWdPcGVuOmZ1bmN0aW9uKCl7fSxvblRhZ0Nsb3NlOmZ1bmN0aW9uKCl7fSxvblRleHQ6ZnVuY3Rpb24oKXt9LG9uQ0RBVEE6ZnVuY3Rpb24oKXt9LG9uQ29tbWVudDpmdW5jdGlvbigpe30scGFyc2U6ZnVuY3Rpb24oYil7Zm9yKHZhciBjLGUsbT0wLGw7Yz10aGlzLl8uaHRtbFBhcnRzUmVnZXguZXhlYyhiKTspe2U9Yy5pbmRleDtpZihlPm0paWYobT1iLnN1YnN0cmluZyhtLGUpLGwpbC5wdXNoKG0pO2Vsc2UgdGhpcy5vblRleHQobSk7bT10aGlzLl8uaHRtbFBhcnRzUmVnZXgubGFzdEluZGV4O2lmKGU9Y1sxXSlpZihlPWUudG9Mb3dlckNhc2UoKSxsJiZDS0VESVRPUi5kdGQuJGNkYXRhW2VdJiYodGhpcy5vbkNEQVRBKGwuam9pbihcIlwiKSksbD1udWxsKSwhbCl7dGhpcy5vblRhZ0Nsb3NlKGUpO2NvbnRpbnVlfWlmKGwpbC5wdXNoKGNbMF0pO2Vsc2UgaWYoZT1jWzNdKXtpZihlPWUudG9Mb3dlckNhc2UoKSwhLz1cIi8udGVzdChlKSl7dmFyIGQ9XG57fSxoLGs9Y1s0XTtjPSEhY1s1XTtpZihrKWZvcig7aD1hLmV4ZWMoayk7KXt2YXIgZz1oWzFdLnRvTG93ZXJDYXNlKCk7aD1oWzJdfHxoWzNdfHxoWzRdfHxcIlwiO2RbZ109IWgmJmZbZ10/ZzpDS0VESVRPUi50b29scy5odG1sRGVjb2RlQXR0cihoKX10aGlzLm9uVGFnT3BlbihlLGQsYyk7IWwmJkNLRURJVE9SLmR0ZC4kY2RhdGFbZV0mJihsPVtdKX19ZWxzZSBpZihlPWNbMl0pdGhpcy5vbkNvbW1lbnQoZSl9aWYoYi5sZW5ndGg+bSl0aGlzLm9uVGV4dChiLnN1YnN0cmluZyhtLGIubGVuZ3RoKSl9fX0oKSxDS0VESVRPUi5odG1sUGFyc2VyLmJhc2ljV3JpdGVyPUNLRURJVE9SLnRvb2xzLmNyZWF0ZUNsYXNzKHskOmZ1bmN0aW9uKCl7dGhpcy5fPXtvdXRwdXQ6W119fSxwcm90bzp7b3BlblRhZzpmdW5jdGlvbihhKXt0aGlzLl8ub3V0cHV0LnB1c2goXCJcXHgzY1wiLGEpfSxvcGVuVGFnQ2xvc2U6ZnVuY3Rpb24oYSxmKXtmP3RoaXMuXy5vdXRwdXQucHVzaChcIiAvXFx4M2VcIik6dGhpcy5fLm91dHB1dC5wdXNoKFwiXFx4M2VcIil9LFxuYXR0cmlidXRlOmZ1bmN0aW9uKGEsZil7XCJzdHJpbmdcIj09dHlwZW9mIGYmJihmPUNLRURJVE9SLnRvb2xzLmh0bWxFbmNvZGVBdHRyKGYpKTt0aGlzLl8ub3V0cHV0LnB1c2goXCIgXCIsYSwnXFx4M2RcIicsZiwnXCInKX0sY2xvc2VUYWc6ZnVuY3Rpb24oYSl7dGhpcy5fLm91dHB1dC5wdXNoKFwiXFx4M2MvXCIsYSxcIlxceDNlXCIpfSx0ZXh0OmZ1bmN0aW9uKGEpe3RoaXMuXy5vdXRwdXQucHVzaChhKX0sY29tbWVudDpmdW5jdGlvbihhKXt0aGlzLl8ub3V0cHV0LnB1c2goXCJcXHgzYyEtLVwiLGEsXCItLVxceDNlXCIpfSx3cml0ZTpmdW5jdGlvbihhKXt0aGlzLl8ub3V0cHV0LnB1c2goYSl9LHJlc2V0OmZ1bmN0aW9uKCl7dGhpcy5fLm91dHB1dD1bXTt0aGlzLl8uaW5kZW50PSExfSxnZXRIdG1sOmZ1bmN0aW9uKGEpe3ZhciBmPXRoaXMuXy5vdXRwdXQuam9pbihcIlwiKTthJiZ0aGlzLnJlc2V0KCk7cmV0dXJuIGZ9fX0pLFwidXNlIHN0cmljdFwiLGZ1bmN0aW9uKCl7Q0tFRElUT1IuaHRtbFBhcnNlci5ub2RlPVxuZnVuY3Rpb24oKXt9O0NLRURJVE9SLmh0bWxQYXJzZXIubm9kZS5wcm90b3R5cGU9e3JlbW92ZTpmdW5jdGlvbigpe3ZhciBhPXRoaXMucGFyZW50LmNoaWxkcmVuLGY9Q0tFRElUT1IudG9vbHMuaW5kZXhPZihhLHRoaXMpLGI9dGhpcy5wcmV2aW91cyxjPXRoaXMubmV4dDtiJiYoYi5uZXh0PWMpO2MmJihjLnByZXZpb3VzPWIpO2Euc3BsaWNlKGYsMSk7dGhpcy5wYXJlbnQ9bnVsbH0scmVwbGFjZVdpdGg6ZnVuY3Rpb24oYSl7dmFyIGY9dGhpcy5wYXJlbnQuY2hpbGRyZW4sYj1DS0VESVRPUi50b29scy5pbmRleE9mKGYsdGhpcyksYz1hLnByZXZpb3VzPXRoaXMucHJldmlvdXMsZT1hLm5leHQ9dGhpcy5uZXh0O2MmJihjLm5leHQ9YSk7ZSYmKGUucHJldmlvdXM9YSk7ZltiXT1hO2EucGFyZW50PXRoaXMucGFyZW50O3RoaXMucGFyZW50PW51bGx9LGluc2VydEFmdGVyOmZ1bmN0aW9uKGEpe3ZhciBmPWEucGFyZW50LmNoaWxkcmVuLGI9Q0tFRElUT1IudG9vbHMuaW5kZXhPZihmLFxuYSksYz1hLm5leHQ7Zi5zcGxpY2UoYisxLDAsdGhpcyk7dGhpcy5uZXh0PWEubmV4dDt0aGlzLnByZXZpb3VzPWE7YS5uZXh0PXRoaXM7YyYmKGMucHJldmlvdXM9dGhpcyk7dGhpcy5wYXJlbnQ9YS5wYXJlbnR9LGluc2VydEJlZm9yZTpmdW5jdGlvbihhKXt2YXIgZj1hLnBhcmVudC5jaGlsZHJlbixiPUNLRURJVE9SLnRvb2xzLmluZGV4T2YoZixhKTtmLnNwbGljZShiLDAsdGhpcyk7dGhpcy5uZXh0PWE7KHRoaXMucHJldmlvdXM9YS5wcmV2aW91cykmJihhLnByZXZpb3VzLm5leHQ9dGhpcyk7YS5wcmV2aW91cz10aGlzO3RoaXMucGFyZW50PWEucGFyZW50fSxnZXRBc2NlbmRhbnQ6ZnVuY3Rpb24oYSl7dmFyIGY9XCJmdW5jdGlvblwiPT10eXBlb2YgYT9hOlwic3RyaW5nXCI9PXR5cGVvZiBhP2Z1bmN0aW9uKGIpe3JldHVybiBiLm5hbWU9PWF9OmZ1bmN0aW9uKGIpe3JldHVybiBiLm5hbWUgaW4gYX0sYj10aGlzLnBhcmVudDtmb3IoO2ImJmIudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UOyl7aWYoZihiKSlyZXR1cm4gYjtcbmI9Yi5wYXJlbnR9cmV0dXJuIG51bGx9LHdyYXBXaXRoOmZ1bmN0aW9uKGEpe3RoaXMucmVwbGFjZVdpdGgoYSk7YS5hZGQodGhpcyk7cmV0dXJuIGF9LGdldEluZGV4OmZ1bmN0aW9uKCl7cmV0dXJuIENLRURJVE9SLnRvb2xzLmluZGV4T2YodGhpcy5wYXJlbnQuY2hpbGRyZW4sdGhpcyl9LGdldEZpbHRlckNvbnRleHQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGF8fHt9fX19KCksXCJ1c2Ugc3RyaWN0XCIsQ0tFRElUT1IuaHRtbFBhcnNlci5jb21tZW50PWZ1bmN0aW9uKGEpe3RoaXMudmFsdWU9YTt0aGlzLl89e2lzQmxvY2tMaWtlOiExfX0sQ0tFRElUT1IuaHRtbFBhcnNlci5jb21tZW50LnByb3RvdHlwZT1DS0VESVRPUi50b29scy5leHRlbmQobmV3IENLRURJVE9SLmh0bWxQYXJzZXIubm9kZSx7dHlwZTpDS0VESVRPUi5OT0RFX0NPTU1FTlQsZmlsdGVyOmZ1bmN0aW9uKGEsZil7dmFyIGI9dGhpcy52YWx1ZTtpZighKGI9YS5vbkNvbW1lbnQoZixiLHRoaXMpKSlyZXR1cm4gdGhpcy5yZW1vdmUoKSxcbiExO2lmKFwic3RyaW5nXCIhPXR5cGVvZiBiKXJldHVybiB0aGlzLnJlcGxhY2VXaXRoKGIpLCExO3RoaXMudmFsdWU9YjtyZXR1cm4hMH0sd3JpdGVIdG1sOmZ1bmN0aW9uKGEsZil7ZiYmdGhpcy5maWx0ZXIoZik7YS5jb21tZW50KHRoaXMudmFsdWUpfX0pLFwidXNlIHN0cmljdFwiLGZ1bmN0aW9uKCl7Q0tFRElUT1IuaHRtbFBhcnNlci50ZXh0PWZ1bmN0aW9uKGEpe3RoaXMudmFsdWU9YTt0aGlzLl89e2lzQmxvY2tMaWtlOiExfX07Q0tFRElUT1IuaHRtbFBhcnNlci50ZXh0LnByb3RvdHlwZT1DS0VESVRPUi50b29scy5leHRlbmQobmV3IENLRURJVE9SLmh0bWxQYXJzZXIubm9kZSx7dHlwZTpDS0VESVRPUi5OT0RFX1RFWFQsZmlsdGVyOmZ1bmN0aW9uKGEsZil7aWYoISh0aGlzLnZhbHVlPWEub25UZXh0KGYsdGhpcy52YWx1ZSx0aGlzKSkpcmV0dXJuIHRoaXMucmVtb3ZlKCksITF9LHdyaXRlSHRtbDpmdW5jdGlvbihhLGYpe2YmJnRoaXMuZmlsdGVyKGYpO2EudGV4dCh0aGlzLnZhbHVlKX19KX0oKSxcblwidXNlIHN0cmljdFwiLGZ1bmN0aW9uKCl7Q0tFRElUT1IuaHRtbFBhcnNlci5jZGF0YT1mdW5jdGlvbihhKXt0aGlzLnZhbHVlPWF9O0NLRURJVE9SLmh0bWxQYXJzZXIuY2RhdGEucHJvdG90eXBlPUNLRURJVE9SLnRvb2xzLmV4dGVuZChuZXcgQ0tFRElUT1IuaHRtbFBhcnNlci5ub2RlLHt0eXBlOkNLRURJVE9SLk5PREVfVEVYVCxmaWx0ZXI6ZnVuY3Rpb24oKXt9LHdyaXRlSHRtbDpmdW5jdGlvbihhKXthLndyaXRlKHRoaXMudmFsdWUpfX0pfSgpLFwidXNlIHN0cmljdFwiLENLRURJVE9SLmh0bWxQYXJzZXIuZnJhZ21lbnQ9ZnVuY3Rpb24oKXt0aGlzLmNoaWxkcmVuPVtdO3RoaXMucGFyZW50PW51bGw7dGhpcy5fPXtpc0Jsb2NrTGlrZTohMCxoYXNJbmxpbmVTdGFydGVkOiExfX0sZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEpe3JldHVybiBhLmF0dHJpYnV0ZXNbXCJkYXRhLWNrZS1zdXJ2aXZlXCJdPyExOlwiYVwiPT1hLm5hbWUmJmEuYXR0cmlidXRlcy5ocmVmfHxDS0VESVRPUi5kdGQuJHJlbW92ZUVtcHR5W2EubmFtZV19XG52YXIgZj1DS0VESVRPUi50b29scy5leHRlbmQoe3RhYmxlOjEsdWw6MSxvbDoxLGRsOjF9LENLRURJVE9SLmR0ZC50YWJsZSxDS0VESVRPUi5kdGQudWwsQ0tFRElUT1IuZHRkLm9sLENLRURJVE9SLmR0ZC5kbCksYj17b2w6MSx1bDoxfSxjPUNLRURJVE9SLnRvb2xzLmV4dGVuZCh7fSx7aHRtbDoxfSxDS0VESVRPUi5kdGQuaHRtbCxDS0VESVRPUi5kdGQuYm9keSxDS0VESVRPUi5kdGQuaGVhZCx7c3R5bGU6MSxzY3JpcHQ6MX0pLGU9e3VsOlwibGlcIixvbDpcImxpXCIsZGw6XCJkZFwiLHRhYmxlOlwidGJvZHlcIix0Ym9keTpcInRyXCIsdGhlYWQ6XCJ0clwiLHRmb290OlwidHJcIix0cjpcInRkXCJ9O0NLRURJVE9SLmh0bWxQYXJzZXIuZnJhZ21lbnQuZnJvbUh0bWw9ZnVuY3Rpb24obSxsLGQpe2Z1bmN0aW9uIGgoYSl7dmFyIGI7aWYoMDxyLmxlbmd0aClmb3IodmFyIGM9MDtjPHIubGVuZ3RoO2MrKyl7dmFyIGQ9cltjXSxlPWQubmFtZSxnPUNLRURJVE9SLmR0ZFtlXSxmPUIubmFtZSYmQ0tFRElUT1IuZHRkW0IubmFtZV07XG5mJiYhZltlXXx8YSYmZyYmIWdbYV0mJkNLRURJVE9SLmR0ZFthXT9lPT1CLm5hbWUmJihuKEIsQi5wYXJlbnQsMSksYy0tKTooYnx8KGsoKSxiPTEpLGQ9ZC5jbG9uZSgpLGQucGFyZW50PUIsQj1kLHIuc3BsaWNlKGMsMSksYy0tKX19ZnVuY3Rpb24gaygpe2Zvcig7dS5sZW5ndGg7KW4odS5zaGlmdCgpLEIpfWZ1bmN0aW9uIGcoYSl7aWYoYS5fLmlzQmxvY2tMaWtlJiZcInByZVwiIT1hLm5hbWUmJlwidGV4dGFyZWFcIiE9YS5uYW1lKXt2YXIgYj1hLmNoaWxkcmVuLmxlbmd0aCxjPWEuY2hpbGRyZW5bYi0xXSxkO2MmJmMudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUJiYoKGQ9Q0tFRElUT1IudG9vbHMucnRyaW0oYy52YWx1ZSkpP2MudmFsdWU9ZDphLmNoaWxkcmVuLmxlbmd0aD1iLTEpfX1mdW5jdGlvbiBuKGIsYyxlKXtjPWN8fEJ8fHY7dmFyIGY9Qjt2b2lkIDA9PT1iLnByZXZpb3VzJiYocShjLGIpJiYoQj1jLHQub25UYWdPcGVuKGQse30pLGIucmV0dXJuUG9pbnQ9Yz1CKSxnKGIpLFxuYShiKSYmIWIuY2hpbGRyZW4ubGVuZ3RofHxjLmFkZChiKSxcInByZVwiPT1iLm5hbWUmJih3PSExKSxcInRleHRhcmVhXCI9PWIubmFtZSYmKHg9ITEpKTtiLnJldHVyblBvaW50PyhCPWIucmV0dXJuUG9pbnQsZGVsZXRlIGIucmV0dXJuUG9pbnQpOkI9ZT9jOmZ9ZnVuY3Rpb24gcShhLGIpe2lmKChhPT12fHxcImJvZHlcIj09YS5uYW1lKSYmZCYmKCFhLm5hbWV8fENLRURJVE9SLmR0ZFthLm5hbWVdW2RdKSl7dmFyIGMsZTtyZXR1cm4oYz1iLmF0dHJpYnV0ZXMmJihlPWIuYXR0cmlidXRlc1tcImRhdGEtY2tlLXJlYWwtZWxlbWVudC10eXBlXCJdKT9lOmIubmFtZSkmJmMgaW4gQ0tFRElUT1IuZHRkLiRpbmxpbmUmJiEoYyBpbiBDS0VESVRPUi5kdGQuaGVhZCkmJiFiLmlzT3JwaGFufHxiLnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVH19ZnVuY3Rpb24gcChhLGIpe3JldHVybiBhIGluIENLRURJVE9SLmR0ZC4kbGlzdEl0ZW18fGEgaW4gQ0tFRElUT1IuZHRkLiR0YWJsZUNvbnRlbnQ/YT09Ynx8XG5cImR0XCI9PWEmJlwiZGRcIj09Ynx8XCJkZFwiPT1hJiZcImR0XCI9PWI6ITF9dmFyIHQ9bmV3IENLRURJVE9SLmh0bWxQYXJzZXIsdj1sIGluc3RhbmNlb2YgQ0tFRElUT1IuaHRtbFBhcnNlci5lbGVtZW50P2w6XCJzdHJpbmdcIj09dHlwZW9mIGw/bmV3IENLRURJVE9SLmh0bWxQYXJzZXIuZWxlbWVudChsKTpuZXcgQ0tFRElUT1IuaHRtbFBhcnNlci5mcmFnbWVudCxyPVtdLHU9W10sQj12LHg9XCJ0ZXh0YXJlYVwiPT12Lm5hbWUsdz1cInByZVwiPT12Lm5hbWU7dC5vblRhZ09wZW49ZnVuY3Rpb24oZCxlLGcsbSl7ZT1uZXcgQ0tFRElUT1IuaHRtbFBhcnNlci5lbGVtZW50KGQsZSk7ZS5pc1Vua25vd24mJmcmJihlLmlzRW1wdHk9ITApO2UuaXNPcHRpb25hbENsb3NlPW07aWYoYShlKSlyLnB1c2goZSk7ZWxzZXtpZihcInByZVwiPT1kKXc9ITA7ZWxzZXtpZihcImJyXCI9PWQmJncpe0IuYWRkKG5ldyBDS0VESVRPUi5odG1sUGFyc2VyLnRleHQoXCJcXG5cIikpO3JldHVybn1cInRleHRhcmVhXCI9PWQmJih4PSEwKX1pZihcImJyXCI9PVxuZCl1LnB1c2goZSk7ZWxzZXtmb3IoOyEobT0oZz1CLm5hbWUpP0NLRURJVE9SLmR0ZFtnXXx8KEIuXy5pc0Jsb2NrTGlrZT9DS0VESVRPUi5kdGQuZGl2OkNLRURJVE9SLmR0ZC5zcGFuKTpjLGUuaXNVbmtub3dufHxCLmlzVW5rbm93bnx8bVtkXSk7KWlmKEIuaXNPcHRpb25hbENsb3NlKXQub25UYWdDbG9zZShnKTtlbHNlIGlmKGQgaW4gYiYmZyBpbiBiKWc9Qi5jaGlsZHJlbiwoZz1nW2cubGVuZ3RoLTFdKSYmXCJsaVwiPT1nLm5hbWV8fG4oZz1uZXcgQ0tFRElUT1IuaHRtbFBhcnNlci5lbGVtZW50KFwibGlcIiksQiksIWUucmV0dXJuUG9pbnQmJihlLnJldHVyblBvaW50PUIpLEI9ZztlbHNlIGlmKGQgaW4gQ0tFRElUT1IuZHRkLiRsaXN0SXRlbSYmIXAoZCxnKSl0Lm9uVGFnT3BlbihcImxpXCI9PWQ/XCJ1bFwiOlwiZGxcIix7fSwwLDEpO2Vsc2UgaWYoZyBpbiBmJiYhcChkLGcpKSFlLnJldHVyblBvaW50JiYoZS5yZXR1cm5Qb2ludD1CKSxCPUIucGFyZW50O2Vsc2UgaWYoZyBpbiBDS0VESVRPUi5kdGQuJGlubGluZSYmXG5yLnVuc2hpZnQoQiksQi5wYXJlbnQpbihCLEIucGFyZW50LDEpO2Vsc2V7ZS5pc09ycGhhbj0xO2JyZWFrfWgoZCk7aygpO2UucGFyZW50PUI7ZS5pc0VtcHR5P24oZSk6Qj1lfX19O3Qub25UYWdDbG9zZT1mdW5jdGlvbihhKXtmb3IodmFyIGI9ci5sZW5ndGgtMTswPD1iO2ItLSlpZihhPT1yW2JdLm5hbWUpe3Iuc3BsaWNlKGIsMSk7cmV0dXJufWZvcih2YXIgYz1bXSxlPVtdLGc9QjtnIT12JiZnLm5hbWUhPWE7KWcuXy5pc0Jsb2NrTGlrZXx8ZS51bnNoaWZ0KGcpLGMucHVzaChnKSxnPWcucmV0dXJuUG9pbnR8fGcucGFyZW50O2lmKGchPXYpe2ZvcihiPTA7YjxjLmxlbmd0aDtiKyspe3ZhciBmPWNbYl07bihmLGYucGFyZW50KX1CPWc7Zy5fLmlzQmxvY2tMaWtlJiZrKCk7bihnLGcucGFyZW50KTtnPT1CJiYoQj1CLnBhcmVudCk7cj1yLmNvbmNhdChlKX1cImJvZHlcIj09YSYmKGQ9ITEpfTt0Lm9uVGV4dD1mdW5jdGlvbihhKXtpZighKEIuXy5oYXNJbmxpbmVTdGFydGVkJiYhdS5sZW5ndGh8fFxud3x8eCkmJihhPUNLRURJVE9SLnRvb2xzLmx0cmltKGEpLDA9PT1hLmxlbmd0aCkpcmV0dXJuO3ZhciBiPUIubmFtZSxnPWI/Q0tFRElUT1IuZHRkW2JdfHwoQi5fLmlzQmxvY2tMaWtlP0NLRURJVE9SLmR0ZC5kaXY6Q0tFRElUT1IuZHRkLnNwYW4pOmM7aWYoIXgmJiFnW1wiI1wiXSYmYiBpbiBmKXQub25UYWdPcGVuKGVbYl18fFwiXCIpLHQub25UZXh0KGEpO2Vsc2V7aygpO2goKTt3fHx4fHwoYT1hLnJlcGxhY2UoL1tcXHRcXHJcXG4gXXsyLH18W1xcdFxcclxcbl0vZyxcIiBcIikpO2E9bmV3IENLRURJVE9SLmh0bWxQYXJzZXIudGV4dChhKTtpZihxKEIsYSkpdGhpcy5vblRhZ09wZW4oZCx7fSwwLDEpO0IuYWRkKGEpfX07dC5vbkNEQVRBPWZ1bmN0aW9uKGEpe0IuYWRkKG5ldyBDS0VESVRPUi5odG1sUGFyc2VyLmNkYXRhKGEpKX07dC5vbkNvbW1lbnQ9ZnVuY3Rpb24oYSl7aygpO2goKTtCLmFkZChuZXcgQ0tFRElUT1IuaHRtbFBhcnNlci5jb21tZW50KGEpKX07dC5wYXJzZShtKTtmb3IoaygpO0IhPVxudjspbihCLEIucGFyZW50LDEpO2codik7cmV0dXJuIHZ9O0NLRURJVE9SLmh0bWxQYXJzZXIuZnJhZ21lbnQucHJvdG90eXBlPXt0eXBlOkNLRURJVE9SLk5PREVfRE9DVU1FTlRfRlJBR01FTlQsYWRkOmZ1bmN0aW9uKGEsYil7aXNOYU4oYikmJihiPXRoaXMuY2hpbGRyZW4ubGVuZ3RoKTt2YXIgYz0wPGI/dGhpcy5jaGlsZHJlbltiLTFdOm51bGw7aWYoYyl7aWYoYS5fLmlzQmxvY2tMaWtlJiZjLnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVCYmKGMudmFsdWU9Q0tFRElUT1IudG9vbHMucnRyaW0oYy52YWx1ZSksMD09PWMudmFsdWUubGVuZ3RoKSl7dGhpcy5jaGlsZHJlbi5wb3AoKTt0aGlzLmFkZChhKTtyZXR1cm59Yy5uZXh0PWF9YS5wcmV2aW91cz1jO2EucGFyZW50PXRoaXM7dGhpcy5jaGlsZHJlbi5zcGxpY2UoYiwwLGEpO3RoaXMuXy5oYXNJbmxpbmVTdGFydGVkfHwodGhpcy5fLmhhc0lubGluZVN0YXJ0ZWQ9YS50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFR8fGEudHlwZT09XG5DS0VESVRPUi5OT0RFX0VMRU1FTlQmJiFhLl8uaXNCbG9ja0xpa2UpfSxmaWx0ZXI6ZnVuY3Rpb24oYSxiKXtiPXRoaXMuZ2V0RmlsdGVyQ29udGV4dChiKTthLm9uUm9vdChiLHRoaXMpO3RoaXMuZmlsdGVyQ2hpbGRyZW4oYSwhMSxiKX0sZmlsdGVyQ2hpbGRyZW46ZnVuY3Rpb24oYSxiLGMpe2lmKHRoaXMuY2hpbGRyZW5GaWx0ZXJlZEJ5IT1hLmlkKXtjPXRoaXMuZ2V0RmlsdGVyQ29udGV4dChjKTtpZihiJiYhdGhpcy5wYXJlbnQpYS5vblJvb3QoYyx0aGlzKTt0aGlzLmNoaWxkcmVuRmlsdGVyZWRCeT1hLmlkO2ZvcihiPTA7Yjx0aGlzLmNoaWxkcmVuLmxlbmd0aDtiKyspITE9PT10aGlzLmNoaWxkcmVuW2JdLmZpbHRlcihhLGMpJiZiLS19fSx3cml0ZUh0bWw6ZnVuY3Rpb24oYSxiKXtiJiZ0aGlzLmZpbHRlcihiKTt0aGlzLndyaXRlQ2hpbGRyZW5IdG1sKGEpfSx3cml0ZUNoaWxkcmVuSHRtbDpmdW5jdGlvbihhLGIsYyl7dmFyIGU9dGhpcy5nZXRGaWx0ZXJDb250ZXh0KCk7XG5pZihjJiYhdGhpcy5wYXJlbnQmJmIpYi5vblJvb3QoZSx0aGlzKTtiJiZ0aGlzLmZpbHRlckNoaWxkcmVuKGIsITEsZSk7Yj0wO2M9dGhpcy5jaGlsZHJlbjtmb3IoZT1jLmxlbmd0aDtiPGU7YisrKWNbYl0ud3JpdGVIdG1sKGEpfSxmb3JFYWNoOmZ1bmN0aW9uKGEsYixjKXtpZighKGN8fGImJnRoaXMudHlwZSE9YikpdmFyIGU9YSh0aGlzKTtpZighMSE9PWUpe2M9dGhpcy5jaGlsZHJlbjtmb3IodmFyIGY9MDtmPGMubGVuZ3RoO2YrKyllPWNbZl0sZS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQ/ZS5mb3JFYWNoKGEsYik6YiYmZS50eXBlIT1ifHxhKGUpfX0sZ2V0RmlsdGVyQ29udGV4dDpmdW5jdGlvbihhKXtyZXR1cm4gYXx8e319fX0oKSxcInVzZSBzdHJpY3RcIixmdW5jdGlvbigpe2Z1bmN0aW9uIGEoKXt0aGlzLnJ1bGVzPVtdfWZ1bmN0aW9uIGYoYixjLGUsZil7dmFyIGwsZDtmb3IobCBpbiBjKShkPWJbbF0pfHwoZD1iW2xdPW5ldyBhKSxkLmFkZChjW2xdLGUsZil9Q0tFRElUT1IuaHRtbFBhcnNlci5maWx0ZXI9XG5DS0VESVRPUi50b29scy5jcmVhdGVDbGFzcyh7JDpmdW5jdGlvbihiKXt0aGlzLmlkPUNLRURJVE9SLnRvb2xzLmdldE5leHROdW1iZXIoKTt0aGlzLmVsZW1lbnROYW1lUnVsZXM9bmV3IGE7dGhpcy5hdHRyaWJ1dGVOYW1lUnVsZXM9bmV3IGE7dGhpcy5lbGVtZW50c1J1bGVzPXt9O3RoaXMuYXR0cmlidXRlc1J1bGVzPXt9O3RoaXMudGV4dFJ1bGVzPW5ldyBhO3RoaXMuY29tbWVudFJ1bGVzPW5ldyBhO3RoaXMucm9vdFJ1bGVzPW5ldyBhO2ImJnRoaXMuYWRkUnVsZXMoYiwxMCl9LHByb3RvOnthZGRSdWxlczpmdW5jdGlvbihhLGMpe3ZhciBlO1wibnVtYmVyXCI9PXR5cGVvZiBjP2U9YzpjJiZcInByaW9yaXR5XCJpbiBjJiYoZT1jLnByaW9yaXR5KTtcIm51bWJlclwiIT10eXBlb2YgZSYmKGU9MTApO1wib2JqZWN0XCIhPXR5cGVvZiBjJiYoYz17fSk7YS5lbGVtZW50TmFtZXMmJnRoaXMuZWxlbWVudE5hbWVSdWxlcy5hZGRNYW55KGEuZWxlbWVudE5hbWVzLGUsYyk7YS5hdHRyaWJ1dGVOYW1lcyYmXG50aGlzLmF0dHJpYnV0ZU5hbWVSdWxlcy5hZGRNYW55KGEuYXR0cmlidXRlTmFtZXMsZSxjKTthLmVsZW1lbnRzJiZmKHRoaXMuZWxlbWVudHNSdWxlcyxhLmVsZW1lbnRzLGUsYyk7YS5hdHRyaWJ1dGVzJiZmKHRoaXMuYXR0cmlidXRlc1J1bGVzLGEuYXR0cmlidXRlcyxlLGMpO2EudGV4dCYmdGhpcy50ZXh0UnVsZXMuYWRkKGEudGV4dCxlLGMpO2EuY29tbWVudCYmdGhpcy5jb21tZW50UnVsZXMuYWRkKGEuY29tbWVudCxlLGMpO2Eucm9vdCYmdGhpcy5yb290UnVsZXMuYWRkKGEucm9vdCxlLGMpfSxhcHBseVRvOmZ1bmN0aW9uKGEpe2EuZmlsdGVyKHRoaXMpfSxvbkVsZW1lbnROYW1lOmZ1bmN0aW9uKGEsYyl7cmV0dXJuIHRoaXMuZWxlbWVudE5hbWVSdWxlcy5leGVjT25OYW1lKGEsYyl9LG9uQXR0cmlidXRlTmFtZTpmdW5jdGlvbihhLGMpe3JldHVybiB0aGlzLmF0dHJpYnV0ZU5hbWVSdWxlcy5leGVjT25OYW1lKGEsYyl9LG9uVGV4dDpmdW5jdGlvbihhLGMsZSl7cmV0dXJuIHRoaXMudGV4dFJ1bGVzLmV4ZWMoYSxcbmMsZSl9LG9uQ29tbWVudDpmdW5jdGlvbihhLGMsZSl7cmV0dXJuIHRoaXMuY29tbWVudFJ1bGVzLmV4ZWMoYSxjLGUpfSxvblJvb3Q6ZnVuY3Rpb24oYSxjKXtyZXR1cm4gdGhpcy5yb290UnVsZXMuZXhlYyhhLGMpfSxvbkVsZW1lbnQ6ZnVuY3Rpb24oYSxjKXtmb3IodmFyIGU9W3RoaXMuZWxlbWVudHNSdWxlc1tcIl5cIl0sdGhpcy5lbGVtZW50c1J1bGVzW2MubmFtZV0sdGhpcy5lbGVtZW50c1J1bGVzLiRdLGYsbD0wOzM+bDtsKyspaWYoZj1lW2xdKXtmPWYuZXhlYyhhLGMsdGhpcyk7aWYoITE9PT1mKXJldHVybiBudWxsO2lmKGYmJmYhPWMpcmV0dXJuIHRoaXMub25Ob2RlKGEsZik7aWYoYy5wYXJlbnQmJiFjLm5hbWUpYnJlYWt9cmV0dXJuIGN9LG9uTm9kZTpmdW5jdGlvbihhLGMpe3ZhciBlPWMudHlwZTtyZXR1cm4gZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UP3RoaXMub25FbGVtZW50KGEsYyk6ZT09Q0tFRElUT1IuTk9ERV9URVhUP25ldyBDS0VESVRPUi5odG1sUGFyc2VyLnRleHQodGhpcy5vblRleHQoYSxcbmMudmFsdWUpKTplPT1DS0VESVRPUi5OT0RFX0NPTU1FTlQ/bmV3IENLRURJVE9SLmh0bWxQYXJzZXIuY29tbWVudCh0aGlzLm9uQ29tbWVudChhLGMudmFsdWUpKTpudWxsfSxvbkF0dHJpYnV0ZTpmdW5jdGlvbihhLGMsZSxmKXtyZXR1cm4oZT10aGlzLmF0dHJpYnV0ZXNSdWxlc1tlXSk/ZS5leGVjKGEsZixjLHRoaXMpOmZ9fX0pO0NLRURJVE9SLmh0bWxQYXJzZXIuZmlsdGVyUnVsZXNHcm91cD1hO2EucHJvdG90eXBlPXthZGQ6ZnVuY3Rpb24oYSxjLGUpe3RoaXMucnVsZXMuc3BsaWNlKHRoaXMuZmluZEluZGV4KGMpLDAse3ZhbHVlOmEscHJpb3JpdHk6YyxvcHRpb25zOmV9KX0sYWRkTWFueTpmdW5jdGlvbihhLGMsZSl7Zm9yKHZhciBmPVt0aGlzLmZpbmRJbmRleChjKSwwXSxsPTAsZD1hLmxlbmd0aDtsPGQ7bCsrKWYucHVzaCh7dmFsdWU6YVtsXSxwcmlvcml0eTpjLG9wdGlvbnM6ZX0pO3RoaXMucnVsZXMuc3BsaWNlLmFwcGx5KHRoaXMucnVsZXMsZil9LGZpbmRJbmRleDpmdW5jdGlvbihhKXtmb3IodmFyIGM9XG50aGlzLnJ1bGVzLGU9Yy5sZW5ndGgtMTswPD1lJiZhPGNbZV0ucHJpb3JpdHk7KWUtLTtyZXR1cm4gZSsxfSxleGVjOmZ1bmN0aW9uKGEsYyl7dmFyIGU9YyBpbnN0YW5jZW9mIENLRURJVE9SLmh0bWxQYXJzZXIubm9kZXx8YyBpbnN0YW5jZW9mIENLRURJVE9SLmh0bWxQYXJzZXIuZnJhZ21lbnQsZj1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMSksbD10aGlzLnJ1bGVzLGQ9bC5sZW5ndGgsaCxrLGcsbjtmb3Iobj0wO248ZDtuKyspaWYoZSYmKGg9Yy50eXBlLGs9Yy5uYW1lKSxnPWxbbl0sIShhLm5vbkVkaXRhYmxlJiYhZy5vcHRpb25zLmFwcGx5VG9BbGx8fGEubmVzdGVkRWRpdGFibGUmJmcub3B0aW9ucy5leGNsdWRlTmVzdGVkRWRpdGFibGUpKXtnPWcudmFsdWUuYXBwbHkobnVsbCxmKTtpZighMT09PWd8fGUmJmcmJihnLm5hbWUhPWt8fGcudHlwZSE9aCkpcmV0dXJuIGc7bnVsbCE9ZyYmKGZbMF09Yz1nKX1yZXR1cm4gY30sZXhlY09uTmFtZTpmdW5jdGlvbihhLFxuYyl7Zm9yKHZhciBlPTAsZj10aGlzLnJ1bGVzLGw9Zi5sZW5ndGgsZDtjJiZlPGw7ZSsrKWQ9ZltlXSxhLm5vbkVkaXRhYmxlJiYhZC5vcHRpb25zLmFwcGx5VG9BbGx8fGEubmVzdGVkRWRpdGFibGUmJmQub3B0aW9ucy5leGNsdWRlTmVzdGVkRWRpdGFibGV8fChjPWMucmVwbGFjZShkLnZhbHVlWzBdLGQudmFsdWVbMV0pKTtyZXR1cm4gY319fSgpLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhLGQpe2Z1bmN0aW9uIGcoYSl7cmV0dXJuIGF8fENLRURJVE9SLmVudi5uZWVkc05ic3BGaWxsZXI/bmV3IENLRURJVE9SLmh0bWxQYXJzZXIudGV4dChcIsKgXCIpOm5ldyBDS0VESVRPUi5odG1sUGFyc2VyLmVsZW1lbnQoXCJiclwiLHtcImRhdGEtY2tlLWJvZ3VzXCI6MX0pfWZ1bmN0aW9uIGYoYSxkKXtyZXR1cm4gZnVuY3Rpb24oZSl7aWYoZS50eXBlIT1DS0VESVRPUi5OT0RFX0RPQ1VNRU5UX0ZSQUdNRU5UKXt2YXIgZj1bXSxoPWIoZSksbCx3O2lmKGgpZm9yKGsoaCwxKSYmZi5wdXNoKGgpO2g7KW0oaCkmJlxuKGw9YyhoKSkmJmsobCkmJigodz1jKGwpKSYmIW0odyk/Zi5wdXNoKGwpOihnKHgpLmluc2VydEFmdGVyKGwpLGwucmVtb3ZlKCkpKSxoPWgucHJldmlvdXM7Zm9yKGg9MDtoPGYubGVuZ3RoO2grKylmW2hdLnJlbW92ZSgpO2lmKGY9IWF8fCExIT09KFwiZnVuY3Rpb25cIj09dHlwZW9mIGQ/ZChlKTpkKSl4fHxDS0VESVRPUi5lbnYubmVlZHNCckZpbGxlcnx8ZS50eXBlIT1DS0VESVRPUi5OT0RFX0RPQ1VNRU5UX0ZSQUdNRU5UP3h8fENLRURJVE9SLmVudi5uZWVkc0JyRmlsbGVyfHwhKDc8ZG9jdW1lbnQuZG9jdW1lbnRNb2RlfHxlLm5hbWUgaW4gQ0tFRElUT1IuZHRkLnRyfHxlLm5hbWUgaW4gQ0tFRElUT1IuZHRkLiRsaXN0SXRlbSk/KGY9YihlKSxmPSFmfHxcImZvcm1cIj09ZS5uYW1lJiZcImlucHV0XCI9PWYubmFtZSk6Zj0hMTpmPSExO2YmJmUuYWRkKGcoYSkpfX19ZnVuY3Rpb24gayhhLGIpe2lmKCgheHx8Q0tFRElUT1IuZW52Lm5lZWRzQnJGaWxsZXIpJiZhLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmXG5cImJyXCI9PWEubmFtZSYmIWEuYXR0cmlidXRlc1tcImRhdGEtY2tlLWVvbFwiXSlyZXR1cm4hMDt2YXIgYztyZXR1cm4gYS50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFQmJihjPWEudmFsdWUubWF0Y2gocikpJiYoYy5pbmRleCYmKChuZXcgQ0tFRElUT1IuaHRtbFBhcnNlci50ZXh0KGEudmFsdWUuc3Vic3RyaW5nKDAsYy5pbmRleCkpKS5pbnNlcnRCZWZvcmUoYSksYS52YWx1ZT1jWzBdKSwhQ0tFRElUT1IuZW52Lm5lZWRzQnJGaWxsZXImJngmJighYnx8YS5wYXJlbnQubmFtZSBpbiBuKXx8IXgmJigoYz1hLnByZXZpb3VzKSYmXCJiclwiPT1jLm5hbWV8fCFjfHxtKGMpKSk/ITA6ITF9dmFyIGg9e2VsZW1lbnRzOnt9fSx4PVwiaHRtbFwiPT1kLG49Q0tFRElUT1IudG9vbHMuZXh0ZW5kKHt9LHcpLHo7Zm9yKHogaW4gbilcIiNcImluIEJbel18fGRlbGV0ZSBuW3pdO2Zvcih6IGluIG4paC5lbGVtZW50c1t6XT1mKHgsYS5jb25maWcuZmlsbEVtcHR5QmxvY2tzKTtoLnJvb3Q9Zih4LCExKTtoLmVsZW1lbnRzLmJyPVxuZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKGIpe2lmKGIucGFyZW50LnR5cGUhPUNLRURJVE9SLk5PREVfRE9DVU1FTlRfRlJBR01FTlQpe3ZhciBkPWIuYXR0cmlidXRlcztpZihcImRhdGEtY2tlLWJvZ3VzXCJpbiBkfHxcImRhdGEtY2tlLWVvbFwiaW4gZClkZWxldGUgZFtcImRhdGEtY2tlLWJvZ3VzXCJdO2Vsc2V7Zm9yKGQ9Yi5uZXh0O2QmJmUoZCk7KWQ9ZC5uZXh0O3ZhciBmPWMoYik7IWQmJm0oYi5wYXJlbnQpP2woYi5wYXJlbnQsZyhhKSk6bShkKSYmZiYmIW0oZikmJmcoYSkuaW5zZXJ0QmVmb3JlKGQpfX19fSh4KTtyZXR1cm4gaH1mdW5jdGlvbiBmKGEsYil7cmV0dXJuIGEhPUNLRURJVE9SLkVOVEVSX0JSJiYhMSE9PWI/YT09Q0tFRElUT1IuRU5URVJfRElWP1wiZGl2XCI6XCJwXCI6ITF9ZnVuY3Rpb24gYihhKXtmb3IoYT1hLmNoaWxkcmVuW2EuY2hpbGRyZW4ubGVuZ3RoLTFdO2EmJmUoYSk7KWE9YS5wcmV2aW91cztyZXR1cm4gYX1mdW5jdGlvbiBjKGEpe2ZvcihhPWEucHJldmlvdXM7YSYmXG5lKGEpOylhPWEucHJldmlvdXM7cmV0dXJuIGF9ZnVuY3Rpb24gZShhKXtyZXR1cm4gYS50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFQmJiFDS0VESVRPUi50b29scy50cmltKGEudmFsdWUpfHxhLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmYS5hdHRyaWJ1dGVzW1wiZGF0YS1ja2UtYm9va21hcmtcIl19ZnVuY3Rpb24gbShhKXtyZXR1cm4gYSYmKGEudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZhLm5hbWUgaW4gd3x8YS50eXBlPT1DS0VESVRPUi5OT0RFX0RPQ1VNRU5UX0ZSQUdNRU5UKX1mdW5jdGlvbiBsKGEsYil7dmFyIGM9YS5jaGlsZHJlblthLmNoaWxkcmVuLmxlbmd0aC0xXTthLmNoaWxkcmVuLnB1c2goYik7Yi5wYXJlbnQ9YTtjJiYoYy5uZXh0PWIsYi5wcmV2aW91cz1jKX1mdW5jdGlvbiBkKGEpe2E9YS5hdHRyaWJ1dGVzO1wiZmFsc2VcIiE9YS5jb250ZW50ZWRpdGFibGUmJihhW1wiZGF0YS1ja2UtZWRpdGFibGVcIl09YS5jb250ZW50ZWRpdGFibGU/XCJ0cnVlXCI6MSk7XG5hLmNvbnRlbnRlZGl0YWJsZT1cImZhbHNlXCJ9ZnVuY3Rpb24gaChhKXthPWEuYXR0cmlidXRlcztzd2l0Y2goYVtcImRhdGEtY2tlLWVkaXRhYmxlXCJdKXtjYXNlIFwidHJ1ZVwiOmEuY29udGVudGVkaXRhYmxlPVwidHJ1ZVwiO2JyZWFrO2Nhc2UgXCIxXCI6ZGVsZXRlIGEuY29udGVudGVkaXRhYmxlfX1mdW5jdGlvbiBrKGEpe3JldHVybiBhLnJlcGxhY2UoQyxmdW5jdGlvbihhLGIsYyl7cmV0dXJuXCJcXHgzY1wiK2IrYy5yZXBsYWNlKEYsZnVuY3Rpb24oYSxiKXtyZXR1cm4gRS50ZXN0KGIpJiYtMT09Yy5pbmRleE9mKFwiZGF0YS1ja2Utc2F2ZWQtXCIrYik/XCIgZGF0YS1ja2Utc2F2ZWQtXCIrYStcIiBkYXRhLWNrZS1cIitDS0VESVRPUi5ybmQrXCItXCIrYTphfSkrXCJcXHgzZVwifSl9ZnVuY3Rpb24gZyhhLGIpe3JldHVybiBhLnJlcGxhY2UoYixmdW5jdGlvbihhLGIsYyl7MD09PWEuaW5kZXhPZihcIlxceDNjdGV4dGFyZWFcIikmJihhPWIrcChjKS5yZXBsYWNlKC88L2csXCJcXHgyNmx0O1wiKS5yZXBsYWNlKC8+L2csXG5cIlxceDI2Z3Q7XCIpK1wiXFx4M2MvdGV4dGFyZWFcXHgzZVwiKTtyZXR1cm5cIlxceDNjY2tlOmVuY29kZWRcXHgzZVwiK2VuY29kZVVSSUNvbXBvbmVudChhKStcIlxceDNjL2NrZTplbmNvZGVkXFx4M2VcIn0pfWZ1bmN0aW9uIG4oYSl7cmV0dXJuIGEucmVwbGFjZShNLGZ1bmN0aW9uKGEsYil7cmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChiKX0pfWZ1bmN0aW9uIHEoYSl7cmV0dXJuIGEucmVwbGFjZSgvXFx4M2MhLS0oPyF7Y2tlX3Byb3RlY3RlZH0pW1xcc1xcU10rPy0tXFx4M2UvZyxmdW5jdGlvbihhKXtyZXR1cm5cIlxceDNjIS0tXCIrdStcIntDfVwiK2VuY29kZVVSSUNvbXBvbmVudChhKS5yZXBsYWNlKC8tLS9nLFwiJTJEJTJEXCIpK1wiLS1cXHgzZVwifSl9ZnVuY3Rpb24gcChhKXtyZXR1cm4gYS5yZXBsYWNlKC9cXHgzYyEtLVxce2NrZV9wcm90ZWN0ZWRcXH1cXHtDXFx9KFtcXHNcXFNdKz8pLS1cXHgzZS9nLGZ1bmN0aW9uKGEsYil7cmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChiKX0pfWZ1bmN0aW9uIHQoYSxiKXt2YXIgYz1iLl8uZGF0YVN0b3JlO1xucmV0dXJuIGEucmVwbGFjZSgvXFx4M2MhLS1cXHtja2VfcHJvdGVjdGVkXFx9KFtcXHNcXFNdKz8pLS1cXHgzZS9nLGZ1bmN0aW9uKGEsYil7cmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChiKX0pLnJlcGxhY2UoL1xce2NrZV9wcm90ZWN0ZWRfKFxcZCspXFx9L2csZnVuY3Rpb24oYSxiKXtyZXR1cm4gYyYmY1tiXXx8XCJcIn0pfWZ1bmN0aW9uIHYoYSxiKXt2YXIgYz1bXSxkPWIuY29uZmlnLnByb3RlY3RlZFNvdXJjZSxlPWIuXy5kYXRhU3RvcmV8fChiLl8uZGF0YVN0b3JlPXtpZDoxfSksZz0vPFxcIS0tXFx7Y2tlX3RlbXAoY29tbWVudCk/XFx9KFxcZCo/KS0tXFx4M2UvZyxkPVsvPHNjcmlwdFtcXHNcXFNdKj8oPFxcL3NjcmlwdD58JCkvZ2ksLzxub3NjcmlwdFtcXHNcXFNdKj88XFwvbm9zY3JpcHQ+L2dpLC88bWV0YVtcXHNcXFNdKj9cXC8/Pi9naV0uY29uY2F0KGQpO2E9YS5yZXBsYWNlKC9cXHgzYyEtLVtcXHNcXFNdKj8tLVxceDNlL2csZnVuY3Rpb24oYSl7cmV0dXJuXCJcXHgzYyEtLXtja2VfdGVtcGNvbW1lbnR9XCIrKGMucHVzaChhKS1cbjEpK1wiLS1cXHgzZVwifSk7Zm9yKHZhciBmPTA7ZjxkLmxlbmd0aDtmKyspYT1hLnJlcGxhY2UoZFtmXSxmdW5jdGlvbihhKXthPWEucmVwbGFjZShnLGZ1bmN0aW9uKGEsYixkKXtyZXR1cm4gY1tkXX0pO3JldHVybi9ja2VfdGVtcChjb21tZW50KT8vLnRlc3QoYSk/YTpcIlxceDNjIS0te2NrZV90ZW1wfVwiKyhjLnB1c2goYSktMSkrXCItLVxceDNlXCJ9KTthPWEucmVwbGFjZShnLGZ1bmN0aW9uKGEsYixkKXtyZXR1cm5cIlxceDNjIS0tXCIrdSsoYj9cIntDfVwiOlwiXCIpK2VuY29kZVVSSUNvbXBvbmVudChjW2RdKS5yZXBsYWNlKC8tLS9nLFwiJTJEJTJEXCIpK1wiLS1cXHgzZVwifSk7YT1hLnJlcGxhY2UoLzxcXHcrKD86XFxzKyg/Oig/OlteXFxzPT5dK1xccyo9XFxzKig/OlteJ1wiXFxzPl0rfCdbXiddKid8XCJbXlwiXSpcIikpfFteXFxzPVxcLz5dKykpK1xccypcXC8/Pi9nLGZ1bmN0aW9uKGEpe3JldHVybiBhLnJlcGxhY2UoL1xceDNjIS0tXFx7Y2tlX3Byb3RlY3RlZFxcfShbXj5dKiktLVxceDNlL2csZnVuY3Rpb24oYSxiKXtlW2UuaWRdPVxuZGVjb2RlVVJJQ29tcG9uZW50KGIpO3JldHVyblwie2NrZV9wcm90ZWN0ZWRfXCIrZS5pZCsrICtcIn1cIn0pfSk7cmV0dXJuIGE9YS5yZXBsYWNlKC88KHRpdGxlfGlmcmFtZXx0ZXh0YXJlYSkoW14+XSopPihbXFxzXFxTXSo/KTxcXC9cXDE+L2csZnVuY3Rpb24oYSxjLGQsZSl7cmV0dXJuXCJcXHgzY1wiK2MrZCtcIlxceDNlXCIrdChwKGUpLGIpK1wiXFx4M2MvXCIrYytcIlxceDNlXCJ9KX1DS0VESVRPUi5odG1sRGF0YVByb2Nlc3Nvcj1mdW5jdGlvbihiKXt2YXIgYyxkLGU9dGhpczt0aGlzLmVkaXRvcj1iO3RoaXMuZGF0YUZpbHRlcj1jPW5ldyBDS0VESVRPUi5odG1sUGFyc2VyLmZpbHRlcjt0aGlzLmh0bWxGaWx0ZXI9ZD1uZXcgQ0tFRElUT1IuaHRtbFBhcnNlci5maWx0ZXI7dGhpcy53cml0ZXI9bmV3IENLRURJVE9SLmh0bWxQYXJzZXIuYmFzaWNXcml0ZXI7Yy5hZGRSdWxlcyh6KTtjLmFkZFJ1bGVzKEQse2FwcGx5VG9BbGw6ITB9KTtjLmFkZFJ1bGVzKGEoYixcImRhdGFcIikse2FwcGx5VG9BbGw6ITB9KTtcbmQuYWRkUnVsZXMoeSk7ZC5hZGRSdWxlcyhBLHthcHBseVRvQWxsOiEwfSk7ZC5hZGRSdWxlcyhhKGIsXCJodG1sXCIpLHthcHBseVRvQWxsOiEwfSk7Yi5vbihcInRvSHRtbFwiLGZ1bmN0aW9uKGEpe2E9YS5kYXRhO3ZhciBjPWEuZGF0YVZhbHVlLGQsYz12KGMsYiksYz1nKGMsRyksYz1rKGMpLGM9ZyhjLEopLGM9Yy5yZXBsYWNlKEksXCIkMWNrZTokMlwiKSxjPWMucmVwbGFjZShSLFwiXFx4M2Nja2U6JDEkMlxceDNlXFx4M2MvY2tlOiQxXFx4M2VcIiksYz1jLnJlcGxhY2UoLyg8cHJlXFxiW14+XSo+KShcXHJcXG58XFxuKS9nLFwiJDEkMiQyXCIpLGM9Yy5yZXBsYWNlKC8oW15hLXowLTk8XFwtXSkob25cXHd7Myx9KSg/IT4pL2dpLFwiJDFkYXRhLWNrZS1cIitDS0VESVRPUi5ybmQrXCItJDJcIik7ZD1hLmNvbnRleHR8fGIuZWRpdGFibGUoKS5nZXROYW1lKCk7dmFyIGU7Q0tFRElUT1IuZW52LmllJiY5PkNLRURJVE9SLmVudi52ZXJzaW9uJiZcInByZVwiPT1kJiYoZD1cImRpdlwiLGM9XCJcXHgzY3ByZVxceDNlXCIrYytcIlxceDNjL3ByZVxceDNlXCIsXG5lPTEpO2Q9Yi5kb2N1bWVudC5jcmVhdGVFbGVtZW50KGQpO2Quc2V0SHRtbChcImFcIitjKTtjPWQuZ2V0SHRtbCgpLnN1YnN0cigxKTtjPWMucmVwbGFjZShuZXcgUmVnRXhwKFwiZGF0YS1ja2UtXCIrQ0tFRElUT1Iucm5kK1wiLVwiLFwiaWdcIiksXCJcIik7ZSYmKGM9Yy5yZXBsYWNlKC9ePHByZT58PFxcL3ByZT4kL2dpLFwiXCIpKTtjPWMucmVwbGFjZShILFwiJDEkMlwiKTtjPW4oYyk7Yz1wKGMpO2Q9ITE9PT1hLmZpeEZvckJvZHk/ITE6ZihhLmVudGVyTW9kZSxiLmNvbmZpZy5hdXRvUGFyYWdyYXBoKTtjPUNLRURJVE9SLmh0bWxQYXJzZXIuZnJhZ21lbnQuZnJvbUh0bWwoYyxhLmNvbnRleHQsZCk7ZCYmKGU9YywhZS5jaGlsZHJlbi5sZW5ndGgmJkNLRURJVE9SLmR0ZFtlLm5hbWVdW2RdJiYoZD1uZXcgQ0tFRElUT1IuaHRtbFBhcnNlci5lbGVtZW50KGQpLGUuYWRkKGQpKSk7YS5kYXRhVmFsdWU9Y30sbnVsbCxudWxsLDUpO2Iub24oXCJ0b0h0bWxcIixmdW5jdGlvbihhKXthLmRhdGEuZmlsdGVyLmFwcGx5VG8oYS5kYXRhLmRhdGFWYWx1ZSxcbiEwLGEuZGF0YS5kb250RmlsdGVyLGEuZGF0YS5lbnRlck1vZGUpJiZiLmZpcmUoXCJkYXRhRmlsdGVyZWRcIil9LG51bGwsbnVsbCw2KTtiLm9uKFwidG9IdG1sXCIsZnVuY3Rpb24oYSl7YS5kYXRhLmRhdGFWYWx1ZS5maWx0ZXJDaGlsZHJlbihlLmRhdGFGaWx0ZXIsITApfSxudWxsLG51bGwsMTApO2Iub24oXCJ0b0h0bWxcIixmdW5jdGlvbihhKXthPWEuZGF0YTt2YXIgYj1hLmRhdGFWYWx1ZSxjPW5ldyBDS0VESVRPUi5odG1sUGFyc2VyLmJhc2ljV3JpdGVyO2Iud3JpdGVDaGlsZHJlbkh0bWwoYyk7Yj1jLmdldEh0bWwoITApO2EuZGF0YVZhbHVlPXEoYil9LG51bGwsbnVsbCwxNSk7Yi5vbihcInRvRGF0YUZvcm1hdFwiLGZ1bmN0aW9uKGEpe3ZhciBjPWEuZGF0YS5kYXRhVmFsdWU7YS5kYXRhLmVudGVyTW9kZSE9Q0tFRElUT1IuRU5URVJfQlImJihjPWMucmVwbGFjZSgvXjxiciAqXFwvPz4vaSxcIlwiKSk7YS5kYXRhLmRhdGFWYWx1ZT1DS0VESVRPUi5odG1sUGFyc2VyLmZyYWdtZW50LmZyb21IdG1sKGMsXG5hLmRhdGEuY29udGV4dCxmKGEuZGF0YS5lbnRlck1vZGUsYi5jb25maWcuYXV0b1BhcmFncmFwaCkpfSxudWxsLG51bGwsNSk7Yi5vbihcInRvRGF0YUZvcm1hdFwiLGZ1bmN0aW9uKGEpe2EuZGF0YS5kYXRhVmFsdWUuZmlsdGVyQ2hpbGRyZW4oZS5odG1sRmlsdGVyLCEwKX0sbnVsbCxudWxsLDEwKTtiLm9uKFwidG9EYXRhRm9ybWF0XCIsZnVuY3Rpb24oYSl7YS5kYXRhLmZpbHRlci5hcHBseVRvKGEuZGF0YS5kYXRhVmFsdWUsITEsITApfSxudWxsLG51bGwsMTEpO2Iub24oXCJ0b0RhdGFGb3JtYXRcIixmdW5jdGlvbihhKXt2YXIgYz1hLmRhdGEuZGF0YVZhbHVlLGQ9ZS53cml0ZXI7ZC5yZXNldCgpO2Mud3JpdGVDaGlsZHJlbkh0bWwoZCk7Yz1kLmdldEh0bWwoITApO2M9cChjKTtjPXQoYyxiKTthLmRhdGEuZGF0YVZhbHVlPWN9LG51bGwsbnVsbCwxNSl9O0NLRURJVE9SLmh0bWxEYXRhUHJvY2Vzc29yLnByb3RvdHlwZT17dG9IdG1sOmZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPXRoaXMuZWRpdG9yLFxuZyxmLGssaDtiJiZcIm9iamVjdFwiPT10eXBlb2YgYj8oZz1iLmNvbnRleHQsYz1iLmZpeEZvckJvZHksZD1iLmRvbnRGaWx0ZXIsZj1iLmZpbHRlcixrPWIuZW50ZXJNb2RlLGg9Yi5wcm90ZWN0ZWRXaGl0ZXNwYWNlcyk6Zz1iO2d8fG51bGw9PT1nfHwoZz1lLmVkaXRhYmxlKCkuZ2V0TmFtZSgpKTtyZXR1cm4gZS5maXJlKFwidG9IdG1sXCIse2RhdGFWYWx1ZTphLGNvbnRleHQ6ZyxmaXhGb3JCb2R5OmMsZG9udEZpbHRlcjpkLGZpbHRlcjpmfHxlLmZpbHRlcixlbnRlck1vZGU6a3x8ZS5lbnRlck1vZGUscHJvdGVjdGVkV2hpdGVzcGFjZXM6aH0pLmRhdGFWYWx1ZX0sdG9EYXRhRm9ybWF0OmZ1bmN0aW9uKGEsYil7dmFyIGMsZCxlO2ImJihjPWIuY29udGV4dCxkPWIuZmlsdGVyLGU9Yi5lbnRlck1vZGUpO2N8fG51bGw9PT1jfHwoYz10aGlzLmVkaXRvci5lZGl0YWJsZSgpLmdldE5hbWUoKSk7cmV0dXJuIHRoaXMuZWRpdG9yLmZpcmUoXCJ0b0RhdGFGb3JtYXRcIix7ZGF0YVZhbHVlOmEsXG5maWx0ZXI6ZHx8dGhpcy5lZGl0b3IuZmlsdGVyLGNvbnRleHQ6YyxlbnRlck1vZGU6ZXx8dGhpcy5lZGl0b3IuZW50ZXJNb2RlfSkuZGF0YVZhbHVlfX07dmFyIHI9Lyg/OiZuYnNwO3xcXHhhMCkkLyx1PVwie2NrZV9wcm90ZWN0ZWR9XCIsQj1DS0VESVRPUi5kdGQseD1cImNhcHRpb24gY29sZ3JvdXAgY29sIHRoZWFkIHRmb290IHRib2R5XCIuc3BsaXQoXCIgXCIpLHc9Q0tFRElUT1IudG9vbHMuZXh0ZW5kKHt9LEIuJGJsb2NrTGltaXQsQi4kYmxvY2spLHo9e2VsZW1lbnRzOntpbnB1dDpkLHRleHRhcmVhOmR9fSxEPXthdHRyaWJ1dGVOYW1lczpbWy9eb24vLFwiZGF0YS1ja2UtcGEtb25cIl0sWy9eZGF0YS1ja2UtZXhwYW5kbyQvLFwiXCJdXX0seT17ZWxlbWVudHM6e2VtYmVkOmZ1bmN0aW9uKGEpe3ZhciBiPWEucGFyZW50O2lmKGImJlwib2JqZWN0XCI9PWIubmFtZSl7dmFyIGM9Yi5hdHRyaWJ1dGVzLndpZHRoLGI9Yi5hdHRyaWJ1dGVzLmhlaWdodDtjJiYoYS5hdHRyaWJ1dGVzLndpZHRoPWMpO1xuYiYmKGEuYXR0cmlidXRlcy5oZWlnaHQ9Yil9fSxhOmZ1bmN0aW9uKGEpe3ZhciBiPWEuYXR0cmlidXRlcztpZighKGEuY2hpbGRyZW4ubGVuZ3RofHxiLm5hbWV8fGIuaWR8fGEuYXR0cmlidXRlc1tcImRhdGEtY2tlLXNhdmVkLW5hbWVcIl0pKXJldHVybiExfX19LEE9e2VsZW1lbnROYW1lczpbWy9eY2tlOi8sXCJcIl0sWy9eXFw/eG1sOm5hbWVzcGFjZSQvLFwiXCJdXSxhdHRyaWJ1dGVOYW1lczpbWy9eZGF0YS1ja2UtKHNhdmVkfHBhKS0vLFwiXCJdLFsvXmRhdGEtY2tlLS4qLyxcIlwiXSxbXCJoaWRlZm9jdXNcIixcIlwiXV0sZWxlbWVudHM6eyQ6ZnVuY3Rpb24oYSl7dmFyIGI9YS5hdHRyaWJ1dGVzO2lmKGIpe2lmKGJbXCJkYXRhLWNrZS10ZW1wXCJdKXJldHVybiExO2Zvcih2YXIgYz1bXCJuYW1lXCIsXCJocmVmXCIsXCJzcmNcIl0sZCxlPTA7ZTxjLmxlbmd0aDtlKyspZD1cImRhdGEtY2tlLXNhdmVkLVwiK2NbZV0sZCBpbiBiJiZkZWxldGUgYltjW2VdXX1yZXR1cm4gYX0sdGFibGU6ZnVuY3Rpb24oYSl7YS5jaGlsZHJlbi5zbGljZSgwKS5zb3J0KGZ1bmN0aW9uKGEsXG5iKXt2YXIgYyxkO2EudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZiLnR5cGU9PWEudHlwZSYmKGM9Q0tFRElUT1IudG9vbHMuaW5kZXhPZih4LGEubmFtZSksZD1DS0VESVRPUi50b29scy5pbmRleE9mKHgsYi5uYW1lKSk7LTE8YyYmLTE8ZCYmYyE9ZHx8KGM9YS5wYXJlbnQ/YS5nZXRJbmRleCgpOi0xLGQ9Yi5wYXJlbnQ/Yi5nZXRJbmRleCgpOi0xKTtyZXR1cm4gYz5kPzE6LTF9KX0scGFyYW06ZnVuY3Rpb24oYSl7YS5jaGlsZHJlbj1bXTthLmlzRW1wdHk9ITA7cmV0dXJuIGF9LHNwYW46ZnVuY3Rpb24oYSl7XCJBcHBsZS1zdHlsZS1zcGFuXCI9PWEuYXR0cmlidXRlc1tcImNsYXNzXCJdJiZkZWxldGUgYS5uYW1lfSxodG1sOmZ1bmN0aW9uKGEpe2RlbGV0ZSBhLmF0dHJpYnV0ZXMuY29udGVudGVkaXRhYmxlO2RlbGV0ZSBhLmF0dHJpYnV0ZXNbXCJjbGFzc1wiXX0sYm9keTpmdW5jdGlvbihhKXtkZWxldGUgYS5hdHRyaWJ1dGVzLnNwZWxsY2hlY2s7ZGVsZXRlIGEuYXR0cmlidXRlcy5jb250ZW50ZWRpdGFibGV9LFxuc3R5bGU6ZnVuY3Rpb24oYSl7dmFyIGI9YS5jaGlsZHJlblswXTtiJiZiLnZhbHVlJiYoYi52YWx1ZT1DS0VESVRPUi50b29scy50cmltKGIudmFsdWUpKTthLmF0dHJpYnV0ZXMudHlwZXx8KGEuYXR0cmlidXRlcy50eXBlPVwidGV4dC9jc3NcIil9LHRpdGxlOmZ1bmN0aW9uKGEpe3ZhciBiPWEuY2hpbGRyZW5bMF07IWImJmwoYSxiPW5ldyBDS0VESVRPUi5odG1sUGFyc2VyLnRleHQpO2IudmFsdWU9YS5hdHRyaWJ1dGVzW1wiZGF0YS1ja2UtdGl0bGVcIl18fFwiXCJ9LGlucHV0OmgsdGV4dGFyZWE6aH0sYXR0cmlidXRlczp7XCJjbGFzc1wiOmZ1bmN0aW9uKGEpe3JldHVybiBDS0VESVRPUi50b29scy5sdHJpbShhLnJlcGxhY2UoLyg/Ol58XFxzKylja2VfW15cXHNdKi9nLFwiXCIpKXx8ITF9fX07Q0tFRElUT1IuZW52LmllJiYoQS5hdHRyaWJ1dGVzLnN0eWxlPWZ1bmN0aW9uKGEpe3JldHVybiBhLnJlcGxhY2UoLyhefDspKFteXFw6XSspL2csZnVuY3Rpb24oYSl7cmV0dXJuIGEudG9Mb3dlckNhc2UoKX0pfSk7XG52YXIgQz0vPChhfGFyZWF8aW1nfGlucHV0fHNvdXJjZSlcXGIoW14+XSopPi9naSxGPS8oW1xcdy06XSspXFxzKj1cXHMqKD86KD86XCJbXlwiXSpcIil8KD86J1teJ10qJyl8KD86W14gXCInPl0rKSkvZ2ksRT0vXihocmVmfHNyY3xuYW1lKSQvaSxKPS8oPzo8c3R5bGUoPz1bID5dKVtePl0qPltcXHNcXFNdKj88XFwvc3R5bGU+KXwoPzo8KDo/bGlua3xtZXRhfGJhc2UpW14+XSo+KS9naSxHPS8oPHRleHRhcmVhKD89WyA+XSlbXj5dKj4pKFtcXHNcXFNdKj8pKD86PFxcL3RleHRhcmVhPikvZ2ksTT0vPGNrZTplbmNvZGVkPihbXjxdKik8XFwvY2tlOmVuY29kZWQ+L2dpLEk9Lyg8XFwvPykoKD86b2JqZWN0fGVtYmVkfHBhcmFtfGh0bWx8Ym9keXxoZWFkfHRpdGxlKVtePl0qPikvZ2ksSD0vKDxcXC8/KWNrZTooKD86aHRtbHxib2R5fGhlYWR8dGl0bGUpW14+XSo+KS9naSxSPS88Y2tlOihwYXJhbXxlbWJlZCkoW14+XSo/KVxcLz8+KD8hXFxzKjxcXC9ja2U6XFwxKS9naX0oKSxcInVzZSBzdHJpY3RcIixDS0VESVRPUi5odG1sUGFyc2VyLmVsZW1lbnQ9XG5mdW5jdGlvbihhLGYpe3RoaXMubmFtZT1hO3RoaXMuYXR0cmlidXRlcz1mfHx7fTt0aGlzLmNoaWxkcmVuPVtdO3ZhciBiPWF8fFwiXCIsYz1iLm1hdGNoKC9eY2tlOiguKikvKTtjJiYoYj1jWzFdKTtiPSEhKENLRURJVE9SLmR0ZC4kbm9uQm9keUNvbnRlbnRbYl18fENLRURJVE9SLmR0ZC4kYmxvY2tbYl18fENLRURJVE9SLmR0ZC4kbGlzdEl0ZW1bYl18fENLRURJVE9SLmR0ZC4kdGFibGVDb250ZW50W2JdfHxDS0VESVRPUi5kdGQuJG5vbkVkaXRhYmxlW2JdfHxcImJyXCI9PWIpO3RoaXMuaXNFbXB0eT0hIUNLRURJVE9SLmR0ZC4kZW1wdHlbYV07dGhpcy5pc1Vua25vd249IUNLRURJVE9SLmR0ZFthXTt0aGlzLl89e2lzQmxvY2tMaWtlOmIsaGFzSW5saW5lU3RhcnRlZDp0aGlzLmlzRW1wdHl8fCFifX0sQ0tFRElUT1IuaHRtbFBhcnNlci5jc3NTdHlsZT1mdW5jdGlvbihhKXt2YXIgZj17fTsoKGEgaW5zdGFuY2VvZiBDS0VESVRPUi5odG1sUGFyc2VyLmVsZW1lbnQ/YS5hdHRyaWJ1dGVzLnN0eWxlOlxuYSl8fFwiXCIpLnJlcGxhY2UoLyZxdW90Oy9nLCdcIicpLnJlcGxhY2UoL1xccyooW14gOjtdKylcXHMqOlxccyooW147XSspXFxzKig/PTt8JCkvZyxmdW5jdGlvbihhLGMsZSl7XCJmb250LWZhbWlseVwiPT1jJiYoZT1lLnJlcGxhY2UoL1tcIiddL2csXCJcIikpO2ZbYy50b0xvd2VyQ2FzZSgpXT1lfSk7cmV0dXJue3J1bGVzOmYscG9wdWxhdGU6ZnVuY3Rpb24oYSl7dmFyIGM9dGhpcy50b1N0cmluZygpO2MmJihhIGluc3RhbmNlb2YgQ0tFRElUT1IuZG9tLmVsZW1lbnQ/YS5zZXRBdHRyaWJ1dGUoXCJzdHlsZVwiLGMpOmEgaW5zdGFuY2VvZiBDS0VESVRPUi5odG1sUGFyc2VyLmVsZW1lbnQ/YS5hdHRyaWJ1dGVzLnN0eWxlPWM6YS5zdHlsZT1jKX0sdG9TdHJpbmc6ZnVuY3Rpb24oKXt2YXIgYT1bXSxjO2ZvcihjIGluIGYpZltjXSYmYS5wdXNoKGMsXCI6XCIsZltjXSxcIjtcIik7cmV0dXJuIGEuam9pbihcIlwiKX19fSxmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSl7cmV0dXJuIGZ1bmN0aW9uKGIpe3JldHVybiBiLnR5cGU9PVxuQ0tFRElUT1IuTk9ERV9FTEVNRU5UJiYoXCJzdHJpbmdcIj09dHlwZW9mIGE/Yi5uYW1lPT1hOmIubmFtZSBpbiBhKX19dmFyIGY9ZnVuY3Rpb24oYSxiKXthPWFbMF07Yj1iWzBdO3JldHVybiBhPGI/LTE6YT5iPzE6MH0sYj1DS0VESVRPUi5odG1sUGFyc2VyLmZyYWdtZW50LnByb3RvdHlwZTtDS0VESVRPUi5odG1sUGFyc2VyLmVsZW1lbnQucHJvdG90eXBlPUNLRURJVE9SLnRvb2xzLmV4dGVuZChuZXcgQ0tFRElUT1IuaHRtbFBhcnNlci5ub2RlLHt0eXBlOkNLRURJVE9SLk5PREVfRUxFTUVOVCxhZGQ6Yi5hZGQsY2xvbmU6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IENLRURJVE9SLmh0bWxQYXJzZXIuZWxlbWVudCh0aGlzLm5hbWUsdGhpcy5hdHRyaWJ1dGVzKX0sZmlsdGVyOmZ1bmN0aW9uKGEsYil7dmFyIGY9dGhpcyxsLGQ7Yj1mLmdldEZpbHRlckNvbnRleHQoYik7aWYoYi5vZmYpcmV0dXJuITA7aWYoIWYucGFyZW50KWEub25Sb290KGIsZik7Zm9yKDs7KXtsPWYubmFtZTtpZighKGQ9XG5hLm9uRWxlbWVudE5hbWUoYixsKSkpcmV0dXJuIHRoaXMucmVtb3ZlKCksITE7Zi5uYW1lPWQ7aWYoIShmPWEub25FbGVtZW50KGIsZikpKXJldHVybiB0aGlzLnJlbW92ZSgpLCExO2lmKGYhPT10aGlzKXJldHVybiB0aGlzLnJlcGxhY2VXaXRoKGYpLCExO2lmKGYubmFtZT09bClicmVhaztpZihmLnR5cGUhPUNLRURJVE9SLk5PREVfRUxFTUVOVClyZXR1cm4gdGhpcy5yZXBsYWNlV2l0aChmKSwhMTtpZighZi5uYW1lKXJldHVybiB0aGlzLnJlcGxhY2VXaXRoQ2hpbGRyZW4oKSwhMX1sPWYuYXR0cmlidXRlczt2YXIgaCxrO2ZvcihoIGluIGwpe2ZvcihkPWxbaF07OylpZihrPWEub25BdHRyaWJ1dGVOYW1lKGIsaCkpaWYoayE9aClkZWxldGUgbFtoXSxoPWs7ZWxzZSBicmVhaztlbHNle2RlbGV0ZSBsW2hdO2JyZWFrfWsmJighMT09PShkPWEub25BdHRyaWJ1dGUoYixmLGssZCkpP2RlbGV0ZSBsW2tdOmxba109ZCl9Zi5pc0VtcHR5fHx0aGlzLmZpbHRlckNoaWxkcmVuKGEsITEsXG5iKTtyZXR1cm4hMH0sZmlsdGVyQ2hpbGRyZW46Yi5maWx0ZXJDaGlsZHJlbix3cml0ZUh0bWw6ZnVuY3Rpb24oYSxiKXtiJiZ0aGlzLmZpbHRlcihiKTt2YXIgbT10aGlzLm5hbWUsbD1bXSxkPXRoaXMuYXR0cmlidXRlcyxoLGs7YS5vcGVuVGFnKG0sZCk7Zm9yKGggaW4gZClsLnB1c2goW2gsZFtoXV0pO2Euc29ydEF0dHJpYnV0ZXMmJmwuc29ydChmKTtoPTA7Zm9yKGs9bC5sZW5ndGg7aDxrO2grKylkPWxbaF0sYS5hdHRyaWJ1dGUoZFswXSxkWzFdKTthLm9wZW5UYWdDbG9zZShtLHRoaXMuaXNFbXB0eSk7dGhpcy53cml0ZUNoaWxkcmVuSHRtbChhKTt0aGlzLmlzRW1wdHl8fGEuY2xvc2VUYWcobSl9LHdyaXRlQ2hpbGRyZW5IdG1sOmIud3JpdGVDaGlsZHJlbkh0bWwscmVwbGFjZVdpdGhDaGlsZHJlbjpmdW5jdGlvbigpe2Zvcih2YXIgYT10aGlzLmNoaWxkcmVuLGI9YS5sZW5ndGg7YjspYVstLWJdLmluc2VydEFmdGVyKHRoaXMpO3RoaXMucmVtb3ZlKCl9LGZvckVhY2g6Yi5mb3JFYWNoLFxuZ2V0Rmlyc3Q6ZnVuY3Rpb24oYil7aWYoIWIpcmV0dXJuIHRoaXMuY2hpbGRyZW4ubGVuZ3RoP3RoaXMuY2hpbGRyZW5bMF06bnVsbDtcImZ1bmN0aW9uXCIhPXR5cGVvZiBiJiYoYj1hKGIpKTtmb3IodmFyIGU9MCxmPXRoaXMuY2hpbGRyZW4ubGVuZ3RoO2U8ZjsrK2UpaWYoYih0aGlzLmNoaWxkcmVuW2VdKSlyZXR1cm4gdGhpcy5jaGlsZHJlbltlXTtyZXR1cm4gbnVsbH0sZ2V0SHRtbDpmdW5jdGlvbigpe3ZhciBhPW5ldyBDS0VESVRPUi5odG1sUGFyc2VyLmJhc2ljV3JpdGVyO3RoaXMud3JpdGVDaGlsZHJlbkh0bWwoYSk7cmV0dXJuIGEuZ2V0SHRtbCgpfSxzZXRIdG1sOmZ1bmN0aW9uKGEpe2E9dGhpcy5jaGlsZHJlbj1DS0VESVRPUi5odG1sUGFyc2VyLmZyYWdtZW50LmZyb21IdG1sKGEpLmNoaWxkcmVuO2Zvcih2YXIgYj0wLGY9YS5sZW5ndGg7YjxmOysrYilhW2JdLnBhcmVudD10aGlzfSxnZXRPdXRlckh0bWw6ZnVuY3Rpb24oKXt2YXIgYT1uZXcgQ0tFRElUT1IuaHRtbFBhcnNlci5iYXNpY1dyaXRlcjtcbnRoaXMud3JpdGVIdG1sKGEpO3JldHVybiBhLmdldEh0bWwoKX0sc3BsaXQ6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPXRoaXMuY2hpbGRyZW4uc3BsaWNlKGEsdGhpcy5jaGlsZHJlbi5sZW5ndGgtYSksZj10aGlzLmNsb25lKCksbD0wO2w8Yi5sZW5ndGg7KytsKWJbbF0ucGFyZW50PWY7Zi5jaGlsZHJlbj1iO2JbMF0mJihiWzBdLnByZXZpb3VzPW51bGwpOzA8YSYmKHRoaXMuY2hpbGRyZW5bYS0xXS5uZXh0PW51bGwpO3RoaXMucGFyZW50LmFkZChmLHRoaXMuZ2V0SW5kZXgoKSsxKTtyZXR1cm4gZn0sZmluZDpmdW5jdGlvbihhLGIpe3ZvaWQgMD09PWImJihiPSExKTt2YXIgZj1bXSxsO2ZvcihsPTA7bDx0aGlzLmNoaWxkcmVuLmxlbmd0aDtsKyspe3ZhciBkPXRoaXMuY2hpbGRyZW5bbF07XCJmdW5jdGlvblwiPT10eXBlb2YgYSYmYShkKT9mLnB1c2goZCk6XCJzdHJpbmdcIj09dHlwZW9mIGEmJmQubmFtZT09PWEmJmYucHVzaChkKTtiJiZkLmZpbmQmJihmPWYuY29uY2F0KGQuZmluZChhLFxuYikpKX1yZXR1cm4gZn0sYWRkQ2xhc3M6ZnVuY3Rpb24oYSl7aWYoIXRoaXMuaGFzQ2xhc3MoYSkpe3ZhciBiPXRoaXMuYXR0cmlidXRlc1tcImNsYXNzXCJdfHxcIlwiO3RoaXMuYXR0cmlidXRlc1tcImNsYXNzXCJdPWIrKGI/XCIgXCI6XCJcIikrYX19LHJlbW92ZUNsYXNzOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuYXR0cmlidXRlc1tcImNsYXNzXCJdO2ImJigoYj1DS0VESVRPUi50b29scy50cmltKGIucmVwbGFjZShuZXcgUmVnRXhwKFwiKD86XFxcXHMrfF4pXCIrYStcIig/OlxcXFxzK3wkKVwiKSxcIiBcIikpKT90aGlzLmF0dHJpYnV0ZXNbXCJjbGFzc1wiXT1iOmRlbGV0ZSB0aGlzLmF0dHJpYnV0ZXNbXCJjbGFzc1wiXSl9LGhhc0NsYXNzOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuYXR0cmlidXRlc1tcImNsYXNzXCJdO3JldHVybiBiPyhuZXcgUmVnRXhwKFwiKD86XnxcXFxccylcIithK1wiKD9cXHgzZFxcXFxzfCQpXCIpKS50ZXN0KGIpOiExfSxnZXRGaWx0ZXJDb250ZXh0OmZ1bmN0aW9uKGEpe3ZhciBiPVtdO2F8fChhPXtvZmY6ITEsXG5ub25FZGl0YWJsZTohMSxuZXN0ZWRFZGl0YWJsZTohMX0pO2Eub2ZmfHxcIm9mZlwiIT10aGlzLmF0dHJpYnV0ZXNbXCJkYXRhLWNrZS1wcm9jZXNzb3JcIl18fGIucHVzaChcIm9mZlwiLCEwKTthLm5vbkVkaXRhYmxlfHxcImZhbHNlXCIhPXRoaXMuYXR0cmlidXRlcy5jb250ZW50ZWRpdGFibGU/YS5ub25FZGl0YWJsZSYmIWEubmVzdGVkRWRpdGFibGUmJlwidHJ1ZVwiPT10aGlzLmF0dHJpYnV0ZXMuY29udGVudGVkaXRhYmxlJiZiLnB1c2goXCJuZXN0ZWRFZGl0YWJsZVwiLCEwKTpiLnB1c2goXCJub25FZGl0YWJsZVwiLCEwKTtpZihiLmxlbmd0aCl7YT1DS0VESVRPUi50b29scy5jb3B5KGEpO2Zvcih2YXIgZj0wO2Y8Yi5sZW5ndGg7Zis9MilhW2JbZl1dPWJbZisxXX1yZXR1cm4gYX19LCEwKX0oKSxmdW5jdGlvbigpe3ZhciBhPXt9LGY9L3soW159XSspfS9nLGI9LyhbXFxcXCddKS9nLGM9L1xcbi9nLGU9L1xcci9nO0NLRURJVE9SLnRlbXBsYXRlPWZ1bmN0aW9uKG0pe2lmKGFbbV0pdGhpcy5vdXRwdXQ9XG5hW21dO2Vsc2V7dmFyIGw9bS5yZXBsYWNlKGIsXCJcXFxcJDFcIikucmVwbGFjZShjLFwiXFxcXG5cIikucmVwbGFjZShlLFwiXFxcXHJcIikucmVwbGFjZShmLGZ1bmN0aW9uKGEsYil7cmV0dXJuXCInLGRhdGFbJ1wiK2IrXCInXVxceDNkXFx4M2R1bmRlZmluZWQ/J3tcIitiK1wifSc6ZGF0YVsnXCIrYitcIiddLCdcIn0pO3RoaXMub3V0cHV0PWFbbV09RnVuY3Rpb24oXCJkYXRhXCIsXCJidWZmZXJcIixcInJldHVybiBidWZmZXI/YnVmZmVyLnB1c2goJ1wiK2wrXCInKTpbJ1wiK2wrXCInXS5qb2luKCcnKTtcIil9fX0oKSxkZWxldGUgQ0tFRElUT1IubG9hZEZ1bGxDb3JlLENLRURJVE9SLmluc3RhbmNlcz17fSxDS0VESVRPUi5kb2N1bWVudD1uZXcgQ0tFRElUT1IuZG9tLmRvY3VtZW50KGRvY3VtZW50KSxDS0VESVRPUi5hZGQ9ZnVuY3Rpb24oYSl7Q0tFRElUT1IuaW5zdGFuY2VzW2EubmFtZV09YTthLm9uKFwiZm9jdXNcIixmdW5jdGlvbigpe0NLRURJVE9SLmN1cnJlbnRJbnN0YW5jZSE9YSYmKENLRURJVE9SLmN1cnJlbnRJbnN0YW5jZT1cbmEsQ0tFRElUT1IuZmlyZShcImN1cnJlbnRJbnN0YW5jZVwiKSl9KTthLm9uKFwiYmx1clwiLGZ1bmN0aW9uKCl7Q0tFRElUT1IuY3VycmVudEluc3RhbmNlPT1hJiYoQ0tFRElUT1IuY3VycmVudEluc3RhbmNlPW51bGwsQ0tFRElUT1IuZmlyZShcImN1cnJlbnRJbnN0YW5jZVwiKSl9KTtDS0VESVRPUi5maXJlKFwiaW5zdGFuY2VcIixudWxsLGEpfSxDS0VESVRPUi5yZW1vdmU9ZnVuY3Rpb24oYSl7ZGVsZXRlIENLRURJVE9SLmluc3RhbmNlc1thLm5hbWVdfSxmdW5jdGlvbigpe3ZhciBhPXt9O0NLRURJVE9SLmFkZFRlbXBsYXRlPWZ1bmN0aW9uKGYsYil7dmFyIGM9YVtmXTtpZihjKXJldHVybiBjO2M9e25hbWU6Zixzb3VyY2U6Yn07Q0tFRElUT1IuZmlyZShcInRlbXBsYXRlXCIsYyk7cmV0dXJuIGFbZl09bmV3IENLRURJVE9SLnRlbXBsYXRlKGMuc291cmNlKX07Q0tFRElUT1IuZ2V0VGVtcGxhdGU9ZnVuY3Rpb24oZil7cmV0dXJuIGFbZl19fSgpLGZ1bmN0aW9uKCl7dmFyIGE9W107Q0tFRElUT1IuYWRkQ3NzPVxuZnVuY3Rpb24oZil7YS5wdXNoKGYpfTtDS0VESVRPUi5nZXRDc3M9ZnVuY3Rpb24oKXtyZXR1cm4gYS5qb2luKFwiXFxuXCIpfX0oKSxDS0VESVRPUi5vbihcImluc3RhbmNlRGVzdHJveWVkXCIsZnVuY3Rpb24oKXtDS0VESVRPUi50b29scy5pc0VtcHR5KHRoaXMuaW5zdGFuY2VzKSYmQ0tFRElUT1IuZmlyZShcInJlc2V0XCIpfSksQ0tFRElUT1IuVFJJU1RBVEVfT049MSxDS0VESVRPUi5UUklTVEFURV9PRkY9MixDS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRD0wLGZ1bmN0aW9uKCl7Q0tFRElUT1IuaW5saW5lPWZ1bmN0aW9uKGEsZil7aWYoIUNLRURJVE9SLmVudi5pc0NvbXBhdGlibGUpcmV0dXJuIG51bGw7YT1DS0VESVRPUi5kb20uZWxlbWVudC5nZXQoYSk7aWYoYS5nZXRFZGl0b3IoKSl0aHJvdydUaGUgZWRpdG9yIGluc3RhbmNlIFwiJythLmdldEVkaXRvcigpLm5hbWUrJ1wiIGlzIGFscmVhZHkgYXR0YWNoZWQgdG8gdGhlIHByb3ZpZGVkIGVsZW1lbnQuJzt2YXIgYj1uZXcgQ0tFRElUT1IuZWRpdG9yKGYsXG5hLENLRURJVE9SLkVMRU1FTlRfTU9ERV9JTkxJTkUpLGM9YS5pcyhcInRleHRhcmVhXCIpP2E6bnVsbDtjPyhiLnNldERhdGEoYy5nZXRWYWx1ZSgpLG51bGwsITApLGE9Q0tFRElUT1IuZG9tLmVsZW1lbnQuY3JlYXRlRnJvbUh0bWwoJ1xceDNjZGl2IGNvbnRlbnRlZGl0YWJsZVxceDNkXCInKyEhYi5yZWFkT25seSsnXCIgY2xhc3NcXHgzZFwiY2tlX3RleHRhcmVhX2lubGluZVwiXFx4M2UnK2MuZ2V0VmFsdWUoKStcIlxceDNjL2RpdlxceDNlXCIsQ0tFRElUT1IuZG9jdW1lbnQpLGEuaW5zZXJ0QWZ0ZXIoYyksYy5oaWRlKCksYy4kLmZvcm0mJmIuX2F0dGFjaFRvRm9ybSgpKTpiLnNldERhdGEoYS5nZXRIdG1sKCksbnVsbCwhMCk7Yi5vbihcImxvYWRlZFwiLGZ1bmN0aW9uKCl7Yi5maXJlKFwidWlSZWFkeVwiKTtiLmVkaXRhYmxlKGEpO2IuY29udGFpbmVyPWE7Yi51aS5jb250ZW50c0VsZW1lbnQ9YTtiLnNldERhdGEoYi5nZXREYXRhKDEpKTtiLnJlc2V0RGlydHkoKTtiLmZpcmUoXCJjb250ZW50RG9tXCIpO1xuYi5tb2RlPVwid3lzaXd5Z1wiO2IuZmlyZShcIm1vZGVcIik7Yi5zdGF0dXM9XCJyZWFkeVwiO2IuZmlyZU9uY2UoXCJpbnN0YW5jZVJlYWR5XCIpO0NLRURJVE9SLmZpcmUoXCJpbnN0YW5jZVJlYWR5XCIsbnVsbCxiKX0sbnVsbCxudWxsLDFFNCk7Yi5vbihcImRlc3Ryb3lcIixmdW5jdGlvbigpe2MmJihiLmNvbnRhaW5lci5jbGVhckN1c3RvbURhdGEoKSxiLmNvbnRhaW5lci5yZW1vdmUoKSxjLnNob3coKSk7Yi5lbGVtZW50LmNsZWFyQ3VzdG9tRGF0YSgpO2RlbGV0ZSBiLmVsZW1lbnR9KTtyZXR1cm4gYn07Q0tFRElUT1IuaW5saW5lQWxsPWZ1bmN0aW9uKCl7dmFyIGEsZixiO2ZvcihiIGluIENLRURJVE9SLmR0ZC4kZWRpdGFibGUpZm9yKHZhciBjPUNLRURJVE9SLmRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWcoYiksZT0wLG09Yy5jb3VudCgpO2U8bTtlKyspYT1jLmdldEl0ZW0oZSksXCJ0cnVlXCI9PWEuZ2V0QXR0cmlidXRlKFwiY29udGVudGVkaXRhYmxlXCIpJiYoZj17ZWxlbWVudDphLGNvbmZpZzp7fX0sXG4hMSE9PUNLRURJVE9SLmZpcmUoXCJpbmxpbmVcIixmKSYmQ0tFRElUT1IuaW5saW5lKGEsZi5jb25maWcpKX07Q0tFRElUT1IuZG9tUmVhZHkoZnVuY3Rpb24oKXshQ0tFRElUT1IuZGlzYWJsZUF1dG9JbmxpbmUmJkNLRURJVE9SLmlubGluZUFsbCgpfSl9KCksQ0tFRElUT1IucmVwbGFjZUNsYXNzPVwiY2tlZGl0b3JcIixmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSxlLG0sbCl7aWYoIUNLRURJVE9SLmVudi5pc0NvbXBhdGlibGUpcmV0dXJuIG51bGw7YT1DS0VESVRPUi5kb20uZWxlbWVudC5nZXQoYSk7aWYoYS5nZXRFZGl0b3IoKSl0aHJvdydUaGUgZWRpdG9yIGluc3RhbmNlIFwiJythLmdldEVkaXRvcigpLm5hbWUrJ1wiIGlzIGFscmVhZHkgYXR0YWNoZWQgdG8gdGhlIHByb3ZpZGVkIGVsZW1lbnQuJzt2YXIgZD1uZXcgQ0tFRElUT1IuZWRpdG9yKGUsYSxsKTtsPT1DS0VESVRPUi5FTEVNRU5UX01PREVfUkVQTEFDRSYmKGEuc2V0U3R5bGUoXCJ2aXNpYmlsaXR5XCIsXCJoaWRkZW5cIiksZC5fLnJlcXVpcmVkPVxuYS5oYXNBdHRyaWJ1dGUoXCJyZXF1aXJlZFwiKSxhLnJlbW92ZUF0dHJpYnV0ZShcInJlcXVpcmVkXCIpKTttJiZkLnNldERhdGEobSxudWxsLCEwKTtkLm9uKFwibG9hZGVkXCIsZnVuY3Rpb24oKXtiKGQpO2w9PUNLRURJVE9SLkVMRU1FTlRfTU9ERV9SRVBMQUNFJiZkLmNvbmZpZy5hdXRvVXBkYXRlRWxlbWVudCYmYS4kLmZvcm0mJmQuX2F0dGFjaFRvRm9ybSgpO2Quc2V0TW9kZShkLmNvbmZpZy5zdGFydHVwTW9kZSxmdW5jdGlvbigpe2QucmVzZXREaXJ0eSgpO2Quc3RhdHVzPVwicmVhZHlcIjtkLmZpcmVPbmNlKFwiaW5zdGFuY2VSZWFkeVwiKTtDS0VESVRPUi5maXJlKFwiaW5zdGFuY2VSZWFkeVwiLG51bGwsZCl9KX0pO2Qub24oXCJkZXN0cm95XCIsZik7cmV0dXJuIGR9ZnVuY3Rpb24gZigpe3ZhciBhPXRoaXMuY29udGFpbmVyLGI9dGhpcy5lbGVtZW50O2EmJihhLmNsZWFyQ3VzdG9tRGF0YSgpLGEucmVtb3ZlKCkpO2ImJihiLmNsZWFyQ3VzdG9tRGF0YSgpLHRoaXMuZWxlbWVudE1vZGU9PUNLRURJVE9SLkVMRU1FTlRfTU9ERV9SRVBMQUNFJiZcbihiLnNob3coKSx0aGlzLl8ucmVxdWlyZWQmJmIuc2V0QXR0cmlidXRlKFwicmVxdWlyZWRcIixcInJlcXVpcmVkXCIpKSxkZWxldGUgdGhpcy5lbGVtZW50KX1mdW5jdGlvbiBiKGEpe3ZhciBiPWEubmFtZSxmPWEuZWxlbWVudCxsPWEuZWxlbWVudE1vZGUsZD1hLmZpcmUoXCJ1aVNwYWNlXCIse3NwYWNlOlwidG9wXCIsaHRtbDpcIlwifSkuaHRtbCxoPWEuZmlyZShcInVpU3BhY2VcIix7c3BhY2U6XCJib3R0b21cIixodG1sOlwiXCJ9KS5odG1sLGs9bmV3IENLRURJVE9SLnRlbXBsYXRlKCdcXHgzY3tvdXRlckVsfSBpZFxceDNkXCJja2Vfe25hbWV9XCIgY2xhc3NcXHgzZFwie2lkfSBja2UgY2tlX3Jlc2V0IGNrZV9jaHJvbWUgY2tlX2VkaXRvcl97bmFtZX0gY2tlX3tsYW5nRGlyfSAnK0NLRURJVE9SLmVudi5jc3NDbGFzcysnXCIgIGRpclxceDNkXCJ7bGFuZ0Rpcn1cIiBsYW5nXFx4M2RcIntsYW5nQ29kZX1cIiByb2xlXFx4M2RcImFwcGxpY2F0aW9uXCInKyhhLnRpdGxlPycgYXJpYS1sYWJlbGxlZGJ5XFx4M2RcImNrZV97bmFtZX1fYXJpYWxibFwiJzpcblwiXCIpK1wiXFx4M2VcIisoYS50aXRsZT8nXFx4M2NzcGFuIGlkXFx4M2RcImNrZV97bmFtZX1fYXJpYWxibFwiIGNsYXNzXFx4M2RcImNrZV92b2ljZV9sYWJlbFwiXFx4M2V7dm9pY2VMYWJlbH1cXHgzYy9zcGFuXFx4M2UnOlwiXCIpKydcXHgzY3tvdXRlckVsfSBjbGFzc1xceDNkXCJja2VfaW5uZXIgY2tlX3Jlc2V0XCIgcm9sZVxceDNkXCJwcmVzZW50YXRpb25cIlxceDNle3RvcEh0bWx9XFx4M2N7b3V0ZXJFbH0gaWRcXHgzZFwie2NvbnRlbnRJZH1cIiBjbGFzc1xceDNkXCJja2VfY29udGVudHMgY2tlX3Jlc2V0XCIgcm9sZVxceDNkXCJwcmVzZW50YXRpb25cIlxceDNlXFx4M2Mve291dGVyRWx9XFx4M2V7Ym90dG9tSHRtbH1cXHgzYy97b3V0ZXJFbH1cXHgzZVxceDNjL3tvdXRlckVsfVxceDNlJyksYj1DS0VESVRPUi5kb20uZWxlbWVudC5jcmVhdGVGcm9tSHRtbChrLm91dHB1dCh7aWQ6YS5pZCxuYW1lOmIsbGFuZ0RpcjphLmxhbmcuZGlyLGxhbmdDb2RlOmEubGFuZ0NvZGUsdm9pY2VMYWJlbDphLnRpdGxlLHRvcEh0bWw6ZD8nXFx4M2NzcGFuIGlkXFx4M2RcIicrXG5hLnVpLnNwYWNlSWQoXCJ0b3BcIikrJ1wiIGNsYXNzXFx4M2RcImNrZV90b3AgY2tlX3Jlc2V0X2FsbFwiIHJvbGVcXHgzZFwicHJlc2VudGF0aW9uXCIgc3R5bGVcXHgzZFwiaGVpZ2h0OmF1dG9cIlxceDNlJytkK1wiXFx4M2Mvc3BhblxceDNlXCI6XCJcIixjb250ZW50SWQ6YS51aS5zcGFjZUlkKFwiY29udGVudHNcIiksYm90dG9tSHRtbDpoPydcXHgzY3NwYW4gaWRcXHgzZFwiJythLnVpLnNwYWNlSWQoXCJib3R0b21cIikrJ1wiIGNsYXNzXFx4M2RcImNrZV9ib3R0b20gY2tlX3Jlc2V0X2FsbFwiIHJvbGVcXHgzZFwicHJlc2VudGF0aW9uXCJcXHgzZScraCtcIlxceDNjL3NwYW5cXHgzZVwiOlwiXCIsb3V0ZXJFbDpDS0VESVRPUi5lbnYuaWU/XCJzcGFuXCI6XCJkaXZcIn0pKTtsPT1DS0VESVRPUi5FTEVNRU5UX01PREVfUkVQTEFDRT8oZi5oaWRlKCksYi5pbnNlcnRBZnRlcihmKSk6Zi5hcHBlbmQoYik7YS5jb250YWluZXI9YjthLnVpLmNvbnRlbnRzRWxlbWVudD1hLnVpLnNwYWNlKFwiY29udGVudHNcIik7ZCYmYS51aS5zcGFjZShcInRvcFwiKS51bnNlbGVjdGFibGUoKTtcbmgmJmEudWkuc3BhY2UoXCJib3R0b21cIikudW5zZWxlY3RhYmxlKCk7Zj1hLmNvbmZpZy53aWR0aDtsPWEuY29uZmlnLmhlaWdodDtmJiZiLnNldFN0eWxlKFwid2lkdGhcIixDS0VESVRPUi50b29scy5jc3NMZW5ndGgoZikpO2wmJmEudWkuc3BhY2UoXCJjb250ZW50c1wiKS5zZXRTdHlsZShcImhlaWdodFwiLENLRURJVE9SLnRvb2xzLmNzc0xlbmd0aChsKSk7Yi5kaXNhYmxlQ29udGV4dE1lbnUoKTtDS0VESVRPUi5lbnYud2Via2l0JiZiLm9uKFwiZm9jdXNcIixmdW5jdGlvbigpe2EuZm9jdXMoKX0pO2EuZmlyZU9uY2UoXCJ1aVJlYWR5XCIpfUNLRURJVE9SLnJlcGxhY2U9ZnVuY3Rpb24oYixlKXtyZXR1cm4gYShiLGUsbnVsbCxDS0VESVRPUi5FTEVNRU5UX01PREVfUkVQTEFDRSl9O0NLRURJVE9SLmFwcGVuZFRvPWZ1bmN0aW9uKGIsZSxmKXtyZXR1cm4gYShiLGUsZixDS0VESVRPUi5FTEVNRU5UX01PREVfQVBQRU5EVE8pfTtDS0VESVRPUi5yZXBsYWNlQWxsPWZ1bmN0aW9uKCl7Zm9yKHZhciBhPVxuZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJ0ZXh0YXJlYVwiKSxiPTA7YjxhLmxlbmd0aDtiKyspe3ZhciBmPW51bGwsbD1hW2JdO2lmKGwubmFtZXx8bC5pZCl7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGFyZ3VtZW50c1swXSl7aWYoIShuZXcgUmVnRXhwKFwiKD86XnxcXFxccylcIithcmd1bWVudHNbMF0rXCIoPzokfFxcXFxzKVwiKSkudGVzdChsLmNsYXNzTmFtZSkpY29udGludWV9ZWxzZSBpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBhcmd1bWVudHNbMF0mJihmPXt9LCExPT09YXJndW1lbnRzWzBdKGwsZikpKWNvbnRpbnVlO3RoaXMucmVwbGFjZShsLGYpfX19O0NLRURJVE9SLmVkaXRvci5wcm90b3R5cGUuYWRkTW9kZT1mdW5jdGlvbihhLGIpeyh0aGlzLl8ubW9kZXN8fCh0aGlzLl8ubW9kZXM9e30pKVthXT1ifTtDS0VESVRPUi5lZGl0b3IucHJvdG90eXBlLnNldE1vZGU9ZnVuY3Rpb24oYSxiKXt2YXIgZj10aGlzLGw9dGhpcy5fLm1vZGVzO2lmKGEhPWYubW9kZSYmbCYmbFthXSl7Zi5maXJlKFwiYmVmb3JlU2V0TW9kZVwiLFxuYSk7aWYoZi5tb2RlKXt2YXIgZD1mLmNoZWNrRGlydHkoKSxsPWYuXy5wcmV2aW91c01vZGVEYXRhLGgsaz0wO2YuZmlyZShcImJlZm9yZU1vZGVVbmxvYWRcIik7Zi5lZGl0YWJsZSgwKTtmLl8ucHJldmlvdXNNb2RlPWYubW9kZTtmLl8ucHJldmlvdXNNb2RlRGF0YT1oPWYuZ2V0RGF0YSgxKTtcInNvdXJjZVwiPT1mLm1vZGUmJmw9PWgmJihmLmZpcmUoXCJsb2NrU25hcHNob3RcIix7Zm9yY2VVcGRhdGU6ITB9KSxrPTEpO2YudWkuc3BhY2UoXCJjb250ZW50c1wiKS5zZXRIdG1sKFwiXCIpO2YubW9kZT1cIlwifWVsc2UgZi5fLnByZXZpb3VzTW9kZURhdGE9Zi5nZXREYXRhKDEpO3RoaXMuXy5tb2Rlc1thXShmdW5jdGlvbigpe2YubW9kZT1hO3ZvaWQgMCE9PWQmJiFkJiZmLnJlc2V0RGlydHkoKTtrP2YuZmlyZShcInVubG9ja1NuYXBzaG90XCIpOlwid3lzaXd5Z1wiPT1hJiZmLmZpcmUoXCJzYXZlU25hcHNob3RcIik7c2V0VGltZW91dChmdW5jdGlvbigpe2YuZmlyZShcIm1vZGVcIik7YiYmYi5jYWxsKGYpfSxcbjApfSl9fTtDS0VESVRPUi5lZGl0b3IucHJvdG90eXBlLnJlc2l6ZT1mdW5jdGlvbihhLGIsZixsKXt2YXIgZD10aGlzLmNvbnRhaW5lcixoPXRoaXMudWkuc3BhY2UoXCJjb250ZW50c1wiKSxrPUNLRURJVE9SLmVudi53ZWJraXQmJnRoaXMuZG9jdW1lbnQmJnRoaXMuZG9jdW1lbnQuZ2V0V2luZG93KCkuJC5mcmFtZUVsZW1lbnQ7bD1sP3RoaXMuY29udGFpbmVyLmdldEZpcnN0KGZ1bmN0aW9uKGEpe3JldHVybiBhLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmYS5oYXNDbGFzcyhcImNrZV9pbm5lclwiKX0pOmQ7bC5zZXRTaXplKFwid2lkdGhcIixhLCEwKTtrJiYoay5zdHlsZS53aWR0aD1cIjElXCIpO3ZhciBnPShsLiQub2Zmc2V0SGVpZ2h0fHwwKS0oaC4kLmNsaWVudEhlaWdodHx8MCksZD1NYXRoLm1heChiLShmPzA6ZyksMCk7Yj1mP2IrZzpiO2guc2V0U3R5bGUoXCJoZWlnaHRcIixkK1wicHhcIik7ayYmKGsuc3R5bGUud2lkdGg9XCIxMDAlXCIpO3RoaXMuZmlyZShcInJlc2l6ZVwiLHtvdXRlckhlaWdodDpiLFxuY29udGVudHNIZWlnaHQ6ZCxvdXRlcldpZHRoOmF8fGwuZ2V0U2l6ZShcIndpZHRoXCIpfSl9O0NLRURJVE9SLmVkaXRvci5wcm90b3R5cGUuZ2V0UmVzaXphYmxlPWZ1bmN0aW9uKGEpe3JldHVybiBhP3RoaXMudWkuc3BhY2UoXCJjb250ZW50c1wiKTp0aGlzLmNvbnRhaW5lcn07Q0tFRElUT1IuZG9tUmVhZHkoZnVuY3Rpb24oKXtDS0VESVRPUi5yZXBsYWNlQ2xhc3MmJkNLRURJVE9SLnJlcGxhY2VBbGwoQ0tFRElUT1IucmVwbGFjZUNsYXNzKX0pfSgpLENLRURJVE9SLmNvbmZpZy5zdGFydHVwTW9kZT1cInd5c2l3eWdcIixmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSl7dmFyIGI9YS5lZGl0b3IsZD1hLmRhdGEucGF0aCxlPWQuYmxvY2tMaW1pdCxnPWEuZGF0YS5zZWxlY3Rpb24saz1nLmdldFJhbmdlcygpWzBdLGg7aWYoQ0tFRElUT1IuZW52LmdlY2tvfHxDS0VESVRPUi5lbnYuaWUmJkNLRURJVE9SLmVudi5uZWVkc0JyRmlsbGVyKWlmKGc9ZihnLGQpKWcuYXBwZW5kQm9ndXMoKSxoPUNLRURJVE9SLmVudi5pZTtcbmwoYixkLmJsb2NrLGUpJiZrLmNvbGxhcHNlZCYmIWsuZ2V0Q29tbW9uQW5jZXN0b3IoKS5pc1JlYWRPbmx5KCkmJihkPWsuY2xvbmUoKSxkLmVubGFyZ2UoQ0tFRElUT1IuRU5MQVJHRV9CTE9DS19DT05URU5UUyksZT1uZXcgQ0tFRElUT1IuZG9tLndhbGtlcihkKSxlLmd1YXJkPWZ1bmN0aW9uKGEpe3JldHVybiFjKGEpfHxhLnR5cGU9PUNLRURJVE9SLk5PREVfQ09NTUVOVHx8YS5pc1JlYWRPbmx5KCl9LCFlLmNoZWNrRm9yd2FyZCgpfHxkLmNoZWNrU3RhcnRPZkJsb2NrKCkmJmQuY2hlY2tFbmRPZkJsb2NrKCkpJiYoYj1rLmZpeEJsb2NrKCEwLGIuYWN0aXZlRW50ZXJNb2RlPT1DS0VESVRPUi5FTlRFUl9ESVY/XCJkaXZcIjpcInBcIiksQ0tFRElUT1IuZW52Lm5lZWRzQnJGaWxsZXJ8fChiPWIuZ2V0Rmlyc3QoYykpJiZiLnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVCYmQ0tFRElUT1IudG9vbHMudHJpbShiLmdldFRleHQoKSkubWF0Y2goL14oPzombmJzcDt8XFx4YTApJC8pJiZiLnJlbW92ZSgpLFxuaD0xLGEuY2FuY2VsKCkpO2gmJmsuc2VsZWN0KCl9ZnVuY3Rpb24gZihhLGIpe2lmKGEuaXNGYWtlKXJldHVybiAwO3ZhciBkPWIuYmxvY2t8fGIuYmxvY2tMaW1pdCxlPWQmJmQuZ2V0TGFzdChjKTtpZighKCFkfHwhZC5pc0Jsb2NrQm91bmRhcnkoKXx8ZSYmZS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmUuaXNCbG9ja0JvdW5kYXJ5KCl8fGQuaXMoXCJwcmVcIil8fGQuZ2V0Qm9ndXMoKSkpcmV0dXJuIGR9ZnVuY3Rpb24gYihhKXt2YXIgYj1hLmRhdGEuZ2V0VGFyZ2V0KCk7Yi5pcyhcImlucHV0XCIpJiYoYj1iLmdldEF0dHJpYnV0ZShcInR5cGVcIiksXCJzdWJtaXRcIiE9YiYmXCJyZXNldFwiIT1ifHxhLmRhdGEucHJldmVudERlZmF1bHQoKSl9ZnVuY3Rpb24gYyhhKXtyZXR1cm4gZyhhKSYmbihhKX1mdW5jdGlvbiBlKGEsYil7cmV0dXJuIGZ1bmN0aW9uKGMpe3ZhciBkPWMuZGF0YS4kLnRvRWxlbWVudHx8Yy5kYXRhLiQuZnJvbUVsZW1lbnR8fGMuZGF0YS4kLnJlbGF0ZWRUYXJnZXQ7XG4oZD1kJiZkLm5vZGVUeXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQ/bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KGQpOm51bGwpJiYoYi5lcXVhbHMoZCl8fGIuY29udGFpbnMoZCkpfHxhLmNhbGwodGhpcyxjKX19ZnVuY3Rpb24gbShhKXtmdW5jdGlvbiBiKGEpe3JldHVybiBmdW5jdGlvbihiLGUpe2UmJmIudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZiLmlzKGcpJiYoZD1iKTtpZighKGV8fCFjKGIpfHxhJiZwKGIpKSlyZXR1cm4hMX19dmFyIGQsZT1hLmdldFJhbmdlcygpWzBdO2E9YS5yb290O3ZhciBnPXt0YWJsZToxLHVsOjEsb2w6MSxkbDoxfTtpZihlLnN0YXJ0UGF0aCgpLmNvbnRhaW5zKGcpKXt2YXIgZj1lLmNsb25lKCk7Zi5jb2xsYXBzZSgxKTtmLnNldFN0YXJ0QXQoYSxDS0VESVRPUi5QT1NJVElPTl9BRlRFUl9TVEFSVCk7YT1uZXcgQ0tFRElUT1IuZG9tLndhbGtlcihmKTthLmd1YXJkPWIoKTthLmNoZWNrQmFja3dhcmQoKTtpZihkKXJldHVybiBmPWUuY2xvbmUoKSxcbmYuY29sbGFwc2UoKSxmLnNldEVuZEF0KGQsQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfRU5EKSxhPW5ldyBDS0VESVRPUi5kb20ud2Fsa2VyKGYpLGEuZ3VhcmQ9YighMCksZD0hMSxhLmNoZWNrRm9yd2FyZCgpLGR9cmV0dXJuIG51bGx9ZnVuY3Rpb24gbChhLGIsYyl7cmV0dXJuITEhPT1hLmNvbmZpZy5hdXRvUGFyYWdyYXBoJiZhLmFjdGl2ZUVudGVyTW9kZSE9Q0tFRElUT1IuRU5URVJfQlImJihhLmVkaXRhYmxlKCkuZXF1YWxzKGMpJiYhYnx8YiYmXCJ0cnVlXCI9PWIuZ2V0QXR0cmlidXRlKFwiY29udGVudGVkaXRhYmxlXCIpKX1mdW5jdGlvbiBkKGEpe3JldHVybiBhLmFjdGl2ZUVudGVyTW9kZSE9Q0tFRElUT1IuRU5URVJfQlImJiExIT09YS5jb25maWcuYXV0b1BhcmFncmFwaD9hLmFjdGl2ZUVudGVyTW9kZT09Q0tFRElUT1IuRU5URVJfRElWP1wiZGl2XCI6XCJwXCI6ITF9ZnVuY3Rpb24gaChhKXt2YXIgYj1hLmVkaXRvcjtiLmdldFNlbGVjdGlvbigpLnNjcm9sbEludG9WaWV3KCk7XG5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Yi5maXJlKFwic2F2ZVNuYXBzaG90XCIpfSwwKX1mdW5jdGlvbiBrKGEsYixjKXt2YXIgZD1hLmdldENvbW1vbkFuY2VzdG9yKGIpO2ZvcihiPWE9Yz9iOmE7KGE9YS5nZXRQYXJlbnQoKSkmJiFkLmVxdWFscyhhKSYmMT09YS5nZXRDaGlsZENvdW50KCk7KWI9YTtiLnJlbW92ZSgpfXZhciBnLG4scSxwLHQsdixyLHUsQjtDS0VESVRPUi5lZGl0YWJsZT1DS0VESVRPUi50b29scy5jcmVhdGVDbGFzcyh7YmFzZTpDS0VESVRPUi5kb20uZWxlbWVudCwkOmZ1bmN0aW9uKGEsYil7dGhpcy5iYXNlKGIuJHx8Yik7dGhpcy5lZGl0b3I9YTt0aGlzLnN0YXR1cz1cInVubG9hZGVkXCI7dGhpcy5oYXNGb2N1cz0hMTt0aGlzLnNldHVwKCl9LHByb3RvOntmb2N1czpmdW5jdGlvbigpe3ZhciBhO2lmKENLRURJVE9SLmVudi53ZWJraXQmJiF0aGlzLmhhc0ZvY3VzJiYoYT10aGlzLmVkaXRvci5fLnByZXZpb3VzQWN0aXZlfHx0aGlzLmdldERvY3VtZW50KCkuZ2V0QWN0aXZlKCksXG50aGlzLmNvbnRhaW5zKGEpKSl7YS5mb2N1cygpO3JldHVybn1DS0VESVRPUi5lbnYuZWRnZSYmMTQ8Q0tFRElUT1IuZW52LnZlcnNpb24mJiF0aGlzLmhhc0ZvY3VzJiZ0aGlzLmdldERvY3VtZW50KCkuZXF1YWxzKENLRURJVE9SLmRvY3VtZW50KSYmKHRoaXMuZWRpdG9yLl8ucHJldmlvdXNTY3JvbGxUb3A9dGhpcy4kLnNjcm9sbFRvcCk7dHJ5eyFDS0VESVRPUi5lbnYuaWV8fENLRURJVE9SLmVudi5lZGdlJiYxNDxDS0VESVRPUi5lbnYudmVyc2lvbnx8IXRoaXMuZ2V0RG9jdW1lbnQoKS5lcXVhbHMoQ0tFRElUT1IuZG9jdW1lbnQpP3RoaXMuJC5mb2N1cygpOnRoaXMuJC5zZXRBY3RpdmUoKX1jYXRjaChiKXtpZighQ0tFRElUT1IuZW52LmllKXRocm93IGI7fUNLRURJVE9SLmVudi5zYWZhcmkmJiF0aGlzLmlzSW5saW5lKCkmJihhPUNLRURJVE9SLmRvY3VtZW50LmdldEFjdGl2ZSgpLGEuZXF1YWxzKHRoaXMuZ2V0V2luZG93KCkuZ2V0RnJhbWUoKSl8fHRoaXMuZ2V0V2luZG93KCkuZm9jdXMoKSl9LFxub246ZnVuY3Rpb24oYSxiKXt2YXIgYz1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMCk7Q0tFRElUT1IuZW52LmllJiYvXmZvY3VzfGJsdXIkLy5leGVjKGEpJiYoYT1cImZvY3VzXCI9PWE/XCJmb2N1c2luXCI6XCJmb2N1c291dFwiLGI9ZShiLHRoaXMpLGNbMF09YSxjWzFdPWIpO3JldHVybiBDS0VESVRPUi5kb20uZWxlbWVudC5wcm90b3R5cGUub24uYXBwbHkodGhpcyxjKX0sYXR0YWNoTGlzdGVuZXI6ZnVuY3Rpb24oYSl7IXRoaXMuXy5saXN0ZW5lcnMmJih0aGlzLl8ubGlzdGVuZXJzPVtdKTt2YXIgYj1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMSksYj1hLm9uLmFwcGx5KGEsYik7dGhpcy5fLmxpc3RlbmVycy5wdXNoKGIpO3JldHVybiBifSxjbGVhckxpc3RlbmVyczpmdW5jdGlvbigpe3ZhciBhPXRoaXMuXy5saXN0ZW5lcnM7dHJ5e2Zvcig7YS5sZW5ndGg7KWEucG9wKCkucmVtb3ZlTGlzdGVuZXIoKX1jYXRjaChiKXt9fSxyZXN0b3JlQXR0cnM6ZnVuY3Rpb24oKXt2YXIgYT1cbnRoaXMuXy5hdHRyQ2hhbmdlcyxiLGM7Zm9yKGMgaW4gYSlhLmhhc093blByb3BlcnR5KGMpJiYoYj1hW2NdLG51bGwhPT1iP3RoaXMuc2V0QXR0cmlidXRlKGMsYik6dGhpcy5yZW1vdmVBdHRyaWJ1dGUoYykpfSxhdHRhY2hDbGFzczpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmdldEN1c3RvbURhdGEoXCJjbGFzc2VzXCIpO3RoaXMuaGFzQ2xhc3MoYSl8fCghYiYmKGI9W10pLGIucHVzaChhKSx0aGlzLnNldEN1c3RvbURhdGEoXCJjbGFzc2VzXCIsYiksdGhpcy5hZGRDbGFzcyhhKSl9LGNoYW5nZUF0dHI6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmdldEF0dHJpYnV0ZShhKTtiIT09YyYmKCF0aGlzLl8uYXR0ckNoYW5nZXMmJih0aGlzLl8uYXR0ckNoYW5nZXM9e30pLGEgaW4gdGhpcy5fLmF0dHJDaGFuZ2VzfHwodGhpcy5fLmF0dHJDaGFuZ2VzW2FdPWMpLHRoaXMuc2V0QXR0cmlidXRlKGEsYikpfSxpbnNlcnRUZXh0OmZ1bmN0aW9uKGEpe3RoaXMuZWRpdG9yLmZvY3VzKCk7dGhpcy5pbnNlcnRIdG1sKHRoaXMudHJhbnNmb3JtUGxhaW5UZXh0VG9IdG1sKGEpLFxuXCJ0ZXh0XCIpfSx0cmFuc2Zvcm1QbGFpblRleHRUb0h0bWw6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5lZGl0b3IuZ2V0U2VsZWN0aW9uKCkuZ2V0U3RhcnRFbGVtZW50KCkuaGFzQXNjZW5kYW50KFwicHJlXCIsITApP0NLRURJVE9SLkVOVEVSX0JSOnRoaXMuZWRpdG9yLmFjdGl2ZUVudGVyTW9kZTtyZXR1cm4gQ0tFRElUT1IudG9vbHMudHJhbnNmb3JtUGxhaW5UZXh0VG9IdG1sKGEsYil9LGluc2VydEh0bWw6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPXRoaXMuZWRpdG9yO2QuZm9jdXMoKTtkLmZpcmUoXCJzYXZlU25hcHNob3RcIik7Y3x8KGM9ZC5nZXRTZWxlY3Rpb24oKS5nZXRSYW5nZXMoKVswXSk7dih0aGlzLGJ8fFwiaHRtbFwiLGEsYyk7Yy5zZWxlY3QoKTtoKHRoaXMpO3RoaXMuZWRpdG9yLmZpcmUoXCJhZnRlckluc2VydEh0bWxcIix7fSl9LGluc2VydEh0bWxJbnRvUmFuZ2U6ZnVuY3Rpb24oYSxiLGMpe3YodGhpcyxjfHxcImh0bWxcIixhLGIpO3RoaXMuZWRpdG9yLmZpcmUoXCJhZnRlckluc2VydEh0bWxcIixcbntpbnRvUmFuZ2U6Yn0pfSxpbnNlcnRFbGVtZW50OmZ1bmN0aW9uKGEsYil7dmFyIGQ9dGhpcy5lZGl0b3I7ZC5mb2N1cygpO2QuZmlyZShcInNhdmVTbmFwc2hvdFwiKTt2YXIgZT1kLmFjdGl2ZUVudGVyTW9kZSxkPWQuZ2V0U2VsZWN0aW9uKCksZz1hLmdldE5hbWUoKSxnPUNLRURJVE9SLmR0ZC4kYmxvY2tbZ107Ynx8KGI9ZC5nZXRSYW5nZXMoKVswXSk7dGhpcy5pbnNlcnRFbGVtZW50SW50b1JhbmdlKGEsYikmJihiLm1vdmVUb1Bvc2l0aW9uKGEsQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfRU5EKSxnJiYoKGc9YS5nZXROZXh0KGZ1bmN0aW9uKGEpe3JldHVybiBjKGEpJiYhcChhKX0pKSYmZy50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmcuaXMoQ0tFRElUT1IuZHRkLiRibG9jayk/Zy5nZXREdGQoKVtcIiNcIl0/Yi5tb3ZlVG9FbGVtZW50RWRpdFN0YXJ0KGcpOmIubW92ZVRvRWxlbWVudEVkaXRFbmQoYSk6Z3x8ZT09Q0tFRElUT1IuRU5URVJfQlJ8fChnPWIuZml4QmxvY2soITAsXG5lPT1DS0VESVRPUi5FTlRFUl9ESVY/XCJkaXZcIjpcInBcIiksYi5tb3ZlVG9FbGVtZW50RWRpdFN0YXJ0KGcpKSkpO2Quc2VsZWN0UmFuZ2VzKFtiXSk7aCh0aGlzKX0saW5zZXJ0RWxlbWVudEludG9TZWxlY3Rpb246ZnVuY3Rpb24oYSl7dGhpcy5pbnNlcnRFbGVtZW50KGEpfSxpbnNlcnRFbGVtZW50SW50b1JhbmdlOmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5lZGl0b3IsZD1jLmNvbmZpZy5lbnRlck1vZGUsZT1hLmdldE5hbWUoKSxnPUNLRURJVE9SLmR0ZC4kYmxvY2tbZV07aWYoYi5jaGVja1JlYWRPbmx5KCkpcmV0dXJuITE7Yi5kZWxldGVDb250ZW50cygxKTtiLnN0YXJ0Q29udGFpbmVyLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmYi5zdGFydENvbnRhaW5lci5pcyh7dHI6MSx0YWJsZToxLHRib2R5OjEsdGhlYWQ6MSx0Zm9vdDoxfSkmJnIoYik7dmFyIGYsaztpZihnKWZvcig7KGY9Yi5nZXRDb21tb25BbmNlc3RvcigwLDEpKSYmKGs9Q0tFRElUT1IuZHRkW2YuZ2V0TmFtZSgpXSkmJlxuKCFrfHwha1tlXSk7KWYuZ2V0TmFtZSgpaW4gQ0tFRElUT1IuZHRkLnNwYW4/Yi5zcGxpdEVsZW1lbnQoZik6Yi5jaGVja1N0YXJ0T2ZCbG9jaygpJiZiLmNoZWNrRW5kT2ZCbG9jaygpPyhiLnNldFN0YXJ0QmVmb3JlKGYpLGIuY29sbGFwc2UoITApLGYucmVtb3ZlKCkpOmIuc3BsaXRCbG9jayhkPT1DS0VESVRPUi5FTlRFUl9ESVY/XCJkaXZcIjpcInBcIixjLmVkaXRhYmxlKCkpO2IuaW5zZXJ0Tm9kZShhKTtyZXR1cm4hMH0sc2V0RGF0YTpmdW5jdGlvbihhLGIpe2J8fChhPXRoaXMuZWRpdG9yLmRhdGFQcm9jZXNzb3IudG9IdG1sKGEpKTt0aGlzLnNldEh0bWwoYSk7dGhpcy5maXhJbml0aWFsU2VsZWN0aW9uKCk7XCJ1bmxvYWRlZFwiPT10aGlzLnN0YXR1cyYmKHRoaXMuc3RhdHVzPVwicmVhZHlcIik7dGhpcy5lZGl0b3IuZmlyZShcImRhdGFSZWFkeVwiKX0sZ2V0RGF0YTpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmdldEh0bWwoKTthfHwoYj10aGlzLmVkaXRvci5kYXRhUHJvY2Vzc29yLnRvRGF0YUZvcm1hdChiKSk7XG5yZXR1cm4gYn0sc2V0UmVhZE9ubHk6ZnVuY3Rpb24oYSl7dGhpcy5zZXRBdHRyaWJ1dGUoXCJjb250ZW50ZWRpdGFibGVcIiwhYSl9LGRldGFjaDpmdW5jdGlvbigpe3RoaXMucmVtb3ZlQ2xhc3MoXCJja2VfZWRpdGFibGVcIik7dGhpcy5zdGF0dXM9XCJkZXRhY2hlZFwiO3ZhciBhPXRoaXMuZWRpdG9yO3RoaXMuXy5kZXRhY2goKTtkZWxldGUgYS5kb2N1bWVudDtkZWxldGUgYS53aW5kb3d9LGlzSW5saW5lOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0RG9jdW1lbnQoKS5lcXVhbHMoQ0tFRElUT1IuZG9jdW1lbnQpfSxmaXhJbml0aWFsU2VsZWN0aW9uOmZ1bmN0aW9uKCl7ZnVuY3Rpb24gYSgpe3ZhciBiPWMuZ2V0RG9jdW1lbnQoKS4kLGQ9Yi5nZXRTZWxlY3Rpb24oKSxlO2E6aWYoZC5hbmNob3JOb2RlJiZkLmFuY2hvck5vZGU9PWMuJCllPSEwO2Vsc2V7aWYoQ0tFRElUT1IuZW52LndlYmtpdCYmKGU9Yy5nZXREb2N1bWVudCgpLmdldEFjdGl2ZSgpKSYmZS5lcXVhbHMoYykmJiFkLmFuY2hvck5vZGUpe2U9XG4hMDticmVhayBhfWU9dm9pZCAwfWUmJihlPW5ldyBDS0VESVRPUi5kb20ucmFuZ2UoYyksZS5tb3ZlVG9FbGVtZW50RWRpdFN0YXJ0KGMpLGI9Yi5jcmVhdGVSYW5nZSgpLGIuc2V0U3RhcnQoZS5zdGFydENvbnRhaW5lci4kLGUuc3RhcnRPZmZzZXQpLGIuY29sbGFwc2UoITApLGQucmVtb3ZlQWxsUmFuZ2VzKCksZC5hZGRSYW5nZShiKSl9ZnVuY3Rpb24gYigpe3ZhciBhPWMuZ2V0RG9jdW1lbnQoKS4kLGQ9YS5zZWxlY3Rpb24sZT1jLmdldERvY3VtZW50KCkuZ2V0QWN0aXZlKCk7XCJOb25lXCI9PWQudHlwZSYmZS5lcXVhbHMoYykmJihkPW5ldyBDS0VESVRPUi5kb20ucmFuZ2UoYyksYT1hLmJvZHkuY3JlYXRlVGV4dFJhbmdlKCksZC5tb3ZlVG9FbGVtZW50RWRpdFN0YXJ0KGMpLGQ9ZC5zdGFydENvbnRhaW5lcixkLnR5cGUhPUNLRURJVE9SLk5PREVfRUxFTUVOVCYmKGQ9ZC5nZXRQYXJlbnQoKSksYS5tb3ZlVG9FbGVtZW50VGV4dChkLiQpLGEuY29sbGFwc2UoITApLGEuc2VsZWN0KCkpfVxudmFyIGM9dGhpcztpZihDS0VESVRPUi5lbnYuaWUmJig5PkNLRURJVE9SLmVudi52ZXJzaW9ufHxDS0VESVRPUi5lbnYucXVpcmtzKSl0aGlzLmhhc0ZvY3VzJiYodGhpcy5mb2N1cygpLGIoKSk7ZWxzZSBpZih0aGlzLmhhc0ZvY3VzKXRoaXMuZm9jdXMoKSxhKCk7ZWxzZSB0aGlzLm9uY2UoXCJmb2N1c1wiLGZ1bmN0aW9uKCl7YSgpfSxudWxsLG51bGwsLTk5OSl9LGdldEh0bWxGcm9tUmFuZ2U6ZnVuY3Rpb24oYSl7aWYoYS5jb2xsYXBzZWQpcmV0dXJuIG5ldyBDS0VESVRPUi5kb20uZG9jdW1lbnRGcmFnbWVudChhLmRvY3VtZW50KTthPXtkb2M6dGhpcy5nZXREb2N1bWVudCgpLHJhbmdlOmEuY2xvbmUoKX07dS5lb2wuZGV0ZWN0KGEsdGhpcyk7dS5ib2d1cy5leGNsdWRlKGEpO3UuY2VsbC5zaHJpbmsoYSk7YS5mcmFnbWVudD1hLnJhbmdlLmNsb25lQ29udGVudHMoKTt1LnRyZWUucmVidWlsZChhLHRoaXMpO3UuZW9sLmZpeChhLHRoaXMpO3JldHVybiBuZXcgQ0tFRElUT1IuZG9tLmRvY3VtZW50RnJhZ21lbnQoYS5mcmFnbWVudC4kKX0sXG5leHRyYWN0SHRtbEZyb21SYW5nZTpmdW5jdGlvbihhLGIpe3ZhciBjPUIsZD17cmFuZ2U6YSxkb2M6YS5kb2N1bWVudH0sZT10aGlzLmdldEh0bWxGcm9tUmFuZ2UoYSk7aWYoYS5jb2xsYXBzZWQpcmV0dXJuIGEub3B0aW1pemUoKSxlO2EuZW5sYXJnZShDS0VESVRPUi5FTkxBUkdFX0lOTElORSwxKTtjLnRhYmxlLmRldGVjdFB1cmdlKGQpO2QuYm9va21hcms9YS5jcmVhdGVCb29rbWFyaygpO2RlbGV0ZSBkLnJhbmdlO3ZhciBnPXRoaXMuZWRpdG9yLmNyZWF0ZVJhbmdlKCk7Zy5tb3ZlVG9Qb3NpdGlvbihkLmJvb2ttYXJrLnN0YXJ0Tm9kZSxDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfU1RBUlQpO2QudGFyZ2V0Qm9va21hcms9Zy5jcmVhdGVCb29rbWFyaygpO2MubGlzdC5kZXRlY3RNZXJnZShkLHRoaXMpO2MudGFibGUuZGV0ZWN0UmFuZ2VzKGQsdGhpcyk7Yy5ibG9jay5kZXRlY3RNZXJnZShkLHRoaXMpO2QudGFibGVDb250ZW50c1Jhbmdlcz8oYy50YWJsZS5kZWxldGVSYW5nZXMoZCksXG5hLm1vdmVUb0Jvb2ttYXJrKGQuYm9va21hcmspLGQucmFuZ2U9YSk6KGEubW92ZVRvQm9va21hcmsoZC5ib29rbWFyayksZC5yYW5nZT1hLGEuZXh0cmFjdENvbnRlbnRzKGMuZGV0ZWN0RXh0cmFjdE1lcmdlKGQpKSk7YS5tb3ZlVG9Cb29rbWFyayhkLnRhcmdldEJvb2ttYXJrKTthLm9wdGltaXplKCk7Yy5maXhVbmVkaXRhYmxlUmFuZ2VQb3NpdGlvbihhKTtjLmxpc3QubWVyZ2UoZCx0aGlzKTtjLnRhYmxlLnB1cmdlKGQsdGhpcyk7Yy5ibG9jay5tZXJnZShkLHRoaXMpO2lmKGIpe2M9YS5zdGFydFBhdGgoKTtpZihkPWEuY2hlY2tTdGFydE9mQmxvY2soKSYmYS5jaGVja0VuZE9mQmxvY2soKSYmYy5ibG9jayYmIWEucm9vdC5lcXVhbHMoYy5ibG9jaykpe2E6e3ZhciBkPWMuYmxvY2suZ2V0RWxlbWVudHNCeVRhZyhcInNwYW5cIiksZz0wLGY7aWYoZClmb3IoO2Y9ZC5nZXRJdGVtKGcrKyk7KWlmKCFuKGYpKXtkPSEwO2JyZWFrIGF9ZD0hMX1kPSFkfWQmJihhLm1vdmVUb1Bvc2l0aW9uKGMuYmxvY2ssXG5DS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfU1RBUlQpLGMuYmxvY2sucmVtb3ZlKCkpfWVsc2UgYy5hdXRvUGFyYWdyYXBoKHRoaXMuZWRpdG9yLGEpLHEoYS5zdGFydENvbnRhaW5lcikmJmEuc3RhcnRDb250YWluZXIuYXBwZW5kQm9ndXMoKTthLnN0YXJ0Q29udGFpbmVyLm1lcmdlU2libGluZ3MoKTtyZXR1cm4gZX0sc2V0dXA6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmVkaXRvcjt0aGlzLmF0dGFjaExpc3RlbmVyKGEsXCJiZWZvcmVHZXREYXRhXCIsZnVuY3Rpb24oKXt2YXIgYj10aGlzLmdldERhdGEoKTt0aGlzLmlzKFwidGV4dGFyZWFcIil8fCExIT09YS5jb25maWcuaWdub3JlRW1wdHlQYXJhZ3JhcGgmJihiPWIucmVwbGFjZSh0LGZ1bmN0aW9uKGEsYil7cmV0dXJuIGJ9KSk7YS5zZXREYXRhKGIsbnVsbCwxKX0sdGhpcyk7dGhpcy5hdHRhY2hMaXN0ZW5lcihhLFwiZ2V0U25hcHNob3RcIixmdW5jdGlvbihhKXthLmRhdGE9dGhpcy5nZXREYXRhKDEpfSx0aGlzKTt0aGlzLmF0dGFjaExpc3RlbmVyKGEsXG5cImFmdGVyU2V0RGF0YVwiLGZ1bmN0aW9uKCl7dGhpcy5zZXREYXRhKGEuZ2V0RGF0YSgxKSl9LHRoaXMpO3RoaXMuYXR0YWNoTGlzdGVuZXIoYSxcImxvYWRTbmFwc2hvdFwiLGZ1bmN0aW9uKGEpe3RoaXMuc2V0RGF0YShhLmRhdGEsMSl9LHRoaXMpO3RoaXMuYXR0YWNoTGlzdGVuZXIoYSxcImJlZm9yZUZvY3VzXCIsZnVuY3Rpb24oKXt2YXIgYj1hLmdldFNlbGVjdGlvbigpOyhiPWImJmIuZ2V0TmF0aXZlKCkpJiZcIkNvbnRyb2xcIj09Yi50eXBlfHx0aGlzLmZvY3VzKCl9LHRoaXMpO3RoaXMuYXR0YWNoTGlzdGVuZXIoYSxcImluc2VydEh0bWxcIixmdW5jdGlvbihhKXt0aGlzLmluc2VydEh0bWwoYS5kYXRhLmRhdGFWYWx1ZSxhLmRhdGEubW9kZSxhLmRhdGEucmFuZ2UpfSx0aGlzKTt0aGlzLmF0dGFjaExpc3RlbmVyKGEsXCJpbnNlcnRFbGVtZW50XCIsZnVuY3Rpb24oYSl7dGhpcy5pbnNlcnRFbGVtZW50KGEuZGF0YSl9LHRoaXMpO3RoaXMuYXR0YWNoTGlzdGVuZXIoYSxcImluc2VydFRleHRcIixcbmZ1bmN0aW9uKGEpe3RoaXMuaW5zZXJ0VGV4dChhLmRhdGEpfSx0aGlzKTt0aGlzLnNldFJlYWRPbmx5KGEucmVhZE9ubHkpO3RoaXMuYXR0YWNoQ2xhc3MoXCJja2VfZWRpdGFibGVcIik7YS5lbGVtZW50TW9kZT09Q0tFRElUT1IuRUxFTUVOVF9NT0RFX0lOTElORT90aGlzLmF0dGFjaENsYXNzKFwiY2tlX2VkaXRhYmxlX2lubGluZVwiKTphLmVsZW1lbnRNb2RlIT1DS0VESVRPUi5FTEVNRU5UX01PREVfUkVQTEFDRSYmYS5lbGVtZW50TW9kZSE9Q0tFRElUT1IuRUxFTUVOVF9NT0RFX0FQUEVORFRPfHx0aGlzLmF0dGFjaENsYXNzKFwiY2tlX2VkaXRhYmxlX3RoZW1lZFwiKTt0aGlzLmF0dGFjaENsYXNzKFwiY2tlX2NvbnRlbnRzX1wiK2EuY29uZmlnLmNvbnRlbnRzTGFuZ0RpcmVjdGlvbik7YS5rZXlzdHJva2VIYW5kbGVyLmJsb2NrZWRLZXlzdHJva2VzWzhdPSthLnJlYWRPbmx5O2Eua2V5c3Ryb2tlSGFuZGxlci5hdHRhY2godGhpcyk7dGhpcy5vbihcImJsdXJcIixmdW5jdGlvbigpe3RoaXMuaGFzRm9jdXM9XG4hMX0sbnVsbCxudWxsLC0xKTt0aGlzLm9uKFwiZm9jdXNcIixmdW5jdGlvbigpe3RoaXMuaGFzRm9jdXM9ITB9LG51bGwsbnVsbCwtMSk7aWYoQ0tFRElUT1IuZW52LndlYmtpdCl0aGlzLm9uKFwic2Nyb2xsXCIsZnVuY3Rpb24oKXthLl8ucHJldmlvdXNTY3JvbGxUb3A9YS5lZGl0YWJsZSgpLiQuc2Nyb2xsVG9wfSxudWxsLG51bGwsLTEpO2lmKENLRURJVE9SLmVudi5lZGdlJiYxNDxDS0VESVRPUi5lbnYudmVyc2lvbil7dmFyIGQ9ZnVuY3Rpb24oKXt2YXIgYj1hLmVkaXRhYmxlKCk7bnVsbCE9YS5fLnByZXZpb3VzU2Nyb2xsVG9wJiZiLmdldERvY3VtZW50KCkuZXF1YWxzKENLRURJVE9SLmRvY3VtZW50KSYmKGIuJC5zY3JvbGxUb3A9YS5fLnByZXZpb3VzU2Nyb2xsVG9wLGEuXy5wcmV2aW91c1Njcm9sbFRvcD1udWxsLHRoaXMucmVtb3ZlTGlzdGVuZXIoXCJzY3JvbGxcIixkKSl9O3RoaXMub24oXCJzY3JvbGxcIixkKX1hLmZvY3VzTWFuYWdlci5hZGQodGhpcyk7dGhpcy5lcXVhbHMoQ0tFRElUT1IuZG9jdW1lbnQuZ2V0QWN0aXZlKCkpJiZcbih0aGlzLmhhc0ZvY3VzPSEwLGEub25jZShcImNvbnRlbnREb21cIixmdW5jdGlvbigpe2EuZm9jdXNNYW5hZ2VyLmZvY3VzKHRoaXMpfSx0aGlzKSk7dGhpcy5pc0lubGluZSgpJiZ0aGlzLmNoYW5nZUF0dHIoXCJ0YWJpbmRleFwiLGEudGFiSW5kZXgpO2lmKCF0aGlzLmlzKFwidGV4dGFyZWFcIikpe2EuZG9jdW1lbnQ9dGhpcy5nZXREb2N1bWVudCgpO2Eud2luZG93PXRoaXMuZ2V0V2luZG93KCk7dmFyIGU9YS5kb2N1bWVudDt0aGlzLmNoYW5nZUF0dHIoXCJzcGVsbGNoZWNrXCIsIWEuY29uZmlnLmRpc2FibGVOYXRpdmVTcGVsbENoZWNrZXIpO3ZhciBmPWEuY29uZmlnLmNvbnRlbnRzTGFuZ0RpcmVjdGlvbjt0aGlzLmdldERpcmVjdGlvbigxKSE9ZiYmdGhpcy5jaGFuZ2VBdHRyKFwiZGlyXCIsZik7dmFyIGg9Q0tFRElUT1IuZ2V0Q3NzKCk7aWYoaCl7dmFyIGY9ZS5nZXRIZWFkKCksbD1mLmdldEN1c3RvbURhdGEoXCJzdHlsZXNoZWV0XCIpO2w/aCE9bC5nZXRUZXh0KCkmJihDS0VESVRPUi5lbnYuaWUmJlxuOT5DS0VESVRPUi5lbnYudmVyc2lvbj9sLiQuc3R5bGVTaGVldC5jc3NUZXh0PWg6bC5zZXRUZXh0KGgpKTooaD1lLmFwcGVuZFN0eWxlVGV4dChoKSxoPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudChoLm93bmVyTm9kZXx8aC5vd25pbmdFbGVtZW50KSxmLnNldEN1c3RvbURhdGEoXCJzdHlsZXNoZWV0XCIsaCksaC5kYXRhKFwiY2tlLXRlbXBcIiwxKSl9Zj1lLmdldEN1c3RvbURhdGEoXCJzdHlsZXNoZWV0X3JlZlwiKXx8MDtlLnNldEN1c3RvbURhdGEoXCJzdHlsZXNoZWV0X3JlZlwiLGYrMSk7dGhpcy5zZXRDdXN0b21EYXRhKFwiY2tlX2luY2x1ZGVSZWFkb25seVwiLCFhLmNvbmZpZy5kaXNhYmxlUmVhZG9ubHlTdHlsaW5nKTt0aGlzLmF0dGFjaExpc3RlbmVyKHRoaXMsXCJjbGlja1wiLGZ1bmN0aW9uKGEpe2E9YS5kYXRhO3ZhciBiPShuZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnRQYXRoKGEuZ2V0VGFyZ2V0KCksdGhpcykpLmNvbnRhaW5zKFwiYVwiKTtiJiYyIT1hLiQuYnV0dG9uJiZiLmlzUmVhZE9ubHkoKSYmXG5hLnByZXZlbnREZWZhdWx0KCl9KTt2YXIgbj17ODoxLDQ2OjF9O3RoaXMuYXR0YWNoTGlzdGVuZXIoYSxcImtleVwiLGZ1bmN0aW9uKGIpe2lmKGEucmVhZE9ubHkpcmV0dXJuITA7dmFyIGM9Yi5kYXRhLmRvbUV2ZW50LmdldEtleSgpLGQ7aWYoYyBpbiBuKXtiPWEuZ2V0U2VsZWN0aW9uKCk7dmFyIGUsZj1iLmdldFJhbmdlcygpWzBdLGs9Zi5zdGFydFBhdGgoKSxoLGwsdyxjPTg9PWM7Q0tFRElUT1IuZW52LmllJiYxMT5DS0VESVRPUi5lbnYudmVyc2lvbiYmKGU9Yi5nZXRTZWxlY3RlZEVsZW1lbnQoKSl8fChlPW0oYikpPyhhLmZpcmUoXCJzYXZlU25hcHNob3RcIiksZi5tb3ZlVG9Qb3NpdGlvbihlLENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9TVEFSVCksZS5yZW1vdmUoKSxmLnNlbGVjdCgpLGEuZmlyZShcInNhdmVTbmFwc2hvdFwiKSxkPTEpOmYuY29sbGFwc2VkJiYoKGg9ay5ibG9jaykmJih3PWhbYz9cImdldFByZXZpb3VzXCI6XCJnZXROZXh0XCJdKGcpKSYmdy50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJlxudy5pcyhcInRhYmxlXCIpJiZmW2M/XCJjaGVja1N0YXJ0T2ZCbG9ja1wiOlwiY2hlY2tFbmRPZkJsb2NrXCJdKCk/KGEuZmlyZShcInNhdmVTbmFwc2hvdFwiKSxmW2M/XCJjaGVja0VuZE9mQmxvY2tcIjpcImNoZWNrU3RhcnRPZkJsb2NrXCJdKCkmJmgucmVtb3ZlKCksZltcIm1vdmVUb0VsZW1lbnRFZGl0XCIrKGM/XCJFbmRcIjpcIlN0YXJ0XCIpXSh3KSxmLnNlbGVjdCgpLGEuZmlyZShcInNhdmVTbmFwc2hvdFwiKSxkPTEpOmsuYmxvY2tMaW1pdCYmay5ibG9ja0xpbWl0LmlzKFwidGRcIikmJihsPWsuYmxvY2tMaW1pdC5nZXRBc2NlbmRhbnQoXCJ0YWJsZVwiKSkmJmYuY2hlY2tCb3VuZGFyeU9mRWxlbWVudChsLGM/Q0tFRElUT1IuU1RBUlQ6Q0tFRElUT1IuRU5EKSYmKHc9bFtjP1wiZ2V0UHJldmlvdXNcIjpcImdldE5leHRcIl0oZykpPyhhLmZpcmUoXCJzYXZlU25hcHNob3RcIiksZltcIm1vdmVUb0VsZW1lbnRFZGl0XCIrKGM/XCJFbmRcIjpcIlN0YXJ0XCIpXSh3KSxmLmNoZWNrU3RhcnRPZkJsb2NrKCkmJmYuY2hlY2tFbmRPZkJsb2NrKCk/XG53LnJlbW92ZSgpOmYuc2VsZWN0KCksYS5maXJlKFwic2F2ZVNuYXBzaG90XCIpLGQ9MSk6KGw9ay5jb250YWlucyhbXCJ0ZFwiLFwidGhcIixcImNhcHRpb25cIl0pKSYmZi5jaGVja0JvdW5kYXJ5T2ZFbGVtZW50KGwsYz9DS0VESVRPUi5TVEFSVDpDS0VESVRPUi5FTkQpJiYoZD0xKSl9cmV0dXJuIWR9KTthLmJsb2NrbGVzcyYmQ0tFRElUT1IuZW52LmllJiZDS0VESVRPUi5lbnYubmVlZHNCckZpbGxlciYmdGhpcy5hdHRhY2hMaXN0ZW5lcih0aGlzLFwia2V5dXBcIixmdW5jdGlvbihiKXtiLmRhdGEuZ2V0S2V5c3Ryb2tlKClpbiBuJiYhdGhpcy5nZXRGaXJzdChjKSYmKHRoaXMuYXBwZW5kQm9ndXMoKSxiPWEuY3JlYXRlUmFuZ2UoKSxiLm1vdmVUb1Bvc2l0aW9uKHRoaXMsQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfU1RBUlQpLGIuc2VsZWN0KCkpfSk7dGhpcy5hdHRhY2hMaXN0ZW5lcih0aGlzLFwiZGJsY2xpY2tcIixmdW5jdGlvbihiKXtpZihhLnJlYWRPbmx5KXJldHVybiExO2I9e2VsZW1lbnQ6Yi5kYXRhLmdldFRhcmdldCgpfTtcbmEuZmlyZShcImRvdWJsZWNsaWNrXCIsYil9KTtDS0VESVRPUi5lbnYuaWUmJnRoaXMuYXR0YWNoTGlzdGVuZXIodGhpcyxcImNsaWNrXCIsYik7Q0tFRElUT1IuZW52LmllJiYhQ0tFRElUT1IuZW52LmVkZ2V8fHRoaXMuYXR0YWNoTGlzdGVuZXIodGhpcyxcIm1vdXNlZG93blwiLGZ1bmN0aW9uKGIpe3ZhciBjPWIuZGF0YS5nZXRUYXJnZXQoKTtjLmlzKFwiaW1nXCIsXCJoclwiLFwiaW5wdXRcIixcInRleHRhcmVhXCIsXCJzZWxlY3RcIikmJiFjLmlzUmVhZE9ubHkoKSYmKGEuZ2V0U2VsZWN0aW9uKCkuc2VsZWN0RWxlbWVudChjKSxjLmlzKFwiaW5wdXRcIixcInRleHRhcmVhXCIsXCJzZWxlY3RcIikmJmIuZGF0YS5wcmV2ZW50RGVmYXVsdCgpKX0pO0NLRURJVE9SLmVudi5lZGdlJiZ0aGlzLmF0dGFjaExpc3RlbmVyKHRoaXMsXCJtb3VzZXVwXCIsZnVuY3Rpb24oYil7KGI9Yi5kYXRhLmdldFRhcmdldCgpKSYmYi5pcyhcImltZ1wiKSYmYS5nZXRTZWxlY3Rpb24oKS5zZWxlY3RFbGVtZW50KGIpfSk7Q0tFRElUT1IuZW52LmdlY2tvJiZcbnRoaXMuYXR0YWNoTGlzdGVuZXIodGhpcyxcIm1vdXNldXBcIixmdW5jdGlvbihiKXtpZigyPT1iLmRhdGEuJC5idXR0b24mJihiPWIuZGF0YS5nZXRUYXJnZXQoKSwhYi5nZXRPdXRlckh0bWwoKS5yZXBsYWNlKHQsXCJcIikpKXt2YXIgYz1hLmNyZWF0ZVJhbmdlKCk7Yy5tb3ZlVG9FbGVtZW50RWRpdFN0YXJ0KGIpO2Muc2VsZWN0KCEwKX19KTtDS0VESVRPUi5lbnYud2Via2l0JiYodGhpcy5hdHRhY2hMaXN0ZW5lcih0aGlzLFwiY2xpY2tcIixmdW5jdGlvbihhKXthLmRhdGEuZ2V0VGFyZ2V0KCkuaXMoXCJpbnB1dFwiLFwic2VsZWN0XCIpJiZhLmRhdGEucHJldmVudERlZmF1bHQoKX0pLHRoaXMuYXR0YWNoTGlzdGVuZXIodGhpcyxcIm1vdXNldXBcIixmdW5jdGlvbihhKXthLmRhdGEuZ2V0VGFyZ2V0KCkuaXMoXCJpbnB1dFwiLFwidGV4dGFyZWFcIikmJmEuZGF0YS5wcmV2ZW50RGVmYXVsdCgpfSkpO0NLRURJVE9SLmVudi53ZWJraXQmJnRoaXMuYXR0YWNoTGlzdGVuZXIoYSxcImtleVwiLGZ1bmN0aW9uKGIpe2lmKGEucmVhZE9ubHkpcmV0dXJuITA7XG5iPWIuZGF0YS5kb21FdmVudC5nZXRLZXkoKTtpZihiIGluIG4pe3ZhciBjPTg9PWIsZD1hLmdldFNlbGVjdGlvbigpLmdldFJhbmdlcygpWzBdO2I9ZC5zdGFydFBhdGgoKTtpZihkLmNvbGxhcHNlZClhOnt2YXIgZT1iLmJsb2NrO2lmKGUmJmRbYz9cImNoZWNrU3RhcnRPZkJsb2NrXCI6XCJjaGVja0VuZE9mQmxvY2tcIl0oKSYmZC5tb3ZlVG9DbG9zZXN0RWRpdGFibGVQb3NpdGlvbihlLCFjKSYmZC5jb2xsYXBzZWQpe2lmKGQuc3RhcnRDb250YWluZXIudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UKXt2YXIgZz1kLnN0YXJ0Q29udGFpbmVyLmdldENoaWxkKGQuc3RhcnRPZmZzZXQtKGM/MTowKSk7aWYoZyYmZy50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmcuaXMoXCJoclwiKSl7YS5maXJlKFwic2F2ZVNuYXBzaG90XCIpO2cucmVtb3ZlKCk7Yj0hMDticmVhayBhfX1kPWQuc3RhcnRQYXRoKCkuYmxvY2s7aWYoIWR8fGQmJmQuY29udGFpbnMoZSkpYj12b2lkIDA7ZWxzZXthLmZpcmUoXCJzYXZlU25hcHNob3RcIik7XG52YXIgZjsoZj0oYz9kOmUpLmdldEJvZ3VzKCkpJiZmLnJlbW92ZSgpO2Y9YS5nZXRTZWxlY3Rpb24oKTtnPWYuY3JlYXRlQm9va21hcmtzKCk7KGM/ZTpkKS5tb3ZlQ2hpbGRyZW4oYz9kOmUsITEpO2IubGFzdEVsZW1lbnQubWVyZ2VTaWJsaW5ncygpO2soZSxkLCFjKTtmLnNlbGVjdEJvb2ttYXJrcyhnKTtiPSEwfX1lbHNlIGI9ITF9ZWxzZSBjPWQsZj1iLmJsb2NrLGQ9Yy5lbmRQYXRoKCkuYmxvY2ssZiYmZCYmIWYuZXF1YWxzKGQpPyhhLmZpcmUoXCJzYXZlU25hcHNob3RcIiksKGU9Zi5nZXRCb2d1cygpKSYmZS5yZW1vdmUoKSxjLmVubGFyZ2UoQ0tFRElUT1IuRU5MQVJHRV9JTkxJTkUpLGMuZGVsZXRlQ29udGVudHMoKSxkLmdldFBhcmVudCgpJiYoZC5tb3ZlQ2hpbGRyZW4oZiwhMSksYi5sYXN0RWxlbWVudC5tZXJnZVNpYmxpbmdzKCksayhmLGQsITApKSxjPWEuZ2V0U2VsZWN0aW9uKCkuZ2V0UmFuZ2VzKClbMF0sYy5jb2xsYXBzZSgxKSxjLm9wdGltaXplKCksXCJcIj09PWMuc3RhcnRDb250YWluZXIuZ2V0SHRtbCgpJiZcbmMuc3RhcnRDb250YWluZXIuYXBwZW5kQm9ndXMoKSxjLnNlbGVjdCgpLGI9ITApOmI9ITE7aWYoIWIpcmV0dXJuO2EuZ2V0U2VsZWN0aW9uKCkuc2Nyb2xsSW50b1ZpZXcoKTthLmZpcmUoXCJzYXZlU25hcHNob3RcIik7cmV0dXJuITF9fSx0aGlzLG51bGwsMTAwKX19fSxfOntkZXRhY2g6ZnVuY3Rpb24oKXt0aGlzLmVkaXRvci5zZXREYXRhKHRoaXMuZWRpdG9yLmdldERhdGEoKSwwLDEpO3RoaXMuY2xlYXJMaXN0ZW5lcnMoKTt0aGlzLnJlc3RvcmVBdHRycygpO3ZhciBhO2lmKGE9dGhpcy5yZW1vdmVDdXN0b21EYXRhKFwiY2xhc3Nlc1wiKSlmb3IoO2EubGVuZ3RoOyl0aGlzLnJlbW92ZUNsYXNzKGEucG9wKCkpO2lmKCF0aGlzLmlzKFwidGV4dGFyZWFcIikpe2E9dGhpcy5nZXREb2N1bWVudCgpO3ZhciBiPWEuZ2V0SGVhZCgpO2lmKGIuZ2V0Q3VzdG9tRGF0YShcInN0eWxlc2hlZXRcIikpe3ZhciBjPWEuZ2V0Q3VzdG9tRGF0YShcInN0eWxlc2hlZXRfcmVmXCIpOy0tYz9hLnNldEN1c3RvbURhdGEoXCJzdHlsZXNoZWV0X3JlZlwiLFxuYyk6KGEucmVtb3ZlQ3VzdG9tRGF0YShcInN0eWxlc2hlZXRfcmVmXCIpLGIucmVtb3ZlQ3VzdG9tRGF0YShcInN0eWxlc2hlZXRcIikucmVtb3ZlKCkpfX10aGlzLmVkaXRvci5maXJlKFwiY29udGVudERvbVVubG9hZFwiKTtkZWxldGUgdGhpcy5lZGl0b3J9fX0pO0NLRURJVE9SLmVkaXRvci5wcm90b3R5cGUuZWRpdGFibGU9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5fLmVkaXRhYmxlO2lmKGImJmEpcmV0dXJuIDA7YXJndW1lbnRzLmxlbmd0aCYmKGI9dGhpcy5fLmVkaXRhYmxlPWE/YSBpbnN0YW5jZW9mIENLRURJVE9SLmVkaXRhYmxlP2E6bmV3IENLRURJVE9SLmVkaXRhYmxlKHRoaXMsYSk6KGImJmIuZGV0YWNoKCksbnVsbCkpO3JldHVybiBifTtDS0VESVRPUi5vbihcImluc3RhbmNlTG9hZGVkXCIsZnVuY3Rpb24oYil7dmFyIGM9Yi5lZGl0b3I7Yy5vbihcImluc2VydEVsZW1lbnRcIixmdW5jdGlvbihhKXthPWEuZGF0YTthLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmKGEuaXMoXCJpbnB1dFwiKXx8XG5hLmlzKFwidGV4dGFyZWFcIikpJiYoXCJmYWxzZVwiIT1hLmdldEF0dHJpYnV0ZShcImNvbnRlbnRFZGl0YWJsZVwiKSYmYS5kYXRhKFwiY2tlLWVkaXRhYmxlXCIsYS5oYXNBdHRyaWJ1dGUoXCJjb250ZW50ZWRpdGFibGVcIik/XCJ0cnVlXCI6XCIxXCIpLGEuc2V0QXR0cmlidXRlKFwiY29udGVudEVkaXRhYmxlXCIsITEpKX0pO2Mub24oXCJzZWxlY3Rpb25DaGFuZ2VcIixmdW5jdGlvbihiKXtpZighYy5yZWFkT25seSl7dmFyIGQ9Yy5nZXRTZWxlY3Rpb24oKTtkJiYhZC5pc0xvY2tlZCYmKGQ9Yy5jaGVja0RpcnR5KCksYy5maXJlKFwibG9ja1NuYXBzaG90XCIpLGEoYiksYy5maXJlKFwidW5sb2NrU25hcHNob3RcIiksIWQmJmMucmVzZXREaXJ0eSgpKX19KX0pO0NLRURJVE9SLm9uKFwiaW5zdGFuY2VDcmVhdGVkXCIsZnVuY3Rpb24oYSl7dmFyIGI9YS5lZGl0b3I7Yi5vbihcIm1vZGVcIixmdW5jdGlvbigpe3ZhciBhPWIuZWRpdGFibGUoKTtpZihhJiZhLmlzSW5saW5lKCkpe3ZhciBjPWIudGl0bGU7YS5jaGFuZ2VBdHRyKFwicm9sZVwiLFxuXCJ0ZXh0Ym94XCIpO2EuY2hhbmdlQXR0cihcImFyaWEtbGFiZWxcIixjKTtjJiZhLmNoYW5nZUF0dHIoXCJ0aXRsZVwiLGMpO3ZhciBkPWIuZmlyZShcImFyaWFFZGl0b3JIZWxwTGFiZWxcIix7fSkubGFiZWw7aWYoZCYmKGM9dGhpcy51aS5zcGFjZSh0aGlzLmVsZW1lbnRNb2RlPT1DS0VESVRPUi5FTEVNRU5UX01PREVfSU5MSU5FP1widG9wXCI6XCJjb250ZW50c1wiKSkpe3ZhciBlPUNLRURJVE9SLnRvb2xzLmdldE5leHRJZCgpLGQ9Q0tFRElUT1IuZG9tLmVsZW1lbnQuY3JlYXRlRnJvbUh0bWwoJ1xceDNjc3BhbiBpZFxceDNkXCInK2UrJ1wiIGNsYXNzXFx4M2RcImNrZV92b2ljZV9sYWJlbFwiXFx4M2UnK2QrXCJcXHgzYy9zcGFuXFx4M2VcIik7Yy5hcHBlbmQoZCk7YS5jaGFuZ2VBdHRyKFwiYXJpYS1kZXNjcmliZWRieVwiLGUpfX19KX0pO0NLRURJVE9SLmFkZENzcyhcIi5ja2VfZWRpdGFibGV7Y3Vyc29yOnRleHR9LmNrZV9lZGl0YWJsZSBpbWcsLmNrZV9lZGl0YWJsZSBpbnB1dCwuY2tlX2VkaXRhYmxlIHRleHRhcmVhe2N1cnNvcjpkZWZhdWx0fVwiKTtcbmc9Q0tFRElUT1IuZG9tLndhbGtlci53aGl0ZXNwYWNlcyghMCk7bj1DS0VESVRPUi5kb20ud2Fsa2VyLmJvb2ttYXJrKCExLCEwKTtxPUNLRURJVE9SLmRvbS53YWxrZXIuZW1wdHkoKTtwPUNLRURJVE9SLmRvbS53YWxrZXIuYm9ndXMoKTt0PS8oXnw8Ym9keVxcYltePl0qPilcXHMqPChwfGRpdnxhZGRyZXNzfGhcXGR8Y2VudGVyfHByZSlbXj5dKj5cXHMqKD86PGJyW14+XSo+fCZuYnNwO3xcXHUwMEEwfCYjMTYwOyk/XFxzKig6PzxcXC9cXDI+KT9cXHMqKD89JHw8XFwvYm9keT4pL2dpO3Y9ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGIpe3JldHVybiBiLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVH1mdW5jdGlvbiBiKGMsZCl7dmFyIGUsZyxmLGssaD1bXSxsPWQucmFuZ2Uuc3RhcnRDb250YWluZXI7ZT1kLnJhbmdlLnN0YXJ0UGF0aCgpO2Zvcih2YXIgbD1tW2wuZ2V0TmFtZSgpXSxuPTAsdT1jLmdldENoaWxkcmVuKCkscj11LmNvdW50KCksej0tMSx0PS0xLHA9MCx2PWUuY29udGFpbnMobS4kbGlzdCk7bjxcbnI7KytuKWU9dS5nZXRJdGVtKG4pLGEoZSk/KGY9ZS5nZXROYW1lKCksdiYmZiBpbiBDS0VESVRPUi5kdGQuJGxpc3Q/aD1oLmNvbmNhdChiKGUsZCkpOihrPSEhbFtmXSxcImJyXCIhPWZ8fCFlLmRhdGEoXCJja2UtZW9sXCIpfHxuJiZuIT1yLTF8fChwPShnPW4/aFtuLTFdLm5vZGU6dS5nZXRJdGVtKG4rMSkpJiYoIWEoZyl8fCFnLmlzKFwiYnJcIikpLGc9ZyYmYShnKSYmbS4kYmxvY2tbZy5nZXROYW1lKCldKSwtMSE9enx8a3x8KHo9biksa3x8KHQ9biksaC5wdXNoKHtpc0VsZW1lbnQ6MSxpc0xpbmVCcmVhazpwLGlzQmxvY2s6ZS5pc0Jsb2NrQm91bmRhcnkoKSxoYXNCbG9ja1NpYmxpbmc6Zyxub2RlOmUsbmFtZTpmLGFsbG93ZWQ6a30pLGc9cD0wKSk6aC5wdXNoKHtpc0VsZW1lbnQ6MCxub2RlOmUsYWxsb3dlZDoxfSk7LTE8eiYmKGhbel0uZmlyc3ROb3RBbGxvd2VkPTEpOy0xPHQmJihoW3RdLmxhc3ROb3RBbGxvd2VkPTEpO3JldHVybiBofWZ1bmN0aW9uIGUoYixjKXt2YXIgZD1bXSxcbmc9Yi5nZXRDaGlsZHJlbigpLGY9Zy5jb3VudCgpLGssaD0wLGw9bVtjXSxuPSFiLmlzKG0uJGlubGluZSl8fGIuaXMoXCJiclwiKTtmb3IobiYmZC5wdXNoKFwiIFwiKTtoPGY7aCsrKWs9Zy5nZXRJdGVtKGgpLGEoaykmJiFrLmlzKGwpP2Q9ZC5jb25jYXQoZShrLGMpKTpkLnB1c2goayk7biYmZC5wdXNoKFwiIFwiKTtyZXR1cm4gZH1mdW5jdGlvbiBnKGIpe3JldHVybiBhKGIuc3RhcnRDb250YWluZXIpJiZiLnN0YXJ0Q29udGFpbmVyLmdldENoaWxkKGIuc3RhcnRPZmZzZXQtMSl9ZnVuY3Rpb24gZihiKXtyZXR1cm4gYiYmYShiKSYmKGIuaXMobS4kcmVtb3ZlRW1wdHkpfHxiLmlzKFwiYVwiKSYmIWIuaXNCbG9ja0JvdW5kYXJ5KCkpfWZ1bmN0aW9uIGsoYixjLGQsZSl7dmFyIGc9Yi5jbG9uZSgpLGYsaDtnLnNldEVuZEF0KGMsQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX0VORCk7KGY9KG5ldyBDS0VESVRPUi5kb20ud2Fsa2VyKGcpKS5uZXh0KCkpJiZhKGYpJiZuW2YuZ2V0TmFtZSgpXSYmXG4oaD1mLmdldFByZXZpb3VzKCkpJiZhKGgpJiYhaC5nZXRQYXJlbnQoKS5lcXVhbHMoYi5zdGFydENvbnRhaW5lcikmJmQuY29udGFpbnMoaCkmJmUuY29udGFpbnMoZikmJmYuaXNJZGVudGljYWwoaCkmJihmLm1vdmVDaGlsZHJlbihoKSxmLnJlbW92ZSgpLGsoYixjLGQsZSkpfWZ1bmN0aW9uIGgoYixjKXtmdW5jdGlvbiBkKGIsYyl7aWYoYy5pc0Jsb2NrJiZjLmlzRWxlbWVudCYmIWMubm9kZS5pcyhcImJyXCIpJiZhKGIpJiZiLmlzKFwiYnJcIikpcmV0dXJuIGIucmVtb3ZlKCksMX12YXIgZT1jLmVuZENvbnRhaW5lci5nZXRDaGlsZChjLmVuZE9mZnNldCksZz1jLmVuZENvbnRhaW5lci5nZXRDaGlsZChjLmVuZE9mZnNldC0xKTtlJiZkKGUsYltiLmxlbmd0aC0xXSk7ZyYmZChnLGJbMF0pJiYoYy5zZXRFbmQoYy5lbmRDb250YWluZXIsYy5lbmRPZmZzZXQtMSksYy5jb2xsYXBzZSgpKX12YXIgbT1DS0VESVRPUi5kdGQsbj17cDoxLGRpdjoxLGgxOjEsaDI6MSxoMzoxLGg0OjEsaDU6MSxcbmg2OjEsdWw6MSxvbDoxLGxpOjEscHJlOjEsZGw6MSxibG9ja3F1b3RlOjF9LHU9e3A6MSxkaXY6MSxoMToxLGgyOjEsaDM6MSxoNDoxLGg1OjEsaDY6MX0scj1DS0VESVRPUi50b29scy5leHRlbmQoe30sbS4kaW5saW5lKTtkZWxldGUgci5icjtyZXR1cm4gZnVuY3Rpb24obix0LEgscCl7dmFyIHY9bi5lZGl0b3IsQj0hMTtcInVuZmlsdGVyZWRfaHRtbFwiPT10JiYodD1cImh0bWxcIixCPSEwKTtpZighcC5jaGVja1JlYWRPbmx5KCkpe3ZhciBxPShuZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnRQYXRoKHAuc3RhcnRDb250YWluZXIscC5yb290KSkuYmxvY2tMaW1pdHx8cC5yb290O249e3R5cGU6dCxkb250RmlsdGVyOkIsZWRpdGFibGU6bixlZGl0b3I6dixyYW5nZTpwLGJsb2NrTGltaXQ6cSxtZXJnZUNhbmRpZGF0ZXM6W10sem9tYmllczpbXX07dD1uLnJhbmdlO3A9bi5tZXJnZUNhbmRpZGF0ZXM7dmFyIEssRTtcInRleHRcIj09bi50eXBlJiZ0LnNocmluayhDS0VESVRPUi5TSFJJTktfRUxFTUVOVCxcbiEwLCExKSYmKEs9Q0tFRElUT1IuZG9tLmVsZW1lbnQuY3JlYXRlRnJvbUh0bWwoXCJcXHgzY3NwYW5cXHgzZVxceDI2bmJzcDtcXHgzYy9zcGFuXFx4M2VcIix0LmRvY3VtZW50KSx0Lmluc2VydE5vZGUoSyksdC5zZXRTdGFydEFmdGVyKEspKTtCPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudFBhdGgodC5zdGFydENvbnRhaW5lcik7bi5lbmRQYXRoPXE9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50UGF0aCh0LmVuZENvbnRhaW5lcik7aWYoIXQuY29sbGFwc2VkKXt2YXIgdj1xLmJsb2NrfHxxLmJsb2NrTGltaXQsVz10LmdldENvbW1vbkFuY2VzdG9yKCk7diYmIXYuZXF1YWxzKFcpJiYhdi5jb250YWlucyhXKSYmdC5jaGVja0VuZE9mQmxvY2soKSYmbi56b21iaWVzLnB1c2godik7dC5kZWxldGVDb250ZW50cygpfWZvcig7KEU9Zyh0KSkmJmEoRSkmJkUuaXNCbG9ja0JvdW5kYXJ5KCkmJkIuY29udGFpbnMoRSk7KXQubW92ZVRvUG9zaXRpb24oRSxDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfRU5EKTtcbmsodCxuLmJsb2NrTGltaXQsQixxKTtLJiYodC5zZXRFbmRCZWZvcmUoSyksdC5jb2xsYXBzZSgpLEsucmVtb3ZlKCkpO0s9dC5zdGFydFBhdGgoKTtpZih2PUsuY29udGFpbnMoZiwhMSwxKSl0LnNwbGl0RWxlbWVudCh2KSxuLmlubGluZVN0eWxlc1Jvb3Q9dixuLmlubGluZVN0eWxlc1BlYWs9Sy5sYXN0RWxlbWVudDtLPXQuY3JlYXRlQm9va21hcmsoKTsodj1LLnN0YXJ0Tm9kZS5nZXRQcmV2aW91cyhjKSkmJmEodikmJmYodikmJnAucHVzaCh2KTsodj1LLnN0YXJ0Tm9kZS5nZXROZXh0KGMpKSYmYSh2KSYmZih2KSYmcC5wdXNoKHYpO2Zvcih2PUsuc3RhcnROb2RlOyh2PXYuZ2V0UGFyZW50KCkpJiZmKHYpOylwLnB1c2godik7dC5tb3ZlVG9Cb29rbWFyayhLKTtpZihLPUgpe0s9bi5yYW5nZTtpZihcInRleHRcIj09bi50eXBlJiZuLmlubGluZVN0eWxlc1Jvb3Qpe0U9bi5pbmxpbmVTdHlsZXNQZWFrO3Q9RS5nZXREb2N1bWVudCgpLmNyZWF0ZVRleHQoXCJ7Y2tlLXBlYWt9XCIpO2ZvcihwPVxubi5pbmxpbmVTdHlsZXNSb290LmdldFBhcmVudCgpOyFFLmVxdWFscyhwKTspdD10LmFwcGVuZFRvKEUuY2xvbmUoKSksRT1FLmdldFBhcmVudCgpO0g9dC5nZXRPdXRlckh0bWwoKS5zcGxpdChcIntja2UtcGVha31cIikuam9pbihIKX1FPW4uYmxvY2tMaW1pdC5nZXROYW1lKCk7aWYoL15cXHMrfFxccyskLy50ZXN0KEgpJiZcInNwYW5cImluIENLRURJVE9SLmR0ZFtFXSl7dmFyIFU9J1xceDNjc3BhbiBkYXRhLWNrZS1tYXJrZXJcXHgzZFwiMVwiXFx4M2VcXHgyNm5ic3A7XFx4M2Mvc3BhblxceDNlJztIPVUrSCtVfUg9bi5lZGl0b3IuZGF0YVByb2Nlc3Nvci50b0h0bWwoSCx7Y29udGV4dDpudWxsLGZpeEZvckJvZHk6ITEscHJvdGVjdGVkV2hpdGVzcGFjZXM6ISFVLGRvbnRGaWx0ZXI6bi5kb250RmlsdGVyLGZpbHRlcjpuLmVkaXRvci5hY3RpdmVGaWx0ZXIsZW50ZXJNb2RlOm4uZWRpdG9yLmFjdGl2ZUVudGVyTW9kZX0pO0U9Sy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYm9keVwiKTtFLnNldEh0bWwoSCk7XG5VJiYoRS5nZXRGaXJzdCgpLnJlbW92ZSgpLEUuZ2V0TGFzdCgpLnJlbW92ZSgpKTtpZigoVT1LLnN0YXJ0UGF0aCgpLmJsb2NrKSYmKDEhPVUuZ2V0Q2hpbGRDb3VudCgpfHwhVS5nZXRCb2d1cygpKSlhOnt2YXIgTDtpZigxPT1FLmdldENoaWxkQ291bnQoKSYmYShMPUUuZ2V0Rmlyc3QoKSkmJkwuaXModSkmJiFMLmhhc0F0dHJpYnV0ZShcImNvbnRlbnRlZGl0YWJsZVwiKSl7VT1MLmdldEVsZW1lbnRzQnlUYWcoXCIqXCIpO0s9MDtmb3IocD1VLmNvdW50KCk7SzxwO0srKylpZih0PVUuZ2V0SXRlbShLKSwhdC5pcyhyKSlicmVhayBhO0wubW92ZUNoaWxkcmVuKEwuZ2V0UGFyZW50KDEpKTtMLnJlbW92ZSgpfX1uLmRhdGFXcmFwcGVyPUU7Sz1IfWlmKEspe0w9bi5yYW5nZTtLPUwuZG9jdW1lbnQ7dmFyIE47RT1uLmJsb2NrTGltaXQ7cD0wO3ZhciBTLFU9W10sUSxZO0g9dj0wO3ZhciBWLGRhO3Q9TC5zdGFydENvbnRhaW5lcjt2YXIgQj1uLmVuZFBhdGguZWxlbWVudHNbMF0sWixxPUIuZ2V0UG9zaXRpb24odCksXG5XPSEhQi5nZXRDb21tb25BbmNlc3Rvcih0KSYmcSE9Q0tFRElUT1IuUE9TSVRJT05fSURFTlRJQ0FMJiYhKHEmQ0tFRElUT1IuUE9TSVRJT05fQ09OVEFJTlMrQ0tFRElUT1IuUE9TSVRJT05fSVNfQ09OVEFJTkVEKTt0PWIobi5kYXRhV3JhcHBlcixuKTtmb3IoaCh0LEwpO3A8dC5sZW5ndGg7cCsrKXtxPXRbcF07aWYoTj1xLmlzTGluZUJyZWFrKXtOPUw7Vj1FO3ZhciBYPXZvaWQgMCxmYT12b2lkIDA7cS5oYXNCbG9ja1NpYmxpbmc/Tj0xOihYPU4uc3RhcnRDb250YWluZXIuZ2V0QXNjZW5kYW50KG0uJGJsb2NrLDEpKSYmWC5pcyh7ZGl2OjEscDoxfSk/KGZhPVguZ2V0UG9zaXRpb24oViksZmE9PUNLRURJVE9SLlBPU0lUSU9OX0lERU5USUNBTHx8ZmE9PUNLRURJVE9SLlBPU0lUSU9OX0NPTlRBSU5TP049MDooVj1OLnNwbGl0RWxlbWVudChYKSxOLm1vdmVUb1Bvc2l0aW9uKFYsQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfU1RBUlQpLE49MSkpOk49MH1pZihOKUg9MDxwO2Vsc2V7Tj1cbkwuc3RhcnRQYXRoKCk7IXEuaXNCbG9jayYmbChuLmVkaXRvcixOLmJsb2NrLE4uYmxvY2tMaW1pdCkmJihZPWQobi5lZGl0b3IpKSYmKFk9Sy5jcmVhdGVFbGVtZW50KFkpLFkuYXBwZW5kQm9ndXMoKSxMLmluc2VydE5vZGUoWSksQ0tFRElUT1IuZW52Lm5lZWRzQnJGaWxsZXImJihTPVkuZ2V0Qm9ndXMoKSkmJlMucmVtb3ZlKCksTC5tb3ZlVG9Qb3NpdGlvbihZLENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9FTkQpKTtpZigoTj1MLnN0YXJ0UGF0aCgpLmJsb2NrKSYmIU4uZXF1YWxzKFEpKXtpZihTPU4uZ2V0Qm9ndXMoKSlTLnJlbW92ZSgpLFUucHVzaChOKTtRPU59cS5maXJzdE5vdEFsbG93ZWQmJih2PTEpO2lmKHYmJnEuaXNFbGVtZW50KXtOPUwuc3RhcnRDb250YWluZXI7Zm9yKFY9bnVsbDtOJiYhbVtOLmdldE5hbWUoKV1bcS5uYW1lXTspe2lmKE4uZXF1YWxzKEUpKXtOPW51bGw7YnJlYWt9Vj1OO049Ti5nZXRQYXJlbnQoKX1pZihOKVYmJihkYT1MLnNwbGl0RWxlbWVudChWKSxcbm4uem9tYmllcy5wdXNoKGRhKSxuLnpvbWJpZXMucHVzaChWKSk7ZWxzZXtWPUUuZ2V0TmFtZSgpO1o9IXA7Tj1wPT10Lmxlbmd0aC0xO1Y9ZShxLm5vZGUsVik7Zm9yKHZhciBYPVtdLGZhPVYubGVuZ3RoLGJhPTAsZWE9dm9pZCAwLGdhPTAsaGE9LTE7YmE8ZmE7YmErKyllYT1WW2JhXSxcIiBcIj09ZWE/KGdhfHxaJiYhYmF8fChYLnB1c2gobmV3IENLRURJVE9SLmRvbS50ZXh0KFwiIFwiKSksaGE9WC5sZW5ndGgpLGdhPTEpOihYLnB1c2goZWEpLGdhPTApO04mJmhhPT1YLmxlbmd0aCYmWC5wb3AoKTtaPVh9fWlmKFope2Zvcig7Tj1aLnBvcCgpOylMLmluc2VydE5vZGUoTik7Wj0wfWVsc2UgTC5pbnNlcnROb2RlKHEubm9kZSk7cS5sYXN0Tm90QWxsb3dlZCYmcDx0Lmxlbmd0aC0xJiYoKGRhPVc/QjpkYSkmJkwuc2V0RW5kQXQoZGEsQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfU1RBUlQpLHY9MCk7TC5jb2xsYXBzZSgpfX0xIT10Lmxlbmd0aD9TPSExOihTPXRbMF0sUz1TLmlzRWxlbWVudCYmXG5cImZhbHNlXCI9PVMubm9kZS5nZXRBdHRyaWJ1dGUoXCJjb250ZW50ZWRpdGFibGVcIikpO1MmJihIPSEwLE49dFswXS5ub2RlLEwuc2V0U3RhcnRBdChOLENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9TVEFSVCksTC5zZXRFbmRBdChOLENLRURJVE9SLlBPU0lUSU9OX0FGVEVSX0VORCkpO24uZG9udE1vdmVDYXJldD1IO24uYm9ndXNOZWVkZWRCbG9ja3M9VX1TPW4ucmFuZ2U7dmFyIGFhO2RhPW4uYm9ndXNOZWVkZWRCbG9ja3M7Zm9yKFo9Uy5jcmVhdGVCb29rbWFyaygpO1E9bi56b21iaWVzLnBvcCgpOylRLmdldFBhcmVudCgpJiYoWT1TLmNsb25lKCksWS5tb3ZlVG9FbGVtZW50RWRpdFN0YXJ0KFEpLFkucmVtb3ZlRW1wdHlCbG9ja3NBdEVuZCgpKTtpZihkYSlmb3IoO1E9ZGEucG9wKCk7KUNLRURJVE9SLmVudi5uZWVkc0JyRmlsbGVyP1EuYXBwZW5kQm9ndXMoKTpRLmFwcGVuZChTLmRvY3VtZW50LmNyZWF0ZVRleHQoXCLCoFwiKSk7Zm9yKDtRPW4ubWVyZ2VDYW5kaWRhdGVzLnBvcCgpOylRLm1lcmdlU2libGluZ3MoKTtcblMubW92ZVRvQm9va21hcmsoWik7aWYoIW4uZG9udE1vdmVDYXJldCl7Zm9yKFE9ZyhTKTtRJiZhKFEpJiYhUS5pcyhtLiRlbXB0eSk7KXtpZihRLmlzQmxvY2tCb3VuZGFyeSgpKVMubW92ZVRvUG9zaXRpb24oUSxDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfRU5EKTtlbHNle2lmKGYoUSkmJlEuZ2V0SHRtbCgpLm1hdGNoKC8oXFxzfCZuYnNwOykkL2cpKXthYT1udWxsO2JyZWFrfWFhPVMuY2xvbmUoKTthYS5tb3ZlVG9Qb3NpdGlvbihRLENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9FTkQpfVE9US5nZXRMYXN0KGMpfWFhJiZTLm1vdmVUb1JhbmdlKGFhKX19fX0oKTtyPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShiKXtiPW5ldyBDS0VESVRPUi5kb20ud2Fsa2VyKGIpO2IuZ3VhcmQ9ZnVuY3Rpb24oYSxiKXtpZihiKXJldHVybiExO2lmKGEudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UKXJldHVybiBhLmlzKENLRURJVE9SLmR0ZC4kdGFibGVDb250ZW50KX07Yi5ldmFsdWF0b3I9ZnVuY3Rpb24oYSl7cmV0dXJuIGEudHlwZT09XG5DS0VESVRPUi5OT0RFX0VMRU1FTlR9O3JldHVybiBifWZ1bmN0aW9uIGIoYSxjLGQpe2M9YS5nZXREb2N1bWVudCgpLmNyZWF0ZUVsZW1lbnQoYyk7YS5hcHBlbmQoYyxkKTtyZXR1cm4gY31mdW5jdGlvbiBjKGEpe3ZhciBiPWEuY291bnQoKSxkO2ZvcihiOzA8Yi0tOylkPWEuZ2V0SXRlbShiKSxDS0VESVRPUi50b29scy50cmltKGQuZ2V0SHRtbCgpKXx8KGQuYXBwZW5kQm9ndXMoKSxDS0VESVRPUi5lbnYuaWUmJjk+Q0tFRElUT1IuZW52LnZlcnNpb24mJmQuZ2V0Q2hpbGRDb3VudCgpJiZkLmdldEZpcnN0KCkucmVtb3ZlKCkpfXJldHVybiBmdW5jdGlvbihkKXt2YXIgZT1kLnN0YXJ0Q29udGFpbmVyLGc9ZS5nZXRBc2NlbmRhbnQoXCJ0YWJsZVwiLDEpLGY9ITE7YyhnLmdldEVsZW1lbnRzQnlUYWcoXCJ0ZFwiKSk7YyhnLmdldEVsZW1lbnRzQnlUYWcoXCJ0aFwiKSk7Zz1kLmNsb25lKCk7Zy5zZXRTdGFydChlLDApO2c9YShnKS5sYXN0QmFja3dhcmQoKTtnfHwoZz1kLmNsb25lKCksZy5zZXRFbmRBdChlLFxuQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX0VORCksZz1hKGcpLmxhc3RGb3J3YXJkKCksZj0hMCk7Z3x8KGc9ZSk7Zy5pcyhcInRhYmxlXCIpPyhkLnNldFN0YXJ0QXQoZyxDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfU1RBUlQpLGQuY29sbGFwc2UoITApLGcucmVtb3ZlKCkpOihnLmlzKHt0Ym9keToxLHRoZWFkOjEsdGZvb3Q6MX0pJiYoZz1iKGcsXCJ0clwiLGYpKSxnLmlzKFwidHJcIikmJihnPWIoZyxnLmdldFBhcmVudCgpLmlzKFwidGhlYWRcIik/XCJ0aFwiOlwidGRcIixmKSksKGU9Zy5nZXRCb2d1cygpKSYmZS5yZW1vdmUoKSxkLm1vdmVUb1Bvc2l0aW9uKGcsZj9DS0VESVRPUi5QT1NJVElPTl9BRlRFUl9TVEFSVDpDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfRU5EKSl9fSgpO3U9e2VvbDp7ZGV0ZWN0OmZ1bmN0aW9uKGEsYil7dmFyIGM9YS5yYW5nZSxkPWMuY2xvbmUoKSxlPWMuY2xvbmUoKSxnPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudFBhdGgoYy5zdGFydENvbnRhaW5lcixiKSxmPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudFBhdGgoYy5lbmRDb250YWluZXIsXG5iKTtkLmNvbGxhcHNlKDEpO2UuY29sbGFwc2UoKTtnLmJsb2NrJiZkLmNoZWNrQm91bmRhcnlPZkVsZW1lbnQoZy5ibG9jayxDS0VESVRPUi5FTkQpJiYoYy5zZXRTdGFydEFmdGVyKGcuYmxvY2spLGEucHJlcGVuZEVvbEJyPTEpO2YuYmxvY2smJmUuY2hlY2tCb3VuZGFyeU9mRWxlbWVudChmLmJsb2NrLENLRURJVE9SLlNUQVJUKSYmKGMuc2V0RW5kQmVmb3JlKGYuYmxvY2spLGEuYXBwZW5kRW9sQnI9MSl9LGZpeDpmdW5jdGlvbihhLGIpe3ZhciBjPWIuZ2V0RG9jdW1lbnQoKSxkO2EuYXBwZW5kRW9sQnImJihkPXRoaXMuY3JlYXRlRW9sQnIoYyksYS5mcmFnbWVudC5hcHBlbmQoZCkpOyFhLnByZXBlbmRFb2xCcnx8ZCYmIWQuZ2V0UHJldmlvdXMoKXx8YS5mcmFnbWVudC5hcHBlbmQodGhpcy5jcmVhdGVFb2xCcihjKSwxKX0sY3JlYXRlRW9sQnI6ZnVuY3Rpb24oYSl7cmV0dXJuIGEuY3JlYXRlRWxlbWVudChcImJyXCIse2F0dHJpYnV0ZXM6e1wiZGF0YS1ja2UtZW9sXCI6MX19KX19LFxuYm9ndXM6e2V4Y2x1ZGU6ZnVuY3Rpb24oYSl7dmFyIGI9YS5yYW5nZS5nZXRCb3VuZGFyeU5vZGVzKCksYz1iLnN0YXJ0Tm9kZSxiPWIuZW5kTm9kZTshYnx8IXAoYil8fGMmJmMuZXF1YWxzKGIpfHxhLnJhbmdlLnNldEVuZEJlZm9yZShiKX19LHRyZWU6e3JlYnVpbGQ6ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLnJhbmdlLGQ9Yy5nZXRDb21tb25BbmNlc3RvcigpLGU9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50UGF0aChkLGIpLGc9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50UGF0aChjLnN0YXJ0Q29udGFpbmVyLGIpLGM9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50UGF0aChjLmVuZENvbnRhaW5lcixiKSxmO2QudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUJiYoZD1kLmdldFBhcmVudCgpKTtpZihlLmJsb2NrTGltaXQuaXMoe3RyOjEsdGFibGU6MX0pKXt2YXIgaz1lLmNvbnRhaW5zKFwidGFibGVcIikuZ2V0UGFyZW50KCk7Zj1mdW5jdGlvbihhKXtyZXR1cm4hYS5lcXVhbHMoayl9fWVsc2UgaWYoZS5ibG9jayYmXG5lLmJsb2NrLmlzKENLRURJVE9SLmR0ZC4kbGlzdEl0ZW0pJiYoZz1nLmNvbnRhaW5zKENLRURJVE9SLmR0ZC4kbGlzdCksYz1jLmNvbnRhaW5zKENLRURJVE9SLmR0ZC4kbGlzdCksIWcuZXF1YWxzKGMpKSl7dmFyIGg9ZS5jb250YWlucyhDS0VESVRPUi5kdGQuJGxpc3QpLmdldFBhcmVudCgpO2Y9ZnVuY3Rpb24oYSl7cmV0dXJuIWEuZXF1YWxzKGgpfX1mfHwoZj1mdW5jdGlvbihhKXtyZXR1cm4hYS5lcXVhbHMoZS5ibG9jaykmJiFhLmVxdWFscyhlLmJsb2NrTGltaXQpfSk7dGhpcy5yZWJ1aWxkRnJhZ21lbnQoYSxiLGQsZil9LHJlYnVpbGRGcmFnbWVudDpmdW5jdGlvbihhLGIsYyxkKXtmb3IodmFyIGU7YyYmIWMuZXF1YWxzKGIpJiZkKGMpOyllPWMuY2xvbmUoMCwxKSxhLmZyYWdtZW50LmFwcGVuZFRvKGUpLGEuZnJhZ21lbnQ9ZSxjPWMuZ2V0UGFyZW50KCl9fSxjZWxsOntzaHJpbms6ZnVuY3Rpb24oYSl7YT1hLnJhbmdlO3ZhciBiPWEuc3RhcnRDb250YWluZXIsYz1hLmVuZENvbnRhaW5lcixcbmQ9YS5zdGFydE9mZnNldCxlPWEuZW5kT2Zmc2V0O2IudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZiLmVxdWFscyhjKSYmYi5pcyhcInRyXCIpJiYrK2Q9PWUmJmEuc2hyaW5rKENLRURJVE9SLlNIUklOS19URVhUKX19fTtCPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShiLGMpe3ZhciBkPWIuZ2V0UGFyZW50KCk7aWYoZC5pcyhDS0VESVRPUi5kdGQuJGlubGluZSkpYltjP1wiaW5zZXJ0QmVmb3JlXCI6XCJpbnNlcnRBZnRlclwiXShkKX1mdW5jdGlvbiBiKGMsZCxlKXthKGQpO2EoZSwxKTtmb3IodmFyIGc7Zz1lLmdldE5leHQoKTspZy5pbnNlcnRBZnRlcihkKSxkPWc7cShjKSYmYy5yZW1vdmUoKX1mdW5jdGlvbiBjKGEsYil7dmFyIGQ9bmV3IENLRURJVE9SLmRvbS5yYW5nZShhKTtkLnNldFN0YXJ0QWZ0ZXIoYi5zdGFydE5vZGUpO2Quc2V0RW5kQmVmb3JlKGIuZW5kTm9kZSk7cmV0dXJuIGR9cmV0dXJue2xpc3Q6e2RldGVjdE1lcmdlOmZ1bmN0aW9uKGEsYil7dmFyIGQ9YyhiLGEuYm9va21hcmspLFxuZT1kLnN0YXJ0UGF0aCgpLGc9ZC5lbmRQYXRoKCksZj1lLmNvbnRhaW5zKENLRURJVE9SLmR0ZC4kbGlzdCksaz1nLmNvbnRhaW5zKENLRURJVE9SLmR0ZC4kbGlzdCk7YS5tZXJnZUxpc3Q9ZiYmayYmZi5nZXRQYXJlbnQoKS5lcXVhbHMoay5nZXRQYXJlbnQoKSkmJiFmLmVxdWFscyhrKTthLm1lcmdlTGlzdEl0ZW1zPWUuYmxvY2smJmcuYmxvY2smJmUuYmxvY2suaXMoQ0tFRElUT1IuZHRkLiRsaXN0SXRlbSkmJmcuYmxvY2suaXMoQ0tFRElUT1IuZHRkLiRsaXN0SXRlbSk7aWYoYS5tZXJnZUxpc3R8fGEubWVyZ2VMaXN0SXRlbXMpZD1kLmNsb25lKCksZC5zZXRTdGFydEJlZm9yZShhLmJvb2ttYXJrLnN0YXJ0Tm9kZSksZC5zZXRFbmRBZnRlcihhLmJvb2ttYXJrLmVuZE5vZGUpLGEubWVyZ2VMaXN0Qm9va21hcms9ZC5jcmVhdGVCb29rbWFyaygpfSxtZXJnZTpmdW5jdGlvbihhLGMpe2lmKGEubWVyZ2VMaXN0Qm9va21hcmspe3ZhciBkPWEubWVyZ2VMaXN0Qm9va21hcmsuc3RhcnROb2RlLFxuZT1hLm1lcmdlTGlzdEJvb2ttYXJrLmVuZE5vZGUsZz1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnRQYXRoKGQsYyksZj1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnRQYXRoKGUsYyk7aWYoYS5tZXJnZUxpc3Qpe3ZhciBrPWcuY29udGFpbnMoQ0tFRElUT1IuZHRkLiRsaXN0KSxoPWYuY29udGFpbnMoQ0tFRElUT1IuZHRkLiRsaXN0KTtrLmVxdWFscyhoKXx8KGgubW92ZUNoaWxkcmVuKGspLGgucmVtb3ZlKCkpfWEubWVyZ2VMaXN0SXRlbXMmJihnPWcuY29udGFpbnMoQ0tFRElUT1IuZHRkLiRsaXN0SXRlbSksZj1mLmNvbnRhaW5zKENLRURJVE9SLmR0ZC4kbGlzdEl0ZW0pLGcuZXF1YWxzKGYpfHxiKGYsZCxlKSk7ZC5yZW1vdmUoKTtlLnJlbW92ZSgpfX19LGJsb2NrOntkZXRlY3RNZXJnZTpmdW5jdGlvbihhLGIpe2lmKCFhLnRhYmxlQ29udGVudHNSYW5nZXMmJiFhLm1lcmdlTGlzdEJvb2ttYXJrKXt2YXIgYz1uZXcgQ0tFRElUT1IuZG9tLnJhbmdlKGIpO2Muc2V0U3RhcnRCZWZvcmUoYS5ib29rbWFyay5zdGFydE5vZGUpO1xuYy5zZXRFbmRBZnRlcihhLmJvb2ttYXJrLmVuZE5vZGUpO2EubWVyZ2VCbG9ja0Jvb2ttYXJrPWMuY3JlYXRlQm9va21hcmsoKX19LG1lcmdlOmZ1bmN0aW9uKGEsYyl7aWYoYS5tZXJnZUJsb2NrQm9va21hcmsmJiFhLnB1cmdlVGFibGVCb29rbWFyayl7dmFyIGQ9YS5tZXJnZUJsb2NrQm9va21hcmsuc3RhcnROb2RlLGU9YS5tZXJnZUJsb2NrQm9va21hcmsuZW5kTm9kZSxnPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudFBhdGgoZCxjKSxmPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudFBhdGgoZSxjKSxnPWcuYmxvY2ssZj1mLmJsb2NrO2cmJmYmJiFnLmVxdWFscyhmKSYmYihmLGQsZSk7ZC5yZW1vdmUoKTtlLnJlbW92ZSgpfX19LHRhYmxlOmZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShjKXt2YXIgZT1bXSxnLGY9bmV3IENLRURJVE9SLmRvbS53YWxrZXIoYyksaz1jLnN0YXJ0UGF0aCgpLmNvbnRhaW5zKGQpLGg9Yy5lbmRQYXRoKCkuY29udGFpbnMoZCksbD17fTtmLmd1YXJkPWZ1bmN0aW9uKGEsXG5mKXtpZihhLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCl7dmFyIG09XCJ2aXNpdGVkX1wiKyhmP1wib3V0XCI6XCJpblwiKTtpZihhLmdldEN1c3RvbURhdGEobSkpcmV0dXJuO0NLRURJVE9SLmRvbS5lbGVtZW50LnNldE1hcmtlcihsLGEsbSwxKX1pZihmJiZrJiZhLmVxdWFscyhrKSlnPWMuY2xvbmUoKSxnLnNldEVuZEF0KGssQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX0VORCksZS5wdXNoKGcpO2Vsc2UgaWYoIWYmJmgmJmEuZXF1YWxzKGgpKWc9Yy5jbG9uZSgpLGcuc2V0U3RhcnRBdChoLENLRURJVE9SLlBPU0lUSU9OX0FGVEVSX1NUQVJUKSxlLnB1c2goZyk7ZWxzZXtpZihtPSFmKW09YS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmEuaXMoZCkmJigha3x8YihhLGspKSYmKCFofHxiKGEsaCkpO20mJihnPWMuY2xvbmUoKSxnLnNlbGVjdE5vZGVDb250ZW50cyhhKSxlLnB1c2goZykpfX07Zi5sYXN0Rm9yd2FyZCgpO0NLRURJVE9SLmRvbS5lbGVtZW50LmNsZWFyQWxsTWFya2VycyhsKTtcbnJldHVybiBlfWZ1bmN0aW9uIGIoYSxjKXt2YXIgZD1DS0VESVRPUi5QT1NJVElPTl9DT05UQUlOUytDS0VESVRPUi5QT1NJVElPTl9JU19DT05UQUlORUQsZT1hLmdldFBvc2l0aW9uKGMpO3JldHVybiBlPT09Q0tFRElUT1IuUE9TSVRJT05fSURFTlRJQ0FMPyExOjA9PT0oZSZkKX12YXIgZD17dGQ6MSx0aDoxLGNhcHRpb246MX07cmV0dXJue2RldGVjdFB1cmdlOmZ1bmN0aW9uKGEpe3ZhciBiPWEucmFuZ2UsYz1iLmNsb25lKCk7Yy5lbmxhcmdlKENLRURJVE9SLkVOTEFSR0VfRUxFTUVOVCk7dmFyIGM9bmV3IENLRURJVE9SLmRvbS53YWxrZXIoYyksZT0wO2MuZXZhbHVhdG9yPWZ1bmN0aW9uKGEpe2EudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZhLmlzKGQpJiYrK2V9O2MuY2hlY2tGb3J3YXJkKCk7aWYoMTxlKXt2YXIgYz1iLnN0YXJ0UGF0aCgpLmNvbnRhaW5zKFwidGFibGVcIiksZz1iLmVuZFBhdGgoKS5jb250YWlucyhcInRhYmxlXCIpO2MmJmcmJmIuY2hlY2tCb3VuZGFyeU9mRWxlbWVudChjLFxuQ0tFRElUT1IuU1RBUlQpJiZiLmNoZWNrQm91bmRhcnlPZkVsZW1lbnQoZyxDS0VESVRPUi5FTkQpJiYoYj1hLnJhbmdlLmNsb25lKCksYi5zZXRTdGFydEJlZm9yZShjKSxiLnNldEVuZEFmdGVyKGcpLGEucHVyZ2VUYWJsZUJvb2ttYXJrPWIuY3JlYXRlQm9va21hcmsoKSl9fSxkZXRlY3RSYW5nZXM6ZnVuY3Rpb24oZSxnKXt2YXIgZj1jKGcsZS5ib29rbWFyayksaz1mLmNsb25lKCksaCxsLG09Zi5nZXRDb21tb25BbmNlc3RvcigpO20uaXMoQ0tFRElUT1IuZHRkLiR0YWJsZUNvbnRlbnQpJiYhbS5pcyhkKSYmKG09bS5nZXRBc2NlbmRhbnQoXCJ0YWJsZVwiLCEwKSk7bD1tO209bmV3IENLRURJVE9SLmRvbS5lbGVtZW50UGF0aChmLnN0YXJ0Q29udGFpbmVyLGwpO2w9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50UGF0aChmLmVuZENvbnRhaW5lcixsKTttPW0uY29udGFpbnMoXCJ0YWJsZVwiKTtsPWwuY29udGFpbnMoXCJ0YWJsZVwiKTtpZihtfHxsKW0mJmwmJmIobSxsKT8oZS50YWJsZVN1cnJvdW5kaW5nUmFuZ2U9XG5rLGsuc2V0U3RhcnRBdChtLENLRURJVE9SLlBPU0lUSU9OX0FGVEVSX0VORCksay5zZXRFbmRBdChsLENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9TVEFSVCksaz1mLmNsb25lKCksay5zZXRFbmRBdChtLENLRURJVE9SLlBPU0lUSU9OX0FGVEVSX0VORCksaD1mLmNsb25lKCksaC5zZXRTdGFydEF0KGwsQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX1NUQVJUKSxoPWEoaykuY29uY2F0KGEoaCkpKTptP2x8fChlLnRhYmxlU3Vycm91bmRpbmdSYW5nZT1rLGsuc2V0U3RhcnRBdChtLENLRURJVE9SLlBPU0lUSU9OX0FGVEVSX0VORCksZi5zZXRFbmRBdChtLENLRURJVE9SLlBPU0lUSU9OX0FGVEVSX0VORCkpOihlLnRhYmxlU3Vycm91bmRpbmdSYW5nZT1rLGsuc2V0RW5kQXQobCxDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfU1RBUlQpLGYuc2V0U3RhcnRBdChsLENLRURJVE9SLlBPU0lUSU9OX0FGVEVSX1NUQVJUKSksZS50YWJsZUNvbnRlbnRzUmFuZ2VzPWg/aDphKGYpfSxkZWxldGVSYW5nZXM6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiO2I9XG5hLnRhYmxlQ29udGVudHNSYW5nZXMucG9wKCk7KWIuZXh0cmFjdENvbnRlbnRzKCkscShiLnN0YXJ0Q29udGFpbmVyKSYmYi5zdGFydENvbnRhaW5lci5hcHBlbmRCb2d1cygpO2EudGFibGVTdXJyb3VuZGluZ1JhbmdlJiZhLnRhYmxlU3Vycm91bmRpbmdSYW5nZS5leHRyYWN0Q29udGVudHMoKX0scHVyZ2U6ZnVuY3Rpb24oYSl7aWYoYS5wdXJnZVRhYmxlQm9va21hcmspe3ZhciBiPWEuZG9jLGM9YS5yYW5nZS5jbG9uZSgpLGI9Yi5jcmVhdGVFbGVtZW50KFwicFwiKTtiLmluc2VydEJlZm9yZShhLnB1cmdlVGFibGVCb29rbWFyay5zdGFydE5vZGUpO2MubW92ZVRvQm9va21hcmsoYS5wdXJnZVRhYmxlQm9va21hcmspO2MuZGVsZXRlQ29udGVudHMoKTthLnJhbmdlLm1vdmVUb1Bvc2l0aW9uKGIsQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfU1RBUlQpfX19fSgpLGRldGVjdEV4dHJhY3RNZXJnZTpmdW5jdGlvbihhKXtyZXR1cm4hKGEucmFuZ2Uuc3RhcnRQYXRoKCkuY29udGFpbnMoQ0tFRElUT1IuZHRkLiRsaXN0SXRlbSkmJlxuYS5yYW5nZS5lbmRQYXRoKCkuY29udGFpbnMoQ0tFRElUT1IuZHRkLiRsaXN0SXRlbSkpfSxmaXhVbmVkaXRhYmxlUmFuZ2VQb3NpdGlvbjpmdW5jdGlvbihhKXthLnN0YXJ0Q29udGFpbmVyLmdldER0ZCgpW1wiI1wiXXx8YS5tb3ZlVG9DbG9zZXN0RWRpdGFibGVQb3NpdGlvbihudWxsLCEwKX0sYXV0b1BhcmFncmFwaDpmdW5jdGlvbihhLGIpe3ZhciBjPWIuc3RhcnRQYXRoKCksZTtsKGEsYy5ibG9jayxjLmJsb2NrTGltaXQpJiYoZT1kKGEpKSYmKGU9Yi5kb2N1bWVudC5jcmVhdGVFbGVtZW50KGUpLGUuYXBwZW5kQm9ndXMoKSxiLmluc2VydE5vZGUoZSksYi5tb3ZlVG9Qb3NpdGlvbihlLENLRURJVE9SLlBPU0lUSU9OX0FGVEVSX1NUQVJUKSl9fX0oKX0oKSxmdW5jdGlvbigpe2Z1bmN0aW9uIGEoKXt2YXIgYT10aGlzLl8uZmFrZVNlbGVjdGlvbixiO2EmJihiPXRoaXMuZ2V0U2VsZWN0aW9uKDEpLGImJmIuaXNIaWRkZW4oKXx8KGEucmVzZXQoKSxhPTApKTtpZighYSYmKGE9Ynx8XG50aGlzLmdldFNlbGVjdGlvbigxKSwhYXx8YS5nZXRUeXBlKCk9PUNLRURJVE9SLlNFTEVDVElPTl9OT05FKSlyZXR1cm47dGhpcy5maXJlKFwic2VsZWN0aW9uQ2hlY2tcIixhKTtiPXRoaXMuZWxlbWVudFBhdGgoKTtpZighYi5jb21wYXJlKHRoaXMuXy5zZWxlY3Rpb25QcmV2aW91c1BhdGgpKXt2YXIgYz10aGlzLl8uc2VsZWN0aW9uUHJldmlvdXNQYXRoJiZ0aGlzLl8uc2VsZWN0aW9uUHJldmlvdXNQYXRoLmJsb2NrTGltaXQuZXF1YWxzKGIuYmxvY2tMaW1pdCk7Q0tFRElUT1IuZW52LndlYmtpdCYmIWMmJih0aGlzLl8ucHJldmlvdXNBY3RpdmU9dGhpcy5kb2N1bWVudC5nZXRBY3RpdmUoKSk7dGhpcy5fLnNlbGVjdGlvblByZXZpb3VzUGF0aD1iO3RoaXMuZmlyZShcInNlbGVjdGlvbkNoYW5nZVwiLHtzZWxlY3Rpb246YSxwYXRoOmJ9KX19ZnVuY3Rpb24gZigpe3I9ITA7dnx8KGIuY2FsbCh0aGlzKSx2PUNLRURJVE9SLnRvb2xzLnNldFRpbWVvdXQoYiwyMDAsdGhpcykpfWZ1bmN0aW9uIGIoKXt2PVxubnVsbDtyJiYoQ0tFRElUT1IudG9vbHMuc2V0VGltZW91dChhLDAsdGhpcykscj0hMSl9ZnVuY3Rpb24gYyhhKXtyZXR1cm4gdShhKXx8YS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJiFhLmlzKENLRURJVE9SLmR0ZC4kZW1wdHkpPyEwOiExfWZ1bmN0aW9uIGUoYSl7ZnVuY3Rpb24gYihjLGQpe3JldHVybiBjJiZjLnR5cGUhPUNLRURJVE9SLk5PREVfVEVYVD9hLmNsb25lKClbXCJtb3ZlVG9FbGVtZW50RWRpdFwiKyhkP1wiRW5kXCI6XCJTdGFydFwiKV0oYyk6ITF9aWYoIShhLnJvb3QgaW5zdGFuY2VvZiBDS0VESVRPUi5lZGl0YWJsZSkpcmV0dXJuITE7dmFyIGQ9YS5zdGFydENvbnRhaW5lcixlPWEuZ2V0UHJldmlvdXNOb2RlKGMsbnVsbCxkKSxnPWEuZ2V0TmV4dE5vZGUoYyxudWxsLGQpO3JldHVybiBiKGUpfHxiKGcsMSl8fCEoZXx8Z3x8ZC50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmQuaXNCbG9ja0JvdW5kYXJ5KCkmJmQuZ2V0Qm9ndXMoKSk/ITA6ITF9ZnVuY3Rpb24gbShhKXtsKGEsXG4hMSk7dmFyIGI9YS5nZXREb2N1bWVudCgpLmNyZWF0ZVRleHQocCk7YS5zZXRDdXN0b21EYXRhKFwiY2tlLWZpbGxpbmdDaGFyXCIsYik7cmV0dXJuIGJ9ZnVuY3Rpb24gbChhLGIpe3ZhciBjPWEmJmEucmVtb3ZlQ3VzdG9tRGF0YShcImNrZS1maWxsaW5nQ2hhclwiKTtpZihjKXtpZighMSE9PWIpe3ZhciBlPWEuZ2V0RG9jdW1lbnQoKS5nZXRTZWxlY3Rpb24oKS5nZXROYXRpdmUoKSxnPWUmJlwiTm9uZVwiIT1lLnR5cGUmJmUuZ2V0UmFuZ2VBdCgwKSxmPXAubGVuZ3RoO2lmKGMuZ2V0TGVuZ3RoKCk+ZiYmZyYmZy5pbnRlcnNlY3RzTm9kZShjLiQpKXt2YXIgaz1be25vZGU6ZS5hbmNob3JOb2RlLG9mZnNldDplLmFuY2hvck9mZnNldH0se25vZGU6ZS5mb2N1c05vZGUsb2Zmc2V0OmUuZm9jdXNPZmZzZXR9XTtlLmFuY2hvck5vZGU9PWMuJCYmZS5hbmNob3JPZmZzZXQ+ZiYmKGtbMF0ub2Zmc2V0LT1mKTtlLmZvY3VzTm9kZT09Yy4kJiZlLmZvY3VzT2Zmc2V0PmYmJihrWzFdLm9mZnNldC09XG5mKX19Yy5zZXRUZXh0KGQoYy5nZXRUZXh0KCksMSkpO2smJihjPWEuZ2V0RG9jdW1lbnQoKS4kLGU9Yy5nZXRTZWxlY3Rpb24oKSxjPWMuY3JlYXRlUmFuZ2UoKSxjLnNldFN0YXJ0KGtbMF0ubm9kZSxrWzBdLm9mZnNldCksYy5jb2xsYXBzZSghMCksZS5yZW1vdmVBbGxSYW5nZXMoKSxlLmFkZFJhbmdlKGMpLGUuZXh0ZW5kKGtbMV0ubm9kZSxrWzFdLm9mZnNldCkpfX1mdW5jdGlvbiBkKGEsYil7cmV0dXJuIGI/YS5yZXBsYWNlKHQsZnVuY3Rpb24oYSxiKXtyZXR1cm4gYj9cIsKgXCI6XCJcIn0pOmEucmVwbGFjZShwLFwiXCIpfWZ1bmN0aW9uIGgoYSxiKXt2YXIgYz1DS0VESVRPUi5kb20uZWxlbWVudC5jcmVhdGVGcm9tSHRtbCgnXFx4M2NkaXYgZGF0YS1ja2UtaGlkZGVuLXNlbFxceDNkXCIxXCIgZGF0YS1ja2UtdGVtcFxceDNkXCIxXCIgc3R5bGVcXHgzZFwiJysoQ0tFRElUT1IuZW52LmllJiYxND5DS0VESVRPUi5lbnYudmVyc2lvbj9cImRpc3BsYXk6bm9uZVwiOlwicG9zaXRpb246Zml4ZWQ7dG9wOjA7bGVmdDotMTAwMHB4XCIpK1xuJ1wiXFx4M2UnKyhifHxcIlxceDI2bmJzcDtcIikrXCJcXHgzYy9kaXZcXHgzZVwiLGEuZG9jdW1lbnQpO2EuZmlyZShcImxvY2tTbmFwc2hvdFwiKTthLmVkaXRhYmxlKCkuYXBwZW5kKGMpO3ZhciBkPWEuZ2V0U2VsZWN0aW9uKDEpLGU9YS5jcmVhdGVSYW5nZSgpLGc9ZC5yb290Lm9uKFwic2VsZWN0aW9uY2hhbmdlXCIsZnVuY3Rpb24oYSl7YS5jYW5jZWwoKX0sbnVsbCxudWxsLDApO2Uuc2V0U3RhcnRBdChjLENLRURJVE9SLlBPU0lUSU9OX0FGVEVSX1NUQVJUKTtlLnNldEVuZEF0KGMsQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX0VORCk7ZC5zZWxlY3RSYW5nZXMoW2VdKTtnLnJlbW92ZUxpc3RlbmVyKCk7YS5maXJlKFwidW5sb2NrU25hcHNob3RcIik7YS5fLmhpZGRlblNlbGVjdGlvbkNvbnRhaW5lcj1jfWZ1bmN0aW9uIGsoYSl7dmFyIGI9ezM3OjEsMzk6MSw4OjEsNDY6MX07cmV0dXJuIGZ1bmN0aW9uKGMpe3ZhciBkPWMuZGF0YS5nZXRLZXlzdHJva2UoKTtpZihiW2RdKXt2YXIgZT1hLmdldFNlbGVjdGlvbigpLmdldFJhbmdlcygpLFxuZz1lWzBdOzE9PWUubGVuZ3RoJiZnLmNvbGxhcHNlZCYmKGQ9Z1szOD5kP1wiZ2V0UHJldmlvdXNFZGl0YWJsZU5vZGVcIjpcImdldE5leHRFZGl0YWJsZU5vZGVcIl0oKSkmJmQudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZcImZhbHNlXCI9PWQuZ2V0QXR0cmlidXRlKFwiY29udGVudGVkaXRhYmxlXCIpJiYoYS5nZXRTZWxlY3Rpb24oKS5mYWtlKGQpLGMuZGF0YS5wcmV2ZW50RGVmYXVsdCgpLGMuY2FuY2VsKCkpfX19ZnVuY3Rpb24gZyhhKXtmb3IodmFyIGI9MDtiPGEubGVuZ3RoO2IrKyl7dmFyIGM9YVtiXTtjLmdldENvbW1vbkFuY2VzdG9yKCkuaXNSZWFkT25seSgpJiZhLnNwbGljZShiLDEpO2lmKCFjLmNvbGxhcHNlZCl7aWYoYy5zdGFydENvbnRhaW5lci5pc1JlYWRPbmx5KCkpZm9yKHZhciBkPWMuc3RhcnRDb250YWluZXIsZTtkJiYhKChlPWQudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UKSYmZC5pcyhcImJvZHlcIil8fCFkLmlzUmVhZE9ubHkoKSk7KWUmJlwiZmFsc2VcIj09XG5kLmdldEF0dHJpYnV0ZShcImNvbnRlbnRFZGl0YWJsZVwiKSYmYy5zZXRTdGFydEFmdGVyKGQpLGQ9ZC5nZXRQYXJlbnQoKTtkPWMuc3RhcnRDb250YWluZXI7ZT1jLmVuZENvbnRhaW5lcjt2YXIgZz1jLnN0YXJ0T2Zmc2V0LGY9Yy5lbmRPZmZzZXQsaz1jLmNsb25lKCk7ZCYmZC50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFQmJihnPj1kLmdldExlbmd0aCgpP2suc2V0U3RhcnRBZnRlcihkKTprLnNldFN0YXJ0QmVmb3JlKGQpKTtlJiZlLnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVCYmKGY/ay5zZXRFbmRBZnRlcihlKTprLnNldEVuZEJlZm9yZShlKSk7ZD1uZXcgQ0tFRElUT1IuZG9tLndhbGtlcihrKTtkLmV2YWx1YXRvcj1mdW5jdGlvbihkKXtpZihkLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmZC5pc1JlYWRPbmx5KCkpe3ZhciBlPWMuY2xvbmUoKTtjLnNldEVuZEJlZm9yZShkKTtjLmNvbGxhcHNlZCYmYS5zcGxpY2UoYi0tLDEpO2QuZ2V0UG9zaXRpb24oay5lbmRDb250YWluZXIpJlxuQ0tFRElUT1IuUE9TSVRJT05fQ09OVEFJTlN8fChlLnNldFN0YXJ0QWZ0ZXIoZCksZS5jb2xsYXBzZWR8fGEuc3BsaWNlKGIrMSwwLGUpKTtyZXR1cm4hMH1yZXR1cm4hMX07ZC5uZXh0KCl9fXJldHVybiBhfXZhciBuPVwiZnVuY3Rpb25cIiE9dHlwZW9mIHdpbmRvdy5nZXRTZWxlY3Rpb24scT0xLHA9Q0tFRElUT1IudG9vbHMucmVwZWF0KFwi4oCLXCIsNyksdD1uZXcgUmVnRXhwKHArXCIoICk/XCIsXCJnXCIpLHYscix1PUNLRURJVE9SLmRvbS53YWxrZXIuaW52aXNpYmxlKDEpLEI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGIpe3JldHVybiBmdW5jdGlvbihhKXt2YXIgYz1hLmVkaXRvci5jcmVhdGVSYW5nZSgpO2MubW92ZVRvQ2xvc2VzdEVkaXRhYmxlUG9zaXRpb24oYS5zZWxlY3RlZCxiKSYmYS5lZGl0b3IuZ2V0U2VsZWN0aW9uKCkuc2VsZWN0UmFuZ2VzKFtjXSk7cmV0dXJuITF9fWZ1bmN0aW9uIGIoYSl7cmV0dXJuIGZ1bmN0aW9uKGIpe3ZhciBjPWIuZWRpdG9yLGQ9Yy5jcmVhdGVSYW5nZSgpLFxuZTsoZT1kLm1vdmVUb0Nsb3Nlc3RFZGl0YWJsZVBvc2l0aW9uKGIuc2VsZWN0ZWQsYSkpfHwoZT1kLm1vdmVUb0Nsb3Nlc3RFZGl0YWJsZVBvc2l0aW9uKGIuc2VsZWN0ZWQsIWEpKTtlJiZjLmdldFNlbGVjdGlvbigpLnNlbGVjdFJhbmdlcyhbZF0pO2MuZmlyZShcInNhdmVTbmFwc2hvdFwiKTtiLnNlbGVjdGVkLnJlbW92ZSgpO2V8fChkLm1vdmVUb0VsZW1lbnRFZGl0YWJsZVBvc2l0aW9uKGMuZWRpdGFibGUoKSksYy5nZXRTZWxlY3Rpb24oKS5zZWxlY3RSYW5nZXMoW2RdKSk7Yy5maXJlKFwic2F2ZVNuYXBzaG90XCIpO3JldHVybiExfX12YXIgYz1hKCksZD1hKDEpO3JldHVybnszNzpjLDM4OmMsMzk6ZCw0MDpkLDg6YigpLDQ2OmIoMSl9fSgpO0NLRURJVE9SLm9uKFwiaW5zdGFuY2VDcmVhdGVkXCIsZnVuY3Rpb24oYil7ZnVuY3Rpb24gYygpe3ZhciBhPWQuZ2V0U2VsZWN0aW9uKCk7YSYmYS5yZW1vdmVBbGxSYW5nZXMoKX12YXIgZD1iLmVkaXRvcjtkLm9uKFwiY29udGVudERvbVwiLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYigpe3I9XG5uZXcgQ0tFRElUT1IuZG9tLnNlbGVjdGlvbihkLmdldFNlbGVjdGlvbigpKTtyLmxvY2soKX1mdW5jdGlvbiBjKCl7Zy5yZW1vdmVMaXN0ZW5lcihcIm1vdXNldXBcIixjKTt1LnJlbW92ZUxpc3RlbmVyKFwibW91c2V1cFwiLGMpO3ZhciBhPUNLRURJVE9SLmRvY3VtZW50LiQuc2VsZWN0aW9uLGI9YS5jcmVhdGVSYW5nZSgpO1wiTm9uZVwiIT1hLnR5cGUmJmIucGFyZW50RWxlbWVudCgpLm93bmVyRG9jdW1lbnQ9PWUuJCYmYi5zZWxlY3QoKX12YXIgZT1kLmRvY3VtZW50LGc9Q0tFRElUT1IuZG9jdW1lbnQsaD1kLmVkaXRhYmxlKCksbT1lLmdldEJvZHkoKSx1PWUuZ2V0RG9jdW1lbnRFbGVtZW50KCksdz1oLmlzSW5saW5lKCksdCxyO0NLRURJVE9SLmVudi5nZWNrbyYmaC5hdHRhY2hMaXN0ZW5lcihoLFwiZm9jdXNcIixmdW5jdGlvbihhKXthLnJlbW92ZUxpc3RlbmVyKCk7MCE9PXQmJihhPWQuZ2V0U2VsZWN0aW9uKCkuZ2V0TmF0aXZlKCkpJiZhLmlzQ29sbGFwc2VkJiZhLmFuY2hvck5vZGU9PVxuaC4kJiYoYT1kLmNyZWF0ZVJhbmdlKCksYS5tb3ZlVG9FbGVtZW50RWRpdFN0YXJ0KGgpLGEuc2VsZWN0KCkpfSxudWxsLG51bGwsLTIpO2guYXR0YWNoTGlzdGVuZXIoaCxDS0VESVRPUi5lbnYud2Via2l0P1wiRE9NRm9jdXNJblwiOlwiZm9jdXNcIixmdW5jdGlvbigpe3QmJkNLRURJVE9SLmVudi53ZWJraXQmJih0PWQuXy5wcmV2aW91c0FjdGl2ZSYmZC5fLnByZXZpb3VzQWN0aXZlLmVxdWFscyhlLmdldEFjdGl2ZSgpKSkmJm51bGwhPWQuXy5wcmV2aW91c1Njcm9sbFRvcCYmZC5fLnByZXZpb3VzU2Nyb2xsVG9wIT1oLiQuc2Nyb2xsVG9wJiYoaC4kLnNjcm9sbFRvcD1kLl8ucHJldmlvdXNTY3JvbGxUb3ApO2QudW5sb2NrU2VsZWN0aW9uKHQpO3Q9MH0sbnVsbCxudWxsLC0xKTtoLmF0dGFjaExpc3RlbmVyKGgsXCJtb3VzZWRvd25cIixmdW5jdGlvbigpe3Q9MH0pO2lmKENLRURJVE9SLmVudi5pZXx8dyluP2guYXR0YWNoTGlzdGVuZXIoaCxcImJlZm9yZWRlYWN0aXZhdGVcIixiLG51bGwsXG5udWxsLC0xKTpoLmF0dGFjaExpc3RlbmVyKGQsXCJzZWxlY3Rpb25DaGVja1wiLGIsbnVsbCxudWxsLC0xKSxoLmF0dGFjaExpc3RlbmVyKGgsQ0tFRElUT1IuZW52LndlYmtpdD9cIkRPTUZvY3VzT3V0XCI6XCJibHVyXCIsZnVuY3Rpb24oKXtkLmxvY2tTZWxlY3Rpb24ocik7dD0xfSxudWxsLG51bGwsLTEpLGguYXR0YWNoTGlzdGVuZXIoaCxcIm1vdXNlZG93blwiLGZ1bmN0aW9uKCl7dD0wfSk7aWYoQ0tFRElUT1IuZW52LmllJiYhdyl7dmFyIHA7aC5hdHRhY2hMaXN0ZW5lcihoLFwibW91c2Vkb3duXCIsZnVuY3Rpb24oYSl7Mj09YS5kYXRhLiQuYnV0dG9uJiYoKGE9ZC5kb2N1bWVudC5nZXRTZWxlY3Rpb24oKSkmJmEuZ2V0VHlwZSgpIT1DS0VESVRPUi5TRUxFQ1RJT05fTk9ORXx8KHA9ZC53aW5kb3cuZ2V0U2Nyb2xsUG9zaXRpb24oKSkpfSk7aC5hdHRhY2hMaXN0ZW5lcihoLFwibW91c2V1cFwiLGZ1bmN0aW9uKGEpezI9PWEuZGF0YS4kLmJ1dHRvbiYmcCYmKGQuZG9jdW1lbnQuJC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsTGVmdD1cbnAueCxkLmRvY3VtZW50LiQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcD1wLnkpO3A9bnVsbH0pO2lmKFwiQmFja0NvbXBhdFwiIT1lLiQuY29tcGF0TW9kZSl7aWYoQ0tFRElUT1IuZW52LmllN0NvbXBhdHx8Q0tFRElUT1IuZW52LmllNkNvbXBhdCl7dmFyIHYsejt1Lm9uKFwibW91c2Vkb3duXCIsZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihhKXthPWEuZGF0YS4kO2lmKHYpe3ZhciBjPW0uJC5jcmVhdGVUZXh0UmFuZ2UoKTt0cnl7Yy5tb3ZlVG9Qb2ludChhLmNsaWVudFgsYS5jbGllbnRZKX1jYXRjaChkKXt9di5zZXRFbmRQb2ludCgwPnouY29tcGFyZUVuZFBvaW50cyhcIlN0YXJ0VG9TdGFydFwiLGMpP1wiRW5kVG9FbmRcIjpcIlN0YXJ0VG9TdGFydFwiLGMpO3Yuc2VsZWN0KCl9fWZ1bmN0aW9uIGMoKXt1LnJlbW92ZUxpc3RlbmVyKFwibW91c2Vtb3ZlXCIsYik7Zy5yZW1vdmVMaXN0ZW5lcihcIm1vdXNldXBcIixjKTt1LnJlbW92ZUxpc3RlbmVyKFwibW91c2V1cFwiLGMpO3Yuc2VsZWN0KCl9YT1hLmRhdGE7XG5pZihhLmdldFRhcmdldCgpLmlzKFwiaHRtbFwiKSYmYS4kLnk8dS4kLmNsaWVudEhlaWdodCYmYS4kLng8dS4kLmNsaWVudFdpZHRoKXt2PW0uJC5jcmVhdGVUZXh0UmFuZ2UoKTt0cnl7di5tb3ZlVG9Qb2ludChhLiQuY2xpZW50WCxhLiQuY2xpZW50WSl9Y2F0Y2goZCl7fXo9di5kdXBsaWNhdGUoKTt1Lm9uKFwibW91c2Vtb3ZlXCIsYik7Zy5vbihcIm1vdXNldXBcIixjKTt1Lm9uKFwibW91c2V1cFwiLGMpfX0pfWlmKDc8Q0tFRElUT1IuZW52LnZlcnNpb24mJjExPkNLRURJVE9SLmVudi52ZXJzaW9uKXUub24oXCJtb3VzZWRvd25cIixmdW5jdGlvbihhKXthLmRhdGEuZ2V0VGFyZ2V0KCkuaXMoXCJodG1sXCIpJiYoZy5vbihcIm1vdXNldXBcIixjKSx1Lm9uKFwibW91c2V1cFwiLGMpKX0pfX1oLmF0dGFjaExpc3RlbmVyKGgsXCJzZWxlY3Rpb25jaGFuZ2VcIixhLGQpO2guYXR0YWNoTGlzdGVuZXIoaCxcImtleXVwXCIsZixkKTtoLmF0dGFjaExpc3RlbmVyKGgsQ0tFRElUT1IuZW52LndlYmtpdD9cIkRPTUZvY3VzSW5cIjpcblwiZm9jdXNcIixmdW5jdGlvbigpe2QuZm9yY2VOZXh0U2VsZWN0aW9uQ2hlY2soKTtkLnNlbGVjdGlvbkNoYW5nZSgxKX0pO2lmKHcmJihDS0VESVRPUi5lbnYud2Via2l0fHxDS0VESVRPUi5lbnYuZ2Vja28pKXt2YXIgcTtoLmF0dGFjaExpc3RlbmVyKGgsXCJtb3VzZWRvd25cIixmdW5jdGlvbigpe3E9MX0pO2guYXR0YWNoTGlzdGVuZXIoZS5nZXREb2N1bWVudEVsZW1lbnQoKSxcIm1vdXNldXBcIixmdW5jdGlvbigpe3EmJmYuY2FsbChkKTtxPTB9KX1lbHNlIGguYXR0YWNoTGlzdGVuZXIoQ0tFRElUT1IuZW52LmllP2g6ZS5nZXREb2N1bWVudEVsZW1lbnQoKSxcIm1vdXNldXBcIixmLGQpO0NLRURJVE9SLmVudi53ZWJraXQmJmguYXR0YWNoTGlzdGVuZXIoZSxcImtleWRvd25cIixmdW5jdGlvbihhKXtzd2l0Y2goYS5kYXRhLmdldEtleSgpKXtjYXNlIDEzOmNhc2UgMzM6Y2FzZSAzNDpjYXNlIDM1OmNhc2UgMzY6Y2FzZSAzNzpjYXNlIDM5OmNhc2UgODpjYXNlIDQ1OmNhc2UgNDY6bChoKX19LFxubnVsbCxudWxsLC0xKTtoLmF0dGFjaExpc3RlbmVyKGgsXCJrZXlkb3duXCIsayhkKSxudWxsLG51bGwsLTEpfSk7ZC5vbihcInNldERhdGFcIixmdW5jdGlvbigpe2QudW5sb2NrU2VsZWN0aW9uKCk7Q0tFRElUT1IuZW52LndlYmtpdCYmYygpfSk7ZC5vbihcImNvbnRlbnREb21VbmxvYWRcIixmdW5jdGlvbigpe2QudW5sb2NrU2VsZWN0aW9uKCl9KTtpZihDS0VESVRPUi5lbnYuaWU5Q29tcGF0KWQub24oXCJiZWZvcmVEZXN0cm95XCIsYyxudWxsLG51bGwsOSk7ZC5vbihcImRhdGFSZWFkeVwiLGZ1bmN0aW9uKCl7ZGVsZXRlIGQuXy5mYWtlU2VsZWN0aW9uO2RlbGV0ZSBkLl8uaGlkZGVuU2VsZWN0aW9uQ29udGFpbmVyO2Quc2VsZWN0aW9uQ2hhbmdlKDEpfSk7ZC5vbihcImxvYWRTbmFwc2hvdFwiLGZ1bmN0aW9uKCl7dmFyIGE9Q0tFRElUT1IuZG9tLndhbGtlci5ub2RlVHlwZShDS0VESVRPUi5OT0RFX0VMRU1FTlQpLGI9ZC5lZGl0YWJsZSgpLmdldExhc3QoYSk7YiYmYi5oYXNBdHRyaWJ1dGUoXCJkYXRhLWNrZS1oaWRkZW4tc2VsXCIpJiZcbihiLnJlbW92ZSgpLENLRURJVE9SLmVudi5nZWNrbyYmKGE9ZC5lZGl0YWJsZSgpLmdldEZpcnN0KGEpKSYmYS5pcyhcImJyXCIpJiZhLmdldEF0dHJpYnV0ZShcIl9tb3pfZWRpdG9yX2JvZ3VzX25vZGVcIikmJmEucmVtb3ZlKCkpfSxudWxsLG51bGwsMTAwKTtkLm9uKFwia2V5XCIsZnVuY3Rpb24oYSl7aWYoXCJ3eXNpd3lnXCI9PWQubW9kZSl7dmFyIGI9ZC5nZXRTZWxlY3Rpb24oKTtpZihiLmlzRmFrZSl7dmFyIGM9QlthLmRhdGEua2V5Q29kZV07aWYoYylyZXR1cm4gYyh7ZWRpdG9yOmQsc2VsZWN0ZWQ6Yi5nZXRTZWxlY3RlZEVsZW1lbnQoKSxzZWxlY3Rpb246YixrZXlFdmVudDphfSl9fX0pfSk7aWYoQ0tFRElUT1IuZW52LndlYmtpdClDS0VESVRPUi5vbihcImluc3RhbmNlUmVhZHlcIixmdW5jdGlvbihhKXt2YXIgYj1hLmVkaXRvcjtiLm9uKFwic2VsZWN0aW9uQ2hhbmdlXCIsZnVuY3Rpb24oKXt2YXIgYT1iLmVkaXRhYmxlKCksYz1hLmdldEN1c3RvbURhdGEoXCJja2UtZmlsbGluZ0NoYXJcIik7XG5jJiYoYy5nZXRDdXN0b21EYXRhKFwicmVhZHlcIik/bChhKTpjLnNldEN1c3RvbURhdGEoXCJyZWFkeVwiLDEpKX0sbnVsbCxudWxsLC0xKTtiLm9uKFwiYmVmb3JlU2V0TW9kZVwiLGZ1bmN0aW9uKCl7bChiLmVkaXRhYmxlKCkpfSxudWxsLG51bGwsLTEpO2Iub24oXCJnZXRTbmFwc2hvdFwiLGZ1bmN0aW9uKGEpe2EuZGF0YSYmKGEuZGF0YT1kKGEuZGF0YSkpfSxiLG51bGwsMjApO2Iub24oXCJ0b0RhdGFGb3JtYXRcIixmdW5jdGlvbihhKXthLmRhdGEuZGF0YVZhbHVlPWQoYS5kYXRhLmRhdGFWYWx1ZSl9LG51bGwsbnVsbCwwKX0pO0NLRURJVE9SLmVkaXRvci5wcm90b3R5cGUuc2VsZWN0aW9uQ2hhbmdlPWZ1bmN0aW9uKGIpeyhiP2E6ZikuY2FsbCh0aGlzKX07Q0tFRElUT1IuZWRpdG9yLnByb3RvdHlwZS5nZXRTZWxlY3Rpb249ZnVuY3Rpb24oYSl7cmV0dXJuIXRoaXMuXy5zYXZlZFNlbGVjdGlvbiYmIXRoaXMuXy5mYWtlU2VsZWN0aW9ufHxhPyhhPXRoaXMuZWRpdGFibGUoKSkmJlwid3lzaXd5Z1wiPT1cbnRoaXMubW9kZT9uZXcgQ0tFRElUT1IuZG9tLnNlbGVjdGlvbihhKTpudWxsOnRoaXMuXy5zYXZlZFNlbGVjdGlvbnx8dGhpcy5fLmZha2VTZWxlY3Rpb259O0NLRURJVE9SLmVkaXRvci5wcm90b3R5cGUubG9ja1NlbGVjdGlvbj1mdW5jdGlvbihhKXthPWF8fHRoaXMuZ2V0U2VsZWN0aW9uKDEpO3JldHVybiBhLmdldFR5cGUoKSE9Q0tFRElUT1IuU0VMRUNUSU9OX05PTkU/KCFhLmlzTG9ja2VkJiZhLmxvY2soKSx0aGlzLl8uc2F2ZWRTZWxlY3Rpb249YSwhMCk6ITF9O0NLRURJVE9SLmVkaXRvci5wcm90b3R5cGUudW5sb2NrU2VsZWN0aW9uPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuXy5zYXZlZFNlbGVjdGlvbjtyZXR1cm4gYj8oYi51bmxvY2soYSksZGVsZXRlIHRoaXMuXy5zYXZlZFNlbGVjdGlvbiwhMCk6ITF9O0NLRURJVE9SLmVkaXRvci5wcm90b3R5cGUuZm9yY2VOZXh0U2VsZWN0aW9uQ2hlY2s9ZnVuY3Rpb24oKXtkZWxldGUgdGhpcy5fLnNlbGVjdGlvblByZXZpb3VzUGF0aH07XG5DS0VESVRPUi5kb20uZG9jdW1lbnQucHJvdG90eXBlLmdldFNlbGVjdGlvbj1mdW5jdGlvbigpe3JldHVybiBuZXcgQ0tFRElUT1IuZG9tLnNlbGVjdGlvbih0aGlzKX07Q0tFRElUT1IuZG9tLnJhbmdlLnByb3RvdHlwZS5zZWxlY3Q9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnJvb3QgaW5zdGFuY2VvZiBDS0VESVRPUi5lZGl0YWJsZT90aGlzLnJvb3QuZWRpdG9yLmdldFNlbGVjdGlvbigpOm5ldyBDS0VESVRPUi5kb20uc2VsZWN0aW9uKHRoaXMucm9vdCk7YS5zZWxlY3RSYW5nZXMoW3RoaXNdKTtyZXR1cm4gYX07Q0tFRElUT1IuU0VMRUNUSU9OX05PTkU9MTtDS0VESVRPUi5TRUxFQ1RJT05fVEVYVD0yO0NLRURJVE9SLlNFTEVDVElPTl9FTEVNRU5UPTM7Q0tFRElUT1IuZG9tLnNlbGVjdGlvbj1mdW5jdGlvbihhKXtpZihhIGluc3RhbmNlb2YgQ0tFRElUT1IuZG9tLnNlbGVjdGlvbil7dmFyIGI9YTthPWEucm9vdH12YXIgYz1hIGluc3RhbmNlb2YgQ0tFRElUT1IuZG9tLmVsZW1lbnQ7XG50aGlzLnJldj1iP2IucmV2OnErKzt0aGlzLmRvY3VtZW50PWEgaW5zdGFuY2VvZiBDS0VESVRPUi5kb20uZG9jdW1lbnQ/YTphLmdldERvY3VtZW50KCk7dGhpcy5yb290PWM/YTp0aGlzLmRvY3VtZW50LmdldEJvZHkoKTt0aGlzLmlzTG9ja2VkPTA7dGhpcy5fPXtjYWNoZTp7fX07aWYoYilyZXR1cm4gQ0tFRElUT1IudG9vbHMuZXh0ZW5kKHRoaXMuXy5jYWNoZSxiLl8uY2FjaGUpLHRoaXMuaXNGYWtlPWIuaXNGYWtlLHRoaXMuaXNMb2NrZWQ9Yi5pc0xvY2tlZCx0aGlzO2E9dGhpcy5nZXROYXRpdmUoKTt2YXIgZCxlO2lmKGEpaWYoYS5nZXRSYW5nZUF0KWQ9KGU9YS5yYW5nZUNvdW50JiZhLmdldFJhbmdlQXQoMCkpJiZuZXcgQ0tFRElUT1IuZG9tLm5vZGUoZS5jb21tb25BbmNlc3RvckNvbnRhaW5lcik7ZWxzZXt0cnl7ZT1hLmNyZWF0ZVJhbmdlKCl9Y2F0Y2goZyl7fWQ9ZSYmQ0tFRElUT1IuZG9tLmVsZW1lbnQuZ2V0KGUuaXRlbSYmZS5pdGVtKDApfHxlLnBhcmVudEVsZW1lbnQoKSl9aWYoIWR8fFxuZC50eXBlIT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmQudHlwZSE9Q0tFRElUT1IuTk9ERV9URVhUfHwhdGhpcy5yb290LmVxdWFscyhkKSYmIXRoaXMucm9vdC5jb250YWlucyhkKSl0aGlzLl8uY2FjaGUudHlwZT1DS0VESVRPUi5TRUxFQ1RJT05fTk9ORSx0aGlzLl8uY2FjaGUuc3RhcnRFbGVtZW50PW51bGwsdGhpcy5fLmNhY2hlLnNlbGVjdGVkRWxlbWVudD1udWxsLHRoaXMuXy5jYWNoZS5zZWxlY3RlZFRleHQ9XCJcIix0aGlzLl8uY2FjaGUucmFuZ2VzPW5ldyBDS0VESVRPUi5kb20ucmFuZ2VMaXN0O3JldHVybiB0aGlzfTt2YXIgeD17aW1nOjEsaHI6MSxsaToxLHRhYmxlOjEsdHI6MSx0ZDoxLHRoOjEsZW1iZWQ6MSxvYmplY3Q6MSxvbDoxLHVsOjEsYToxLGlucHV0OjEsZm9ybToxLHNlbGVjdDoxLHRleHRhcmVhOjEsYnV0dG9uOjEsZmllbGRzZXQ6MSx0aGVhZDoxLHRmb290OjF9O0NLRURJVE9SLnRvb2xzLmV4dGVuZChDS0VESVRPUi5kb20uc2VsZWN0aW9uLHtfcmVtb3ZlRmlsbGluZ0NoYXJTZXF1ZW5jZVN0cmluZzpkLFxuX2NyZWF0ZUZpbGxpbmdDaGFyU2VxdWVuY2VOb2RlOm0sRklMTElOR19DSEFSX1NFUVVFTkNFOnB9KTtDS0VESVRPUi5kb20uc2VsZWN0aW9uLnByb3RvdHlwZT17Z2V0TmF0aXZlOmZ1bmN0aW9uKCl7cmV0dXJuIHZvaWQgMCE9PXRoaXMuXy5jYWNoZS5uYXRpdmVTZWw/dGhpcy5fLmNhY2hlLm5hdGl2ZVNlbDp0aGlzLl8uY2FjaGUubmF0aXZlU2VsPW4/dGhpcy5kb2N1bWVudC4kLnNlbGVjdGlvbjp0aGlzLmRvY3VtZW50LmdldFdpbmRvdygpLiQuZ2V0U2VsZWN0aW9uKCl9LGdldFR5cGU6bj9mdW5jdGlvbigpe3ZhciBhPXRoaXMuXy5jYWNoZTtpZihhLnR5cGUpcmV0dXJuIGEudHlwZTt2YXIgYj1DS0VESVRPUi5TRUxFQ1RJT05fTk9ORTt0cnl7dmFyIGM9dGhpcy5nZXROYXRpdmUoKSxkPWMudHlwZTtcIlRleHRcIj09ZCYmKGI9Q0tFRElUT1IuU0VMRUNUSU9OX1RFWFQpO1wiQ29udHJvbFwiPT1kJiYoYj1DS0VESVRPUi5TRUxFQ1RJT05fRUxFTUVOVCk7Yy5jcmVhdGVSYW5nZSgpLnBhcmVudEVsZW1lbnQoKSYmXG4oYj1DS0VESVRPUi5TRUxFQ1RJT05fVEVYVCl9Y2F0Y2goZSl7fXJldHVybiBhLnR5cGU9Yn06ZnVuY3Rpb24oKXt2YXIgYT10aGlzLl8uY2FjaGU7aWYoYS50eXBlKXJldHVybiBhLnR5cGU7dmFyIGI9Q0tFRElUT1IuU0VMRUNUSU9OX1RFWFQsYz10aGlzLmdldE5hdGl2ZSgpO2lmKCFjfHwhYy5yYW5nZUNvdW50KWI9Q0tFRElUT1IuU0VMRUNUSU9OX05PTkU7ZWxzZSBpZigxPT1jLnJhbmdlQ291bnQpe3ZhciBjPWMuZ2V0UmFuZ2VBdCgwKSxkPWMuc3RhcnRDb250YWluZXI7ZD09Yy5lbmRDb250YWluZXImJjE9PWQubm9kZVR5cGUmJjE9PWMuZW5kT2Zmc2V0LWMuc3RhcnRPZmZzZXQmJnhbZC5jaGlsZE5vZGVzW2Muc3RhcnRPZmZzZXRdLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCldJiYoYj1DS0VESVRPUi5TRUxFQ1RJT05fRUxFTUVOVCl9cmV0dXJuIGEudHlwZT1ifSxnZXRSYW5nZXM6ZnVuY3Rpb24oKXt2YXIgYT1uP2Z1bmN0aW9uKCl7ZnVuY3Rpb24gYShiKXtyZXR1cm4obmV3IENLRURJVE9SLmRvbS5ub2RlKGIpKS5nZXRJbmRleCgpfVxudmFyIGI9ZnVuY3Rpb24oYixjKXtiPWIuZHVwbGljYXRlKCk7Yi5jb2xsYXBzZShjKTt2YXIgZD1iLnBhcmVudEVsZW1lbnQoKTtpZighZC5oYXNDaGlsZE5vZGVzKCkpcmV0dXJue2NvbnRhaW5lcjpkLG9mZnNldDowfTtmb3IodmFyIGU9ZC5jaGlsZHJlbixnLGYsaz1iLmR1cGxpY2F0ZSgpLGg9MCxsPWUubGVuZ3RoLTEsbT0tMSxuLHU7aDw9bDspaWYobT1NYXRoLmZsb29yKChoK2wpLzIpLGc9ZVttXSxrLm1vdmVUb0VsZW1lbnRUZXh0KGcpLG49ay5jb21wYXJlRW5kUG9pbnRzKFwiU3RhcnRUb1N0YXJ0XCIsYiksMDxuKWw9bS0xO2Vsc2UgaWYoMD5uKWg9bSsxO2Vsc2UgcmV0dXJue2NvbnRhaW5lcjpkLG9mZnNldDphKGcpfTtpZigtMT09bXx8bT09ZS5sZW5ndGgtMSYmMD5uKXtrLm1vdmVUb0VsZW1lbnRUZXh0KGQpO2suc2V0RW5kUG9pbnQoXCJTdGFydFRvU3RhcnRcIixiKTtrPWsudGV4dC5yZXBsYWNlKC8oXFxyXFxufFxccikvZyxcIlxcblwiKS5sZW5ndGg7ZT1kLmNoaWxkTm9kZXM7aWYoIWspcmV0dXJuIGc9XG5lW2UubGVuZ3RoLTFdLGcubm9kZVR5cGUhPUNLRURJVE9SLk5PREVfVEVYVD97Y29udGFpbmVyOmQsb2Zmc2V0OmUubGVuZ3RofTp7Y29udGFpbmVyOmcsb2Zmc2V0Omcubm9kZVZhbHVlLmxlbmd0aH07Zm9yKGQ9ZS5sZW5ndGg7MDxrJiYwPGQ7KWY9ZVstLWRdLGYubm9kZVR5cGU9PUNLRURJVE9SLk5PREVfVEVYVCYmKHU9ZixrLT1mLm5vZGVWYWx1ZS5sZW5ndGgpO3JldHVybntjb250YWluZXI6dSxvZmZzZXQ6LWt9fWsuY29sbGFwc2UoMDxuPyEwOiExKTtrLnNldEVuZFBvaW50KDA8bj9cIlN0YXJ0VG9TdGFydFwiOlwiRW5kVG9TdGFydFwiLGIpO2s9ay50ZXh0LnJlcGxhY2UoLyhcXHJcXG58XFxyKS9nLFwiXFxuXCIpLmxlbmd0aDtpZighaylyZXR1cm57Y29udGFpbmVyOmQsb2Zmc2V0OmEoZykrKDA8bj8wOjEpfTtmb3IoOzA8azspdHJ5e2Y9Z1swPG4/XCJwcmV2aW91c1NpYmxpbmdcIjpcIm5leHRTaWJsaW5nXCJdLGYubm9kZVR5cGU9PUNLRURJVE9SLk5PREVfVEVYVCYmKGstPWYubm9kZVZhbHVlLmxlbmd0aCxcbnU9ZiksZz1mfWNhdGNoKHQpe3JldHVybntjb250YWluZXI6ZCxvZmZzZXQ6YShnKX19cmV0dXJue2NvbnRhaW5lcjp1LG9mZnNldDowPG4/LWs6dS5ub2RlVmFsdWUubGVuZ3RoK2t9fTtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgYT10aGlzLmdldE5hdGl2ZSgpLGM9YSYmYS5jcmVhdGVSYW5nZSgpLGQ9dGhpcy5nZXRUeXBlKCk7aWYoIWEpcmV0dXJuW107aWYoZD09Q0tFRElUT1IuU0VMRUNUSU9OX1RFWFQpcmV0dXJuIGE9bmV3IENLRURJVE9SLmRvbS5yYW5nZSh0aGlzLnJvb3QpLGQ9YihjLCEwKSxhLnNldFN0YXJ0KG5ldyBDS0VESVRPUi5kb20ubm9kZShkLmNvbnRhaW5lciksZC5vZmZzZXQpLGQ9YihjKSxhLnNldEVuZChuZXcgQ0tFRElUT1IuZG9tLm5vZGUoZC5jb250YWluZXIpLGQub2Zmc2V0KSxhLmVuZENvbnRhaW5lci5nZXRQb3NpdGlvbihhLnN0YXJ0Q29udGFpbmVyKSZDS0VESVRPUi5QT1NJVElPTl9QUkVDRURJTkcmJmEuZW5kT2Zmc2V0PD1hLnN0YXJ0Q29udGFpbmVyLmdldEluZGV4KCkmJlxuYS5jb2xsYXBzZSgpLFthXTtpZihkPT1DS0VESVRPUi5TRUxFQ1RJT05fRUxFTUVOVCl7Zm9yKHZhciBkPVtdLGU9MDtlPGMubGVuZ3RoO2UrKyl7Zm9yKHZhciBnPWMuaXRlbShlKSxmPWcucGFyZW50Tm9kZSxrPTAsYT1uZXcgQ0tFRElUT1IuZG9tLnJhbmdlKHRoaXMucm9vdCk7azxmLmNoaWxkTm9kZXMubGVuZ3RoJiZmLmNoaWxkTm9kZXNba10hPWc7aysrKTthLnNldFN0YXJ0KG5ldyBDS0VESVRPUi5kb20ubm9kZShmKSxrKTthLnNldEVuZChuZXcgQ0tFRElUT1IuZG9tLm5vZGUoZiksaysxKTtkLnB1c2goYSl9cmV0dXJuIGR9cmV0dXJuW119fSgpOmZ1bmN0aW9uKCl7dmFyIGE9W10sYixjPXRoaXMuZ2V0TmF0aXZlKCk7aWYoIWMpcmV0dXJuIGE7Zm9yKHZhciBkPTA7ZDxjLnJhbmdlQ291bnQ7ZCsrKXt2YXIgZT1jLmdldFJhbmdlQXQoZCk7Yj1uZXcgQ0tFRElUT1IuZG9tLnJhbmdlKHRoaXMucm9vdCk7Yi5zZXRTdGFydChuZXcgQ0tFRElUT1IuZG9tLm5vZGUoZS5zdGFydENvbnRhaW5lciksXG5lLnN0YXJ0T2Zmc2V0KTtiLnNldEVuZChuZXcgQ0tFRElUT1IuZG9tLm5vZGUoZS5lbmRDb250YWluZXIpLGUuZW5kT2Zmc2V0KTthLnB1c2goYil9cmV0dXJuIGF9O3JldHVybiBmdW5jdGlvbihiKXt2YXIgYz10aGlzLl8uY2FjaGUsZD1jLnJhbmdlcztkfHwoYy5yYW5nZXM9ZD1uZXcgQ0tFRElUT1IuZG9tLnJhbmdlTGlzdChhLmNhbGwodGhpcykpKTtyZXR1cm4gYj9nKG5ldyBDS0VESVRPUi5kb20ucmFuZ2VMaXN0KGQuc2xpY2UoKSkpOmR9fSgpLGdldFN0YXJ0RWxlbWVudDpmdW5jdGlvbigpe3ZhciBhPXRoaXMuXy5jYWNoZTtpZih2b2lkIDAhPT1hLnN0YXJ0RWxlbWVudClyZXR1cm4gYS5zdGFydEVsZW1lbnQ7dmFyIGI7c3dpdGNoKHRoaXMuZ2V0VHlwZSgpKXtjYXNlIENLRURJVE9SLlNFTEVDVElPTl9FTEVNRU5UOnJldHVybiB0aGlzLmdldFNlbGVjdGVkRWxlbWVudCgpO2Nhc2UgQ0tFRElUT1IuU0VMRUNUSU9OX1RFWFQ6dmFyIGM9dGhpcy5nZXRSYW5nZXMoKVswXTtcbmlmKGMpe2lmKGMuY29sbGFwc2VkKWI9Yy5zdGFydENvbnRhaW5lcixiLnR5cGUhPUNLRURJVE9SLk5PREVfRUxFTUVOVCYmKGI9Yi5nZXRQYXJlbnQoKSk7ZWxzZXtmb3IoYy5vcHRpbWl6ZSgpO2I9Yy5zdGFydENvbnRhaW5lcixjLnN0YXJ0T2Zmc2V0PT0oYi5nZXRDaGlsZENvdW50P2IuZ2V0Q2hpbGRDb3VudCgpOmIuZ2V0TGVuZ3RoKCkpJiYhYi5pc0Jsb2NrQm91bmRhcnkoKTspYy5zZXRTdGFydEFmdGVyKGIpO2I9Yy5zdGFydENvbnRhaW5lcjtpZihiLnR5cGUhPUNLRURJVE9SLk5PREVfRUxFTUVOVClyZXR1cm4gYi5nZXRQYXJlbnQoKTtpZigoYj1iLmdldENoaWxkKGMuc3RhcnRPZmZzZXQpKSYmYi50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQpZm9yKGM9Yi5nZXRGaXJzdCgpO2MmJmMudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UOyliPWMsYz1jLmdldEZpcnN0KCk7ZWxzZSBiPWMuc3RhcnRDb250YWluZXJ9Yj1iLiR9fXJldHVybiBhLnN0YXJ0RWxlbWVudD1iP1xubmV3IENLRURJVE9SLmRvbS5lbGVtZW50KGIpOm51bGx9LGdldFNlbGVjdGVkRWxlbWVudDpmdW5jdGlvbigpe3ZhciBhPXRoaXMuXy5jYWNoZTtpZih2b2lkIDAhPT1hLnNlbGVjdGVkRWxlbWVudClyZXR1cm4gYS5zZWxlY3RlZEVsZW1lbnQ7dmFyIGI9dGhpcyxjPUNLRURJVE9SLnRvb2xzLnRyeVRoZXNlKGZ1bmN0aW9uKCl7cmV0dXJuIGIuZ2V0TmF0aXZlKCkuY3JlYXRlUmFuZ2UoKS5pdGVtKDApfSxmdW5jdGlvbigpe2Zvcih2YXIgYT1iLmdldFJhbmdlcygpWzBdLmNsb25lKCksYyxkLGU9MjtlJiYhKChjPWEuZ2V0RW5jbG9zZWROb2RlKCkpJiZjLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmeFtjLmdldE5hbWUoKV0mJihkPWMpKTtlLS0pYS5zaHJpbmsoQ0tFRElUT1IuU0hSSU5LX0VMRU1FTlQpO3JldHVybiBkJiZkLiR9KTtyZXR1cm4gYS5zZWxlY3RlZEVsZW1lbnQ9Yz9uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoYyk6bnVsbH0sZ2V0U2VsZWN0ZWRUZXh0OmZ1bmN0aW9uKCl7dmFyIGE9XG50aGlzLl8uY2FjaGU7aWYodm9pZCAwIT09YS5zZWxlY3RlZFRleHQpcmV0dXJuIGEuc2VsZWN0ZWRUZXh0O3ZhciBiPXRoaXMuZ2V0TmF0aXZlKCksYj1uP1wiQ29udHJvbFwiPT1iLnR5cGU/XCJcIjpiLmNyZWF0ZVJhbmdlKCkudGV4dDpiLnRvU3RyaW5nKCk7cmV0dXJuIGEuc2VsZWN0ZWRUZXh0PWJ9LGxvY2s6ZnVuY3Rpb24oKXt0aGlzLmdldFJhbmdlcygpO3RoaXMuZ2V0U3RhcnRFbGVtZW50KCk7dGhpcy5nZXRTZWxlY3RlZEVsZW1lbnQoKTt0aGlzLmdldFNlbGVjdGVkVGV4dCgpO3RoaXMuXy5jYWNoZS5uYXRpdmVTZWw9bnVsbDt0aGlzLmlzTG9ja2VkPTF9LHVubG9jazpmdW5jdGlvbihhKXtpZih0aGlzLmlzTG9ja2VkKXtpZihhKXZhciBiPXRoaXMuZ2V0U2VsZWN0ZWRFbGVtZW50KCksYz0hYiYmdGhpcy5nZXRSYW5nZXMoKSxkPXRoaXMuaXNGYWtlO3RoaXMuaXNMb2NrZWQ9MDt0aGlzLnJlc2V0KCk7YSYmKGE9Ynx8Y1swXSYmY1swXS5nZXRDb21tb25BbmNlc3RvcigpKSYmXG5hLmdldEFzY2VuZGFudChcImJvZHlcIiwxKSYmKGQ/dGhpcy5mYWtlKGIpOmI/dGhpcy5zZWxlY3RFbGVtZW50KGIpOnRoaXMuc2VsZWN0UmFuZ2VzKGMpKX19LHJlc2V0OmZ1bmN0aW9uKCl7dGhpcy5fLmNhY2hlPXt9O3RoaXMuaXNGYWtlPTA7dmFyIGE9dGhpcy5yb290LmVkaXRvcjtpZihhJiZhLl8uZmFrZVNlbGVjdGlvbilpZih0aGlzLnJldj09YS5fLmZha2VTZWxlY3Rpb24ucmV2KXtkZWxldGUgYS5fLmZha2VTZWxlY3Rpb247dmFyIGI9YS5fLmhpZGRlblNlbGVjdGlvbkNvbnRhaW5lcjtpZihiKXt2YXIgYz1hLmNoZWNrRGlydHkoKTthLmZpcmUoXCJsb2NrU25hcHNob3RcIik7Yi5yZW1vdmUoKTthLmZpcmUoXCJ1bmxvY2tTbmFwc2hvdFwiKTshYyYmYS5yZXNldERpcnR5KCl9ZGVsZXRlIGEuXy5oaWRkZW5TZWxlY3Rpb25Db250YWluZXJ9ZWxzZSBDS0VESVRPUi53YXJuKFwic2VsZWN0aW9uLWZha2UtcmVzZXRcIik7dGhpcy5yZXY9cSsrfSxzZWxlY3RFbGVtZW50OmZ1bmN0aW9uKGEpe3ZhciBiPVxubmV3IENLRURJVE9SLmRvbS5yYW5nZSh0aGlzLnJvb3QpO2Iuc2V0U3RhcnRCZWZvcmUoYSk7Yi5zZXRFbmRBZnRlcihhKTt0aGlzLnNlbGVjdFJhbmdlcyhbYl0pfSxzZWxlY3RSYW5nZXM6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5yb290LmVkaXRvcixiPWImJmIuXy5oaWRkZW5TZWxlY3Rpb25Db250YWluZXI7dGhpcy5yZXNldCgpO2lmKGIpZm9yKHZhciBiPXRoaXMucm9vdCxjLGQ9MDtkPGEubGVuZ3RoOysrZCljPWFbZF0sYy5lbmRDb250YWluZXIuZXF1YWxzKGIpJiYoYy5lbmRPZmZzZXQ9TWF0aC5taW4oYy5lbmRPZmZzZXQsYi5nZXRDaGlsZENvdW50KCkpKTtpZihhLmxlbmd0aClpZih0aGlzLmlzTG9ja2VkKXt2YXIgZz1DS0VESVRPUi5kb2N1bWVudC5nZXRBY3RpdmUoKTt0aGlzLnVubG9jaygpO3RoaXMuc2VsZWN0UmFuZ2VzKGEpO3RoaXMubG9jaygpO2cmJiFnLmVxdWFscyh0aGlzLnJvb3QpJiZnLmZvY3VzKCl9ZWxzZXt2YXIgZjthOnt2YXIgayxoO2lmKDE9PWEubGVuZ3RoJiZcbiEoaD1hWzBdKS5jb2xsYXBzZWQmJihmPWguZ2V0RW5jbG9zZWROb2RlKCkpJiZmLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmKGg9aC5jbG9uZSgpLGguc2hyaW5rKENLRURJVE9SLlNIUklOS19FTEVNRU5ULCEwKSwoaz1oLmdldEVuY2xvc2VkTm9kZSgpKSYmay50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJihmPWspLFwiZmFsc2VcIj09Zi5nZXRBdHRyaWJ1dGUoXCJjb250ZW50ZWRpdGFibGVcIikpKWJyZWFrIGE7Zj12b2lkIDB9aWYoZil0aGlzLmZha2UoZik7ZWxzZXtpZihuKXtoPUNLRURJVE9SLmRvbS53YWxrZXIud2hpdGVzcGFjZXMoITApO2s9L1xcdWZlZmZ8XFx1MDBhMC87Yj17dGFibGU6MSx0Ym9keToxLHRyOjF9OzE8YS5sZW5ndGgmJihmPWFbYS5sZW5ndGgtMV0sYVswXS5zZXRFbmQoZi5lbmRDb250YWluZXIsZi5lbmRPZmZzZXQpKTtmPWFbMF07YT1mLmNvbGxhcHNlZDt2YXIgdSx0LHI7aWYoKGM9Zi5nZXRFbmNsb3NlZE5vZGUoKSkmJmMudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZcbmMuZ2V0TmFtZSgpaW4geCYmKCFjLmlzKFwiYVwiKXx8IWMuZ2V0VGV4dCgpKSl0cnl7cj1jLiQuY3JlYXRlQ29udHJvbFJhbmdlKCk7ci5hZGRFbGVtZW50KGMuJCk7ci5zZWxlY3QoKTtyZXR1cm59Y2F0Y2gocCl7fWlmKGYuc3RhcnRDb250YWluZXIudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZmLnN0YXJ0Q29udGFpbmVyLmdldE5hbWUoKWluIGJ8fGYuZW5kQ29udGFpbmVyLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmZi5lbmRDb250YWluZXIuZ2V0TmFtZSgpaW4gYilmLnNocmluayhDS0VESVRPUi5OT0RFX0VMRU1FTlQsITApLGE9Zi5jb2xsYXBzZWQ7cj1mLmNyZWF0ZUJvb2ttYXJrKCk7Yj1yLnN0YXJ0Tm9kZTthfHwoZz1yLmVuZE5vZGUpO3I9Zi5kb2N1bWVudC4kLmJvZHkuY3JlYXRlVGV4dFJhbmdlKCk7ci5tb3ZlVG9FbGVtZW50VGV4dChiLiQpO3IubW92ZVN0YXJ0KFwiY2hhcmFjdGVyXCIsMSk7Zz8oaz1mLmRvY3VtZW50LiQuYm9keS5jcmVhdGVUZXh0UmFuZ2UoKSxcbmsubW92ZVRvRWxlbWVudFRleHQoZy4kKSxyLnNldEVuZFBvaW50KFwiRW5kVG9FbmRcIixrKSxyLm1vdmVFbmQoXCJjaGFyYWN0ZXJcIiwtMSkpOih1PWIuZ2V0TmV4dChoKSx0PWIuaGFzQXNjZW5kYW50KFwicHJlXCIpLHU9ISh1JiZ1LmdldFRleHQmJnUuZ2V0VGV4dCgpLm1hdGNoKGspKSYmKHR8fCFiLmhhc1ByZXZpb3VzKCl8fGIuZ2V0UHJldmlvdXMoKS5pcyYmYi5nZXRQcmV2aW91cygpLmlzKFwiYnJcIikpLHQ9Zi5kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKSx0LnNldEh0bWwoXCJcXHgyNiM2NTI3OTtcIiksdC5pbnNlcnRCZWZvcmUoYiksdSYmZi5kb2N1bWVudC5jcmVhdGVUZXh0KFwi77u/XCIpLmluc2VydEJlZm9yZShiKSk7Zi5zZXRTdGFydEJlZm9yZShiKTtiLnJlbW92ZSgpO2E/KHU/KHIubW92ZVN0YXJ0KFwiY2hhcmFjdGVyXCIsLTEpLHIuc2VsZWN0KCksZi5kb2N1bWVudC4kLnNlbGVjdGlvbi5jbGVhcigpKTpyLnNlbGVjdCgpLGYubW92ZVRvUG9zaXRpb24odCxDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfU1RBUlQpLFxudC5yZW1vdmUoKSk6KGYuc2V0RW5kQmVmb3JlKGcpLGcucmVtb3ZlKCksci5zZWxlY3QoKSl9ZWxzZXtnPXRoaXMuZ2V0TmF0aXZlKCk7aWYoIWcpcmV0dXJuO3RoaXMucmVtb3ZlQWxsUmFuZ2VzKCk7Zm9yKHI9MDtyPGEubGVuZ3RoO3IrKyl7aWYocjxhLmxlbmd0aC0xJiYodT1hW3JdLHQ9YVtyKzFdLGs9dS5jbG9uZSgpLGsuc2V0U3RhcnQodS5lbmRDb250YWluZXIsdS5lbmRPZmZzZXQpLGsuc2V0RW5kKHQuc3RhcnRDb250YWluZXIsdC5zdGFydE9mZnNldCksIWsuY29sbGFwc2VkJiYoay5zaHJpbmsoQ0tFRElUT1IuTk9ERV9FTEVNRU5ULCEwKSxmPWsuZ2V0Q29tbW9uQW5jZXN0b3IoKSxrPWsuZ2V0RW5jbG9zZWROb2RlKCksZi5pc1JlYWRPbmx5KCl8fGsmJmsuaXNSZWFkT25seSgpKSkpe3Quc2V0U3RhcnQodS5zdGFydENvbnRhaW5lcix1LnN0YXJ0T2Zmc2V0KTthLnNwbGljZShyLS0sMSk7Y29udGludWV9Zj1hW3JdO3Q9dGhpcy5kb2N1bWVudC4kLmNyZWF0ZVJhbmdlKCk7XG5mLmNvbGxhcHNlZCYmQ0tFRElUT1IuZW52LndlYmtpdCYmZShmKSYmKGs9bSh0aGlzLnJvb3QpLGYuaW5zZXJ0Tm9kZShrKSwodT1rLmdldE5leHQoKSkmJiFrLmdldFByZXZpb3VzKCkmJnUudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZcImJyXCI9PXUuZ2V0TmFtZSgpPyhsKHRoaXMucm9vdCksZi5tb3ZlVG9Qb3NpdGlvbih1LENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9TVEFSVCkpOmYubW92ZVRvUG9zaXRpb24oayxDS0VESVRPUi5QT1NJVElPTl9BRlRFUl9FTkQpKTt0LnNldFN0YXJ0KGYuc3RhcnRDb250YWluZXIuJCxmLnN0YXJ0T2Zmc2V0KTt0cnl7dC5zZXRFbmQoZi5lbmRDb250YWluZXIuJCxmLmVuZE9mZnNldCl9Y2F0Y2godil7aWYoMDw9di50b1N0cmluZygpLmluZGV4T2YoXCJOU19FUlJPUl9JTExFR0FMX1ZBTFVFXCIpKWYuY29sbGFwc2UoMSksdC5zZXRFbmQoZi5lbmRDb250YWluZXIuJCxmLmVuZE9mZnNldCk7ZWxzZSB0aHJvdyB2O31nLmFkZFJhbmdlKHQpfX10aGlzLnJlc2V0KCk7XG50aGlzLnJvb3QuZmlyZShcInNlbGVjdGlvbmNoYW5nZVwiKX19fSxmYWtlOmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5yb290LmVkaXRvcjt2b2lkIDA9PT1iJiZhLmhhc0F0dHJpYnV0ZShcImFyaWEtbGFiZWxcIikmJihiPWEuZ2V0QXR0cmlidXRlKFwiYXJpYS1sYWJlbFwiKSk7dGhpcy5yZXNldCgpO2goYyxiKTt2YXIgZD10aGlzLl8uY2FjaGUsZT1uZXcgQ0tFRElUT1IuZG9tLnJhbmdlKHRoaXMucm9vdCk7ZS5zZXRTdGFydEJlZm9yZShhKTtlLnNldEVuZEFmdGVyKGEpO2QucmFuZ2VzPW5ldyBDS0VESVRPUi5kb20ucmFuZ2VMaXN0KGUpO2Quc2VsZWN0ZWRFbGVtZW50PWQuc3RhcnRFbGVtZW50PWE7ZC50eXBlPUNLRURJVE9SLlNFTEVDVElPTl9FTEVNRU5UO2Quc2VsZWN0ZWRUZXh0PWQubmF0aXZlU2VsPW51bGw7dGhpcy5pc0Zha2U9MTt0aGlzLnJldj1xKys7Yy5fLmZha2VTZWxlY3Rpb249dGhpczt0aGlzLnJvb3QuZmlyZShcInNlbGVjdGlvbmNoYW5nZVwiKX0saXNIaWRkZW46ZnVuY3Rpb24oKXt2YXIgYT1cbnRoaXMuZ2V0Q29tbW9uQW5jZXN0b3IoKTthJiZhLnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVCYmKGE9YS5nZXRQYXJlbnQoKSk7cmV0dXJuISghYXx8IWEuZGF0YShcImNrZS1oaWRkZW4tc2VsXCIpKX0sY3JlYXRlQm9va21hcmtzOmZ1bmN0aW9uKGEpe2E9dGhpcy5nZXRSYW5nZXMoKS5jcmVhdGVCb29rbWFya3MoYSk7dGhpcy5pc0Zha2UmJihhLmlzRmFrZT0xKTtyZXR1cm4gYX0sY3JlYXRlQm9va21hcmtzMjpmdW5jdGlvbihhKXthPXRoaXMuZ2V0UmFuZ2VzKCkuY3JlYXRlQm9va21hcmtzMihhKTt0aGlzLmlzRmFrZSYmKGEuaXNGYWtlPTEpO3JldHVybiBhfSxzZWxlY3RCb29rbWFya3M6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPVtdLGMsZD0wO2Q8YS5sZW5ndGg7ZCsrKXt2YXIgZT1uZXcgQ0tFRElUT1IuZG9tLnJhbmdlKHRoaXMucm9vdCk7ZS5tb3ZlVG9Cb29rbWFyayhhW2RdKTtiLnB1c2goZSl9YS5pc0Zha2UmJihjPWJbMF0uZ2V0RW5jbG9zZWROb2RlKCksYyYmYy50eXBlPT1cbkNLRURJVE9SLk5PREVfRUxFTUVOVHx8KENLRURJVE9SLndhcm4oXCJzZWxlY3Rpb24tbm90LWZha2VcIiksYS5pc0Zha2U9MCkpO2EuaXNGYWtlP3RoaXMuZmFrZShjKTp0aGlzLnNlbGVjdFJhbmdlcyhiKTtyZXR1cm4gdGhpc30sZ2V0Q29tbW9uQW5jZXN0b3I6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmdldFJhbmdlcygpO3JldHVybiBhLmxlbmd0aD9hWzBdLnN0YXJ0Q29udGFpbmVyLmdldENvbW1vbkFuY2VzdG9yKGFbYS5sZW5ndGgtMV0uZW5kQ29udGFpbmVyKTpudWxsfSxzY3JvbGxJbnRvVmlldzpmdW5jdGlvbigpe3RoaXMudHlwZSE9Q0tFRElUT1IuU0VMRUNUSU9OX05PTkUmJnRoaXMuZ2V0UmFuZ2VzKClbMF0uc2Nyb2xsSW50b1ZpZXcoKX0scmVtb3ZlQWxsUmFuZ2VzOmZ1bmN0aW9uKCl7aWYodGhpcy5nZXRUeXBlKCkhPUNLRURJVE9SLlNFTEVDVElPTl9OT05FKXt2YXIgYT10aGlzLmdldE5hdGl2ZSgpO3RyeXthJiZhW24/XCJlbXB0eVwiOlwicmVtb3ZlQWxsUmFuZ2VzXCJdKCl9Y2F0Y2goYil7fXRoaXMucmVzZXQoKX19fX0oKSxcblwidXNlIHN0cmljdFwiLENLRURJVE9SLlNUWUxFX0JMT0NLPTEsQ0tFRElUT1IuU1RZTEVfSU5MSU5FPTIsQ0tFRElUT1IuU1RZTEVfT0JKRUNUPTMsZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEsYil7Zm9yKHZhciBjLGQ7KGE9YS5nZXRQYXJlbnQoKSkmJiFhLmVxdWFscyhiKTspaWYoYS5nZXRBdHRyaWJ1dGUoXCJkYXRhLW5vc3R5bGVcIikpYz1hO2Vsc2UgaWYoIWQpe3ZhciBlPWEuZ2V0QXR0cmlidXRlKFwiY29udGVudEVkaXRhYmxlXCIpO1wiZmFsc2VcIj09ZT9jPWE6XCJ0cnVlXCI9PWUmJihkPTEpfXJldHVybiBjfWZ1bmN0aW9uIGYoYSxiLGMsZCl7cmV0dXJuKGEuZ2V0UG9zaXRpb24oYil8ZCk9PWQmJighYy5jaGlsZFJ1bGV8fGMuY2hpbGRSdWxlKGEpKX1mdW5jdGlvbiBiKGMpe3ZhciBkPWMuZG9jdW1lbnQ7aWYoYy5jb2xsYXBzZWQpZD11KHRoaXMsZCksYy5pbnNlcnROb2RlKGQpLGMubW92ZVRvUG9zaXRpb24oZCxDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfRU5EKTtlbHNle3ZhciBnPVxudGhpcy5lbGVtZW50LGs9dGhpcy5fLmRlZmluaXRpb24saCxsPWsuaWdub3JlUmVhZG9ubHksbT1sfHxrLmluY2x1ZGVSZWFkb25seTtudWxsPT1tJiYobT1jLnJvb3QuZ2V0Q3VzdG9tRGF0YShcImNrZV9pbmNsdWRlUmVhZG9ubHlcIikpO3ZhciBuPUNLRURJVE9SLmR0ZFtnXTtufHwoaD0hMCxuPUNLRURJVE9SLmR0ZC5zcGFuKTtjLmVubGFyZ2UoQ0tFRElUT1IuRU5MQVJHRV9JTkxJTkUsMSk7Yy50cmltKCk7dmFyIHI9Yy5jcmVhdGVCb29rbWFyaygpLHA9ci5zdGFydE5vZGUsdj1yLmVuZE5vZGUscT1wLEI7aWYoIWwpe3ZhciB3PWMuZ2V0Q29tbW9uQW5jZXN0b3IoKSxsPWEocCx3KSx3PWEodix3KTtsJiYocT1sLmdldE5leHRTb3VyY2VOb2RlKCEwKSk7dyYmKHY9dyl9Zm9yKHEuZ2V0UG9zaXRpb24odik9PUNLRURJVE9SLlBPU0lUSU9OX0ZPTExPV0lORyYmKHE9MCk7cTspe2w9ITE7aWYocS5lcXVhbHModikpcT1udWxsLGw9ITA7ZWxzZXt2YXIgeD1xLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVD9cbnEuZ2V0TmFtZSgpOm51bGwsdz14JiZcImZhbHNlXCI9PXEuZ2V0QXR0cmlidXRlKFwiY29udGVudEVkaXRhYmxlXCIpLHo9eCYmcS5nZXRBdHRyaWJ1dGUoXCJkYXRhLW5vc3R5bGVcIik7aWYoeCYmcS5kYXRhKFwiY2tlLWJvb2ttYXJrXCIpKXtxPXEuZ2V0TmV4dFNvdXJjZU5vZGUoITApO2NvbnRpbnVlfWlmKHcmJm0mJkNLRURJVE9SLmR0ZC4kYmxvY2tbeF0pZm9yKHZhciBEPXEseT1lKEQpLEE9dm9pZCAwLEM9eS5sZW5ndGgsZWE9MCxEPUMmJm5ldyBDS0VESVRPUi5kb20ucmFuZ2UoRC5nZXREb2N1bWVudCgpKTtlYTxDOysrZWEpe3ZhciBBPXlbZWFdLGdhPUNLRURJVE9SLmZpbHRlci5pbnN0YW5jZXNbQS5kYXRhKFwiY2tlLWZpbHRlclwiKV07aWYoZ2E/Z2EuY2hlY2sodGhpcyk6MSlELnNlbGVjdE5vZGVDb250ZW50cyhBKSxiLmNhbGwodGhpcyxEKX15PXg/IW5beF18fHo/MDp3JiYhbT8wOmYocSx2LGssTSk6MTtpZih5KWlmKEE9cS5nZXRQYXJlbnQoKSx5PWssQz1nLGVhPWgsIUF8fCEoQS5nZXREdGQoKXx8XG5DS0VESVRPUi5kdGQuc3BhbilbQ10mJiFlYXx8eS5wYXJlbnRSdWxlJiYheS5wYXJlbnRSdWxlKEEpKWw9ITA7ZWxzZXtpZihCfHx4JiZDS0VESVRPUi5kdGQuJHJlbW92ZUVtcHR5W3hdJiYocS5nZXRQb3NpdGlvbih2KXxNKSE9TXx8KEI9Yy5jbG9uZSgpLEIuc2V0U3RhcnRCZWZvcmUocSkpLHg9cS50eXBlLHg9PUNLRURJVE9SLk5PREVfVEVYVHx8d3x8eD09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiYhcS5nZXRDaGlsZENvdW50KCkpe2Zvcih2YXIgeD1xLEU7KGw9IXguZ2V0TmV4dChKKSkmJihFPXguZ2V0UGFyZW50KCksbltFLmdldE5hbWUoKV0pJiZmKEUscCxrLEkpOyl4PUU7Qi5zZXRFbmRBZnRlcih4KX19ZWxzZSBsPSEwO3E9cS5nZXROZXh0U291cmNlTm9kZSh6fHx3KX1pZihsJiZCJiYhQi5jb2xsYXBzZWQpe2Zvcih2YXIgbD11KHRoaXMsZCksdz1sLmhhc0F0dHJpYnV0ZXMoKSx6PUIuZ2V0Q29tbW9uQW5jZXN0b3IoKSx4PXt9LHk9e30sQT17fSxDPXt9LGFhLEcsRjtsJiZcbno7KXtpZih6LmdldE5hbWUoKT09Zyl7Zm9yKGFhIGluIGsuYXR0cmlidXRlcykhQ1thYV0mJihGPXouZ2V0QXR0cmlidXRlKEcpKSYmKGwuZ2V0QXR0cmlidXRlKGFhKT09Rj95W2FhXT0xOkNbYWFdPTEpO2ZvcihHIGluIGsuc3R5bGVzKSFBW0ddJiYoRj16LmdldFN0eWxlKEcpKSYmKGwuZ2V0U3R5bGUoRyk9PUY/eFtHXT0xOkFbR109MSl9ej16LmdldFBhcmVudCgpfWZvcihhYSBpbiB5KWwucmVtb3ZlQXR0cmlidXRlKGFhKTtmb3IoRyBpbiB4KWwucmVtb3ZlU3R5bGUoRyk7dyYmIWwuaGFzQXR0cmlidXRlcygpJiYobD1udWxsKTtsPyhCLmV4dHJhY3RDb250ZW50cygpLmFwcGVuZFRvKGwpLEIuaW5zZXJ0Tm9kZShsKSx0LmNhbGwodGhpcyxsKSxsLm1lcmdlU2libGluZ3MoKSxDS0VESVRPUi5lbnYuaWV8fGwuJC5ub3JtYWxpemUoKSk6KGw9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KFwic3BhblwiKSxCLmV4dHJhY3RDb250ZW50cygpLmFwcGVuZFRvKGwpLEIuaW5zZXJ0Tm9kZShsKSxcbnQuY2FsbCh0aGlzLGwpLGwucmVtb3ZlKCEwKSk7Qj1udWxsfX1jLm1vdmVUb0Jvb2ttYXJrKHIpO2Muc2hyaW5rKENLRURJVE9SLlNIUklOS19URVhUKTtjLnNocmluayhDS0VESVRPUi5OT0RFX0VMRU1FTlQsITApfX1mdW5jdGlvbiBjKGEpe2Z1bmN0aW9uIGIoKXtmb3IodmFyIGE9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50UGF0aChkLmdldFBhcmVudCgpKSxjPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudFBhdGgobC5nZXRQYXJlbnQoKSksZT1udWxsLGc9bnVsbCxmPTA7ZjxhLmVsZW1lbnRzLmxlbmd0aDtmKyspe3ZhciBrPWEuZWxlbWVudHNbZl07aWYoaz09YS5ibG9ja3x8az09YS5ibG9ja0xpbWl0KWJyZWFrO20uY2hlY2tFbGVtZW50UmVtb3ZhYmxlKGssITApJiYoZT1rKX1mb3IoZj0wO2Y8Yy5lbGVtZW50cy5sZW5ndGg7ZisrKXtrPWMuZWxlbWVudHNbZl07aWYoaz09Yy5ibG9ja3x8az09Yy5ibG9ja0xpbWl0KWJyZWFrO20uY2hlY2tFbGVtZW50UmVtb3ZhYmxlKGssITApJiZcbihnPWspfWcmJmwuYnJlYWtQYXJlbnQoZyk7ZSYmZC5icmVha1BhcmVudChlKX1hLmVubGFyZ2UoQ0tFRElUT1IuRU5MQVJHRV9JTkxJTkUsMSk7dmFyIGM9YS5jcmVhdGVCb29rbWFyaygpLGQ9Yy5zdGFydE5vZGU7aWYoYS5jb2xsYXBzZWQpe2Zvcih2YXIgZT1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnRQYXRoKGQuZ2V0UGFyZW50KCksYS5yb290KSxnLGY9MCxrO2Y8ZS5lbGVtZW50cy5sZW5ndGgmJihrPWUuZWxlbWVudHNbZl0pJiZrIT1lLmJsb2NrJiZrIT1lLmJsb2NrTGltaXQ7ZisrKWlmKHRoaXMuY2hlY2tFbGVtZW50UmVtb3ZhYmxlKGspKXt2YXIgaDthLmNvbGxhcHNlZCYmKGEuY2hlY2tCb3VuZGFyeU9mRWxlbWVudChrLENLRURJVE9SLkVORCl8fChoPWEuY2hlY2tCb3VuZGFyeU9mRWxlbWVudChrLENLRURJVE9SLlNUQVJUKSkpPyhnPWssZy5tYXRjaD1oP1wic3RhcnRcIjpcImVuZFwiKTooay5tZXJnZVNpYmxpbmdzKCksay5pcyh0aGlzLmVsZW1lbnQpP3AuY2FsbCh0aGlzLFxuayk6dihrLHcodGhpcylbay5nZXROYW1lKCldKSl9aWYoZyl7az1kO2ZvcihmPTA7O2YrKyl7aD1lLmVsZW1lbnRzW2ZdO2lmKGguZXF1YWxzKGcpKWJyZWFrO2Vsc2UgaWYoaC5tYXRjaCljb250aW51ZTtlbHNlIGg9aC5jbG9uZSgpO2guYXBwZW5kKGspO2s9aH1rW1wic3RhcnRcIj09Zy5tYXRjaD9cImluc2VydEJlZm9yZVwiOlwiaW5zZXJ0QWZ0ZXJcIl0oZyl9fWVsc2V7dmFyIGw9Yy5lbmROb2RlLG09dGhpcztiKCk7Zm9yKGU9ZDshZS5lcXVhbHMobCk7KWc9ZS5nZXROZXh0U291cmNlTm9kZSgpLGUudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZ0aGlzLmNoZWNrRWxlbWVudFJlbW92YWJsZShlKSYmKGUuZ2V0TmFtZSgpPT10aGlzLmVsZW1lbnQ/cC5jYWxsKHRoaXMsZSk6dihlLHcodGhpcylbZS5nZXROYW1lKCldKSxnLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmZy5jb250YWlucyhkKSYmKGIoKSxnPWQuZ2V0TmV4dCgpKSksZT1nfWEubW92ZVRvQm9va21hcmsoYyk7XG5hLnNocmluayhDS0VESVRPUi5OT0RFX0VMRU1FTlQsITApfWZ1bmN0aW9uIGUoYSl7dmFyIGI9W107YS5mb3JFYWNoKGZ1bmN0aW9uKGEpe2lmKFwidHJ1ZVwiPT1hLmdldEF0dHJpYnV0ZShcImNvbnRlbnRlZGl0YWJsZVwiKSlyZXR1cm4gYi5wdXNoKGEpLCExfSxDS0VESVRPUi5OT0RFX0VMRU1FTlQsITApO3JldHVybiBifWZ1bmN0aW9uIG0oYSl7dmFyIGI9YS5nZXRFbmNsb3NlZE5vZGUoKXx8YS5nZXRDb21tb25BbmNlc3RvcighMSwhMCk7KGE9KG5ldyBDS0VESVRPUi5kb20uZWxlbWVudFBhdGgoYixhLnJvb3QpKS5jb250YWlucyh0aGlzLmVsZW1lbnQsMSkpJiYhYS5pc1JlYWRPbmx5KCkmJkIoYSx0aGlzKX1mdW5jdGlvbiBsKGEpe3ZhciBiPWEuZ2V0Q29tbW9uQW5jZXN0b3IoITAsITApO2lmKGE9KG5ldyBDS0VESVRPUi5kb20uZWxlbWVudFBhdGgoYixhLnJvb3QpKS5jb250YWlucyh0aGlzLmVsZW1lbnQsMSkpe3ZhciBiPXRoaXMuXy5kZWZpbml0aW9uLGM9Yi5hdHRyaWJ1dGVzO1xuaWYoYylmb3IodmFyIGQgaW4gYylhLnJlbW92ZUF0dHJpYnV0ZShkLGNbZF0pO2lmKGIuc3R5bGVzKWZvcih2YXIgZSBpbiBiLnN0eWxlcyliLnN0eWxlcy5oYXNPd25Qcm9wZXJ0eShlKSYmYS5yZW1vdmVTdHlsZShlKX19ZnVuY3Rpb24gZChhKXt2YXIgYj1hLmNyZWF0ZUJvb2ttYXJrKCEwKSxjPWEuY3JlYXRlSXRlcmF0b3IoKTtjLmVuZm9yY2VSZWFsQmxvY2tzPSEwO3RoaXMuXy5lbnRlck1vZGUmJihjLmVubGFyZ2VCcj10aGlzLl8uZW50ZXJNb2RlIT1DS0VESVRPUi5FTlRFUl9CUik7Zm9yKHZhciBkLGU9YS5kb2N1bWVudCxnO2Q9Yy5nZXROZXh0UGFyYWdyYXBoKCk7KSFkLmlzUmVhZE9ubHkoKSYmKGMuYWN0aXZlRmlsdGVyP2MuYWN0aXZlRmlsdGVyLmNoZWNrKHRoaXMpOjEpJiYoZz11KHRoaXMsZSxkKSxrKGQsZykpO2EubW92ZVRvQm9va21hcmsoYil9ZnVuY3Rpb24gaChhKXt2YXIgYj1hLmNyZWF0ZUJvb2ttYXJrKDEpLGM9YS5jcmVhdGVJdGVyYXRvcigpO2MuZW5mb3JjZVJlYWxCbG9ja3M9XG4hMDtjLmVubGFyZ2VCcj10aGlzLl8uZW50ZXJNb2RlIT1DS0VESVRPUi5FTlRFUl9CUjtmb3IodmFyIGQsZTtkPWMuZ2V0TmV4dFBhcmFncmFwaCgpOyl0aGlzLmNoZWNrRWxlbWVudFJlbW92YWJsZShkKSYmKGQuaXMoXCJwcmVcIik/KChlPXRoaXMuXy5lbnRlck1vZGU9PUNLRURJVE9SLkVOVEVSX0JSP251bGw6YS5kb2N1bWVudC5jcmVhdGVFbGVtZW50KHRoaXMuXy5lbnRlck1vZGU9PUNLRURJVE9SLkVOVEVSX1A/XCJwXCI6XCJkaXZcIikpJiZkLmNvcHlBdHRyaWJ1dGVzKGUpLGsoZCxlKSk6cC5jYWxsKHRoaXMsZCkpO2EubW92ZVRvQm9va21hcmsoYil9ZnVuY3Rpb24gayhhLGIpe3ZhciBjPSFiO2MmJihiPWEuZ2V0RG9jdW1lbnQoKS5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLGEuY29weUF0dHJpYnV0ZXMoYikpO3ZhciBkPWImJmIuaXMoXCJwcmVcIiksZT1hLmlzKFwicHJlXCIpLGY9IWQmJmU7aWYoZCYmIWUpe2U9YjsoZj1hLmdldEJvZ3VzKCkpJiZmLnJlbW92ZSgpO2Y9YS5nZXRIdG1sKCk7XG5mPW4oZiwvKD86XlsgXFx0XFxuXFxyXSspfCg/OlsgXFx0XFxuXFxyXSskKS9nLFwiXCIpO2Y9Zi5yZXBsYWNlKC9bIFxcdFxcclxcbl0qKDxicltePl0qPilbIFxcdFxcclxcbl0qL2dpLFwiJDFcIik7Zj1mLnJlcGxhY2UoLyhbIFxcdFxcblxccl0rfCZuYnNwOykvZyxcIiBcIik7Zj1mLnJlcGxhY2UoLzxiclxcYltePl0qPi9naSxcIlxcblwiKTtpZihDS0VESVRPUi5lbnYuaWUpe3ZhciBrPWEuZ2V0RG9jdW1lbnQoKS5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO2suYXBwZW5kKGUpO2UuJC5vdXRlckhUTUw9XCJcXHgzY3ByZVxceDNlXCIrZitcIlxceDNjL3ByZVxceDNlXCI7ZS5jb3B5QXR0cmlidXRlcyhrLmdldEZpcnN0KCkpO2U9ay5nZXRGaXJzdCgpLnJlbW92ZSgpfWVsc2UgZS5zZXRIdG1sKGYpO2I9ZX1lbHNlIGY/Yj1xKGM/W2EuZ2V0SHRtbCgpXTpnKGEpLGIpOmEubW92ZUNoaWxkcmVuKGIpO2IucmVwbGFjZShhKTtpZihkKXt2YXIgYz1iLGg7KGg9Yy5nZXRQcmV2aW91cyhHKSkmJmgudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZcbmguaXMoXCJwcmVcIikmJihkPW4oaC5nZXRIdG1sKCksL1xcbiQvLFwiXCIpK1wiXFxuXFxuXCIrbihjLmdldEh0bWwoKSwvXlxcbi8sXCJcIiksQ0tFRElUT1IuZW52LmllP2MuJC5vdXRlckhUTUw9XCJcXHgzY3ByZVxceDNlXCIrZCtcIlxceDNjL3ByZVxceDNlXCI6Yy5zZXRIdG1sKGQpLGgucmVtb3ZlKCkpfWVsc2UgYyYmcihiKX1mdW5jdGlvbiBnKGEpe3ZhciBiPVtdO24oYS5nZXRPdXRlckh0bWwoKSwvKFxcU1xccyopXFxuKD86XFxzfCg8c3BhbltePl0rZGF0YS1ja2UtYm9va21hcmsuKj9cXC9zcGFuPikpKlxcbig/ISQpL2dpLGZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gYitcIlxceDNjL3ByZVxceDNlXCIrYytcIlxceDNjcHJlXFx4M2VcIn0pLnJlcGxhY2UoLzxwcmVcXGIuKj8+KFtcXHNcXFNdKj8pPFxcL3ByZT4vZ2ksZnVuY3Rpb24oYSxjKXtiLnB1c2goYyl9KTtyZXR1cm4gYn1mdW5jdGlvbiBuKGEsYixjKXt2YXIgZD1cIlwiLGU9XCJcIjthPWEucmVwbGFjZSgvKF48c3BhbltePl0rZGF0YS1ja2UtYm9va21hcmsuKj9cXC9zcGFuPil8KDxzcGFuW14+XStkYXRhLWNrZS1ib29rbWFyay4qP1xcL3NwYW4+JCkvZ2ksXG5mdW5jdGlvbihhLGIsYyl7YiYmKGQ9Yik7YyYmKGU9Yyk7cmV0dXJuXCJcIn0pO3JldHVybiBkK2EucmVwbGFjZShiLGMpK2V9ZnVuY3Rpb24gcShhLGIpe3ZhciBjOzE8YS5sZW5ndGgmJihjPW5ldyBDS0VESVRPUi5kb20uZG9jdW1lbnRGcmFnbWVudChiLmdldERvY3VtZW50KCkpKTtmb3IodmFyIGQ9MDtkPGEubGVuZ3RoO2QrKyl7dmFyIGU9YVtkXSxlPWUucmVwbGFjZSgvKFxcclxcbnxcXHIpL2csXCJcXG5cIiksZT1uKGUsL15bIFxcdF0qXFxuLyxcIlwiKSxlPW4oZSwvXFxuJC8sXCJcIiksZT1uKGUsL15bIFxcdF0rfFsgXFx0XSskL2csZnVuY3Rpb24oYSxiKXtyZXR1cm4gMT09YS5sZW5ndGg/XCJcXHgyNm5ic3A7XCI6Yj9cIiBcIitDS0VESVRPUi50b29scy5yZXBlYXQoXCJcXHgyNm5ic3A7XCIsYS5sZW5ndGgtMSk6Q0tFRElUT1IudG9vbHMucmVwZWF0KFwiXFx4MjZuYnNwO1wiLGEubGVuZ3RoLTEpK1wiIFwifSksZT1lLnJlcGxhY2UoL1xcbi9nLFwiXFx4M2NiclxceDNlXCIpLGU9ZS5yZXBsYWNlKC9bIFxcdF17Mix9L2csZnVuY3Rpb24oYSl7cmV0dXJuIENLRURJVE9SLnRvb2xzLnJlcGVhdChcIlxceDI2bmJzcDtcIixcbmEubGVuZ3RoLTEpK1wiIFwifSk7aWYoYyl7dmFyIGc9Yi5jbG9uZSgpO2cuc2V0SHRtbChlKTtjLmFwcGVuZChnKX1lbHNlIGIuc2V0SHRtbChlKX1yZXR1cm4gY3x8Yn1mdW5jdGlvbiBwKGEsYil7dmFyIGM9dGhpcy5fLmRlZmluaXRpb24sZD1jLmF0dHJpYnV0ZXMsYz1jLnN0eWxlcyxlPXcodGhpcylbYS5nZXROYW1lKCldLGc9Q0tFRElUT1IudG9vbHMuaXNFbXB0eShkKSYmQ0tFRElUT1IudG9vbHMuaXNFbXB0eShjKSxmO2ZvcihmIGluIGQpaWYoXCJjbGFzc1wiIT1mJiYhdGhpcy5fLmRlZmluaXRpb24uZnVsbE1hdGNofHxhLmdldEF0dHJpYnV0ZShmKT09eihmLGRbZl0pKWImJlwiZGF0YS1cIj09Zi5zbGljZSgwLDUpfHwoZz1hLmhhc0F0dHJpYnV0ZShmKSxhLnJlbW92ZUF0dHJpYnV0ZShmKSk7Zm9yKHZhciBrIGluIGMpdGhpcy5fLmRlZmluaXRpb24uZnVsbE1hdGNoJiZhLmdldFN0eWxlKGspIT16KGssY1trXSwhMCl8fChnPWd8fCEhYS5nZXRTdHlsZShrKSxhLnJlbW92ZVN0eWxlKGspKTtcbnYoYSxlLEFbYS5nZXROYW1lKCldKTtnJiYodGhpcy5fLmRlZmluaXRpb24uYWx3YXlzUmVtb3ZlRWxlbWVudD9yKGEsMSk6IUNLRURJVE9SLmR0ZC4kYmxvY2tbYS5nZXROYW1lKCldfHx0aGlzLl8uZW50ZXJNb2RlPT1DS0VESVRPUi5FTlRFUl9CUiYmIWEuaGFzQXR0cmlidXRlcygpP3IoYSk6YS5yZW5hbWVOb2RlKHRoaXMuXy5lbnRlck1vZGU9PUNLRURJVE9SLkVOVEVSX1A/XCJwXCI6XCJkaXZcIikpfWZ1bmN0aW9uIHQoYSl7Zm9yKHZhciBiPXcodGhpcyksYz1hLmdldEVsZW1lbnRzQnlUYWcodGhpcy5lbGVtZW50KSxkLGU9Yy5jb3VudCgpOzA8PS0tZTspZD1jLmdldEl0ZW0oZSksZC5pc1JlYWRPbmx5KCl8fHAuY2FsbCh0aGlzLGQsITApO2Zvcih2YXIgZyBpbiBiKWlmKGchPXRoaXMuZWxlbWVudClmb3IoYz1hLmdldEVsZW1lbnRzQnlUYWcoZyksZT1jLmNvdW50KCktMTswPD1lO2UtLSlkPWMuZ2V0SXRlbShlKSxkLmlzUmVhZE9ubHkoKXx8dihkLGJbZ10pfWZ1bmN0aW9uIHYoYSxcbmIsYyl7aWYoYj1iJiZiLmF0dHJpYnV0ZXMpZm9yKHZhciBkPTA7ZDxiLmxlbmd0aDtkKyspe3ZhciBlPWJbZF1bMF0sZztpZihnPWEuZ2V0QXR0cmlidXRlKGUpKXt2YXIgZj1iW2RdWzFdOyhudWxsPT09Znx8Zi50ZXN0JiZmLnRlc3QoZyl8fFwic3RyaW5nXCI9PXR5cGVvZiBmJiZnPT1mKSYmYS5yZW1vdmVBdHRyaWJ1dGUoZSl9fWN8fHIoYSl9ZnVuY3Rpb24gcihhLGIpe2lmKCFhLmhhc0F0dHJpYnV0ZXMoKXx8YilpZihDS0VESVRPUi5kdGQuJGJsb2NrW2EuZ2V0TmFtZSgpXSl7dmFyIGM9YS5nZXRQcmV2aW91cyhHKSxkPWEuZ2V0TmV4dChHKTshY3x8Yy50eXBlIT1DS0VESVRPUi5OT0RFX1RFWFQmJmMuaXNCbG9ja0JvdW5kYXJ5KHticjoxfSl8fGEuYXBwZW5kKFwiYnJcIiwxKTshZHx8ZC50eXBlIT1DS0VESVRPUi5OT0RFX1RFWFQmJmQuaXNCbG9ja0JvdW5kYXJ5KHticjoxfSl8fGEuYXBwZW5kKFwiYnJcIik7YS5yZW1vdmUoITApfWVsc2UgYz1hLmdldEZpcnN0KCksZD1hLmdldExhc3QoKSxcbmEucmVtb3ZlKCEwKSxjJiYoYy50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmMubWVyZ2VTaWJsaW5ncygpLGQmJiFjLmVxdWFscyhkKSYmZC50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmQubWVyZ2VTaWJsaW5ncygpKX1mdW5jdGlvbiB1KGEsYixjKXt2YXIgZDtkPWEuZWxlbWVudDtcIipcIj09ZCYmKGQ9XCJzcGFuXCIpO2Q9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KGQsYik7YyYmYy5jb3B5QXR0cmlidXRlcyhkKTtkPUIoZCxhKTtiLmdldEN1c3RvbURhdGEoXCJkb2NfcHJvY2Vzc2luZ19zdHlsZVwiKSYmZC5oYXNBdHRyaWJ1dGUoXCJpZFwiKT9kLnJlbW92ZUF0dHJpYnV0ZShcImlkXCIpOmIuc2V0Q3VzdG9tRGF0YShcImRvY19wcm9jZXNzaW5nX3N0eWxlXCIsMSk7cmV0dXJuIGR9ZnVuY3Rpb24gQihhLGIpe3ZhciBjPWIuXy5kZWZpbml0aW9uLGQ9Yy5hdHRyaWJ1dGVzLGM9Q0tFRElUT1Iuc3R5bGUuZ2V0U3R5bGVUZXh0KGMpO2lmKGQpZm9yKHZhciBlIGluIGQpYS5zZXRBdHRyaWJ1dGUoZSxcbmRbZV0pO2MmJmEuc2V0QXR0cmlidXRlKFwic3R5bGVcIixjKTtyZXR1cm4gYX1mdW5jdGlvbiB4KGEsYil7Zm9yKHZhciBjIGluIGEpYVtjXT1hW2NdLnJlcGxhY2UoRSxmdW5jdGlvbihhLGMpe3JldHVybiBiW2NdfSl9ZnVuY3Rpb24gdyhhKXtpZihhLl8ub3ZlcnJpZGVzKXJldHVybiBhLl8ub3ZlcnJpZGVzO3ZhciBiPWEuXy5vdmVycmlkZXM9e30sYz1hLl8uZGVmaW5pdGlvbi5vdmVycmlkZXM7aWYoYyl7Q0tFRElUT1IudG9vbHMuaXNBcnJheShjKXx8KGM9W2NdKTtmb3IodmFyIGQ9MDtkPGMubGVuZ3RoO2QrKyl7dmFyIGU9Y1tkXSxnLGY7XCJzdHJpbmdcIj09dHlwZW9mIGU/Zz1lLnRvTG93ZXJDYXNlKCk6KGc9ZS5lbGVtZW50P2UuZWxlbWVudC50b0xvd2VyQ2FzZSgpOmEuZWxlbWVudCxmPWUuYXR0cmlidXRlcyk7ZT1iW2ddfHwoYltnXT17fSk7aWYoZil7dmFyIGU9ZS5hdHRyaWJ1dGVzPWUuYXR0cmlidXRlc3x8W10saztmb3IoayBpbiBmKWUucHVzaChbay50b0xvd2VyQ2FzZSgpLFxuZltrXV0pfX19cmV0dXJuIGJ9ZnVuY3Rpb24geihhLGIsYyl7dmFyIGQ9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KFwic3BhblwiKTtkW2M/XCJzZXRTdHlsZVwiOlwic2V0QXR0cmlidXRlXCJdKGEsYik7cmV0dXJuIGRbYz9cImdldFN0eWxlXCI6XCJnZXRBdHRyaWJ1dGVcIl0oYSl9ZnVuY3Rpb24gRChhLGIpe2Z1bmN0aW9uIGMoYSxiKXtyZXR1cm5cImZvbnQtZmFtaWx5XCI9PWIudG9Mb3dlckNhc2UoKT9hLnJlcGxhY2UoL1tcIiddL2csXCJcIik6YX1cInN0cmluZ1wiPT10eXBlb2YgYSYmKGE9Q0tFRElUT1IudG9vbHMucGFyc2VDc3NUZXh0KGEpKTtcInN0cmluZ1wiPT10eXBlb2YgYiYmKGI9Q0tFRElUT1IudG9vbHMucGFyc2VDc3NUZXh0KGIsITApKTtmb3IodmFyIGQgaW4gYSlpZighKGQgaW4gYil8fGMoYltkXSxkKSE9YyhhW2RdLGQpJiZcImluaGVyaXRcIiE9YVtkXSYmXCJpbmhlcml0XCIhPWJbZF0pcmV0dXJuITE7cmV0dXJuITB9ZnVuY3Rpb24geShhLGIsYyl7dmFyIGQ9YS5kb2N1bWVudCxlPWEuZ2V0UmFuZ2VzKCk7XG5iPWI/dGhpcy5yZW1vdmVGcm9tUmFuZ2U6dGhpcy5hcHBseVRvUmFuZ2U7Zm9yKHZhciBnLGY9ZS5jcmVhdGVJdGVyYXRvcigpO2c9Zi5nZXROZXh0UmFuZ2UoKTspYi5jYWxsKHRoaXMsZyxjKTthLnNlbGVjdFJhbmdlcyhlKTtkLnJlbW92ZUN1c3RvbURhdGEoXCJkb2NfcHJvY2Vzc2luZ19zdHlsZVwiKX12YXIgQT17YWRkcmVzczoxLGRpdjoxLGgxOjEsaDI6MSxoMzoxLGg0OjEsaDU6MSxoNjoxLHA6MSxwcmU6MSxzZWN0aW9uOjEsaGVhZGVyOjEsZm9vdGVyOjEsbmF2OjEsYXJ0aWNsZToxLGFzaWRlOjEsZmlndXJlOjEsZGlhbG9nOjEsaGdyb3VwOjEsdGltZToxLG1ldGVyOjEsbWVudToxLGNvbW1hbmQ6MSxrZXlnZW46MSxvdXRwdXQ6MSxwcm9ncmVzczoxLGRldGFpbHM6MSxkYXRhZ3JpZDoxLGRhdGFsaXN0OjF9LEM9e2E6MSxibG9ja3F1b3RlOjEsZW1iZWQ6MSxocjoxLGltZzoxLGxpOjEsb2JqZWN0OjEsb2w6MSx0YWJsZToxLHRkOjEsdHI6MSx0aDoxLHVsOjEsZGw6MSxkdDoxLFxuZGQ6MSxmb3JtOjEsYXVkaW86MSx2aWRlbzoxfSxGPS9cXHMqKD86O1xccyp8JCkvLEU9LyNcXCgoLis/KVxcKS9nLEo9Q0tFRElUT1IuZG9tLndhbGtlci5ib29rbWFyaygwLDEpLEc9Q0tFRElUT1IuZG9tLndhbGtlci53aGl0ZXNwYWNlcygxKTtDS0VESVRPUi5zdHlsZT1mdW5jdGlvbihhLGIpe2lmKFwic3RyaW5nXCI9PXR5cGVvZiBhLnR5cGUpcmV0dXJuIG5ldyBDS0VESVRPUi5zdHlsZS5jdXN0b21IYW5kbGVyc1thLnR5cGVdKGEpO3ZhciBjPWEuYXR0cmlidXRlcztjJiZjLnN0eWxlJiYoYS5zdHlsZXM9Q0tFRElUT1IudG9vbHMuZXh0ZW5kKHt9LGEuc3R5bGVzLENLRURJVE9SLnRvb2xzLnBhcnNlQ3NzVGV4dChjLnN0eWxlKSksZGVsZXRlIGMuc3R5bGUpO2ImJihhPUNLRURJVE9SLnRvb2xzLmNsb25lKGEpLHgoYS5hdHRyaWJ1dGVzLGIpLHgoYS5zdHlsZXMsYikpO2M9dGhpcy5lbGVtZW50PWEuZWxlbWVudD9cInN0cmluZ1wiPT10eXBlb2YgYS5lbGVtZW50P2EuZWxlbWVudC50b0xvd2VyQ2FzZSgpOlxuYS5lbGVtZW50OlwiKlwiO3RoaXMudHlwZT1hLnR5cGV8fChBW2NdP0NLRURJVE9SLlNUWUxFX0JMT0NLOkNbY10/Q0tFRElUT1IuU1RZTEVfT0JKRUNUOkNLRURJVE9SLlNUWUxFX0lOTElORSk7XCJvYmplY3RcIj09dHlwZW9mIHRoaXMuZWxlbWVudCYmKHRoaXMudHlwZT1DS0VESVRPUi5TVFlMRV9PQkpFQ1QpO3RoaXMuXz17ZGVmaW5pdGlvbjphfX07Q0tFRElUT1Iuc3R5bGUucHJvdG90eXBlPXthcHBseTpmdW5jdGlvbihhKXtpZihhIGluc3RhbmNlb2YgQ0tFRElUT1IuZG9tLmRvY3VtZW50KXJldHVybiB5LmNhbGwodGhpcyxhLmdldFNlbGVjdGlvbigpKTtpZih0aGlzLmNoZWNrQXBwbGljYWJsZShhLmVsZW1lbnRQYXRoKCksYSkpe3ZhciBiPXRoaXMuXy5lbnRlck1vZGU7Ynx8KHRoaXMuXy5lbnRlck1vZGU9YS5hY3RpdmVFbnRlck1vZGUpO3kuY2FsbCh0aGlzLGEuZ2V0U2VsZWN0aW9uKCksMCxhKTt0aGlzLl8uZW50ZXJNb2RlPWJ9fSxyZW1vdmU6ZnVuY3Rpb24oYSl7aWYoYSBpbnN0YW5jZW9mXG5DS0VESVRPUi5kb20uZG9jdW1lbnQpcmV0dXJuIHkuY2FsbCh0aGlzLGEuZ2V0U2VsZWN0aW9uKCksMSk7aWYodGhpcy5jaGVja0FwcGxpY2FibGUoYS5lbGVtZW50UGF0aCgpLGEpKXt2YXIgYj10aGlzLl8uZW50ZXJNb2RlO2J8fCh0aGlzLl8uZW50ZXJNb2RlPWEuYWN0aXZlRW50ZXJNb2RlKTt5LmNhbGwodGhpcyxhLmdldFNlbGVjdGlvbigpLDEsYSk7dGhpcy5fLmVudGVyTW9kZT1ifX0sYXBwbHlUb1JhbmdlOmZ1bmN0aW9uKGEpe3RoaXMuYXBwbHlUb1JhbmdlPXRoaXMudHlwZT09Q0tFRElUT1IuU1RZTEVfSU5MSU5FP2I6dGhpcy50eXBlPT1DS0VESVRPUi5TVFlMRV9CTE9DSz9kOnRoaXMudHlwZT09Q0tFRElUT1IuU1RZTEVfT0JKRUNUP206bnVsbDtyZXR1cm4gdGhpcy5hcHBseVRvUmFuZ2UoYSl9LHJlbW92ZUZyb21SYW5nZTpmdW5jdGlvbihhKXt0aGlzLnJlbW92ZUZyb21SYW5nZT10aGlzLnR5cGU9PUNLRURJVE9SLlNUWUxFX0lOTElORT9jOnRoaXMudHlwZT09Q0tFRElUT1IuU1RZTEVfQkxPQ0s/XG5oOnRoaXMudHlwZT09Q0tFRElUT1IuU1RZTEVfT0JKRUNUP2w6bnVsbDtyZXR1cm4gdGhpcy5yZW1vdmVGcm9tUmFuZ2UoYSl9LGFwcGx5VG9PYmplY3Q6ZnVuY3Rpb24oYSl7QihhLHRoaXMpfSxjaGVja0FjdGl2ZTpmdW5jdGlvbihhLGIpe3N3aXRjaCh0aGlzLnR5cGUpe2Nhc2UgQ0tFRElUT1IuU1RZTEVfQkxPQ0s6cmV0dXJuIHRoaXMuY2hlY2tFbGVtZW50UmVtb3ZhYmxlKGEuYmxvY2t8fGEuYmxvY2tMaW1pdCwhMCxiKTtjYXNlIENLRURJVE9SLlNUWUxFX09CSkVDVDpjYXNlIENLRURJVE9SLlNUWUxFX0lOTElORTpmb3IodmFyIGM9YS5lbGVtZW50cyxkPTAsZTtkPGMubGVuZ3RoO2QrKylpZihlPWNbZF0sdGhpcy50eXBlIT1DS0VESVRPUi5TVFlMRV9JTkxJTkV8fGUhPWEuYmxvY2smJmUhPWEuYmxvY2tMaW1pdCl7aWYodGhpcy50eXBlPT1DS0VESVRPUi5TVFlMRV9PQkpFQ1Qpe3ZhciBnPWUuZ2V0TmFtZSgpO2lmKCEoXCJzdHJpbmdcIj09dHlwZW9mIHRoaXMuZWxlbWVudD9cbmc9PXRoaXMuZWxlbWVudDpnIGluIHRoaXMuZWxlbWVudCkpY29udGludWV9aWYodGhpcy5jaGVja0VsZW1lbnRSZW1vdmFibGUoZSwhMCxiKSlyZXR1cm4hMH19cmV0dXJuITF9LGNoZWNrQXBwbGljYWJsZTpmdW5jdGlvbihhLGIsYyl7YiYmYiBpbnN0YW5jZW9mIENLRURJVE9SLmZpbHRlciYmKGM9Yik7aWYoYyYmIWMuY2hlY2sodGhpcykpcmV0dXJuITE7c3dpdGNoKHRoaXMudHlwZSl7Y2FzZSBDS0VESVRPUi5TVFlMRV9PQkpFQ1Q6cmV0dXJuISFhLmNvbnRhaW5zKHRoaXMuZWxlbWVudCk7Y2FzZSBDS0VESVRPUi5TVFlMRV9CTE9DSzpyZXR1cm4hIWEuYmxvY2tMaW1pdC5nZXREdGQoKVt0aGlzLmVsZW1lbnRdfXJldHVybiEwfSxjaGVja0VsZW1lbnRNYXRjaDpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuXy5kZWZpbml0aW9uO2lmKCFhfHwhYy5pZ25vcmVSZWFkb25seSYmYS5pc1JlYWRPbmx5KCkpcmV0dXJuITE7dmFyIGQ9YS5nZXROYW1lKCk7aWYoXCJzdHJpbmdcIj09dHlwZW9mIHRoaXMuZWxlbWVudD9cbmQ9PXRoaXMuZWxlbWVudDpkIGluIHRoaXMuZWxlbWVudCl7aWYoIWImJiFhLmhhc0F0dHJpYnV0ZXMoKSlyZXR1cm4hMDtpZihkPWMuX0FDKWM9ZDtlbHNle3ZhciBkPXt9LGU9MCxnPWMuYXR0cmlidXRlcztpZihnKWZvcih2YXIgZiBpbiBnKWUrKyxkW2ZdPWdbZl07aWYoZj1DS0VESVRPUi5zdHlsZS5nZXRTdHlsZVRleHQoYykpZC5zdHlsZXx8ZSsrLGQuc3R5bGU9ZjtkLl9sZW5ndGg9ZTtjPWMuX0FDPWR9aWYoYy5fbGVuZ3RoKXtmb3IodmFyIGsgaW4gYylpZihcIl9sZW5ndGhcIiE9aylpZihkPWEuZ2V0QXR0cmlidXRlKGspfHxcIlwiLFwic3R5bGVcIj09az9EKGNba10sZCk6Y1trXT09ZCl7aWYoIWIpcmV0dXJuITB9ZWxzZSBpZihiKXJldHVybiExO2lmKGIpcmV0dXJuITB9ZWxzZSByZXR1cm4hMH1yZXR1cm4hMX0sY2hlY2tFbGVtZW50UmVtb3ZhYmxlOmZ1bmN0aW9uKGEsYixjKXtpZih0aGlzLmNoZWNrRWxlbWVudE1hdGNoKGEsYixjKSlyZXR1cm4hMDtpZihiPXcodGhpcylbYS5nZXROYW1lKCldKXt2YXIgZDtcbmlmKCEoYj1iLmF0dHJpYnV0ZXMpKXJldHVybiEwO2ZvcihjPTA7YzxiLmxlbmd0aDtjKyspaWYoZD1iW2NdWzBdLGQ9YS5nZXRBdHRyaWJ1dGUoZCkpe3ZhciBlPWJbY11bMV07aWYobnVsbD09PWUpcmV0dXJuITA7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGUpe2lmKGQ9PWUpcmV0dXJuITB9ZWxzZSBpZihlLnRlc3QoZCkpcmV0dXJuITB9fXJldHVybiExfSxidWlsZFByZXZpZXc6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5fLmRlZmluaXRpb24sYz1bXSxkPWIuZWxlbWVudDtcImJkb1wiPT1kJiYoZD1cInNwYW5cIik7dmFyIGM9W1wiXFx4M2NcIixkXSxlPWIuYXR0cmlidXRlcztpZihlKWZvcih2YXIgZyBpbiBlKWMucHVzaChcIiBcIixnLCdcXHgzZFwiJyxlW2ddLCdcIicpOyhlPUNLRURJVE9SLnN0eWxlLmdldFN0eWxlVGV4dChiKSkmJmMucHVzaCgnIHN0eWxlXFx4M2RcIicsZSwnXCInKTtjLnB1c2goXCJcXHgzZVwiLGF8fGIubmFtZSxcIlxceDNjL1wiLGQsXCJcXHgzZVwiKTtyZXR1cm4gYy5qb2luKFwiXCIpfSxnZXREZWZpbml0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuXy5kZWZpbml0aW9ufX07XG5DS0VESVRPUi5zdHlsZS5nZXRTdHlsZVRleHQ9ZnVuY3Rpb24oYSl7dmFyIGI9YS5fU1Q7aWYoYilyZXR1cm4gYjt2YXIgYj1hLnN0eWxlcyxjPWEuYXR0cmlidXRlcyYmYS5hdHRyaWJ1dGVzLnN0eWxlfHxcIlwiLGQ9XCJcIjtjLmxlbmd0aCYmKGM9Yy5yZXBsYWNlKEYsXCI7XCIpKTtmb3IodmFyIGUgaW4gYil7dmFyIGc9YltlXSxmPShlK1wiOlwiK2cpLnJlcGxhY2UoRixcIjtcIik7XCJpbmhlcml0XCI9PWc/ZCs9ZjpjKz1mfWMubGVuZ3RoJiYoYz1DS0VESVRPUi50b29scy5ub3JtYWxpemVDc3NUZXh0KGMsITApKTtyZXR1cm4gYS5fU1Q9YytkfTtDS0VESVRPUi5zdHlsZS5jdXN0b21IYW5kbGVycz17fTtDS0VESVRPUi5zdHlsZS5hZGRDdXN0b21IYW5kbGVyPWZ1bmN0aW9uKGEpe3ZhciBiPWZ1bmN0aW9uKGEpe3RoaXMuXz17ZGVmaW5pdGlvbjphfTt0aGlzLnNldHVwJiZ0aGlzLnNldHVwKGEpfTtiLnByb3RvdHlwZT1DS0VESVRPUi50b29scy5leHRlbmQoQ0tFRElUT1IudG9vbHMucHJvdG90eXBlZENvcHkoQ0tFRElUT1Iuc3R5bGUucHJvdG90eXBlKSxcbnthc3NpZ25lZFRvOkNLRURJVE9SLlNUWUxFX09CSkVDVH0sYSwhMCk7cmV0dXJuIHRoaXMuY3VzdG9tSGFuZGxlcnNbYS50eXBlXT1ifTt2YXIgTT1DS0VESVRPUi5QT1NJVElPTl9QUkVDRURJTkd8Q0tFRElUT1IuUE9TSVRJT05fSURFTlRJQ0FMfENLRURJVE9SLlBPU0lUSU9OX0lTX0NPTlRBSU5FRCxJPUNLRURJVE9SLlBPU0lUSU9OX0ZPTExPV0lOR3xDS0VESVRPUi5QT1NJVElPTl9JREVOVElDQUx8Q0tFRElUT1IuUE9TSVRJT05fSVNfQ09OVEFJTkVEfSgpLENLRURJVE9SLnN0eWxlQ29tbWFuZD1mdW5jdGlvbihhLGYpe3RoaXMucmVxdWlyZWRDb250ZW50PXRoaXMuYWxsb3dlZENvbnRlbnQ9dGhpcy5zdHlsZT1hO0NLRURJVE9SLnRvb2xzLmV4dGVuZCh0aGlzLGYsITApfSxDS0VESVRPUi5zdHlsZUNvbW1hbmQucHJvdG90eXBlLmV4ZWM9ZnVuY3Rpb24oYSl7YS5mb2N1cygpO3RoaXMuc3RhdGU9PUNLRURJVE9SLlRSSVNUQVRFX09GRj9hLmFwcGx5U3R5bGUodGhpcy5zdHlsZSk6XG50aGlzLnN0YXRlPT1DS0VESVRPUi5UUklTVEFURV9PTiYmYS5yZW1vdmVTdHlsZSh0aGlzLnN0eWxlKX0sQ0tFRElUT1Iuc3R5bGVzU2V0PW5ldyBDS0VESVRPUi5yZXNvdXJjZU1hbmFnZXIoXCJcIixcInN0eWxlc1NldFwiKSxDS0VESVRPUi5hZGRTdHlsZXNTZXQ9Q0tFRElUT1IudG9vbHMuYmluZChDS0VESVRPUi5zdHlsZXNTZXQuYWRkLENLRURJVE9SLnN0eWxlc1NldCksQ0tFRElUT1IubG9hZFN0eWxlc1NldD1mdW5jdGlvbihhLGYsYil7Q0tFRElUT1Iuc3R5bGVzU2V0LmFkZEV4dGVybmFsKGEsZixcIlwiKTtDS0VESVRPUi5zdHlsZXNTZXQubG9hZChhLGIpfSxDS0VESVRPUi50b29scy5leHRlbmQoQ0tFRElUT1IuZWRpdG9yLnByb3RvdHlwZSx7YXR0YWNoU3R5bGVTdGF0ZUNoYW5nZTpmdW5jdGlvbihhLGYpe3ZhciBiPXRoaXMuXy5zdHlsZVN0YXRlQ2hhbmdlQ2FsbGJhY2tzO2J8fChiPXRoaXMuXy5zdHlsZVN0YXRlQ2hhbmdlQ2FsbGJhY2tzPVtdLHRoaXMub24oXCJzZWxlY3Rpb25DaGFuZ2VcIixcbmZ1bmN0aW9uKGEpe2Zvcih2YXIgZT0wO2U8Yi5sZW5ndGg7ZSsrKXt2YXIgZj1iW2VdLGw9Zi5zdHlsZS5jaGVja0FjdGl2ZShhLmRhdGEucGF0aCx0aGlzKT9DS0VESVRPUi5UUklTVEFURV9PTjpDS0VESVRPUi5UUklTVEFURV9PRkY7Zi5mbi5jYWxsKHRoaXMsbCl9fSkpO2IucHVzaCh7c3R5bGU6YSxmbjpmfSl9LGFwcGx5U3R5bGU6ZnVuY3Rpb24oYSl7YS5hcHBseSh0aGlzKX0scmVtb3ZlU3R5bGU6ZnVuY3Rpb24oYSl7YS5yZW1vdmUodGhpcyl9LGdldFN0eWxlc1NldDpmdW5jdGlvbihhKXtpZih0aGlzLl8uc3R5bGVzRGVmaW5pdGlvbnMpYSh0aGlzLl8uc3R5bGVzRGVmaW5pdGlvbnMpO2Vsc2V7dmFyIGY9dGhpcyxiPWYuY29uZmlnLnN0eWxlc0NvbWJvX3N0eWxlc1NldHx8Zi5jb25maWcuc3R5bGVzU2V0O2lmKCExPT09YilhKG51bGwpO2Vsc2UgaWYoYiBpbnN0YW5jZW9mIEFycmF5KWYuXy5zdHlsZXNEZWZpbml0aW9ucz1iLGEoYik7ZWxzZXtifHwoYj1cImRlZmF1bHRcIik7XG52YXIgYj1iLnNwbGl0KFwiOlwiKSxjPWJbMF07Q0tFRElUT1Iuc3R5bGVzU2V0LmFkZEV4dGVybmFsKGMsYlsxXT9iLnNsaWNlKDEpLmpvaW4oXCI6XCIpOkNLRURJVE9SLmdldFVybChcInN0eWxlcy5qc1wiKSxcIlwiKTtDS0VESVRPUi5zdHlsZXNTZXQubG9hZChjLGZ1bmN0aW9uKGIpe2YuXy5zdHlsZXNEZWZpbml0aW9ucz1iW2NdO2EoZi5fLnN0eWxlc0RlZmluaXRpb25zKX0pfX19fSksQ0tFRElUT1IuZG9tLmNvbW1lbnQ9ZnVuY3Rpb24oYSxmKXtcInN0cmluZ1wiPT10eXBlb2YgYSYmKGE9KGY/Zi4kOmRvY3VtZW50KS5jcmVhdGVDb21tZW50KGEpKTtDS0VESVRPUi5kb20uZG9tT2JqZWN0LmNhbGwodGhpcyxhKX0sQ0tFRElUT1IuZG9tLmNvbW1lbnQucHJvdG90eXBlPW5ldyBDS0VESVRPUi5kb20ubm9kZSxDS0VESVRPUi50b29scy5leHRlbmQoQ0tFRElUT1IuZG9tLmNvbW1lbnQucHJvdG90eXBlLHt0eXBlOkNLRURJVE9SLk5PREVfQ09NTUVOVCxnZXRPdXRlckh0bWw6ZnVuY3Rpb24oKXtyZXR1cm5cIlxceDNjIS0tXCIrXG50aGlzLiQubm9kZVZhbHVlK1wiLS1cXHgzZVwifX0pLFwidXNlIHN0cmljdFwiLGZ1bmN0aW9uKCl7dmFyIGE9e30sZj17fSxiO2ZvcihiIGluIENLRURJVE9SLmR0ZC4kYmxvY2tMaW1pdCliIGluIENLRURJVE9SLmR0ZC4kbGlzdHx8KGFbYl09MSk7Zm9yKGIgaW4gQ0tFRElUT1IuZHRkLiRibG9jayliIGluIENLRURJVE9SLmR0ZC4kYmxvY2tMaW1pdHx8YiBpbiBDS0VESVRPUi5kdGQuJGVtcHR5fHwoZltiXT0xKTtDS0VESVRPUi5kb20uZWxlbWVudFBhdGg9ZnVuY3Rpb24oYixlKXt2YXIgbT1udWxsLGw9bnVsbCxkPVtdLGg9YixrO2U9ZXx8Yi5nZXREb2N1bWVudCgpLmdldEJvZHkoKTtkbyBpZihoLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCl7ZC5wdXNoKGgpO2lmKCF0aGlzLmxhc3RFbGVtZW50JiYodGhpcy5sYXN0RWxlbWVudD1oLGguaXMoQ0tFRElUT1IuZHRkLiRvYmplY3QpfHxcImZhbHNlXCI9PWguZ2V0QXR0cmlidXRlKFwiY29udGVudGVkaXRhYmxlXCIpKSljb250aW51ZTtcbmlmKGguZXF1YWxzKGUpKWJyZWFrO2lmKCFsJiYoaz1oLmdldE5hbWUoKSxcInRydWVcIj09aC5nZXRBdHRyaWJ1dGUoXCJjb250ZW50ZWRpdGFibGVcIik/bD1oOiFtJiZmW2tdJiYobT1oKSxhW2tdKSl7aWYoaz0hbSYmXCJkaXZcIj09ayl7YTp7az1oLmdldENoaWxkcmVuKCk7Zm9yKHZhciBnPTAsbj1rLmNvdW50KCk7ZzxuO2crKyl7dmFyIHE9ay5nZXRJdGVtKGcpO2lmKHEudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZDS0VESVRPUi5kdGQuJGJsb2NrW3EuZ2V0TmFtZSgpXSl7az0hMDticmVhayBhfX1rPSExfWs9IWt9az9tPWg6bD1ofX13aGlsZShoPWguZ2V0UGFyZW50KCkpO2x8fChsPWUpO3RoaXMuYmxvY2s9bTt0aGlzLmJsb2NrTGltaXQ9bDt0aGlzLnJvb3Q9ZTt0aGlzLmVsZW1lbnRzPWR9fSgpLENLRURJVE9SLmRvbS5lbGVtZW50UGF0aC5wcm90b3R5cGU9e2NvbXBhcmU6ZnVuY3Rpb24oYSl7dmFyIGY9dGhpcy5lbGVtZW50czthPWEmJmEuZWxlbWVudHM7aWYoIWF8fFxuZi5sZW5ndGghPWEubGVuZ3RoKXJldHVybiExO2Zvcih2YXIgYj0wO2I8Zi5sZW5ndGg7YisrKWlmKCFmW2JdLmVxdWFscyhhW2JdKSlyZXR1cm4hMTtyZXR1cm4hMH0sY29udGFpbnM6ZnVuY3Rpb24oYSxmLGIpe3ZhciBjO1wic3RyaW5nXCI9PXR5cGVvZiBhJiYoYz1mdW5jdGlvbihiKXtyZXR1cm4gYi5nZXROYW1lKCk9PWF9KTthIGluc3RhbmNlb2YgQ0tFRElUT1IuZG9tLmVsZW1lbnQ/Yz1mdW5jdGlvbihiKXtyZXR1cm4gYi5lcXVhbHMoYSl9OkNLRURJVE9SLnRvb2xzLmlzQXJyYXkoYSk/Yz1mdW5jdGlvbihiKXtyZXR1cm4tMTxDS0VESVRPUi50b29scy5pbmRleE9mKGEsYi5nZXROYW1lKCkpfTpcImZ1bmN0aW9uXCI9PXR5cGVvZiBhP2M9YTpcIm9iamVjdFwiPT10eXBlb2YgYSYmKGM9ZnVuY3Rpb24oYil7cmV0dXJuIGIuZ2V0TmFtZSgpaW4gYX0pO3ZhciBlPXRoaXMuZWxlbWVudHMsbT1lLmxlbmd0aDtmJiZtLS07YiYmKGU9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZSwwKSxcbmUucmV2ZXJzZSgpKTtmb3IoZj0wO2Y8bTtmKyspaWYoYyhlW2ZdKSlyZXR1cm4gZVtmXTtyZXR1cm4gbnVsbH0saXNDb250ZXh0Rm9yOmZ1bmN0aW9uKGEpe3ZhciBmO3JldHVybiBhIGluIENLRURJVE9SLmR0ZC4kYmxvY2s/KGY9dGhpcy5jb250YWlucyhDS0VESVRPUi5kdGQuJGludGVybWVkaWF0ZSl8fHRoaXMucm9vdC5lcXVhbHModGhpcy5ibG9jaykmJnRoaXMuYmxvY2t8fHRoaXMuYmxvY2tMaW1pdCwhIWYuZ2V0RHRkKClbYV0pOiEwfSxkaXJlY3Rpb246ZnVuY3Rpb24oKXtyZXR1cm4odGhpcy5ibG9ja3x8dGhpcy5ibG9ja0xpbWl0fHx0aGlzLnJvb3QpLmdldERpcmVjdGlvbigxKX19LENLRURJVE9SLmRvbS50ZXh0PWZ1bmN0aW9uKGEsZil7XCJzdHJpbmdcIj09dHlwZW9mIGEmJihhPShmP2YuJDpkb2N1bWVudCkuY3JlYXRlVGV4dE5vZGUoYSkpO3RoaXMuJD1hfSxDS0VESVRPUi5kb20udGV4dC5wcm90b3R5cGU9bmV3IENLRURJVE9SLmRvbS5ub2RlLENLRURJVE9SLnRvb2xzLmV4dGVuZChDS0VESVRPUi5kb20udGV4dC5wcm90b3R5cGUsXG57dHlwZTpDS0VESVRPUi5OT0RFX1RFWFQsZ2V0TGVuZ3RoOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJC5ub2RlVmFsdWUubGVuZ3RofSxnZXRUZXh0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJC5ub2RlVmFsdWV9LHNldFRleHQ6ZnVuY3Rpb24oYSl7dGhpcy4kLm5vZGVWYWx1ZT1hfSxzcGxpdDpmdW5jdGlvbihhKXt2YXIgZj10aGlzLiQucGFyZW50Tm9kZSxiPWYuY2hpbGROb2Rlcy5sZW5ndGgsYz10aGlzLmdldExlbmd0aCgpLGU9dGhpcy5nZXREb2N1bWVudCgpLG09bmV3IENLRURJVE9SLmRvbS50ZXh0KHRoaXMuJC5zcGxpdFRleHQoYSksZSk7Zi5jaGlsZE5vZGVzLmxlbmd0aD09YiYmKGE+PWM/KG09ZS5jcmVhdGVUZXh0KFwiXCIpLG0uaW5zZXJ0QWZ0ZXIodGhpcykpOihhPWUuY3JlYXRlVGV4dChcIlwiKSxhLmluc2VydEFmdGVyKG0pLGEucmVtb3ZlKCkpKTtyZXR1cm4gbX0sc3Vic3RyaW5nOmZ1bmN0aW9uKGEsZil7cmV0dXJuXCJudW1iZXJcIiE9dHlwZW9mIGY/dGhpcy4kLm5vZGVWYWx1ZS5zdWJzdHIoYSk6XG50aGlzLiQubm9kZVZhbHVlLnN1YnN0cmluZyhhLGYpfX0pLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhLGMsZSl7dmFyIGY9YS5zZXJpYWxpemFibGUsbD1jW2U/XCJlbmRDb250YWluZXJcIjpcInN0YXJ0Q29udGFpbmVyXCJdLGQ9ZT9cImVuZE9mZnNldFwiOlwic3RhcnRPZmZzZXRcIixoPWY/Yy5kb2N1bWVudC5nZXRCeUlkKGEuc3RhcnROb2RlKTphLnN0YXJ0Tm9kZTthPWY/Yy5kb2N1bWVudC5nZXRCeUlkKGEuZW5kTm9kZSk6YS5lbmROb2RlO2wuZXF1YWxzKGguZ2V0UHJldmlvdXMoKSk/KGMuc3RhcnRPZmZzZXQ9Yy5zdGFydE9mZnNldC1sLmdldExlbmd0aCgpLWEuZ2V0UHJldmlvdXMoKS5nZXRMZW5ndGgoKSxsPWEuZ2V0TmV4dCgpKTpsLmVxdWFscyhhLmdldFByZXZpb3VzKCkpJiYoYy5zdGFydE9mZnNldC09bC5nZXRMZW5ndGgoKSxsPWEuZ2V0TmV4dCgpKTtsLmVxdWFscyhoLmdldFBhcmVudCgpKSYmY1tkXSsrO2wuZXF1YWxzKGEuZ2V0UGFyZW50KCkpJiZjW2RdKys7Y1tlP1wiZW5kQ29udGFpbmVyXCI6XG5cInN0YXJ0Q29udGFpbmVyXCJdPWw7cmV0dXJuIGN9Q0tFRElUT1IuZG9tLnJhbmdlTGlzdD1mdW5jdGlvbihhKXtpZihhIGluc3RhbmNlb2YgQ0tFRElUT1IuZG9tLnJhbmdlTGlzdClyZXR1cm4gYTthP2EgaW5zdGFuY2VvZiBDS0VESVRPUi5kb20ucmFuZ2UmJihhPVthXSk6YT1bXTtyZXR1cm4gQ0tFRElUT1IudG9vbHMuZXh0ZW5kKGEsZil9O3ZhciBmPXtjcmVhdGVJdGVyYXRvcjpmdW5jdGlvbigpe3ZhciBhPXRoaXMsYz1DS0VESVRPUi5kb20ud2Fsa2VyLmJvb2ttYXJrKCksZT1bXSxmO3JldHVybntnZXROZXh0UmFuZ2U6ZnVuY3Rpb24obCl7Zj12b2lkIDA9PT1mPzA6ZisxO3ZhciBkPWFbZl07aWYoZCYmMTxhLmxlbmd0aCl7aWYoIWYpZm9yKHZhciBoPWEubGVuZ3RoLTE7MDw9aDtoLS0pZS51bnNoaWZ0KGFbaF0uY3JlYXRlQm9va21hcmsoITApKTtpZihsKWZvcih2YXIgaz0wO2FbZitrKzFdOyl7dmFyIGc9ZC5kb2N1bWVudDtsPTA7aD1nLmdldEJ5SWQoZVtrXS5lbmROb2RlKTtcbmZvcihnPWcuZ2V0QnlJZChlW2srMV0uc3RhcnROb2RlKTs7KXtoPWguZ2V0TmV4dFNvdXJjZU5vZGUoITEpO2lmKGcuZXF1YWxzKGgpKWw9MTtlbHNlIGlmKGMoaCl8fGgudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZoLmlzQmxvY2tCb3VuZGFyeSgpKWNvbnRpbnVlO2JyZWFrfWlmKCFsKWJyZWFrO2srK31mb3IoZC5tb3ZlVG9Cb29rbWFyayhlLnNoaWZ0KCkpO2stLTspaD1hWysrZl0saC5tb3ZlVG9Cb29rbWFyayhlLnNoaWZ0KCkpLGQuc2V0RW5kKGguZW5kQ29udGFpbmVyLGguZW5kT2Zmc2V0KX1yZXR1cm4gZH19fSxjcmVhdGVCb29rbWFya3M6ZnVuY3Rpb24oYil7Zm9yKHZhciBjPVtdLGUsZj0wO2Y8dGhpcy5sZW5ndGg7ZisrKXtjLnB1c2goZT10aGlzW2ZdLmNyZWF0ZUJvb2ttYXJrKGIsITApKTtmb3IodmFyIGw9ZisxO2w8dGhpcy5sZW5ndGg7bCsrKXRoaXNbbF09YShlLHRoaXNbbF0pLHRoaXNbbF09YShlLHRoaXNbbF0sITApfXJldHVybiBjfSxjcmVhdGVCb29rbWFya3MyOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYz1cbltdLGU9MDtlPHRoaXMubGVuZ3RoO2UrKyljLnB1c2godGhpc1tlXS5jcmVhdGVCb29rbWFyazIoYSkpO3JldHVybiBjfSxtb3ZlVG9Cb29rbWFya3M6ZnVuY3Rpb24oYSl7Zm9yKHZhciBjPTA7Yzx0aGlzLmxlbmd0aDtjKyspdGhpc1tjXS5tb3ZlVG9Cb29rbWFyayhhW2NdKX19fSgpLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYSgpe3JldHVybiBDS0VESVRPUi5nZXRVcmwoQ0tFRElUT1Iuc2tpbk5hbWUuc3BsaXQoXCIsXCIpWzFdfHxcInNraW5zL1wiK0NLRURJVE9SLnNraW5OYW1lLnNwbGl0KFwiLFwiKVswXStcIi9cIil9ZnVuY3Rpb24gZihiKXt2YXIgYz1DS0VESVRPUi5za2luW1widWFfXCIrYl0sZD1DS0VESVRPUi5lbnY7aWYoYylmb3IodmFyIGM9Yy5zcGxpdChcIixcIikuc29ydChmdW5jdGlvbihhLGIpe3JldHVybiBhPmI/LTE6MX0pLGU9MCxmO2U8Yy5sZW5ndGg7ZSsrKWlmKGY9Y1tlXSxkLmllJiYoZi5yZXBsYWNlKC9eaWUvLFwiXCIpPT1kLnZlcnNpb258fGQucXVpcmtzJiZcImllcXVpcmtzXCI9PVxuZikmJihmPVwiaWVcIiksZFtmXSl7Yis9XCJfXCIrY1tlXTticmVha31yZXR1cm4gQ0tFRElUT1IuZ2V0VXJsKGEoKStiK1wiLmNzc1wiKX1mdW5jdGlvbiBiKGEsYil7bVthXXx8KENLRURJVE9SLmRvY3VtZW50LmFwcGVuZFN0eWxlU2hlZXQoZihhKSksbVthXT0xKTtiJiZiKCl9ZnVuY3Rpb24gYyhhKXt2YXIgYj1hLmdldEJ5SWQobCk7Ynx8KGI9YS5nZXRIZWFkKCkuYXBwZW5kKFwic3R5bGVcIiksYi5zZXRBdHRyaWJ1dGUoXCJpZFwiLGwpLGIuc2V0QXR0cmlidXRlKFwidHlwZVwiLFwidGV4dC9jc3NcIikpO3JldHVybiBifWZ1bmN0aW9uIGUoYSxiLGMpe3ZhciBkLGUsZjtpZihDS0VESVRPUi5lbnYud2Via2l0KWZvcihiPWIuc3BsaXQoXCJ9XCIpLnNsaWNlKDAsLTEpLGU9MDtlPGIubGVuZ3RoO2UrKyliW2VdPWJbZV0uc3BsaXQoXCJ7XCIpO2Zvcih2YXIgaD0wO2g8YS5sZW5ndGg7aCsrKWlmKENLRURJVE9SLmVudi53ZWJraXQpZm9yKGU9MDtlPGIubGVuZ3RoO2UrKyl7Zj1iW2VdWzFdO2ZvcihkPTA7ZDxcbmMubGVuZ3RoO2QrKylmPWYucmVwbGFjZShjW2RdWzBdLGNbZF1bMV0pO2FbaF0uJC5zaGVldC5hZGRSdWxlKGJbZV1bMF0sZil9ZWxzZXtmPWI7Zm9yKGQ9MDtkPGMubGVuZ3RoO2QrKylmPWYucmVwbGFjZShjW2RdWzBdLGNbZF1bMV0pO0NLRURJVE9SLmVudi5pZSYmMTE+Q0tFRElUT1IuZW52LnZlcnNpb24/YVtoXS4kLnN0eWxlU2hlZXQuY3NzVGV4dCs9ZjphW2hdLiQuaW5uZXJIVE1MKz1mfX12YXIgbT17fTtDS0VESVRPUi5za2luPXtwYXRoOmEsbG9hZFBhcnQ6ZnVuY3Rpb24oYyxkKXtDS0VESVRPUi5za2luLm5hbWUhPUNLRURJVE9SLnNraW5OYW1lLnNwbGl0KFwiLFwiKVswXT9DS0VESVRPUi5zY3JpcHRMb2FkZXIubG9hZChDS0VESVRPUi5nZXRVcmwoYSgpK1wic2tpbi5qc1wiKSxmdW5jdGlvbigpe2IoYyxkKX0pOmIoYyxkKX0sZ2V0UGF0aDpmdW5jdGlvbihhKXtyZXR1cm4gQ0tFRElUT1IuZ2V0VXJsKGYoYSkpfSxpY29uczp7fSxhZGRJY29uOmZ1bmN0aW9uKGEsYixjLGQpe2E9XG5hLnRvTG93ZXJDYXNlKCk7dGhpcy5pY29uc1thXXx8KHRoaXMuaWNvbnNbYV09e3BhdGg6YixvZmZzZXQ6Y3x8MCxiZ3NpemU6ZHx8XCIxNnB4XCJ9KX0sZ2V0SWNvblN0eWxlOmZ1bmN0aW9uKGEsYixjLGQsZSl7dmFyIGY7YSYmKGE9YS50b0xvd2VyQ2FzZSgpLGImJihmPXRoaXMuaWNvbnNbYStcIi1ydGxcIl0pLGZ8fChmPXRoaXMuaWNvbnNbYV0pKTthPWN8fGYmJmYucGF0aHx8XCJcIjtkPWR8fGYmJmYub2Zmc2V0O2U9ZXx8ZiYmZi5iZ3NpemV8fFwiMTZweFwiO2EmJihhPWEucmVwbGFjZSgvJy9nLFwiXFxcXCdcIikpO3JldHVybiBhJiZcImJhY2tncm91bmQtaW1hZ2U6dXJsKCdcIitDS0VESVRPUi5nZXRVcmwoYSkrXCInKTtiYWNrZ3JvdW5kLXBvc2l0aW9uOjAgXCIrZCtcInB4O2JhY2tncm91bmQtc2l6ZTpcIitlK1wiO1wifX07Q0tFRElUT1IudG9vbHMuZXh0ZW5kKENLRURJVE9SLmVkaXRvci5wcm90b3R5cGUse2dldFVpQ29sb3I6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy51aUNvbG9yfSxzZXRVaUNvbG9yOmZ1bmN0aW9uKGEpe3ZhciBiPVxuYyhDS0VESVRPUi5kb2N1bWVudCk7cmV0dXJuKHRoaXMuc2V0VWlDb2xvcj1mdW5jdGlvbihhKXt0aGlzLnVpQ29sb3I9YTt2YXIgYz1DS0VESVRPUi5za2luLmNoYW1lbGVvbixmPVwiXCIsaz1cIlwiO1wiZnVuY3Rpb25cIj09dHlwZW9mIGMmJihmPWModGhpcyxcImVkaXRvclwiKSxrPWModGhpcyxcInBhbmVsXCIpKTthPVtbaCxhXV07ZShbYl0sZixhKTtlKGQsayxhKX0pLmNhbGwodGhpcyxhKX19KTt2YXIgbD1cImNrZV91aV9jb2xvclwiLGQ9W10saD0vXFwkY29sb3IvZztDS0VESVRPUi5vbihcImluc3RhbmNlTG9hZGVkXCIsZnVuY3Rpb24oYSl7aWYoIUNLRURJVE9SLmVudi5pZXx8IUNLRURJVE9SLmVudi5xdWlya3Mpe3ZhciBiPWEuZWRpdG9yO2E9ZnVuY3Rpb24oYSl7YT0oYS5kYXRhWzBdfHxhLmRhdGEpLmVsZW1lbnQuZ2V0RWxlbWVudHNCeVRhZyhcImlmcmFtZVwiKS5nZXRJdGVtKDApLmdldEZyYW1lRG9jdW1lbnQoKTtpZighYS5nZXRCeUlkKFwiY2tlX3VpX2NvbG9yXCIpKXthPWMoYSk7ZC5wdXNoKGEpO1xudmFyIGY9Yi5nZXRVaUNvbG9yKCk7ZiYmZShbYV0sQ0tFRElUT1Iuc2tpbi5jaGFtZWxlb24oYixcInBhbmVsXCIpLFtbaCxmXV0pfX07Yi5vbihcInBhbmVsU2hvd1wiLGEpO2Iub24oXCJtZW51U2hvd1wiLGEpO2IuY29uZmlnLnVpQ29sb3ImJmIuc2V0VWlDb2xvcihiLmNvbmZpZy51aUNvbG9yKX19KX0oKSxmdW5jdGlvbigpe2lmKENLRURJVE9SLmVudi53ZWJraXQpQ0tFRElUT1IuZW52LmhjPSExO2Vsc2V7dmFyIGE9Q0tFRElUT1IuZG9tLmVsZW1lbnQuY3JlYXRlRnJvbUh0bWwoJ1xceDNjZGl2IHN0eWxlXFx4M2RcIndpZHRoOjA7aGVpZ2h0OjA7cG9zaXRpb246YWJzb2x1dGU7bGVmdDotMTAwMDBweDtib3JkZXI6MXB4IHNvbGlkO2JvcmRlci1jb2xvcjpyZWQgYmx1ZVwiXFx4M2VcXHgzYy9kaXZcXHgzZScsQ0tFRElUT1IuZG9jdW1lbnQpO2EuYXBwZW5kVG8oQ0tFRElUT1IuZG9jdW1lbnQuZ2V0SGVhZCgpKTt0cnl7dmFyIGY9YS5nZXRDb21wdXRlZFN0eWxlKFwiYm9yZGVyLXRvcC1jb2xvclwiKSxcbmI9YS5nZXRDb21wdXRlZFN0eWxlKFwiYm9yZGVyLXJpZ2h0LWNvbG9yXCIpO0NLRURJVE9SLmVudi5oYz0hKCFmfHxmIT1iKX1jYXRjaChjKXtDS0VESVRPUi5lbnYuaGM9ITF9YS5yZW1vdmUoKX1DS0VESVRPUi5lbnYuaGMmJihDS0VESVRPUi5lbnYuY3NzQ2xhc3MrPVwiIGNrZV9oY1wiKTtDS0VESVRPUi5kb2N1bWVudC5hcHBlbmRTdHlsZVRleHQoXCIuY2tle3Zpc2liaWxpdHk6aGlkZGVuO31cIik7Q0tFRElUT1Iuc3RhdHVzPVwibG9hZGVkXCI7Q0tFRElUT1IuZmlyZU9uY2UoXCJsb2FkZWRcIik7aWYoYT1DS0VESVRPUi5fLnBlbmRpbmcpZm9yKGRlbGV0ZSBDS0VESVRPUi5fLnBlbmRpbmcsZj0wO2Y8YS5sZW5ndGg7ZisrKUNLRURJVE9SLmVkaXRvci5wcm90b3R5cGUuY29uc3RydWN0b3IuYXBwbHkoYVtmXVswXSxhW2ZdWzFdKSxDS0VESVRPUi5hZGQoYVtmXVswXSl9KCksQ0tFRElUT1Iuc2tpbi5uYW1lPVwibW9vbm8tbGlzYVwiLENLRURJVE9SLnNraW4udWFfZWRpdG9yPVwiaWUsaWVxdWlya3MsaWU4LGdlY2tvXCIsXG5DS0VESVRPUi5za2luLnVhX2RpYWxvZz1cImllLGllcXVpcmtzLGllOFwiLENLRURJVE9SLnNraW4uY2hhbWVsZW9uPWZ1bmN0aW9uKCl7dmFyIGE9ZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oYSxjKXtmb3IodmFyIGU9YS5tYXRjaCgvW14jXS4vZyksZj0wOzM+ZjtmKyspe3ZhciBsPWYsZDtkPXBhcnNlSW50KGVbZl0sMTYpO2Q9KFwiMFwiKygwPmM/MHxkKigxK2MpOjB8ZCsoMjU1LWQpKmMpLnRvU3RyaW5nKDE2KSkuc2xpY2UoLTIpO2VbbF09ZH1yZXR1cm5cIiNcIitlLmpvaW4oXCJcIil9fSgpLGY9e2VkaXRvcjpuZXcgQ0tFRElUT1IudGVtcGxhdGUoXCJ7aWR9LmNrZV9jaHJvbWUgW2JvcmRlci1jb2xvcjp7ZGVmYXVsdEJvcmRlcn07XSB7aWR9IC5ja2VfdG9wIFsgYmFja2dyb3VuZC1jb2xvcjp7ZGVmYXVsdEJhY2tncm91bmR9O2JvcmRlci1ib3R0b20tY29sb3I6e2RlZmF1bHRCb3JkZXJ9O10ge2lkfSAuY2tlX2JvdHRvbSBbYmFja2dyb3VuZC1jb2xvcjp7ZGVmYXVsdEJhY2tncm91bmR9O2JvcmRlci10b3AtY29sb3I6e2RlZmF1bHRCb3JkZXJ9O10ge2lkfSAuY2tlX3Jlc2l6ZXIgW2JvcmRlci1yaWdodC1jb2xvcjp7Y2tlUmVzaXplcn1dIHtpZH0gLmNrZV9kaWFsb2dfdGl0bGUgW2JhY2tncm91bmQtY29sb3I6e2RlZmF1bHRCYWNrZ3JvdW5kfTtib3JkZXItYm90dG9tLWNvbG9yOntkZWZhdWx0Qm9yZGVyfTtdIHtpZH0gLmNrZV9kaWFsb2dfZm9vdGVyIFtiYWNrZ3JvdW5kLWNvbG9yOntkZWZhdWx0QmFja2dyb3VuZH07b3V0bGluZS1jb2xvcjp7ZGVmYXVsdEJvcmRlcn07XSB7aWR9IC5ja2VfZGlhbG9nX3RhYiBbYmFja2dyb3VuZC1jb2xvcjp7ZGlhbG9nVGFifTtib3JkZXItY29sb3I6e2RlZmF1bHRCb3JkZXJ9O10ge2lkfSAuY2tlX2RpYWxvZ190YWI6aG92ZXIgW2JhY2tncm91bmQtY29sb3I6e2xpZ2h0QmFja2dyb3VuZH07XSB7aWR9IC5ja2VfZGlhbG9nX2NvbnRlbnRzIFtib3JkZXItdG9wLWNvbG9yOntkZWZhdWx0Qm9yZGVyfTtdIHtpZH0gLmNrZV9kaWFsb2dfdGFiX3NlbGVjdGVkLCB7aWR9IC5ja2VfZGlhbG9nX3RhYl9zZWxlY3RlZDpob3ZlciBbYmFja2dyb3VuZDp7ZGlhbG9nVGFiU2VsZWN0ZWR9O2JvcmRlci1ib3R0b20tY29sb3I6e2RpYWxvZ1RhYlNlbGVjdGVkQm9yZGVyfTtdIHtpZH0gLmNrZV9kaWFsb2dfYm9keSBbYmFja2dyb3VuZDp7ZGlhbG9nQm9keX07Ym9yZGVyLWNvbG9yOntkZWZhdWx0Qm9yZGVyfTtdIHtpZH0gYS5ja2VfYnV0dG9uX29mZjpob3Zlcix7aWR9IGEuY2tlX2J1dHRvbl9vZmY6Zm9jdXMse2lkfSBhLmNrZV9idXR0b25fb2ZmOmFjdGl2ZSBbYmFja2dyb3VuZC1jb2xvcjp7ZGFya0JhY2tncm91bmR9O2JvcmRlci1jb2xvcjp7dG9vbGJhckVsZW1lbnRzQm9yZGVyfTtdIHtpZH0gLmNrZV9idXR0b25fb24gW2JhY2tncm91bmQtY29sb3I6e2NrZUJ1dHRvbk9ufTtib3JkZXItY29sb3I6e3Rvb2xiYXJFbGVtZW50c0JvcmRlcn07XSB7aWR9IC5ja2VfdG9vbGJhcl9zZXBhcmF0b3Ise2lkfSAuY2tlX3Rvb2xncm91cCBhLmNrZV9idXR0b246bGFzdC1jaGlsZDphZnRlcix7aWR9IC5ja2VfdG9vbGdyb3VwIGEuY2tlX2J1dHRvbi5ja2VfYnV0dG9uX2Rpc2FibGVkOmhvdmVyOmxhc3QtY2hpbGQ6YWZ0ZXIgW2JhY2tncm91bmQtY29sb3I6IHt0b29sYmFyRWxlbWVudHNCb3JkZXJ9O2JvcmRlci1jb2xvcjoge3Rvb2xiYXJFbGVtZW50c0JvcmRlcn07XSB7aWR9IGEuY2tlX2NvbWJvX2J1dHRvbjpob3Zlcix7aWR9IGEuY2tlX2NvbWJvX2J1dHRvbjpmb2N1cyx7aWR9IC5ja2VfY29tYm9fb24gYS5ja2VfY29tYm9fYnV0dG9uIFtib3JkZXItY29sb3I6e3Rvb2xiYXJFbGVtZW50c0JvcmRlcn07YmFja2dyb3VuZC1jb2xvcjp7ZGFya0JhY2tncm91bmR9O10ge2lkfSAuY2tlX2NvbWJvOmFmdGVyIFtib3JkZXItY29sb3I6e3Rvb2xiYXJFbGVtZW50c0JvcmRlcn07XSB7aWR9IC5ja2VfcGF0aF9pdGVtIFtjb2xvcjp7ZWxlbWVudHNQYXRoQ29sb3J9O10ge2lkfSBhLmNrZV9wYXRoX2l0ZW06aG92ZXIse2lkfSBhLmNrZV9wYXRoX2l0ZW06Zm9jdXMse2lkfSBhLmNrZV9wYXRoX2l0ZW06YWN0aXZlIFtiYWNrZ3JvdW5kLWNvbG9yOntkYXJrQmFja2dyb3VuZH07XSB7aWR9LmNrZV9wYW5lbCBbYm9yZGVyLWNvbG9yOntkZWZhdWx0Qm9yZGVyfTtdIFwiKSxcbnBhbmVsOm5ldyBDS0VESVRPUi50ZW1wbGF0ZShcIi5ja2VfcGFuZWxfZ3JvdXB0aXRsZSBbYmFja2dyb3VuZC1jb2xvcjp7bGlnaHRCYWNrZ3JvdW5kfTtib3JkZXItY29sb3I6e2RlZmF1bHRCb3JkZXJ9O10gLmNrZV9tZW51YnV0dG9uX2ljb24gW2JhY2tncm91bmQtY29sb3I6e21lbnVidXR0b25JY29ufTtdIC5ja2VfbWVudWJ1dHRvbjpob3ZlciwuY2tlX21lbnVidXR0b246Zm9jdXMsLmNrZV9tZW51YnV0dG9uOmFjdGl2ZSBbYmFja2dyb3VuZC1jb2xvcjp7bWVudWJ1dHRvbkhvdmVyfTtdIC5ja2VfbWVudWJ1dHRvbjpob3ZlciAuY2tlX21lbnVidXR0b25faWNvbiwgLmNrZV9tZW51YnV0dG9uOmZvY3VzIC5ja2VfbWVudWJ1dHRvbl9pY29uLCAuY2tlX21lbnVidXR0b246YWN0aXZlIC5ja2VfbWVudWJ1dHRvbl9pY29uIFtiYWNrZ3JvdW5kLWNvbG9yOnttZW51YnV0dG9uSWNvbkhvdmVyfTtdIC5ja2VfbWVudWJ1dHRvbl9kaXNhYmxlZDpob3ZlciAuY2tlX21lbnVidXR0b25faWNvbiwuY2tlX21lbnVidXR0b25fZGlzYWJsZWQ6Zm9jdXMgLmNrZV9tZW51YnV0dG9uX2ljb24sLmNrZV9tZW51YnV0dG9uX2Rpc2FibGVkOmFjdGl2ZSAuY2tlX21lbnVidXR0b25faWNvbiBbYmFja2dyb3VuZC1jb2xvcjp7bWVudWJ1dHRvbkljb259O10gLmNrZV9tZW51c2VwYXJhdG9yIFtiYWNrZ3JvdW5kLWNvbG9yOnttZW51YnV0dG9uSWNvbn07XSBhOmhvdmVyLmNrZV9jb2xvcmJveCwgYTphY3RpdmUuY2tlX2NvbG9yYm94IFtib3JkZXItY29sb3I6e2RlZmF1bHRCb3JkZXJ9O10gYTpob3Zlci5ja2VfY29sb3JhdXRvLCBhOmhvdmVyLmNrZV9jb2xvcm1vcmUsIGE6YWN0aXZlLmNrZV9jb2xvcmF1dG8sIGE6YWN0aXZlLmNrZV9jb2xvcm1vcmUgW2JhY2tncm91bmQtY29sb3I6e2NrZUNvbG9yYXV0b307Ym9yZGVyLWNvbG9yOntkZWZhdWx0Qm9yZGVyfTtdIFwiKX07XG5yZXR1cm4gZnVuY3Rpb24oYixjKXt2YXIgZT1hKGIudWlDb2xvciwuNCksZT17aWQ6XCIuXCIrYi5pZCxkZWZhdWx0Qm9yZGVyOmEoZSwtLjIpLHRvb2xiYXJFbGVtZW50c0JvcmRlcjphKGUsLS4yNSksZGVmYXVsdEJhY2tncm91bmQ6ZSxsaWdodEJhY2tncm91bmQ6YShlLC44KSxkYXJrQmFja2dyb3VuZDphKGUsLS4xNSksY2tlQnV0dG9uT246YShlLC40KSxja2VSZXNpemVyOmEoZSwtLjQpLGNrZUNvbG9yYXV0bzphKGUsLjgpLGRpYWxvZ0JvZHk6YShlLC43KSxkaWFsb2dUYWI6YShlLC42NSksZGlhbG9nVGFiU2VsZWN0ZWQ6XCIjRkZGXCIsZGlhbG9nVGFiU2VsZWN0ZWRCb3JkZXI6XCIjRkZGXCIsZWxlbWVudHNQYXRoQ29sb3I6YShlLC0uNiksbWVudWJ1dHRvbkhvdmVyOmEoZSwuMSksbWVudWJ1dHRvbkljb246YShlLC41KSxtZW51YnV0dG9uSWNvbkhvdmVyOmEoZSwuMyl9O3JldHVybiBmW2NdLm91dHB1dChlKS5yZXBsYWNlKC9cXFsvZyxcIntcIikucmVwbGFjZSgvXFxdL2csXCJ9XCIpfX0oKSxcbkNLRURJVE9SLnBsdWdpbnMuYWRkKFwiZGlhbG9ndWlcIix7b25Mb2FkOmZ1bmN0aW9uKCl7dmFyIGE9ZnVuY3Rpb24oYSl7dGhpcy5ffHwodGhpcy5fPXt9KTt0aGlzLl9bXCJkZWZhdWx0XCJdPXRoaXMuXy5pbml0VmFsdWU9YVtcImRlZmF1bHRcIl18fFwiXCI7dGhpcy5fLnJlcXVpcmVkPWEucmVxdWlyZWR8fCExO2Zvcih2YXIgYj1bdGhpcy5fXSxjPTE7Yzxhcmd1bWVudHMubGVuZ3RoO2MrKyliLnB1c2goYXJndW1lbnRzW2NdKTtiLnB1c2goITApO0NLRURJVE9SLnRvb2xzLmV4dGVuZC5hcHBseShDS0VESVRPUi50b29scyxiKTtyZXR1cm4gdGhpcy5ffSxmPXtidWlsZDpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIG5ldyBDS0VESVRPUi51aS5kaWFsb2cudGV4dElucHV0KGEsYixjKX19LGI9e2J1aWxkOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gbmV3IENLRURJVE9SLnVpLmRpYWxvZ1tiLnR5cGVdKGEsYixjKX19LGM9e2lzQ2hhbmdlZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFZhbHVlKCkhPVxudGhpcy5nZXRJbml0VmFsdWUoKX0scmVzZXQ6ZnVuY3Rpb24oYSl7dGhpcy5zZXRWYWx1ZSh0aGlzLmdldEluaXRWYWx1ZSgpLGEpfSxzZXRJbml0VmFsdWU6ZnVuY3Rpb24oKXt0aGlzLl8uaW5pdFZhbHVlPXRoaXMuZ2V0VmFsdWUoKX0scmVzZXRJbml0VmFsdWU6ZnVuY3Rpb24oKXt0aGlzLl8uaW5pdFZhbHVlPXRoaXMuX1tcImRlZmF1bHRcIl19LGdldEluaXRWYWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl8uaW5pdFZhbHVlfX0sZT1DS0VESVRPUi50b29scy5leHRlbmQoe30sQ0tFRElUT1IudWkuZGlhbG9nLnVpRWxlbWVudC5wcm90b3R5cGUuZXZlbnRQcm9jZXNzb3JzLHtvbkNoYW5nZTpmdW5jdGlvbihhLGIpe3RoaXMuXy5kb21PbkNoYW5nZVJlZ2lzdGVyZWR8fChhLm9uKFwibG9hZFwiLGZ1bmN0aW9uKCl7dGhpcy5nZXRJbnB1dEVsZW1lbnQoKS5vbihcImNoYW5nZVwiLGZ1bmN0aW9uKCl7YS5wYXJ0cy5kaWFsb2cuaXNWaXNpYmxlKCkmJnRoaXMuZmlyZShcImNoYW5nZVwiLHt2YWx1ZTp0aGlzLmdldFZhbHVlKCl9KX0sXG50aGlzKX0sdGhpcyksdGhpcy5fLmRvbU9uQ2hhbmdlUmVnaXN0ZXJlZD0hMCk7dGhpcy5vbihcImNoYW5nZVwiLGIpfX0sITApLG09L15vbihbQS1aXVxcdyspLyxsPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYiBpbiBhKShtLnRlc3QoYil8fFwidGl0bGVcIj09Ynx8XCJ0eXBlXCI9PWIpJiZkZWxldGUgYVtiXTtyZXR1cm4gYX0sZD1mdW5jdGlvbihhKXthPWEuZGF0YS5nZXRLZXlzdHJva2UoKTthPT1DS0VESVRPUi5TSElGVCtDS0VESVRPUi5BTFQrMzY/dGhpcy5zZXREaXJlY3Rpb25NYXJrZXIoXCJsdHJcIik6YT09Q0tFRElUT1IuU0hJRlQrQ0tFRElUT1IuQUxUKzM1JiZ0aGlzLnNldERpcmVjdGlvbk1hcmtlcihcInJ0bFwiKX07Q0tFRElUT1IudG9vbHMuZXh0ZW5kKENLRURJVE9SLnVpLmRpYWxvZyx7bGFiZWxlZEVsZW1lbnQ6ZnVuY3Rpb24oYixjLGQsZSl7aWYoISg0PmFyZ3VtZW50cy5sZW5ndGgpKXt2YXIgZj1hLmNhbGwodGhpcyxjKTtmLmxhYmVsSWQ9Q0tFRElUT1IudG9vbHMuZ2V0TmV4dElkKCkrXG5cIl9sYWJlbFwiO3RoaXMuXy5jaGlsZHJlbj1bXTt2YXIgbD17cm9sZTpjLnJvbGV8fFwicHJlc2VudGF0aW9uXCJ9O2MuaW5jbHVkZUxhYmVsJiYobFtcImFyaWEtbGFiZWxsZWRieVwiXT1mLmxhYmVsSWQpO0NLRURJVE9SLnVpLmRpYWxvZy51aUVsZW1lbnQuY2FsbCh0aGlzLGIsYyxkLFwiZGl2XCIsbnVsbCxsLGZ1bmN0aW9uKCl7dmFyIGE9W10sZD1jLnJlcXVpcmVkP1wiIGNrZV9yZXF1aXJlZFwiOlwiXCI7XCJob3Jpem9udGFsXCIhPWMubGFiZWxMYXlvdXQ/YS5wdXNoKCdcXHgzY2xhYmVsIGNsYXNzXFx4M2RcImNrZV9kaWFsb2dfdWlfbGFiZWxlZF9sYWJlbCcrZCsnXCIgJywnIGlkXFx4M2RcIicrZi5sYWJlbElkKydcIicsZi5pbnB1dElkPycgZm9yXFx4M2RcIicrZi5pbnB1dElkKydcIic6XCJcIiwoYy5sYWJlbFN0eWxlPycgc3R5bGVcXHgzZFwiJytjLmxhYmVsU3R5bGUrJ1wiJzpcIlwiKStcIlxceDNlXCIsYy5sYWJlbCxcIlxceDNjL2xhYmVsXFx4M2VcIiwnXFx4M2NkaXYgY2xhc3NcXHgzZFwiY2tlX2RpYWxvZ191aV9sYWJlbGVkX2NvbnRlbnRcIicsXG5jLmNvbnRyb2xTdHlsZT8nIHN0eWxlXFx4M2RcIicrYy5jb250cm9sU3R5bGUrJ1wiJzpcIlwiLCcgcm9sZVxceDNkXCJwcmVzZW50YXRpb25cIlxceDNlJyxlLmNhbGwodGhpcyxiLGMpLFwiXFx4M2MvZGl2XFx4M2VcIik6KGQ9e3R5cGU6XCJoYm94XCIsd2lkdGhzOmMud2lkdGhzLHBhZGRpbmc6MCxjaGlsZHJlbjpbe3R5cGU6XCJodG1sXCIsaHRtbDonXFx4M2NsYWJlbCBjbGFzc1xceDNkXCJja2VfZGlhbG9nX3VpX2xhYmVsZWRfbGFiZWwnK2QrJ1wiIGlkXFx4M2RcIicrZi5sYWJlbElkKydcIiBmb3JcXHgzZFwiJytmLmlucHV0SWQrJ1wiJysoYy5sYWJlbFN0eWxlPycgc3R5bGVcXHgzZFwiJytjLmxhYmVsU3R5bGUrJ1wiJzpcIlwiKStcIlxceDNlXCIrQ0tFRElUT1IudG9vbHMuaHRtbEVuY29kZShjLmxhYmVsKStcIlxceDNjL2xhYmVsXFx4M2VcIn0se3R5cGU6XCJodG1sXCIsaHRtbDonXFx4M2NzcGFuIGNsYXNzXFx4M2RcImNrZV9kaWFsb2dfdWlfbGFiZWxlZF9jb250ZW50XCInKyhjLmNvbnRyb2xTdHlsZT8nIHN0eWxlXFx4M2RcIicrYy5jb250cm9sU3R5bGUrXG4nXCInOlwiXCIpK1wiXFx4M2VcIitlLmNhbGwodGhpcyxiLGMpK1wiXFx4M2Mvc3BhblxceDNlXCJ9XX0sQ0tFRElUT1IuZGlhbG9nLl8udWlFbGVtZW50QnVpbGRlcnMuaGJveC5idWlsZChiLGQsYSkpO3JldHVybiBhLmpvaW4oXCJcIil9KX19LHRleHRJbnB1dDpmdW5jdGlvbihiLGMsZSl7aWYoISgzPmFyZ3VtZW50cy5sZW5ndGgpKXthLmNhbGwodGhpcyxjKTt2YXIgZj10aGlzLl8uaW5wdXRJZD1DS0VESVRPUi50b29scy5nZXROZXh0SWQoKStcIl90ZXh0SW5wdXRcIixsPXtcImNsYXNzXCI6XCJja2VfZGlhbG9nX3VpX2lucHV0X1wiK2MudHlwZSxpZDpmLHR5cGU6Yy50eXBlfTtjLnZhbGlkYXRlJiYodGhpcy52YWxpZGF0ZT1jLnZhbGlkYXRlKTtjLm1heExlbmd0aCYmKGwubWF4bGVuZ3RoPWMubWF4TGVuZ3RoKTtjLnNpemUmJihsLnNpemU9Yy5zaXplKTtjLmlucHV0U3R5bGUmJihsLnN0eWxlPWMuaW5wdXRTdHlsZSk7dmFyIG09dGhpcyx0PSExO2Iub24oXCJsb2FkXCIsZnVuY3Rpb24oKXttLmdldElucHV0RWxlbWVudCgpLm9uKFwia2V5ZG93blwiLFxuZnVuY3Rpb24oYSl7MTM9PWEuZGF0YS5nZXRLZXlzdHJva2UoKSYmKHQ9ITApfSk7bS5nZXRJbnB1dEVsZW1lbnQoKS5vbihcImtleXVwXCIsZnVuY3Rpb24oYSl7MTM9PWEuZGF0YS5nZXRLZXlzdHJva2UoKSYmdCYmKGIuZ2V0QnV0dG9uKFwib2tcIikmJnNldFRpbWVvdXQoZnVuY3Rpb24oKXtiLmdldEJ1dHRvbihcIm9rXCIpLmNsaWNrKCl9LDApLHQ9ITEpO20uYmlkaSYmZC5jYWxsKG0sYSl9LG51bGwsbnVsbCwxRTMpfSk7Q0tFRElUT1IudWkuZGlhbG9nLmxhYmVsZWRFbGVtZW50LmNhbGwodGhpcyxiLGMsZSxmdW5jdGlvbigpe3ZhciBhPVsnXFx4M2NkaXYgY2xhc3NcXHgzZFwiY2tlX2RpYWxvZ191aV9pbnB1dF8nLGMudHlwZSwnXCIgcm9sZVxceDNkXCJwcmVzZW50YXRpb25cIiddO2Mud2lkdGgmJmEucHVzaCgnc3R5bGVcXHgzZFwid2lkdGg6JytjLndpZHRoKydcIiAnKTthLnB1c2goXCJcXHgzZVxceDNjaW5wdXQgXCIpO2xbXCJhcmlhLWxhYmVsbGVkYnlcIl09dGhpcy5fLmxhYmVsSWQ7dGhpcy5fLnJlcXVpcmVkJiZcbihsW1wiYXJpYS1yZXF1aXJlZFwiXT10aGlzLl8ucmVxdWlyZWQpO2Zvcih2YXIgYiBpbiBsKWEucHVzaChiKydcXHgzZFwiJytsW2JdKydcIiAnKTthLnB1c2goXCIgL1xceDNlXFx4M2MvZGl2XFx4M2VcIik7cmV0dXJuIGEuam9pbihcIlwiKX0pfX0sdGV4dGFyZWE6ZnVuY3Rpb24oYixjLGUpe2lmKCEoMz5hcmd1bWVudHMubGVuZ3RoKSl7YS5jYWxsKHRoaXMsYyk7dmFyIGY9dGhpcyxsPXRoaXMuXy5pbnB1dElkPUNLRURJVE9SLnRvb2xzLmdldE5leHRJZCgpK1wiX3RleHRhcmVhXCIsbT17fTtjLnZhbGlkYXRlJiYodGhpcy52YWxpZGF0ZT1jLnZhbGlkYXRlKTttLnJvd3M9Yy5yb3dzfHw1O20uY29scz1jLmNvbHN8fDIwO21bXCJjbGFzc1wiXT1cImNrZV9kaWFsb2dfdWlfaW5wdXRfdGV4dGFyZWEgXCIrKGNbXCJjbGFzc1wiXXx8XCJcIik7XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGMuaW5wdXRTdHlsZSYmKG0uc3R5bGU9Yy5pbnB1dFN0eWxlKTtjLmRpciYmKG0uZGlyPWMuZGlyKTtpZihmLmJpZGkpYi5vbihcImxvYWRcIixcbmZ1bmN0aW9uKCl7Zi5nZXRJbnB1dEVsZW1lbnQoKS5vbihcImtleXVwXCIsZCl9LGYpO0NLRURJVE9SLnVpLmRpYWxvZy5sYWJlbGVkRWxlbWVudC5jYWxsKHRoaXMsYixjLGUsZnVuY3Rpb24oKXttW1wiYXJpYS1sYWJlbGxlZGJ5XCJdPXRoaXMuXy5sYWJlbElkO3RoaXMuXy5yZXF1aXJlZCYmKG1bXCJhcmlhLXJlcXVpcmVkXCJdPXRoaXMuXy5yZXF1aXJlZCk7dmFyIGE9WydcXHgzY2RpdiBjbGFzc1xceDNkXCJja2VfZGlhbG9nX3VpX2lucHV0X3RleHRhcmVhXCIgcm9sZVxceDNkXCJwcmVzZW50YXRpb25cIlxceDNlXFx4M2N0ZXh0YXJlYSBpZFxceDNkXCInLGwsJ1wiICddLGI7Zm9yKGIgaW4gbSlhLnB1c2goYisnXFx4M2RcIicrQ0tFRElUT1IudG9vbHMuaHRtbEVuY29kZShtW2JdKSsnXCIgJyk7YS5wdXNoKFwiXFx4M2VcIixDS0VESVRPUi50b29scy5odG1sRW5jb2RlKGYuX1tcImRlZmF1bHRcIl0pLFwiXFx4M2MvdGV4dGFyZWFcXHgzZVxceDNjL2RpdlxceDNlXCIpO3JldHVybiBhLmpvaW4oXCJcIil9KX19LGNoZWNrYm94OmZ1bmN0aW9uKGIsXG5jLGQpe2lmKCEoMz5hcmd1bWVudHMubGVuZ3RoKSl7dmFyIGU9YS5jYWxsKHRoaXMsYyx7XCJkZWZhdWx0XCI6ISFjW1wiZGVmYXVsdFwiXX0pO2MudmFsaWRhdGUmJih0aGlzLnZhbGlkYXRlPWMudmFsaWRhdGUpO0NLRURJVE9SLnVpLmRpYWxvZy51aUVsZW1lbnQuY2FsbCh0aGlzLGIsYyxkLFwic3BhblwiLG51bGwsbnVsbCxmdW5jdGlvbigpe3ZhciBhPUNLRURJVE9SLnRvb2xzLmV4dGVuZCh7fSxjLHtpZDpjLmlkP2MuaWQrXCJfY2hlY2tib3hcIjpDS0VESVRPUi50b29scy5nZXROZXh0SWQoKStcIl9jaGVja2JveFwifSwhMCksZD1bXSxmPUNLRURJVE9SLnRvb2xzLmdldE5leHRJZCgpK1wiX2xhYmVsXCIsZz17XCJjbGFzc1wiOlwiY2tlX2RpYWxvZ191aV9jaGVja2JveF9pbnB1dFwiLHR5cGU6XCJjaGVja2JveFwiLFwiYXJpYS1sYWJlbGxlZGJ5XCI6Zn07bChhKTtjW1wiZGVmYXVsdFwiXSYmKGcuY2hlY2tlZD1cImNoZWNrZWRcIik7XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGEuaW5wdXRTdHlsZSYmKGEuc3R5bGU9YS5pbnB1dFN0eWxlKTtcbmUuY2hlY2tib3g9bmV3IENLRURJVE9SLnVpLmRpYWxvZy51aUVsZW1lbnQoYixhLGQsXCJpbnB1dFwiLG51bGwsZyk7ZC5wdXNoKCcgXFx4M2NsYWJlbCBpZFxceDNkXCInLGYsJ1wiIGZvclxceDNkXCInLGcuaWQsJ1wiJysoYy5sYWJlbFN0eWxlPycgc3R5bGVcXHgzZFwiJytjLmxhYmVsU3R5bGUrJ1wiJzpcIlwiKStcIlxceDNlXCIsQ0tFRElUT1IudG9vbHMuaHRtbEVuY29kZShjLmxhYmVsKSxcIlxceDNjL2xhYmVsXFx4M2VcIik7cmV0dXJuIGQuam9pbihcIlwiKX0pfX0scmFkaW86ZnVuY3Rpb24oYixjLGQpe2lmKCEoMz5hcmd1bWVudHMubGVuZ3RoKSl7YS5jYWxsKHRoaXMsYyk7dGhpcy5fW1wiZGVmYXVsdFwiXXx8KHRoaXMuX1tcImRlZmF1bHRcIl09dGhpcy5fLmluaXRWYWx1ZT1jLml0ZW1zWzBdWzFdKTtjLnZhbGlkYXRlJiYodGhpcy52YWxpZGF0ZT1jLnZhbGlkYXRlKTt2YXIgZT1bXSxmPXRoaXM7Yy5yb2xlPVwicmFkaW9ncm91cFwiO2MuaW5jbHVkZUxhYmVsPSEwO0NLRURJVE9SLnVpLmRpYWxvZy5sYWJlbGVkRWxlbWVudC5jYWxsKHRoaXMsXG5iLGMsZCxmdW5jdGlvbigpe2Zvcih2YXIgYT1bXSxkPVtdLGc9KGMuaWQ/Yy5pZDpDS0VESVRPUi50b29scy5nZXROZXh0SWQoKSkrXCJfcmFkaW9cIixtPTA7bTxjLml0ZW1zLmxlbmd0aDttKyspe3ZhciB1PWMuaXRlbXNbbV0sQj12b2lkIDAhPT11WzJdP3VbMl06dVswXSx4PXZvaWQgMCE9PXVbMV0/dVsxXTp1WzBdLHc9Q0tFRElUT1IudG9vbHMuZ2V0TmV4dElkKCkrXCJfcmFkaW9faW5wdXRcIix6PXcrXCJfbGFiZWxcIix3PUNLRURJVE9SLnRvb2xzLmV4dGVuZCh7fSxjLHtpZDp3LHRpdGxlOm51bGwsdHlwZTpudWxsfSwhMCksQj1DS0VESVRPUi50b29scy5leHRlbmQoe30sdyx7dGl0bGU6Qn0sITApLEQ9e3R5cGU6XCJyYWRpb1wiLFwiY2xhc3NcIjpcImNrZV9kaWFsb2dfdWlfcmFkaW9faW5wdXRcIixuYW1lOmcsdmFsdWU6eCxcImFyaWEtbGFiZWxsZWRieVwiOnp9LHk9W107Zi5fW1wiZGVmYXVsdFwiXT09eCYmKEQuY2hlY2tlZD1cImNoZWNrZWRcIik7bCh3KTtsKEIpO1widW5kZWZpbmVkXCIhPXR5cGVvZiB3LmlucHV0U3R5bGUmJlxuKHcuc3R5bGU9dy5pbnB1dFN0eWxlKTt3LmtleWJvYXJkRm9jdXNhYmxlPSEwO2UucHVzaChuZXcgQ0tFRElUT1IudWkuZGlhbG9nLnVpRWxlbWVudChiLHcseSxcImlucHV0XCIsbnVsbCxEKSk7eS5wdXNoKFwiIFwiKTtuZXcgQ0tFRElUT1IudWkuZGlhbG9nLnVpRWxlbWVudChiLEIseSxcImxhYmVsXCIsbnVsbCx7aWQ6eixcImZvclwiOkQuaWR9LHVbMF0pO2EucHVzaCh5LmpvaW4oXCJcIikpfW5ldyBDS0VESVRPUi51aS5kaWFsb2cuaGJveChiLGUsYSxkKTtyZXR1cm4gZC5qb2luKFwiXCIpfSk7dGhpcy5fLmNoaWxkcmVuPWV9fSxidXR0b246ZnVuY3Rpb24oYixjLGQpe2lmKGFyZ3VtZW50cy5sZW5ndGgpe1wiZnVuY3Rpb25cIj09dHlwZW9mIGMmJihjPWMoYi5nZXRQYXJlbnRFZGl0b3IoKSkpO2EuY2FsbCh0aGlzLGMse2Rpc2FibGVkOmMuZGlzYWJsZWR8fCExfSk7Q0tFRElUT1IuZXZlbnQuaW1wbGVtZW50T24odGhpcyk7dmFyIGU9dGhpcztiLm9uKFwibG9hZFwiLGZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5nZXRFbGVtZW50KCk7XG4oZnVuY3Rpb24oKXthLm9uKFwiY2xpY2tcIixmdW5jdGlvbihhKXtlLmNsaWNrKCk7YS5kYXRhLnByZXZlbnREZWZhdWx0KCl9KTthLm9uKFwia2V5ZG93blwiLGZ1bmN0aW9uKGEpe2EuZGF0YS5nZXRLZXlzdHJva2UoKWluezMyOjF9JiYoZS5jbGljaygpLGEuZGF0YS5wcmV2ZW50RGVmYXVsdCgpKX0pfSkoKTthLnVuc2VsZWN0YWJsZSgpfSx0aGlzKTt2YXIgZj1DS0VESVRPUi50b29scy5leHRlbmQoe30sYyk7ZGVsZXRlIGYuc3R5bGU7dmFyIGw9Q0tFRElUT1IudG9vbHMuZ2V0TmV4dElkKCkrXCJfbGFiZWxcIjtDS0VESVRPUi51aS5kaWFsb2cudWlFbGVtZW50LmNhbGwodGhpcyxiLGYsZCxcImFcIixudWxsLHtzdHlsZTpjLnN0eWxlLGhyZWY6XCJqYXZhc2NyaXB0OnZvaWQoMClcIix0aXRsZTpjLmxhYmVsLGhpZGVmb2N1czpcInRydWVcIixcImNsYXNzXCI6Y1tcImNsYXNzXCJdLHJvbGU6XCJidXR0b25cIixcImFyaWEtbGFiZWxsZWRieVwiOmx9LCdcXHgzY3NwYW4gaWRcXHgzZFwiJytsKydcIiBjbGFzc1xceDNkXCJja2VfZGlhbG9nX3VpX2J1dHRvblwiXFx4M2UnK1xuQ0tFRElUT1IudG9vbHMuaHRtbEVuY29kZShjLmxhYmVsKStcIlxceDNjL3NwYW5cXHgzZVwiKX19LHNlbGVjdDpmdW5jdGlvbihiLGMsZCl7aWYoISgzPmFyZ3VtZW50cy5sZW5ndGgpKXt2YXIgZT1hLmNhbGwodGhpcyxjKTtjLnZhbGlkYXRlJiYodGhpcy52YWxpZGF0ZT1jLnZhbGlkYXRlKTtlLmlucHV0SWQ9Q0tFRElUT1IudG9vbHMuZ2V0TmV4dElkKCkrXCJfc2VsZWN0XCI7Q0tFRElUT1IudWkuZGlhbG9nLmxhYmVsZWRFbGVtZW50LmNhbGwodGhpcyxiLGMsZCxmdW5jdGlvbigpe3ZhciBhPUNLRURJVE9SLnRvb2xzLmV4dGVuZCh7fSxjLHtpZDpjLmlkP2MuaWQrXCJfc2VsZWN0XCI6Q0tFRElUT1IudG9vbHMuZ2V0TmV4dElkKCkrXCJfc2VsZWN0XCJ9LCEwKSxkPVtdLGY9W10sZz17aWQ6ZS5pbnB1dElkLFwiY2xhc3NcIjpcImNrZV9kaWFsb2dfdWlfaW5wdXRfc2VsZWN0XCIsXCJhcmlhLWxhYmVsbGVkYnlcIjp0aGlzLl8ubGFiZWxJZH07ZC5wdXNoKCdcXHgzY2RpdiBjbGFzc1xceDNkXCJja2VfZGlhbG9nX3VpX2lucHV0XycsXG5jLnR5cGUsJ1wiIHJvbGVcXHgzZFwicHJlc2VudGF0aW9uXCInKTtjLndpZHRoJiZkLnB1c2goJ3N0eWxlXFx4M2RcIndpZHRoOicrYy53aWR0aCsnXCIgJyk7ZC5wdXNoKFwiXFx4M2VcIik7dm9pZCAwIT09Yy5zaXplJiYoZy5zaXplPWMuc2l6ZSk7dm9pZCAwIT09Yy5tdWx0aXBsZSYmKGcubXVsdGlwbGU9Yy5tdWx0aXBsZSk7bChhKTtmb3IodmFyIG09MCx1O208Yy5pdGVtcy5sZW5ndGgmJih1PWMuaXRlbXNbbV0pO20rKylmLnB1c2goJ1xceDNjb3B0aW9uIHZhbHVlXFx4M2RcIicsQ0tFRElUT1IudG9vbHMuaHRtbEVuY29kZSh2b2lkIDAhPT11WzFdP3VbMV06dVswXSkucmVwbGFjZSgvXCIvZyxcIlxceDI2cXVvdDtcIiksJ1wiIC9cXHgzZSAnLENLRURJVE9SLnRvb2xzLmh0bWxFbmNvZGUodVswXSkpO1widW5kZWZpbmVkXCIhPXR5cGVvZiBhLmlucHV0U3R5bGUmJihhLnN0eWxlPWEuaW5wdXRTdHlsZSk7ZS5zZWxlY3Q9bmV3IENLRURJVE9SLnVpLmRpYWxvZy51aUVsZW1lbnQoYixhLGQsXCJzZWxlY3RcIixudWxsLFxuZyxmLmpvaW4oXCJcIikpO2QucHVzaChcIlxceDNjL2RpdlxceDNlXCIpO3JldHVybiBkLmpvaW4oXCJcIil9KX19LGZpbGU6ZnVuY3Rpb24oYixjLGQpe2lmKCEoMz5hcmd1bWVudHMubGVuZ3RoKSl7dm9pZCAwPT09Y1tcImRlZmF1bHRcIl0mJihjW1wiZGVmYXVsdFwiXT1cIlwiKTt2YXIgZT1DS0VESVRPUi50b29scy5leHRlbmQoYS5jYWxsKHRoaXMsYykse2RlZmluaXRpb246YyxidXR0b25zOltdfSk7Yy52YWxpZGF0ZSYmKHRoaXMudmFsaWRhdGU9Yy52YWxpZGF0ZSk7Yi5vbihcImxvYWRcIixmdW5jdGlvbigpe0NLRURJVE9SLmRvY3VtZW50LmdldEJ5SWQoZS5mcmFtZUlkKS5nZXRQYXJlbnQoKS5hZGRDbGFzcyhcImNrZV9kaWFsb2dfdWlfaW5wdXRfZmlsZVwiKX0pO0NLRURJVE9SLnVpLmRpYWxvZy5sYWJlbGVkRWxlbWVudC5jYWxsKHRoaXMsYixjLGQsZnVuY3Rpb24oKXtlLmZyYW1lSWQ9Q0tFRElUT1IudG9vbHMuZ2V0TmV4dElkKCkrXCJfZmlsZUlucHV0XCI7dmFyIGE9WydcXHgzY2lmcmFtZSBmcmFtZWJvcmRlclxceDNkXCIwXCIgYWxsb3d0cmFuc3BhcmVuY3lcXHgzZFwiMFwiIGNsYXNzXFx4M2RcImNrZV9kaWFsb2dfdWlfaW5wdXRfZmlsZVwiIHJvbGVcXHgzZFwicHJlc2VudGF0aW9uXCIgaWRcXHgzZFwiJyxcbmUuZnJhbWVJZCwnXCIgdGl0bGVcXHgzZFwiJyxjLmxhYmVsLCdcIiBzcmNcXHgzZFwiamF2YXNjcmlwdDp2b2lkKCddO2EucHVzaChDS0VESVRPUi5lbnYuaWU/XCIoZnVuY3Rpb24oKXtcIitlbmNvZGVVUklDb21wb25lbnQoXCJkb2N1bWVudC5vcGVuKCk7KFwiK0NLRURJVE9SLnRvb2xzLmZpeERvbWFpbitcIikoKTtkb2N1bWVudC5jbG9zZSgpO1wiKStcIn0pKClcIjpcIjBcIik7YS5wdXNoKCcpXCJcXHgzZVxceDNjL2lmcmFtZVxceDNlJyk7cmV0dXJuIGEuam9pbihcIlwiKX0pfX0sZmlsZUJ1dHRvbjpmdW5jdGlvbihiLGMsZCl7dmFyIGU9dGhpcztpZighKDM+YXJndW1lbnRzLmxlbmd0aCkpe2EuY2FsbCh0aGlzLGMpO2MudmFsaWRhdGUmJih0aGlzLnZhbGlkYXRlPWMudmFsaWRhdGUpO3ZhciBmPUNLRURJVE9SLnRvb2xzLmV4dGVuZCh7fSxjKSxsPWYub25DbGljaztmLmNsYXNzTmFtZT0oZi5jbGFzc05hbWU/Zi5jbGFzc05hbWUrXCIgXCI6XCJcIikrXCJja2VfZGlhbG9nX3VpX2J1dHRvblwiO2Yub25DbGljaz1mdW5jdGlvbihhKXt2YXIgZD1cbmNbXCJmb3JcIl07bCYmITE9PT1sLmNhbGwodGhpcyxhKXx8KGIuZ2V0Q29udGVudEVsZW1lbnQoZFswXSxkWzFdKS5zdWJtaXQoKSx0aGlzLmRpc2FibGUoKSl9O2Iub24oXCJsb2FkXCIsZnVuY3Rpb24oKXtiLmdldENvbnRlbnRFbGVtZW50KGNbXCJmb3JcIl1bMF0sY1tcImZvclwiXVsxXSkuXy5idXR0b25zLnB1c2goZSl9KTtDS0VESVRPUi51aS5kaWFsb2cuYnV0dG9uLmNhbGwodGhpcyxiLGYsZCl9fSxodG1sOmZ1bmN0aW9uKCl7dmFyIGE9L15cXHMqPFtcXHc6XStcXHMrKFtePl0qKT8+LyxiPS9eKFxccyo8W1xcdzpdKyg/OlxccytbXj5dKik/KSgoPzoufFxccnxcXG4pKykkLyxjPS9cXC8kLztyZXR1cm4gZnVuY3Rpb24oZCxlLGYpe2lmKCEoMz5hcmd1bWVudHMubGVuZ3RoKSl7dmFyIGw9W10sbT1lLmh0bWw7XCJcXHgzY1wiIT1tLmNoYXJBdCgwKSYmKG09XCJcXHgzY3NwYW5cXHgzZVwiK20rXCJcXHgzYy9zcGFuXFx4M2VcIik7dmFyIHI9ZS5mb2N1cztpZihyKXt2YXIgdT10aGlzLmZvY3VzO3RoaXMuZm9jdXM9ZnVuY3Rpb24oKXsoXCJmdW5jdGlvblwiPT1cbnR5cGVvZiByP3I6dSkuY2FsbCh0aGlzKTt0aGlzLmZpcmUoXCJmb2N1c1wiKX07ZS5pc0ZvY3VzYWJsZSYmKHRoaXMuaXNGb2N1c2FibGU9dGhpcy5pc0ZvY3VzYWJsZSk7dGhpcy5rZXlib2FyZEZvY3VzYWJsZT0hMH1DS0VESVRPUi51aS5kaWFsb2cudWlFbGVtZW50LmNhbGwodGhpcyxkLGUsbCxcInNwYW5cIixudWxsLG51bGwsXCJcIik7bD1sLmpvaW4oXCJcIikubWF0Y2goYSk7bT1tLm1hdGNoKGIpfHxbXCJcIixcIlwiLFwiXCJdO2MudGVzdChtWzFdKSYmKG1bMV09bVsxXS5zbGljZSgwLC0xKSxtWzJdPVwiL1wiK21bMl0pO2YucHVzaChbbVsxXSxcIiBcIixsWzFdfHxcIlwiLG1bMl1dLmpvaW4oXCJcIikpfX19KCksZmllbGRzZXQ6ZnVuY3Rpb24oYSxiLGMsZCxlKXt2YXIgZj1lLmxhYmVsO3RoaXMuXz17Y2hpbGRyZW46Yn07Q0tFRElUT1IudWkuZGlhbG9nLnVpRWxlbWVudC5jYWxsKHRoaXMsYSxlLGQsXCJmaWVsZHNldFwiLG51bGwsbnVsbCxmdW5jdGlvbigpe3ZhciBhPVtdO2YmJmEucHVzaChcIlxceDNjbGVnZW5kXCIrXG4oZS5sYWJlbFN0eWxlPycgc3R5bGVcXHgzZFwiJytlLmxhYmVsU3R5bGUrJ1wiJzpcIlwiKStcIlxceDNlXCIrZitcIlxceDNjL2xlZ2VuZFxceDNlXCIpO2Zvcih2YXIgYj0wO2I8Yy5sZW5ndGg7YisrKWEucHVzaChjW2JdKTtyZXR1cm4gYS5qb2luKFwiXCIpfSl9fSwhMCk7Q0tFRElUT1IudWkuZGlhbG9nLmh0bWwucHJvdG90eXBlPW5ldyBDS0VESVRPUi51aS5kaWFsb2cudWlFbGVtZW50O0NLRURJVE9SLnVpLmRpYWxvZy5sYWJlbGVkRWxlbWVudC5wcm90b3R5cGU9Q0tFRElUT1IudG9vbHMuZXh0ZW5kKG5ldyBDS0VESVRPUi51aS5kaWFsb2cudWlFbGVtZW50LHtzZXRMYWJlbDpmdW5jdGlvbihhKXt2YXIgYj1DS0VESVRPUi5kb2N1bWVudC5nZXRCeUlkKHRoaXMuXy5sYWJlbElkKTsxPmIuZ2V0Q2hpbGRDb3VudCgpPyhuZXcgQ0tFRElUT1IuZG9tLnRleHQoYSxDS0VESVRPUi5kb2N1bWVudCkpLmFwcGVuZFRvKGIpOmIuZ2V0Q2hpbGQoMCkuJC5ub2RlVmFsdWU9YTtyZXR1cm4gdGhpc30sZ2V0TGFiZWw6ZnVuY3Rpb24oKXt2YXIgYT1cbkNLRURJVE9SLmRvY3VtZW50LmdldEJ5SWQodGhpcy5fLmxhYmVsSWQpO3JldHVybiFhfHwxPmEuZ2V0Q2hpbGRDb3VudCgpP1wiXCI6YS5nZXRDaGlsZCgwKS5nZXRUZXh0KCl9LGV2ZW50UHJvY2Vzc29yczplfSwhMCk7Q0tFRElUT1IudWkuZGlhbG9nLmJ1dHRvbi5wcm90b3R5cGU9Q0tFRElUT1IudG9vbHMuZXh0ZW5kKG5ldyBDS0VESVRPUi51aS5kaWFsb2cudWlFbGVtZW50LHtjbGljazpmdW5jdGlvbigpe3JldHVybiB0aGlzLl8uZGlzYWJsZWQ/ITE6dGhpcy5maXJlKFwiY2xpY2tcIix7ZGlhbG9nOnRoaXMuXy5kaWFsb2d9KX0sZW5hYmxlOmZ1bmN0aW9uKCl7dGhpcy5fLmRpc2FibGVkPSExO3ZhciBhPXRoaXMuZ2V0RWxlbWVudCgpO2EmJmEucmVtb3ZlQ2xhc3MoXCJja2VfZGlzYWJsZWRcIil9LGRpc2FibGU6ZnVuY3Rpb24oKXt0aGlzLl8uZGlzYWJsZWQ9ITA7dGhpcy5nZXRFbGVtZW50KCkuYWRkQ2xhc3MoXCJja2VfZGlzYWJsZWRcIil9LGlzVmlzaWJsZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdldEVsZW1lbnQoKS5nZXRGaXJzdCgpLmlzVmlzaWJsZSgpfSxcbmlzRW5hYmxlZDpmdW5jdGlvbigpe3JldHVybiF0aGlzLl8uZGlzYWJsZWR9LGV2ZW50UHJvY2Vzc29yczpDS0VESVRPUi50b29scy5leHRlbmQoe30sQ0tFRElUT1IudWkuZGlhbG9nLnVpRWxlbWVudC5wcm90b3R5cGUuZXZlbnRQcm9jZXNzb3JzLHtvbkNsaWNrOmZ1bmN0aW9uKGEsYil7dGhpcy5vbihcImNsaWNrXCIsZnVuY3Rpb24oKXtiLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pfX0sITApLGFjY2Vzc0tleVVwOmZ1bmN0aW9uKCl7dGhpcy5jbGljaygpfSxhY2Nlc3NLZXlEb3duOmZ1bmN0aW9uKCl7dGhpcy5mb2N1cygpfSxrZXlib2FyZEZvY3VzYWJsZTohMH0sITApO0NLRURJVE9SLnVpLmRpYWxvZy50ZXh0SW5wdXQucHJvdG90eXBlPUNLRURJVE9SLnRvb2xzLmV4dGVuZChuZXcgQ0tFRElUT1IudWkuZGlhbG9nLmxhYmVsZWRFbGVtZW50LHtnZXRJbnB1dEVsZW1lbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gQ0tFRElUT1IuZG9jdW1lbnQuZ2V0QnlJZCh0aGlzLl8uaW5wdXRJZCl9LFxuZm9jdXM6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnNlbGVjdFBhcmVudFRhYigpO3NldFRpbWVvdXQoZnVuY3Rpb24oKXt2YXIgYj1hLmdldElucHV0RWxlbWVudCgpO2ImJmIuJC5mb2N1cygpfSwwKX0sc2VsZWN0OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5zZWxlY3RQYXJlbnRUYWIoKTtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dmFyIGI9YS5nZXRJbnB1dEVsZW1lbnQoKTtiJiYoYi4kLmZvY3VzKCksYi4kLnNlbGVjdCgpKX0sMCl9LGFjY2Vzc0tleVVwOmZ1bmN0aW9uKCl7dGhpcy5zZWxlY3QoKX0sc2V0VmFsdWU6ZnVuY3Rpb24oYSl7aWYodGhpcy5iaWRpKXt2YXIgYj1hJiZhLmNoYXJBdCgwKTsoYj1cIuKAqlwiPT1iP1wibHRyXCI6XCLigKtcIj09Yj9cInJ0bFwiOm51bGwpJiYoYT1hLnNsaWNlKDEpKTt0aGlzLnNldERpcmVjdGlvbk1hcmtlcihiKX1hfHwoYT1cIlwiKTtyZXR1cm4gQ0tFRElUT1IudWkuZGlhbG9nLnVpRWxlbWVudC5wcm90b3R5cGUuc2V0VmFsdWUuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxcbmdldFZhbHVlOmZ1bmN0aW9uKCl7dmFyIGE9Q0tFRElUT1IudWkuZGlhbG9nLnVpRWxlbWVudC5wcm90b3R5cGUuZ2V0VmFsdWUuY2FsbCh0aGlzKTtpZih0aGlzLmJpZGkmJmEpe3ZhciBiPXRoaXMuZ2V0RGlyZWN0aW9uTWFya2VyKCk7YiYmKGE9KFwibHRyXCI9PWI/XCLigKpcIjpcIuKAq1wiKSthKX1yZXR1cm4gYX0sc2V0RGlyZWN0aW9uTWFya2VyOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuZ2V0SW5wdXRFbGVtZW50KCk7YT9iLnNldEF0dHJpYnV0ZXMoe2RpcjphLFwiZGF0YS1ja2UtZGlyLW1hcmtlclwiOmF9KTp0aGlzLmdldERpcmVjdGlvbk1hcmtlcigpJiZiLnJlbW92ZUF0dHJpYnV0ZXMoW1wiZGlyXCIsXCJkYXRhLWNrZS1kaXItbWFya2VyXCJdKX0sZ2V0RGlyZWN0aW9uTWFya2VyOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0SW5wdXRFbGVtZW50KCkuZGF0YShcImNrZS1kaXItbWFya2VyXCIpfSxrZXlib2FyZEZvY3VzYWJsZTohMH0sYywhMCk7Q0tFRElUT1IudWkuZGlhbG9nLnRleHRhcmVhLnByb3RvdHlwZT1cbm5ldyBDS0VESVRPUi51aS5kaWFsb2cudGV4dElucHV0O0NLRURJVE9SLnVpLmRpYWxvZy5zZWxlY3QucHJvdG90eXBlPUNLRURJVE9SLnRvb2xzLmV4dGVuZChuZXcgQ0tFRElUT1IudWkuZGlhbG9nLmxhYmVsZWRFbGVtZW50LHtnZXRJbnB1dEVsZW1lbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fLnNlbGVjdC5nZXRFbGVtZW50KCl9LGFkZDpmdW5jdGlvbihhLGIsYyl7dmFyIGQ9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KFwib3B0aW9uXCIsdGhpcy5nZXREaWFsb2coKS5nZXRQYXJlbnRFZGl0b3IoKS5kb2N1bWVudCksZT10aGlzLmdldElucHV0RWxlbWVudCgpLiQ7ZC4kLnRleHQ9YTtkLiQudmFsdWU9dm9pZCAwPT09Ynx8bnVsbD09PWI/YTpiO3ZvaWQgMD09PWN8fG51bGw9PT1jP0NLRURJVE9SLmVudi5pZT9lLmFkZChkLiQpOmUuYWRkKGQuJCxudWxsKTplLmFkZChkLiQsYyk7cmV0dXJuIHRoaXN9LHJlbW92ZTpmdW5jdGlvbihhKXt0aGlzLmdldElucHV0RWxlbWVudCgpLiQucmVtb3ZlKGEpO1xucmV0dXJuIHRoaXN9LGNsZWFyOmZ1bmN0aW9uKCl7Zm9yKHZhciBhPXRoaXMuZ2V0SW5wdXRFbGVtZW50KCkuJDswPGEubGVuZ3RoOylhLnJlbW92ZSgwKTtyZXR1cm4gdGhpc30sa2V5Ym9hcmRGb2N1c2FibGU6ITB9LGMsITApO0NLRURJVE9SLnVpLmRpYWxvZy5jaGVja2JveC5wcm90b3R5cGU9Q0tFRElUT1IudG9vbHMuZXh0ZW5kKG5ldyBDS0VESVRPUi51aS5kaWFsb2cudWlFbGVtZW50LHtnZXRJbnB1dEVsZW1lbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fLmNoZWNrYm94LmdldEVsZW1lbnQoKX0sc2V0VmFsdWU6ZnVuY3Rpb24oYSxiKXt0aGlzLmdldElucHV0RWxlbWVudCgpLiQuY2hlY2tlZD1hOyFiJiZ0aGlzLmZpcmUoXCJjaGFuZ2VcIix7dmFsdWU6YX0pfSxnZXRWYWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdldElucHV0RWxlbWVudCgpLiQuY2hlY2tlZH0sYWNjZXNzS2V5VXA6ZnVuY3Rpb24oKXt0aGlzLnNldFZhbHVlKCF0aGlzLmdldFZhbHVlKCkpfSxldmVudFByb2Nlc3NvcnM6e29uQ2hhbmdlOmZ1bmN0aW9uKGEsXG5iKXtpZighQ0tFRElUT1IuZW52LmllfHw4PENLRURJVE9SLmVudi52ZXJzaW9uKXJldHVybiBlLm9uQ2hhbmdlLmFwcGx5KHRoaXMsYXJndW1lbnRzKTthLm9uKFwibG9hZFwiLGZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5fLmNoZWNrYm94LmdldEVsZW1lbnQoKTthLm9uKFwicHJvcGVydHljaGFuZ2VcIixmdW5jdGlvbihiKXtiPWIuZGF0YS4kO1wiY2hlY2tlZFwiPT1iLnByb3BlcnR5TmFtZSYmdGhpcy5maXJlKFwiY2hhbmdlXCIse3ZhbHVlOmEuJC5jaGVja2VkfSl9LHRoaXMpfSx0aGlzKTt0aGlzLm9uKFwiY2hhbmdlXCIsYik7cmV0dXJuIG51bGx9fSxrZXlib2FyZEZvY3VzYWJsZTohMH0sYywhMCk7Q0tFRElUT1IudWkuZGlhbG9nLnJhZGlvLnByb3RvdHlwZT1DS0VESVRPUi50b29scy5leHRlbmQobmV3IENLRURJVE9SLnVpLmRpYWxvZy51aUVsZW1lbnQse3NldFZhbHVlOmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPXRoaXMuXy5jaGlsZHJlbixkLGU9MDtlPGMubGVuZ3RoJiYoZD1jW2VdKTtlKyspZC5nZXRFbGVtZW50KCkuJC5jaGVja2VkPVxuZC5nZXRWYWx1ZSgpPT1hOyFiJiZ0aGlzLmZpcmUoXCJjaGFuZ2VcIix7dmFsdWU6YX0pfSxnZXRWYWx1ZTpmdW5jdGlvbigpe2Zvcih2YXIgYT10aGlzLl8uY2hpbGRyZW4sYj0wO2I8YS5sZW5ndGg7YisrKWlmKGFbYl0uZ2V0RWxlbWVudCgpLiQuY2hlY2tlZClyZXR1cm4gYVtiXS5nZXRWYWx1ZSgpO3JldHVybiBudWxsfSxhY2Nlc3NLZXlVcDpmdW5jdGlvbigpe3ZhciBhPXRoaXMuXy5jaGlsZHJlbixiO2ZvcihiPTA7YjxhLmxlbmd0aDtiKyspaWYoYVtiXS5nZXRFbGVtZW50KCkuJC5jaGVja2VkKXthW2JdLmdldEVsZW1lbnQoKS5mb2N1cygpO3JldHVybn1hWzBdLmdldEVsZW1lbnQoKS5mb2N1cygpfSxldmVudFByb2Nlc3NvcnM6e29uQ2hhbmdlOmZ1bmN0aW9uKGEsYil7aWYoIUNLRURJVE9SLmVudi5pZXx8ODxDS0VESVRPUi5lbnYudmVyc2lvbilyZXR1cm4gZS5vbkNoYW5nZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7YS5vbihcImxvYWRcIixmdW5jdGlvbigpe2Zvcih2YXIgYT1cbnRoaXMuXy5jaGlsZHJlbixiPXRoaXMsYz0wO2M8YS5sZW5ndGg7YysrKWFbY10uZ2V0RWxlbWVudCgpLm9uKFwicHJvcGVydHljaGFuZ2VcIixmdW5jdGlvbihhKXthPWEuZGF0YS4kO1wiY2hlY2tlZFwiPT1hLnByb3BlcnR5TmFtZSYmdGhpcy4kLmNoZWNrZWQmJmIuZmlyZShcImNoYW5nZVwiLHt2YWx1ZTp0aGlzLmdldEF0dHJpYnV0ZShcInZhbHVlXCIpfSl9KX0sdGhpcyk7dGhpcy5vbihcImNoYW5nZVwiLGIpO3JldHVybiBudWxsfX19LGMsITApO0NLRURJVE9SLnVpLmRpYWxvZy5maWxlLnByb3RvdHlwZT1DS0VESVRPUi50b29scy5leHRlbmQobmV3IENLRURJVE9SLnVpLmRpYWxvZy5sYWJlbGVkRWxlbWVudCxjLHtnZXRJbnB1dEVsZW1lbnQ6ZnVuY3Rpb24oKXt2YXIgYT1DS0VESVRPUi5kb2N1bWVudC5nZXRCeUlkKHRoaXMuXy5mcmFtZUlkKS5nZXRGcmFtZURvY3VtZW50KCk7cmV0dXJuIDA8YS4kLmZvcm1zLmxlbmd0aD9uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoYS4kLmZvcm1zWzBdLmVsZW1lbnRzWzBdKTpcbnRoaXMuZ2V0RWxlbWVudCgpfSxzdWJtaXQ6ZnVuY3Rpb24oKXt0aGlzLmdldElucHV0RWxlbWVudCgpLmdldFBhcmVudCgpLiQuc3VibWl0KCk7cmV0dXJuIHRoaXN9LGdldEFjdGlvbjpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdldElucHV0RWxlbWVudCgpLmdldFBhcmVudCgpLiQuYWN0aW9ufSxyZWdpc3RlckV2ZW50czpmdW5jdGlvbihhKXt2YXIgYj0vXm9uKFtBLVpdXFx3KykvLGMsZD1mdW5jdGlvbihhLGIsYyxkKXthLm9uKFwiZm9ybUxvYWRlZFwiLGZ1bmN0aW9uKCl7YS5nZXRJbnB1dEVsZW1lbnQoKS5vbihjLGQsYSl9KX0sZTtmb3IoZSBpbiBhKWlmKGM9ZS5tYXRjaChiKSl0aGlzLmV2ZW50UHJvY2Vzc29yc1tlXT90aGlzLmV2ZW50UHJvY2Vzc29yc1tlXS5jYWxsKHRoaXMsdGhpcy5fLmRpYWxvZyxhW2VdKTpkKHRoaXMsdGhpcy5fLmRpYWxvZyxjWzFdLnRvTG93ZXJDYXNlKCksYVtlXSk7cmV0dXJuIHRoaXN9LHJlc2V0OmZ1bmN0aW9uKCl7ZnVuY3Rpb24gYSgpe2MuJC5vcGVuKCk7XG52YXIgaD1cIlwiO2Quc2l6ZSYmKGg9ZC5zaXplLShDS0VESVRPUi5lbnYuaWU/NzowKSk7dmFyIEI9Yi5mcmFtZUlkK1wiX2lucHV0XCI7Yy4kLndyaXRlKFsnXFx4M2NodG1sIGRpclxceDNkXCInK20rJ1wiIGxhbmdcXHgzZFwiJytyKydcIlxceDNlXFx4M2NoZWFkXFx4M2VcXHgzY3RpdGxlXFx4M2VcXHgzYy90aXRsZVxceDNlXFx4M2MvaGVhZFxceDNlXFx4M2Nib2R5IHN0eWxlXFx4M2RcIm1hcmdpbjogMDsgb3ZlcmZsb3c6IGhpZGRlbjsgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7XCJcXHgzZScsJ1xceDNjZm9ybSBlbmN0eXBlXFx4M2RcIm11bHRpcGFydC9mb3JtLWRhdGFcIiBtZXRob2RcXHgzZFwiUE9TVFwiIGRpclxceDNkXCInK20rJ1wiIGxhbmdcXHgzZFwiJytyKydcIiBhY3Rpb25cXHgzZFwiJyxDS0VESVRPUi50b29scy5odG1sRW5jb2RlKGQuYWN0aW9uKSwnXCJcXHgzZVxceDNjbGFiZWwgaWRcXHgzZFwiJyxiLmxhYmVsSWQsJ1wiIGZvclxceDNkXCInLEIsJ1wiIHN0eWxlXFx4M2RcImRpc3BsYXk6bm9uZVwiXFx4M2UnLENLRURJVE9SLnRvb2xzLmh0bWxFbmNvZGUoZC5sYWJlbCksXG4nXFx4M2MvbGFiZWxcXHgzZVxceDNjaW5wdXQgc3R5bGVcXHgzZFwid2lkdGg6MTAwJVwiIGlkXFx4M2RcIicsQiwnXCIgYXJpYS1sYWJlbGxlZGJ5XFx4M2RcIicsYi5sYWJlbElkLCdcIiB0eXBlXFx4M2RcImZpbGVcIiBuYW1lXFx4M2RcIicsQ0tFRElUT1IudG9vbHMuaHRtbEVuY29kZShkLmlkfHxcImNrZV91cGxvYWRcIiksJ1wiIHNpemVcXHgzZFwiJyxDS0VESVRPUi50b29scy5odG1sRW5jb2RlKDA8aD9oOlwiXCIpLCdcIiAvXFx4M2VcXHgzYy9mb3JtXFx4M2VcXHgzYy9ib2R5XFx4M2VcXHgzYy9odG1sXFx4M2VcXHgzY3NjcmlwdFxceDNlJyxDS0VESVRPUi5lbnYuaWU/XCIoXCIrQ0tFRElUT1IudG9vbHMuZml4RG9tYWluK1wiKSgpO1wiOlwiXCIsXCJ3aW5kb3cucGFyZW50LkNLRURJVE9SLnRvb2xzLmNhbGxGdW5jdGlvbihcIitmK1wiKTtcIixcIndpbmRvdy5vbmJlZm9yZXVubG9hZCBcXHgzZCBmdW5jdGlvbigpIHt3aW5kb3cucGFyZW50LkNLRURJVE9SLnRvb2xzLmNhbGxGdW5jdGlvbihcIitsK1wiKX1cIixcIlxceDNjL3NjcmlwdFxceDNlXCJdLmpvaW4oXCJcIikpO1xuYy4kLmNsb3NlKCk7Zm9yKGg9MDtoPGUubGVuZ3RoO2grKyllW2hdLmVuYWJsZSgpfXZhciBiPXRoaXMuXyxjPUNLRURJVE9SLmRvY3VtZW50LmdldEJ5SWQoYi5mcmFtZUlkKS5nZXRGcmFtZURvY3VtZW50KCksZD1iLmRlZmluaXRpb24sZT1iLmJ1dHRvbnMsZj10aGlzLmZvcm1Mb2FkZWROdW1iZXIsbD10aGlzLmZvcm1VbmxvYWROdW1iZXIsbT1iLmRpYWxvZy5fLmVkaXRvci5sYW5nLmRpcixyPWIuZGlhbG9nLl8uZWRpdG9yLmxhbmdDb2RlO2Z8fChmPXRoaXMuZm9ybUxvYWRlZE51bWJlcj1DS0VESVRPUi50b29scy5hZGRGdW5jdGlvbihmdW5jdGlvbigpe3RoaXMuZmlyZShcImZvcm1Mb2FkZWRcIil9LHRoaXMpLGw9dGhpcy5mb3JtVW5sb2FkTnVtYmVyPUNLRURJVE9SLnRvb2xzLmFkZEZ1bmN0aW9uKGZ1bmN0aW9uKCl7dGhpcy5nZXRJbnB1dEVsZW1lbnQoKS5jbGVhckN1c3RvbURhdGEoKX0sdGhpcyksdGhpcy5nZXREaWFsb2coKS5fLmVkaXRvci5vbihcImRlc3Ryb3lcIixmdW5jdGlvbigpe0NLRURJVE9SLnRvb2xzLnJlbW92ZUZ1bmN0aW9uKGYpO1xuQ0tFRElUT1IudG9vbHMucmVtb3ZlRnVuY3Rpb24obCl9KSk7Q0tFRElUT1IuZW52LmdlY2tvP3NldFRpbWVvdXQoYSw1MDApOmEoKX0sZ2V0VmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRJbnB1dEVsZW1lbnQoKS4kLnZhbHVlfHxcIlwifSxzZXRJbml0VmFsdWU6ZnVuY3Rpb24oKXt0aGlzLl8uaW5pdFZhbHVlPVwiXCJ9LGV2ZW50UHJvY2Vzc29yczp7b25DaGFuZ2U6ZnVuY3Rpb24oYSxiKXt0aGlzLl8uZG9tT25DaGFuZ2VSZWdpc3RlcmVkfHwodGhpcy5vbihcImZvcm1Mb2FkZWRcIixmdW5jdGlvbigpe3RoaXMuZ2V0SW5wdXRFbGVtZW50KCkub24oXCJjaGFuZ2VcIixmdW5jdGlvbigpe3RoaXMuZmlyZShcImNoYW5nZVwiLHt2YWx1ZTp0aGlzLmdldFZhbHVlKCl9KX0sdGhpcyl9LHRoaXMpLHRoaXMuXy5kb21PbkNoYW5nZVJlZ2lzdGVyZWQ9ITApO3RoaXMub24oXCJjaGFuZ2VcIixiKX19LGtleWJvYXJkRm9jdXNhYmxlOiEwfSwhMCk7Q0tFRElUT1IudWkuZGlhbG9nLmZpbGVCdXR0b24ucHJvdG90eXBlPVxubmV3IENLRURJVE9SLnVpLmRpYWxvZy5idXR0b247Q0tFRElUT1IudWkuZGlhbG9nLmZpZWxkc2V0LnByb3RvdHlwZT1DS0VESVRPUi50b29scy5jbG9uZShDS0VESVRPUi51aS5kaWFsb2cuaGJveC5wcm90b3R5cGUpO0NLRURJVE9SLmRpYWxvZy5hZGRVSUVsZW1lbnQoXCJ0ZXh0XCIsZik7Q0tFRElUT1IuZGlhbG9nLmFkZFVJRWxlbWVudChcInBhc3N3b3JkXCIsZik7Q0tFRElUT1IuZGlhbG9nLmFkZFVJRWxlbWVudChcInRleHRhcmVhXCIsYik7Q0tFRElUT1IuZGlhbG9nLmFkZFVJRWxlbWVudChcImNoZWNrYm94XCIsYik7Q0tFRElUT1IuZGlhbG9nLmFkZFVJRWxlbWVudChcInJhZGlvXCIsYik7Q0tFRElUT1IuZGlhbG9nLmFkZFVJRWxlbWVudChcImJ1dHRvblwiLGIpO0NLRURJVE9SLmRpYWxvZy5hZGRVSUVsZW1lbnQoXCJzZWxlY3RcIixiKTtDS0VESVRPUi5kaWFsb2cuYWRkVUlFbGVtZW50KFwiZmlsZVwiLGIpO0NLRURJVE9SLmRpYWxvZy5hZGRVSUVsZW1lbnQoXCJmaWxlQnV0dG9uXCIsYik7Q0tFRElUT1IuZGlhbG9nLmFkZFVJRWxlbWVudChcImh0bWxcIixcbmIpO0NLRURJVE9SLmRpYWxvZy5hZGRVSUVsZW1lbnQoXCJmaWVsZHNldFwiLHtidWlsZDpmdW5jdGlvbihhLGIsYyl7Zm9yKHZhciBkPWIuY2hpbGRyZW4sZSxmPVtdLGw9W10sbT0wO208ZC5sZW5ndGgmJihlPWRbbV0pO20rKyl7dmFyIHI9W107Zi5wdXNoKHIpO2wucHVzaChDS0VESVRPUi5kaWFsb2cuXy51aUVsZW1lbnRCdWlsZGVyc1tlLnR5cGVdLmJ1aWxkKGEsZSxyKSl9cmV0dXJuIG5ldyBDS0VESVRPUi51aS5kaWFsb2dbYi50eXBlXShhLGwsZixjLGIpfX0pfX0pLENLRURJVE9SLkRJQUxPR19SRVNJWkVfTk9ORT0wLENLRURJVE9SLkRJQUxPR19SRVNJWkVfV0lEVEg9MSxDS0VESVRPUi5ESUFMT0dfUkVTSVpFX0hFSUdIVD0yLENLRURJVE9SLkRJQUxPR19SRVNJWkVfQk9USD0zLENLRURJVE9SLkRJQUxPR19TVEFURV9JRExFPTEsQ0tFRElUT1IuRElBTE9HX1NUQVRFX0JVU1k9MixmdW5jdGlvbigpe2Z1bmN0aW9uIGEoKXtmb3IodmFyIGE9dGhpcy5fLnRhYklkTGlzdC5sZW5ndGgsXG5iPUNLRURJVE9SLnRvb2xzLmluZGV4T2YodGhpcy5fLnRhYklkTGlzdCx0aGlzLl8uY3VycmVudFRhYklkKSthLGM9Yi0xO2M+Yi1hO2MtLSlpZih0aGlzLl8udGFic1t0aGlzLl8udGFiSWRMaXN0W2MlYV1dWzBdLiQub2Zmc2V0SGVpZ2h0KXJldHVybiB0aGlzLl8udGFiSWRMaXN0W2MlYV07cmV0dXJuIG51bGx9ZnVuY3Rpb24gZigpe2Zvcih2YXIgYT10aGlzLl8udGFiSWRMaXN0Lmxlbmd0aCxiPUNLRURJVE9SLnRvb2xzLmluZGV4T2YodGhpcy5fLnRhYklkTGlzdCx0aGlzLl8uY3VycmVudFRhYklkKSxjPWIrMTtjPGIrYTtjKyspaWYodGhpcy5fLnRhYnNbdGhpcy5fLnRhYklkTGlzdFtjJWFdXVswXS4kLm9mZnNldEhlaWdodClyZXR1cm4gdGhpcy5fLnRhYklkTGlzdFtjJWFdO3JldHVybiBudWxsfWZ1bmN0aW9uIGIoYSxiKXtmb3IodmFyIGM9YS4kLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiaW5wdXRcIiksZD0wLGU9Yy5sZW5ndGg7ZDxlO2QrKyl7dmFyIGY9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KGNbZF0pO1xuXCJ0ZXh0XCI9PWYuZ2V0QXR0cmlidXRlKFwidHlwZVwiKS50b0xvd2VyQ2FzZSgpJiYoYj8oZi5zZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiLGYuZ2V0Q3VzdG9tRGF0YShcImZha2VfdmFsdWVcIil8fFwiXCIpLGYucmVtb3ZlQ3VzdG9tRGF0YShcImZha2VfdmFsdWVcIikpOihmLnNldEN1c3RvbURhdGEoXCJmYWtlX3ZhbHVlXCIsZi5nZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiKSksZi5zZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiLFwiXCIpKSl9fWZ1bmN0aW9uIGMoYSxiKXt2YXIgYz10aGlzLmdldElucHV0RWxlbWVudCgpO2MmJihhP2MucmVtb3ZlQXR0cmlidXRlKFwiYXJpYS1pbnZhbGlkXCIpOmMuc2V0QXR0cmlidXRlKFwiYXJpYS1pbnZhbGlkXCIsITApKTthfHwodGhpcy5zZWxlY3Q/dGhpcy5zZWxlY3QoKTp0aGlzLmZvY3VzKCkpO2ImJmFsZXJ0KGIpO3RoaXMuZmlyZShcInZhbGlkYXRlZFwiLHt2YWxpZDphLG1zZzpifSl9ZnVuY3Rpb24gZSgpe3ZhciBhPXRoaXMuZ2V0SW5wdXRFbGVtZW50KCk7YSYmYS5yZW1vdmVBdHRyaWJ1dGUoXCJhcmlhLWludmFsaWRcIil9XG5mdW5jdGlvbiBtKGEpe3ZhciBiPUNLRURJVE9SLmRvbS5lbGVtZW50LmNyZWF0ZUZyb21IdG1sKENLRURJVE9SLmFkZFRlbXBsYXRlKFwiZGlhbG9nXCIsdikub3V0cHV0KHtpZDpDS0VESVRPUi50b29scy5nZXROZXh0TnVtYmVyKCksZWRpdG9ySWQ6YS5pZCxsYW5nRGlyOmEubGFuZy5kaXIsbGFuZ0NvZGU6YS5sYW5nQ29kZSxlZGl0b3JEaWFsb2dDbGFzczpcImNrZV9lZGl0b3JfXCIrYS5uYW1lLnJlcGxhY2UoL1xcLi9nLFwiXFxcXC5cIikrXCJfZGlhbG9nXCIsY2xvc2VUaXRsZTphLmxhbmcuY29tbW9uLmNsb3NlLGhpZHBpOkNLRURJVE9SLmVudi5oaWRwaT9cImNrZV9oaWRwaVwiOlwiXCJ9KSksYz1iLmdldENoaWxkKFswLDAsMCwwLDBdKSxkPWMuZ2V0Q2hpbGQoMCksZT1jLmdldENoaWxkKDEpO2EucGx1Z2lucy5jbGlwYm9hcmQmJkNLRURJVE9SLnBsdWdpbnMuY2xpcGJvYXJkLnByZXZlbnREZWZhdWx0RHJvcE9uRWxlbWVudChjKTshQ0tFRElUT1IuZW52LmllfHxDS0VESVRPUi5lbnYucXVpcmtzfHxcbkNLRURJVE9SLmVudi5lZGdlfHwoYT1cImphdmFzY3JpcHQ6dm9pZChmdW5jdGlvbigpe1wiK2VuY29kZVVSSUNvbXBvbmVudChcImRvY3VtZW50Lm9wZW4oKTsoXCIrQ0tFRElUT1IudG9vbHMuZml4RG9tYWluK1wiKSgpO2RvY3VtZW50LmNsb3NlKCk7XCIpK1wifSgpKVwiLENLRURJVE9SLmRvbS5lbGVtZW50LmNyZWF0ZUZyb21IdG1sKCdcXHgzY2lmcmFtZSBmcmFtZUJvcmRlclxceDNkXCIwXCIgY2xhc3NcXHgzZFwiY2tlX2lmcmFtZV9zaGltXCIgc3JjXFx4M2RcIicrYSsnXCIgdGFiSW5kZXhcXHgzZFwiLTFcIlxceDNlXFx4M2MvaWZyYW1lXFx4M2UnKS5hcHBlbmRUbyhjLmdldFBhcmVudCgpKSk7ZC51bnNlbGVjdGFibGUoKTtlLnVuc2VsZWN0YWJsZSgpO3JldHVybntlbGVtZW50OmIscGFydHM6e2RpYWxvZzpiLmdldENoaWxkKDApLHRpdGxlOmQsY2xvc2U6ZSx0YWJzOmMuZ2V0Q2hpbGQoMiksY29udGVudHM6Yy5nZXRDaGlsZChbMywwLDAsMF0pLGZvb3RlcjpjLmdldENoaWxkKFszLDAsMSwwXSl9fX1mdW5jdGlvbiBsKGEsXG5iLGMpe3RoaXMuZWxlbWVudD1iO3RoaXMuZm9jdXNJbmRleD1jO3RoaXMudGFiSW5kZXg9MDt0aGlzLmlzRm9jdXNhYmxlPWZ1bmN0aW9uKCl7cmV0dXJuIWIuZ2V0QXR0cmlidXRlKFwiZGlzYWJsZWRcIikmJmIuaXNWaXNpYmxlKCl9O3RoaXMuZm9jdXM9ZnVuY3Rpb24oKXthLl8uY3VycmVudEZvY3VzSW5kZXg9dGhpcy5mb2N1c0luZGV4O3RoaXMuZWxlbWVudC5mb2N1cygpfTtiLm9uKFwia2V5ZG93blwiLGZ1bmN0aW9uKGEpe2EuZGF0YS5nZXRLZXlzdHJva2UoKWluezMyOjEsMTM6MX0mJnRoaXMuZmlyZShcImNsaWNrXCIpfSk7Yi5vbihcImZvY3VzXCIsZnVuY3Rpb24oKXt0aGlzLmZpcmUoXCJtb3VzZW92ZXJcIil9KTtiLm9uKFwiYmx1clwiLGZ1bmN0aW9uKCl7dGhpcy5maXJlKFwibW91c2VvdXRcIil9KX1mdW5jdGlvbiBkKGEpe2Z1bmN0aW9uIGIoKXthLmxheW91dCgpfXZhciBjPUNLRURJVE9SLmRvY3VtZW50LmdldFdpbmRvdygpO2Mub24oXCJyZXNpemVcIixiKTthLm9uKFwiaGlkZVwiLGZ1bmN0aW9uKCl7Yy5yZW1vdmVMaXN0ZW5lcihcInJlc2l6ZVwiLFxuYil9KX1mdW5jdGlvbiBoKGEsYil7dGhpcy5fPXtkaWFsb2c6YX07Q0tFRElUT1IudG9vbHMuZXh0ZW5kKHRoaXMsYil9ZnVuY3Rpb24gayhhKXtmdW5jdGlvbiBiKGMpe3ZhciBrPWEuZ2V0U2l6ZSgpLGw9Q0tFRElUT1IuZG9jdW1lbnQuZ2V0V2luZG93KCkuZ2V0Vmlld1BhbmVTaXplKCksbT1jLmRhdGEuJC5zY3JlZW5YLG49Yy5kYXRhLiQuc2NyZWVuWSx1PW0tZC54LHI9bi1kLnk7ZD17eDptLHk6bn07ZS54Kz11O2UueSs9cjthLm1vdmUoZS54K2hbM108Zz8taFszXTplLngtaFsxXT5sLndpZHRoLWsud2lkdGgtZz9sLndpZHRoLWsud2lkdGgrKFwicnRsXCI9PWYubGFuZy5kaXI/MDpoWzFdKTplLngsZS55K2hbMF08Zz8taFswXTplLnktaFsyXT5sLmhlaWdodC1rLmhlaWdodC1nP2wuaGVpZ2h0LWsuaGVpZ2h0K2hbMl06ZS55LDEpO2MuZGF0YS5wcmV2ZW50RGVmYXVsdCgpfWZ1bmN0aW9uIGMoKXtDS0VESVRPUi5kb2N1bWVudC5yZW1vdmVMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLFxuYik7Q0tFRElUT1IuZG9jdW1lbnQucmVtb3ZlTGlzdGVuZXIoXCJtb3VzZXVwXCIsYyk7aWYoQ0tFRElUT1IuZW52LmllNkNvbXBhdCl7dmFyIGE9eS5nZXRDaGlsZCgwKS5nZXRGcmFtZURvY3VtZW50KCk7YS5yZW1vdmVMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLGIpO2EucmVtb3ZlTGlzdGVuZXIoXCJtb3VzZXVwXCIsYyl9fXZhciBkPW51bGwsZT1udWxsLGY9YS5nZXRQYXJlbnRFZGl0b3IoKSxnPWYuY29uZmlnLmRpYWxvZ19tYWduZXREaXN0YW5jZSxoPUNLRURJVE9SLnNraW4ubWFyZ2luc3x8WzAsMCwwLDBdO1widW5kZWZpbmVkXCI9PXR5cGVvZiBnJiYoZz0yMCk7YS5wYXJ0cy50aXRsZS5vbihcIm1vdXNlZG93blwiLGZ1bmN0aW9uKGYpe2Q9e3g6Zi5kYXRhLiQuc2NyZWVuWCx5OmYuZGF0YS4kLnNjcmVlbll9O0NLRURJVE9SLmRvY3VtZW50Lm9uKFwibW91c2Vtb3ZlXCIsYik7Q0tFRElUT1IuZG9jdW1lbnQub24oXCJtb3VzZXVwXCIsYyk7ZT1hLmdldFBvc2l0aW9uKCk7aWYoQ0tFRElUT1IuZW52LmllNkNvbXBhdCl7dmFyIGc9XG55LmdldENoaWxkKDApLmdldEZyYW1lRG9jdW1lbnQoKTtnLm9uKFwibW91c2Vtb3ZlXCIsYik7Zy5vbihcIm1vdXNldXBcIixjKX1mLmRhdGEucHJldmVudERlZmF1bHQoKX0sYSl9ZnVuY3Rpb24gZyhhKXtmdW5jdGlvbiBiKGMpe3ZhciBuPVwicnRsXCI9PWYubGFuZy5kaXIsdT1tLndpZHRoLHI9bS5oZWlnaHQsdD11KyhjLmRhdGEuJC5zY3JlZW5YLWwueCkqKG4/LTE6MSkqKGEuXy5tb3ZlZD8xOjIpLHY9cisoYy5kYXRhLiQuc2NyZWVuWS1sLnkpKihhLl8ubW92ZWQ/MToyKSxCPWEuXy5lbGVtZW50LmdldEZpcnN0KCksQj1uJiZCLmdldENvbXB1dGVkU3R5bGUoXCJyaWdodFwiKSx4PWEuZ2V0UG9zaXRpb24oKTt4Lnkrdj5rLmhlaWdodCYmKHY9ay5oZWlnaHQteC55KTsobj9COngueCkrdD5rLndpZHRoJiYodD1rLndpZHRoLShuP0I6eC54KSk7aWYoZT09Q0tFRElUT1IuRElBTE9HX1JFU0laRV9XSURUSHx8ZT09Q0tFRElUT1IuRElBTE9HX1JFU0laRV9CT1RIKXU9TWF0aC5tYXgoZC5taW5XaWR0aHx8XG4wLHQtZyk7aWYoZT09Q0tFRElUT1IuRElBTE9HX1JFU0laRV9IRUlHSFR8fGU9PUNLRURJVE9SLkRJQUxPR19SRVNJWkVfQk9USClyPU1hdGgubWF4KGQubWluSGVpZ2h0fHwwLHYtaCk7YS5yZXNpemUodSxyKTthLl8ubW92ZWR8fGEubGF5b3V0KCk7Yy5kYXRhLnByZXZlbnREZWZhdWx0KCl9ZnVuY3Rpb24gYygpe0NLRURJVE9SLmRvY3VtZW50LnJlbW92ZUxpc3RlbmVyKFwibW91c2V1cFwiLGMpO0NLRURJVE9SLmRvY3VtZW50LnJlbW92ZUxpc3RlbmVyKFwibW91c2Vtb3ZlXCIsYik7biYmKG4ucmVtb3ZlKCksbj1udWxsKTtpZihDS0VESVRPUi5lbnYuaWU2Q29tcGF0KXt2YXIgYT15LmdldENoaWxkKDApLmdldEZyYW1lRG9jdW1lbnQoKTthLnJlbW92ZUxpc3RlbmVyKFwibW91c2V1cFwiLGMpO2EucmVtb3ZlTGlzdGVuZXIoXCJtb3VzZW1vdmVcIixiKX19dmFyIGQ9YS5kZWZpbml0aW9uLGU9ZC5yZXNpemFibGU7aWYoZSE9Q0tFRElUT1IuRElBTE9HX1JFU0laRV9OT05FKXt2YXIgZj1hLmdldFBhcmVudEVkaXRvcigpLFxuZyxoLGssbCxtLG4sdT1DS0VESVRPUi50b29scy5hZGRGdW5jdGlvbihmdW5jdGlvbihkKXttPWEuZ2V0U2l6ZSgpO3ZhciBlPWEucGFydHMuY29udGVudHM7ZS4kLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiaWZyYW1lXCIpLmxlbmd0aCYmKG49Q0tFRElUT1IuZG9tLmVsZW1lbnQuY3JlYXRlRnJvbUh0bWwoJ1xceDNjZGl2IGNsYXNzXFx4M2RcImNrZV9kaWFsb2dfcmVzaXplX2NvdmVyXCIgc3R5bGVcXHgzZFwiaGVpZ2h0OiAxMDAlOyBwb3NpdGlvbjogYWJzb2x1dGU7IHdpZHRoOiAxMDAlO1wiXFx4M2VcXHgzYy9kaXZcXHgzZScpLGUuYXBwZW5kKG4pKTtoPW0uaGVpZ2h0LWEucGFydHMuY29udGVudHMuZ2V0U2l6ZShcImhlaWdodFwiLCEoQ0tFRElUT1IuZW52LmdlY2tvfHxDS0VESVRPUi5lbnYuaWUmJkNLRURJVE9SLmVudi5xdWlya3MpKTtnPW0ud2lkdGgtYS5wYXJ0cy5jb250ZW50cy5nZXRTaXplKFwid2lkdGhcIiwxKTtsPXt4OmQuc2NyZWVuWCx5OmQuc2NyZWVuWX07az1DS0VESVRPUi5kb2N1bWVudC5nZXRXaW5kb3coKS5nZXRWaWV3UGFuZVNpemUoKTtcbkNLRURJVE9SLmRvY3VtZW50Lm9uKFwibW91c2Vtb3ZlXCIsYik7Q0tFRElUT1IuZG9jdW1lbnQub24oXCJtb3VzZXVwXCIsYyk7Q0tFRElUT1IuZW52LmllNkNvbXBhdCYmKGU9eS5nZXRDaGlsZCgwKS5nZXRGcmFtZURvY3VtZW50KCksZS5vbihcIm1vdXNlbW92ZVwiLGIpLGUub24oXCJtb3VzZXVwXCIsYykpO2QucHJldmVudERlZmF1bHQmJmQucHJldmVudERlZmF1bHQoKX0pO2Eub24oXCJsb2FkXCIsZnVuY3Rpb24oKXt2YXIgYj1cIlwiO2U9PUNLRURJVE9SLkRJQUxPR19SRVNJWkVfV0lEVEg/Yj1cIiBja2VfcmVzaXplcl9ob3Jpem9udGFsXCI6ZT09Q0tFRElUT1IuRElBTE9HX1JFU0laRV9IRUlHSFQmJihiPVwiIGNrZV9yZXNpemVyX3ZlcnRpY2FsXCIpO2I9Q0tFRElUT1IuZG9tLmVsZW1lbnQuY3JlYXRlRnJvbUh0bWwoJ1xceDNjZGl2IGNsYXNzXFx4M2RcImNrZV9yZXNpemVyJytiK1wiIGNrZV9yZXNpemVyX1wiK2YubGFuZy5kaXIrJ1wiIHRpdGxlXFx4M2RcIicrQ0tFRElUT1IudG9vbHMuaHRtbEVuY29kZShmLmxhbmcuY29tbW9uLnJlc2l6ZSkrXG4nXCIgb25tb3VzZWRvd25cXHgzZFwiQ0tFRElUT1IudG9vbHMuY2FsbEZ1bmN0aW9uKCcrdSsnLCBldmVudCApXCJcXHgzZScrKFwibHRyXCI9PWYubGFuZy5kaXI/XCLil6JcIjpcIuKXo1wiKStcIlxceDNjL2RpdlxceDNlXCIpO2EucGFydHMuZm9vdGVyLmFwcGVuZChiLDEpfSk7Zi5vbihcImRlc3Ryb3lcIixmdW5jdGlvbigpe0NLRURJVE9SLnRvb2xzLnJlbW92ZUZ1bmN0aW9uKHUpfSl9fWZ1bmN0aW9uIG4oYSl7YS5kYXRhLnByZXZlbnREZWZhdWx0KDEpfWZ1bmN0aW9uIHEoYSl7dmFyIGI9Q0tFRElUT1IuZG9jdW1lbnQuZ2V0V2luZG93KCksYz1hLmNvbmZpZyxkPUNLRURJVE9SLnNraW5OYW1lfHxhLmNvbmZpZy5za2luLGU9Yy5kaWFsb2dfYmFja2dyb3VuZENvdmVyQ29sb3J8fChcIm1vb25vLWxpc2FcIj09ZD9cImJsYWNrXCI6XCJ3aGl0ZVwiKSxkPWMuZGlhbG9nX2JhY2tncm91bmRDb3Zlck9wYWNpdHksZj1jLmJhc2VGbG9hdFpJbmRleCxjPUNLRURJVE9SLnRvb2xzLmdlbktleShlLGQsZiksZz1EW2NdO2c/Zy5zaG93KCk6XG4oZj1bJ1xceDNjZGl2IHRhYkluZGV4XFx4M2RcIi0xXCIgc3R5bGVcXHgzZFwicG9zaXRpb246ICcsQ0tFRElUT1IuZW52LmllNkNvbXBhdD9cImFic29sdXRlXCI6XCJmaXhlZFwiLFwiOyB6LWluZGV4OiBcIixmLFwiOyB0b3A6IDBweDsgbGVmdDogMHB4OyBcIixDS0VESVRPUi5lbnYuaWU2Q29tcGF0P1wiXCI6XCJiYWNrZ3JvdW5kLWNvbG9yOiBcIitlLCdcIiBjbGFzc1xceDNkXCJja2VfZGlhbG9nX2JhY2tncm91bmRfY292ZXJcIlxceDNlJ10sQ0tFRElUT1IuZW52LmllNkNvbXBhdCYmKGU9XCJcXHgzY2h0bWxcXHgzZVxceDNjYm9keSBzdHlsZVxceDNkXFxcXCdiYWNrZ3JvdW5kLWNvbG9yOlwiK2UrXCI7XFxcXCdcXHgzZVxceDNjL2JvZHlcXHgzZVxceDNjL2h0bWxcXHgzZVwiLGYucHVzaCgnXFx4M2NpZnJhbWUgaGlkZWZvY3VzXFx4M2RcInRydWVcIiBmcmFtZWJvcmRlclxceDNkXCIwXCIgaWRcXHgzZFwiY2tlX2RpYWxvZ19iYWNrZ3JvdW5kX2lmcmFtZVwiIHNyY1xceDNkXCJqYXZhc2NyaXB0OicpLGYucHVzaChcInZvaWQoKGZ1bmN0aW9uKCl7XCIrZW5jb2RlVVJJQ29tcG9uZW50KFwiZG9jdW1lbnQub3BlbigpOyhcIitcbkNLRURJVE9SLnRvb2xzLmZpeERvbWFpbitcIikoKTtkb2N1bWVudC53cml0ZSggJ1wiK2UrXCInICk7ZG9jdW1lbnQuY2xvc2UoKTtcIikrXCJ9KSgpKVwiKSxmLnB1c2goJ1wiIHN0eWxlXFx4M2RcInBvc2l0aW9uOmFic29sdXRlO2xlZnQ6MDt0b3A6MDt3aWR0aDoxMDAlO2hlaWdodDogMTAwJTtmaWx0ZXI6IHByb2dpZDpEWEltYWdlVHJhbnNmb3JtLk1pY3Jvc29mdC5BbHBoYShvcGFjaXR5XFx4M2QwKVwiXFx4M2VcXHgzYy9pZnJhbWVcXHgzZScpKSxmLnB1c2goXCJcXHgzYy9kaXZcXHgzZVwiKSxnPUNLRURJVE9SLmRvbS5lbGVtZW50LmNyZWF0ZUZyb21IdG1sKGYuam9pbihcIlwiKSksZy5zZXRPcGFjaXR5KHZvaWQgMCE9PWQ/ZDouNSksZy5vbihcImtleWRvd25cIixuKSxnLm9uKFwia2V5cHJlc3NcIixuKSxnLm9uKFwia2V5dXBcIixuKSxnLmFwcGVuZFRvKENLRURJVE9SLmRvY3VtZW50LmdldEJvZHkoKSksRFtjXT1nKTthLmZvY3VzTWFuYWdlci5hZGQoZyk7eT1nO2E9ZnVuY3Rpb24oKXt2YXIgYT1iLmdldFZpZXdQYW5lU2l6ZSgpO1xuZy5zZXRTdHlsZXMoe3dpZHRoOmEud2lkdGgrXCJweFwiLGhlaWdodDphLmhlaWdodCtcInB4XCJ9KX07dmFyIGg9ZnVuY3Rpb24oKXt2YXIgYT1iLmdldFNjcm9sbFBvc2l0aW9uKCksYz1DS0VESVRPUi5kaWFsb2cuXy5jdXJyZW50VG9wO2cuc2V0U3R5bGVzKHtsZWZ0OmEueCtcInB4XCIsdG9wOmEueStcInB4XCJ9KTtpZihjKXtkbyBhPWMuZ2V0UG9zaXRpb24oKSxjLm1vdmUoYS54LGEueSk7d2hpbGUoYz1jLl8ucGFyZW50RGlhbG9nKX19O3o9YTtiLm9uKFwicmVzaXplXCIsYSk7YSgpO0NLRURJVE9SLmVudi5tYWMmJkNLRURJVE9SLmVudi53ZWJraXR8fGcuZm9jdXMoKTtpZihDS0VESVRPUi5lbnYuaWU2Q29tcGF0KXt2YXIgaz1mdW5jdGlvbigpe2goKTthcmd1bWVudHMuY2FsbGVlLnByZXZTY3JvbGxIYW5kbGVyLmFwcGx5KHRoaXMsYXJndW1lbnRzKX07Yi4kLnNldFRpbWVvdXQoZnVuY3Rpb24oKXtrLnByZXZTY3JvbGxIYW5kbGVyPXdpbmRvdy5vbnNjcm9sbHx8ZnVuY3Rpb24oKXt9O1xud2luZG93Lm9uc2Nyb2xsPWt9LDApO2goKX19ZnVuY3Rpb24gcChhKXt5JiYoYS5mb2N1c01hbmFnZXIucmVtb3ZlKHkpLGE9Q0tFRElUT1IuZG9jdW1lbnQuZ2V0V2luZG93KCkseS5oaWRlKCksYS5yZW1vdmVMaXN0ZW5lcihcInJlc2l6ZVwiLHopLENLRURJVE9SLmVudi5pZTZDb21wYXQmJmEuJC5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7d2luZG93Lm9uc2Nyb2xsPXdpbmRvdy5vbnNjcm9sbCYmd2luZG93Lm9uc2Nyb2xsLnByZXZTY3JvbGxIYW5kbGVyfHxudWxsfSwwKSx6PW51bGwpfXZhciB0PUNLRURJVE9SLnRvb2xzLmNzc0xlbmd0aCx2PSdcXHgzY2RpdiBjbGFzc1xceDNkXCJja2VfcmVzZXRfYWxsIHtlZGl0b3JJZH0ge2VkaXRvckRpYWxvZ0NsYXNzfSB7aGlkcGl9XCIgZGlyXFx4M2RcIntsYW5nRGlyfVwiIGxhbmdcXHgzZFwie2xhbmdDb2RlfVwiIHJvbGVcXHgzZFwiZGlhbG9nXCIgYXJpYS1sYWJlbGxlZGJ5XFx4M2RcImNrZV9kaWFsb2dfdGl0bGVfe2lkfVwiXFx4M2VcXHgzY3RhYmxlIGNsYXNzXFx4M2RcImNrZV9kaWFsb2cgJytcbkNLRURJVE9SLmVudi5jc3NDbGFzcysnIGNrZV97bGFuZ0Rpcn1cIiBzdHlsZVxceDNkXCJwb3NpdGlvbjphYnNvbHV0ZVwiIHJvbGVcXHgzZFwicHJlc2VudGF0aW9uXCJcXHgzZVxceDNjdHJcXHgzZVxceDNjdGQgcm9sZVxceDNkXCJwcmVzZW50YXRpb25cIlxceDNlXFx4M2NkaXYgY2xhc3NcXHgzZFwiY2tlX2RpYWxvZ19ib2R5XCIgcm9sZVxceDNkXCJwcmVzZW50YXRpb25cIlxceDNlXFx4M2NkaXYgaWRcXHgzZFwiY2tlX2RpYWxvZ190aXRsZV97aWR9XCIgY2xhc3NcXHgzZFwiY2tlX2RpYWxvZ190aXRsZVwiIHJvbGVcXHgzZFwicHJlc2VudGF0aW9uXCJcXHgzZVxceDNjL2RpdlxceDNlXFx4M2NhIGlkXFx4M2RcImNrZV9kaWFsb2dfY2xvc2VfYnV0dG9uX3tpZH1cIiBjbGFzc1xceDNkXCJja2VfZGlhbG9nX2Nsb3NlX2J1dHRvblwiIGhyZWZcXHgzZFwiamF2YXNjcmlwdDp2b2lkKDApXCIgdGl0bGVcXHgzZFwie2Nsb3NlVGl0bGV9XCIgcm9sZVxceDNkXCJidXR0b25cIlxceDNlXFx4M2NzcGFuIGNsYXNzXFx4M2RcImNrZV9sYWJlbFwiXFx4M2VYXFx4M2Mvc3BhblxceDNlXFx4M2MvYVxceDNlXFx4M2NkaXYgaWRcXHgzZFwiY2tlX2RpYWxvZ190YWJzX3tpZH1cIiBjbGFzc1xceDNkXCJja2VfZGlhbG9nX3RhYnNcIiByb2xlXFx4M2RcInRhYmxpc3RcIlxceDNlXFx4M2MvZGl2XFx4M2VcXHgzY3RhYmxlIGNsYXNzXFx4M2RcImNrZV9kaWFsb2dfY29udGVudHNcIiByb2xlXFx4M2RcInByZXNlbnRhdGlvblwiXFx4M2VcXHgzY3RyXFx4M2VcXHgzY3RkIGlkXFx4M2RcImNrZV9kaWFsb2dfY29udGVudHNfe2lkfVwiIGNsYXNzXFx4M2RcImNrZV9kaWFsb2dfY29udGVudHNfYm9keVwiIHJvbGVcXHgzZFwicHJlc2VudGF0aW9uXCJcXHgzZVxceDNjL3RkXFx4M2VcXHgzYy90clxceDNlXFx4M2N0clxceDNlXFx4M2N0ZCBpZFxceDNkXCJja2VfZGlhbG9nX2Zvb3Rlcl97aWR9XCIgY2xhc3NcXHgzZFwiY2tlX2RpYWxvZ19mb290ZXJcIiByb2xlXFx4M2RcInByZXNlbnRhdGlvblwiXFx4M2VcXHgzYy90ZFxceDNlXFx4M2MvdHJcXHgzZVxceDNjL3RhYmxlXFx4M2VcXHgzYy9kaXZcXHgzZVxceDNjL3RkXFx4M2VcXHgzYy90clxceDNlXFx4M2MvdGFibGVcXHgzZVxceDNjL2RpdlxceDNlJztcbkNLRURJVE9SLmRpYWxvZz1mdW5jdGlvbihiLGQpe2Z1bmN0aW9uIGgoKXt2YXIgYT15Ll8uZm9jdXNMaXN0O2Euc29ydChmdW5jdGlvbihhLGIpe3JldHVybiBhLnRhYkluZGV4IT1iLnRhYkluZGV4P2IudGFiSW5kZXgtYS50YWJJbmRleDphLmZvY3VzSW5kZXgtYi5mb2N1c0luZGV4fSk7Zm9yKHZhciBiPWEubGVuZ3RoLGM9MDtjPGI7YysrKWFbY10uZm9jdXNJbmRleD1jfWZ1bmN0aW9uIGwoYSl7dmFyIGI9eS5fLmZvY3VzTGlzdDthPWF8fDA7aWYoISgxPmIubGVuZ3RoKSl7dmFyIGM9eS5fLmN1cnJlbnRGb2N1c0luZGV4O3kuXy50YWJCYXJNb2RlJiYwPmEmJihjPTApO3RyeXtiW2NdLmdldElucHV0RWxlbWVudCgpLiQuYmx1cigpfWNhdGNoKGQpe312YXIgZT1jLGY9MTx5Ll8ucGFnZUNvdW50O2Rve2UrPWE7aWYoZiYmIXkuXy50YWJCYXJNb2RlJiYoZT09Yi5sZW5ndGh8fC0xPT1lKSl7eS5fLnRhYkJhck1vZGU9ITA7eS5fLnRhYnNbeS5fLmN1cnJlbnRUYWJJZF1bMF0uZm9jdXMoKTtcbnkuXy5jdXJyZW50Rm9jdXNJbmRleD0tMTtyZXR1cm59ZT0oZStiLmxlbmd0aCklYi5sZW5ndGg7aWYoZT09YylicmVha313aGlsZShhJiYhYltlXS5pc0ZvY3VzYWJsZSgpKTtiW2VdLmZvY3VzKCk7XCJ0ZXh0XCI9PWJbZV0udHlwZSYmYltlXS5zZWxlY3QoKX19ZnVuY3Rpb24gbihjKXtpZih5PT1DS0VESVRPUi5kaWFsb2cuXy5jdXJyZW50VG9wKXt2YXIgZD1jLmRhdGEuZ2V0S2V5c3Ryb2tlKCksZT1cInJ0bFwiPT1iLmxhbmcuZGlyLGc9WzM3LDM4LDM5LDQwXTtxPXo9MDtpZig5PT1kfHxkPT1DS0VESVRPUi5TSElGVCs5KWwoZD09Q0tFRElUT1IuU0hJRlQrOT8tMToxKSxxPTE7ZWxzZSBpZihkPT1DS0VESVRPUi5BTFQrMTIxJiYheS5fLnRhYkJhck1vZGUmJjE8eS5nZXRQYWdlQ291bnQoKSl5Ll8udGFiQmFyTW9kZT0hMCx5Ll8udGFic1t5Ll8uY3VycmVudFRhYklkXVswXS5mb2N1cygpLHkuXy5jdXJyZW50Rm9jdXNJbmRleD0tMSxxPTE7ZWxzZSBpZigtMSE9Q0tFRElUT1IudG9vbHMuaW5kZXhPZihnLFxuZCkmJnkuXy50YWJCYXJNb2RlKWQ9LTEhPUNLRURJVE9SLnRvb2xzLmluZGV4T2YoW2U/Mzk6MzcsMzhdLGQpP2EuY2FsbCh5KTpmLmNhbGwoeSkseS5zZWxlY3RQYWdlKGQpLHkuXy50YWJzW2RdWzBdLmZvY3VzKCkscT0xO2Vsc2UgaWYoMTMhPWQmJjMyIT1kfHwheS5fLnRhYkJhck1vZGUpaWYoMTM9PWQpZD1jLmRhdGEuZ2V0VGFyZ2V0KCksZC5pcyhcImFcIixcImJ1dHRvblwiLFwic2VsZWN0XCIsXCJ0ZXh0YXJlYVwiKXx8ZC5pcyhcImlucHV0XCIpJiZcImJ1dHRvblwiPT1kLiQudHlwZXx8KChkPXRoaXMuZ2V0QnV0dG9uKFwib2tcIikpJiZDS0VESVRPUi50b29scy5zZXRUaW1lb3V0KGQuY2xpY2ssMCxkKSxxPTEpLHo9MTtlbHNlIGlmKDI3PT1kKShkPXRoaXMuZ2V0QnV0dG9uKFwiY2FuY2VsXCIpKT9DS0VESVRPUi50b29scy5zZXRUaW1lb3V0KGQuY2xpY2ssMCxkKTohMSE9PXRoaXMuZmlyZShcImNhbmNlbFwiLHtoaWRlOiEwfSkuaGlkZSYmdGhpcy5oaWRlKCksej0xO2Vsc2UgcmV0dXJuO2Vsc2UgdGhpcy5zZWxlY3RQYWdlKHRoaXMuXy5jdXJyZW50VGFiSWQpLFxudGhpcy5fLnRhYkJhck1vZGU9ITEsdGhpcy5fLmN1cnJlbnRGb2N1c0luZGV4PS0xLGwoMSkscT0xO3UoYyl9fWZ1bmN0aW9uIHUoYSl7cT9hLmRhdGEucHJldmVudERlZmF1bHQoMSk6eiYmYS5kYXRhLnN0b3BQcm9wYWdhdGlvbigpfXZhciB0PUNLRURJVE9SLmRpYWxvZy5fLmRpYWxvZ0RlZmluaXRpb25zW2RdLHY9Q0tFRElUT1IudG9vbHMuY2xvbmUociksQj1iLmNvbmZpZy5kaWFsb2dfYnV0dG9uc09yZGVyfHxcIk9TXCIseD1iLmxhbmcuZGlyLHA9e30scSx6OyhcIk9TXCI9PUImJkNLRURJVE9SLmVudi5tYWN8fFwicnRsXCI9PUImJlwibHRyXCI9PXh8fFwibHRyXCI9PUImJlwicnRsXCI9PXgpJiZ2LmJ1dHRvbnMucmV2ZXJzZSgpO3Q9Q0tFRElUT1IudG9vbHMuZXh0ZW5kKHQoYiksdik7dD1DS0VESVRPUi50b29scy5jbG9uZSh0KTt0PW5ldyB3KHRoaXMsdCk7dj1tKGIpO3RoaXMuXz17ZWRpdG9yOmIsZWxlbWVudDp2LmVsZW1lbnQsbmFtZTpkLGNvbnRlbnRTaXplOnt3aWR0aDowLGhlaWdodDowfSxcbnNpemU6e3dpZHRoOjAsaGVpZ2h0OjB9LGNvbnRlbnRzOnt9LGJ1dHRvbnM6e30sYWNjZXNzS2V5TWFwOnt9LHRhYnM6e30sdGFiSWRMaXN0OltdLGN1cnJlbnRUYWJJZDpudWxsLGN1cnJlbnRUYWJJbmRleDpudWxsLHBhZ2VDb3VudDowLGxhc3RUYWI6bnVsbCx0YWJCYXJNb2RlOiExLGZvY3VzTGlzdDpbXSxjdXJyZW50Rm9jdXNJbmRleDowLGhhc0ZvY3VzOiExfTt0aGlzLnBhcnRzPXYucGFydHM7Q0tFRElUT1IudG9vbHMuc2V0VGltZW91dChmdW5jdGlvbigpe2IuZmlyZShcImFyaWFXaWRnZXRcIix0aGlzLnBhcnRzLmNvbnRlbnRzKX0sMCx0aGlzKTt2PXtwb3NpdGlvbjpDS0VESVRPUi5lbnYuaWU2Q29tcGF0P1wiYWJzb2x1dGVcIjpcImZpeGVkXCIsdG9wOjAsdmlzaWJpbGl0eTpcImhpZGRlblwifTt2W1wicnRsXCI9PXg/XCJyaWdodFwiOlwibGVmdFwiXT0wO3RoaXMucGFydHMuZGlhbG9nLnNldFN0eWxlcyh2KTtDS0VESVRPUi5ldmVudC5jYWxsKHRoaXMpO3RoaXMuZGVmaW5pdGlvbj10PUNLRURJVE9SLmZpcmUoXCJkaWFsb2dEZWZpbml0aW9uXCIsXG57bmFtZTpkLGRlZmluaXRpb246dH0sYikuZGVmaW5pdGlvbjtpZighKFwicmVtb3ZlRGlhbG9nVGFic1wiaW4gYi5fKSYmYi5jb25maWcucmVtb3ZlRGlhbG9nVGFicyl7dj1iLmNvbmZpZy5yZW1vdmVEaWFsb2dUYWJzLnNwbGl0KFwiO1wiKTtmb3IoeD0wO3g8di5sZW5ndGg7eCsrKWlmKEI9dlt4XS5zcGxpdChcIjpcIiksMj09Qi5sZW5ndGgpe3ZhciBEPUJbMF07cFtEXXx8KHBbRF09W10pO3BbRF0ucHVzaChCWzFdKX1iLl8ucmVtb3ZlRGlhbG9nVGFicz1wfWlmKGIuXy5yZW1vdmVEaWFsb2dUYWJzJiYocD1iLl8ucmVtb3ZlRGlhbG9nVGFic1tkXSkpZm9yKHg9MDt4PHAubGVuZ3RoO3grKyl0LnJlbW92ZUNvbnRlbnRzKHBbeF0pO2lmKHQub25Mb2FkKXRoaXMub24oXCJsb2FkXCIsdC5vbkxvYWQpO2lmKHQub25TaG93KXRoaXMub24oXCJzaG93XCIsdC5vblNob3cpO2lmKHQub25IaWRlKXRoaXMub24oXCJoaWRlXCIsdC5vbkhpZGUpO2lmKHQub25Payl0aGlzLm9uKFwib2tcIixmdW5jdGlvbihhKXtiLmZpcmUoXCJzYXZlU25hcHNob3RcIik7XG5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Yi5maXJlKFwic2F2ZVNuYXBzaG90XCIpfSwwKTshMT09PXQub25Pay5jYWxsKHRoaXMsYSkmJihhLmRhdGEuaGlkZT0hMSl9KTt0aGlzLnN0YXRlPUNLRURJVE9SLkRJQUxPR19TVEFURV9JRExFO2lmKHQub25DYW5jZWwpdGhpcy5vbihcImNhbmNlbFwiLGZ1bmN0aW9uKGEpeyExPT09dC5vbkNhbmNlbC5jYWxsKHRoaXMsYSkmJihhLmRhdGEuaGlkZT0hMSl9KTt2YXIgeT10aGlzLEE9ZnVuY3Rpb24oYSl7dmFyIGI9eS5fLmNvbnRlbnRzLGM9ITEsZDtmb3IoZCBpbiBiKWZvcih2YXIgZSBpbiBiW2RdKWlmKGM9YS5jYWxsKHRoaXMsYltkXVtlXSkpcmV0dXJufTt0aGlzLm9uKFwib2tcIixmdW5jdGlvbihhKXtBKGZ1bmN0aW9uKGIpe2lmKGIudmFsaWRhdGUpe3ZhciBkPWIudmFsaWRhdGUodGhpcyksZT1cInN0cmluZ1wiPT10eXBlb2YgZHx8ITE9PT1kO2UmJihhLmRhdGEuaGlkZT0hMSxhLnN0b3AoKSk7Yy5jYWxsKGIsIWUsXCJzdHJpbmdcIj09dHlwZW9mIGQ/XG5kOnZvaWQgMCk7cmV0dXJuIGV9fSl9LHRoaXMsbnVsbCwwKTt0aGlzLm9uKFwiY2FuY2VsXCIsZnVuY3Rpb24oYSl7QShmdW5jdGlvbihjKXtpZihjLmlzQ2hhbmdlZCgpKXJldHVybiBiLmNvbmZpZy5kaWFsb2dfbm9Db25maXJtQ2FuY2VsfHxjb25maXJtKGIubGFuZy5jb21tb24uY29uZmlybUNhbmNlbCl8fChhLmRhdGEuaGlkZT0hMSksITB9KX0sdGhpcyxudWxsLDApO3RoaXMucGFydHMuY2xvc2Uub24oXCJjbGlja1wiLGZ1bmN0aW9uKGEpeyExIT09dGhpcy5maXJlKFwiY2FuY2VsXCIse2hpZGU6ITB9KS5oaWRlJiZ0aGlzLmhpZGUoKTthLmRhdGEucHJldmVudERlZmF1bHQoKX0sdGhpcyk7dGhpcy5jaGFuZ2VGb2N1cz1sO3ZhciBDPXRoaXMuXy5lbGVtZW50O2IuZm9jdXNNYW5hZ2VyLmFkZChDLDEpO3RoaXMub24oXCJzaG93XCIsZnVuY3Rpb24oKXtDLm9uKFwia2V5ZG93blwiLG4sdGhpcyk7aWYoQ0tFRElUT1IuZW52LmdlY2tvKUMub24oXCJrZXlwcmVzc1wiLHUsdGhpcyl9KTt0aGlzLm9uKFwiaGlkZVwiLFxuZnVuY3Rpb24oKXtDLnJlbW92ZUxpc3RlbmVyKFwia2V5ZG93blwiLG4pO0NLRURJVE9SLmVudi5nZWNrbyYmQy5yZW1vdmVMaXN0ZW5lcihcImtleXByZXNzXCIsdSk7QShmdW5jdGlvbihhKXtlLmFwcGx5KGEpfSl9KTt0aGlzLm9uKFwiaWZyYW1lQWRkZWRcIixmdW5jdGlvbihhKXsobmV3IENLRURJVE9SLmRvbS5kb2N1bWVudChhLmRhdGEuaWZyYW1lLiQuY29udGVudFdpbmRvdy5kb2N1bWVudCkpLm9uKFwia2V5ZG93blwiLG4sdGhpcyxudWxsLDApfSk7dGhpcy5vbihcInNob3dcIixmdW5jdGlvbigpe2goKTt2YXIgYT0xPHkuXy5wYWdlQ291bnQ7Yi5jb25maWcuZGlhbG9nX3N0YXJ0dXBGb2N1c1RhYiYmYT8oeS5fLnRhYkJhck1vZGU9ITAseS5fLnRhYnNbeS5fLmN1cnJlbnRUYWJJZF1bMF0uZm9jdXMoKSx5Ll8uY3VycmVudEZvY3VzSW5kZXg9LTEpOnRoaXMuXy5oYXNGb2N1c3x8KHRoaXMuXy5jdXJyZW50Rm9jdXNJbmRleD1hPy0xOnRoaXMuXy5mb2N1c0xpc3QubGVuZ3RoLTEsdC5vbkZvY3VzP1xuKGE9dC5vbkZvY3VzLmNhbGwodGhpcykpJiZhLmZvY3VzKCk6bCgxKSl9LHRoaXMsbnVsbCw0Mjk0OTY3Mjk1KTtpZihDS0VESVRPUi5lbnYuaWU2Q29tcGF0KXRoaXMub24oXCJsb2FkXCIsZnVuY3Rpb24oKXt2YXIgYT10aGlzLmdldEVsZW1lbnQoKSxiPWEuZ2V0Rmlyc3QoKTtiLnJlbW92ZSgpO2IuYXBwZW5kVG8oYSl9LHRoaXMpO2sodGhpcyk7Zyh0aGlzKTsobmV3IENLRURJVE9SLmRvbS50ZXh0KHQudGl0bGUsQ0tFRElUT1IuZG9jdW1lbnQpKS5hcHBlbmRUbyh0aGlzLnBhcnRzLnRpdGxlKTtmb3IoeD0wO3g8dC5jb250ZW50cy5sZW5ndGg7eCsrKShwPXQuY29udGVudHNbeF0pJiZ0aGlzLmFkZFBhZ2UocCk7dGhpcy5wYXJ0cy50YWJzLm9uKFwiY2xpY2tcIixmdW5jdGlvbihhKXt2YXIgYj1hLmRhdGEuZ2V0VGFyZ2V0KCk7Yi5oYXNDbGFzcyhcImNrZV9kaWFsb2dfdGFiXCIpJiYoYj1iLiQuaWQsdGhpcy5zZWxlY3RQYWdlKGIuc3Vic3RyaW5nKDQsYi5sYXN0SW5kZXhPZihcIl9cIikpKSxcbnRoaXMuXy50YWJCYXJNb2RlJiYodGhpcy5fLnRhYkJhck1vZGU9ITEsdGhpcy5fLmN1cnJlbnRGb2N1c0luZGV4PS0xLGwoMSkpLGEuZGF0YS5wcmV2ZW50RGVmYXVsdCgpKX0sdGhpcyk7eD1bXTtwPUNLRURJVE9SLmRpYWxvZy5fLnVpRWxlbWVudEJ1aWxkZXJzLmhib3guYnVpbGQodGhpcyx7dHlwZTpcImhib3hcIixjbGFzc05hbWU6XCJja2VfZGlhbG9nX2Zvb3Rlcl9idXR0b25zXCIsd2lkdGhzOltdLGNoaWxkcmVuOnQuYnV0dG9uc30seCkuZ2V0Q2hpbGQoKTt0aGlzLnBhcnRzLmZvb3Rlci5zZXRIdG1sKHguam9pbihcIlwiKSk7Zm9yKHg9MDt4PHAubGVuZ3RoO3grKyl0aGlzLl8uYnV0dG9uc1twW3hdLmlkXT1wW3hdfTtDS0VESVRPUi5kaWFsb2cucHJvdG90eXBlPXtkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5oaWRlKCk7dGhpcy5fLmVsZW1lbnQucmVtb3ZlKCl9LHJlc2l6ZTpmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihhLGIpe3RoaXMuXy5jb250ZW50U2l6ZSYmdGhpcy5fLmNvbnRlbnRTaXplLndpZHRoPT1cbmEmJnRoaXMuXy5jb250ZW50U2l6ZS5oZWlnaHQ9PWJ8fChDS0VESVRPUi5kaWFsb2cuZmlyZShcInJlc2l6ZVwiLHtkaWFsb2c6dGhpcyx3aWR0aDphLGhlaWdodDpifSx0aGlzLl8uZWRpdG9yKSx0aGlzLmZpcmUoXCJyZXNpemVcIix7d2lkdGg6YSxoZWlnaHQ6Yn0sdGhpcy5fLmVkaXRvciksdGhpcy5wYXJ0cy5jb250ZW50cy5zZXRTdHlsZXMoe3dpZHRoOmErXCJweFwiLGhlaWdodDpiK1wicHhcIn0pLFwicnRsXCI9PXRoaXMuXy5lZGl0b3IubGFuZy5kaXImJnRoaXMuXy5wb3NpdGlvbiYmKHRoaXMuXy5wb3NpdGlvbi54PUNLRURJVE9SLmRvY3VtZW50LmdldFdpbmRvdygpLmdldFZpZXdQYW5lU2l6ZSgpLndpZHRoLXRoaXMuXy5jb250ZW50U2l6ZS53aWR0aC1wYXJzZUludCh0aGlzLl8uZWxlbWVudC5nZXRGaXJzdCgpLmdldFN0eWxlKFwicmlnaHRcIiksMTApKSx0aGlzLl8uY29udGVudFNpemU9e3dpZHRoOmEsaGVpZ2h0OmJ9KX19KCksZ2V0U2l6ZTpmdW5jdGlvbigpe3ZhciBhPXRoaXMuXy5lbGVtZW50LmdldEZpcnN0KCk7XG5yZXR1cm57d2lkdGg6YS4kLm9mZnNldFdpZHRofHwwLGhlaWdodDphLiQub2Zmc2V0SGVpZ2h0fHwwfX0sbW92ZTpmdW5jdGlvbihhLGIsYyl7dmFyIGQ9dGhpcy5fLmVsZW1lbnQuZ2V0Rmlyc3QoKSxlPVwicnRsXCI9PXRoaXMuXy5lZGl0b3IubGFuZy5kaXIsZj1cImZpeGVkXCI9PWQuZ2V0Q29tcHV0ZWRTdHlsZShcInBvc2l0aW9uXCIpO0NLRURJVE9SLmVudi5pZSYmZC5zZXRTdHlsZShcInpvb21cIixcIjEwMCVcIik7ZiYmdGhpcy5fLnBvc2l0aW9uJiZ0aGlzLl8ucG9zaXRpb24ueD09YSYmdGhpcy5fLnBvc2l0aW9uLnk9PWJ8fCh0aGlzLl8ucG9zaXRpb249e3g6YSx5OmJ9LGZ8fChmPUNLRURJVE9SLmRvY3VtZW50LmdldFdpbmRvdygpLmdldFNjcm9sbFBvc2l0aW9uKCksYSs9Zi54LGIrPWYueSksZSYmKGY9dGhpcy5nZXRTaXplKCksYT1DS0VESVRPUi5kb2N1bWVudC5nZXRXaW5kb3coKS5nZXRWaWV3UGFuZVNpemUoKS53aWR0aC1mLndpZHRoLWEpLGI9e3RvcDooMDxiP2I6MCkrXCJweFwifSxcbmJbZT9cInJpZ2h0XCI6XCJsZWZ0XCJdPSgwPGE/YTowKStcInB4XCIsZC5zZXRTdHlsZXMoYiksYyYmKHRoaXMuXy5tb3ZlZD0xKSl9LGdldFBvc2l0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuIENLRURJVE9SLnRvb2xzLmV4dGVuZCh7fSx0aGlzLl8ucG9zaXRpb24pfSxzaG93OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5fLmVsZW1lbnQsYj10aGlzLmRlZmluaXRpb247YS5nZXRQYXJlbnQoKSYmYS5nZXRQYXJlbnQoKS5lcXVhbHMoQ0tFRElUT1IuZG9jdW1lbnQuZ2V0Qm9keSgpKT9hLnNldFN0eWxlKFwiZGlzcGxheVwiLFwiYmxvY2tcIik6YS5hcHBlbmRUbyhDS0VESVRPUi5kb2N1bWVudC5nZXRCb2R5KCkpO3RoaXMucmVzaXplKHRoaXMuXy5jb250ZW50U2l6ZSYmdGhpcy5fLmNvbnRlbnRTaXplLndpZHRofHxiLndpZHRofHxiLm1pbldpZHRoLHRoaXMuXy5jb250ZW50U2l6ZSYmdGhpcy5fLmNvbnRlbnRTaXplLmhlaWdodHx8Yi5oZWlnaHR8fGIubWluSGVpZ2h0KTt0aGlzLnJlc2V0KCk7dGhpcy5zZWxlY3RQYWdlKHRoaXMuZGVmaW5pdGlvbi5jb250ZW50c1swXS5pZCk7XG5udWxsPT09Q0tFRElUT1IuZGlhbG9nLl8uY3VycmVudFpJbmRleCYmKENLRURJVE9SLmRpYWxvZy5fLmN1cnJlbnRaSW5kZXg9dGhpcy5fLmVkaXRvci5jb25maWcuYmFzZUZsb2F0WkluZGV4KTt0aGlzLl8uZWxlbWVudC5nZXRGaXJzdCgpLnNldFN0eWxlKFwiei1pbmRleFwiLENLRURJVE9SLmRpYWxvZy5fLmN1cnJlbnRaSW5kZXgrPTEwKTtudWxsPT09Q0tFRElUT1IuZGlhbG9nLl8uY3VycmVudFRvcD8oQ0tFRElUT1IuZGlhbG9nLl8uY3VycmVudFRvcD10aGlzLHRoaXMuXy5wYXJlbnREaWFsb2c9bnVsbCxxKHRoaXMuXy5lZGl0b3IpKToodGhpcy5fLnBhcmVudERpYWxvZz1DS0VESVRPUi5kaWFsb2cuXy5jdXJyZW50VG9wLHRoaXMuXy5wYXJlbnREaWFsb2cuZ2V0RWxlbWVudCgpLmdldEZpcnN0KCkuJC5zdHlsZS56SW5kZXgtPU1hdGguZmxvb3IodGhpcy5fLmVkaXRvci5jb25maWcuYmFzZUZsb2F0WkluZGV4LzIpLENLRURJVE9SLmRpYWxvZy5fLmN1cnJlbnRUb3A9dGhpcyk7XG5hLm9uKFwia2V5ZG93blwiLEMpO2Eub24oXCJrZXl1cFwiLEYpO3RoaXMuXy5oYXNGb2N1cz0hMTtmb3IodmFyIGMgaW4gYi5jb250ZW50cylpZihiLmNvbnRlbnRzW2NdKXt2YXIgYT1iLmNvbnRlbnRzW2NdLGU9dGhpcy5fLnRhYnNbYS5pZF0sZj1hLnJlcXVpcmVkQ29udGVudCxnPTA7aWYoZSl7Zm9yKHZhciBoIGluIHRoaXMuXy5jb250ZW50c1thLmlkXSl7dmFyIGs9dGhpcy5fLmNvbnRlbnRzW2EuaWRdW2hdO1wiaGJveFwiIT1rLnR5cGUmJlwidmJveFwiIT1rLnR5cGUmJmsuZ2V0SW5wdXRFbGVtZW50KCkmJihrLnJlcXVpcmVkQ29udGVudCYmIXRoaXMuXy5lZGl0b3IuYWN0aXZlRmlsdGVyLmNoZWNrKGsucmVxdWlyZWRDb250ZW50KT9rLmRpc2FibGUoKTooay5lbmFibGUoKSxnKyspKX0hZ3x8ZiYmIXRoaXMuXy5lZGl0b3IuYWN0aXZlRmlsdGVyLmNoZWNrKGYpP2VbMF0uYWRkQ2xhc3MoXCJja2VfZGlhbG9nX3RhYl9kaXNhYmxlZFwiKTplWzBdLnJlbW92ZUNsYXNzKFwiY2tlX2RpYWxvZ190YWJfZGlzYWJsZWRcIil9fUNLRURJVE9SLnRvb2xzLnNldFRpbWVvdXQoZnVuY3Rpb24oKXt0aGlzLmxheW91dCgpO1xuZCh0aGlzKTt0aGlzLnBhcnRzLmRpYWxvZy5zZXRTdHlsZShcInZpc2liaWxpdHlcIixcIlwiKTt0aGlzLmZpcmVPbmNlKFwibG9hZFwiLHt9KTtDS0VESVRPUi51aS5maXJlKFwicmVhZHlcIix0aGlzKTt0aGlzLmZpcmUoXCJzaG93XCIse30pO3RoaXMuXy5lZGl0b3IuZmlyZShcImRpYWxvZ1Nob3dcIix0aGlzKTt0aGlzLl8ucGFyZW50RGlhbG9nfHx0aGlzLl8uZWRpdG9yLmZvY3VzTWFuYWdlci5sb2NrKCk7dGhpcy5mb3JlYWNoKGZ1bmN0aW9uKGEpe2Euc2V0SW5pdFZhbHVlJiZhLnNldEluaXRWYWx1ZSgpfSl9LDEwMCx0aGlzKX0sbGF5b3V0OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5wYXJ0cy5kaWFsb2csYj10aGlzLmdldFNpemUoKSxjPUNLRURJVE9SLmRvY3VtZW50LmdldFdpbmRvdygpLmdldFZpZXdQYW5lU2l6ZSgpLGQ9KGMud2lkdGgtYi53aWR0aCkvMixlPShjLmhlaWdodC1iLmhlaWdodCkvMjtDS0VESVRPUi5lbnYuaWU2Q29tcGF0fHwoYi5oZWlnaHQrKDA8ZT9lOjApPmMuaGVpZ2h0fHxcbmIud2lkdGgrKDA8ZD9kOjApPmMud2lkdGg/YS5zZXRTdHlsZShcInBvc2l0aW9uXCIsXCJhYnNvbHV0ZVwiKTphLnNldFN0eWxlKFwicG9zaXRpb25cIixcImZpeGVkXCIpKTt0aGlzLm1vdmUodGhpcy5fLm1vdmVkP3RoaXMuXy5wb3NpdGlvbi54OmQsdGhpcy5fLm1vdmVkP3RoaXMuXy5wb3NpdGlvbi55OmUpfSxmb3JlYWNoOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYiBpbiB0aGlzLl8uY29udGVudHMpZm9yKHZhciBjIGluIHRoaXMuXy5jb250ZW50c1tiXSlhLmNhbGwodGhpcyx0aGlzLl8uY29udGVudHNbYl1bY10pO3JldHVybiB0aGlzfSxyZXNldDpmdW5jdGlvbigpe3ZhciBhPWZ1bmN0aW9uKGEpe2EucmVzZXQmJmEucmVzZXQoMSl9O3JldHVybiBmdW5jdGlvbigpe3RoaXMuZm9yZWFjaChhKTtyZXR1cm4gdGhpc319KCksc2V0dXBDb250ZW50OmZ1bmN0aW9uKCl7dmFyIGE9YXJndW1lbnRzO3RoaXMuZm9yZWFjaChmdW5jdGlvbihiKXtiLnNldHVwJiZiLnNldHVwLmFwcGx5KGIsYSl9KX0sXG5jb21taXRDb250ZW50OmZ1bmN0aW9uKCl7dmFyIGE9YXJndW1lbnRzO3RoaXMuZm9yZWFjaChmdW5jdGlvbihiKXtDS0VESVRPUi5lbnYuaWUmJnRoaXMuXy5jdXJyZW50Rm9jdXNJbmRleD09Yi5mb2N1c0luZGV4JiZiLmdldElucHV0RWxlbWVudCgpLiQuYmx1cigpO2IuY29tbWl0JiZiLmNvbW1pdC5hcHBseShiLGEpfSl9LGhpZGU6ZnVuY3Rpb24oKXtpZih0aGlzLnBhcnRzLmRpYWxvZy5pc1Zpc2libGUoKSl7dGhpcy5maXJlKFwiaGlkZVwiLHt9KTt0aGlzLl8uZWRpdG9yLmZpcmUoXCJkaWFsb2dIaWRlXCIsdGhpcyk7dGhpcy5zZWxlY3RQYWdlKHRoaXMuXy50YWJJZExpc3RbMF0pO3ZhciBhPXRoaXMuXy5lbGVtZW50O2Euc2V0U3R5bGUoXCJkaXNwbGF5XCIsXCJub25lXCIpO3RoaXMucGFydHMuZGlhbG9nLnNldFN0eWxlKFwidmlzaWJpbGl0eVwiLFwiaGlkZGVuXCIpO2ZvcihKKHRoaXMpO0NLRURJVE9SLmRpYWxvZy5fLmN1cnJlbnRUb3AhPXRoaXM7KUNLRURJVE9SLmRpYWxvZy5fLmN1cnJlbnRUb3AuaGlkZSgpO1xuaWYodGhpcy5fLnBhcmVudERpYWxvZyl7dmFyIGI9dGhpcy5fLnBhcmVudERpYWxvZy5nZXRFbGVtZW50KCkuZ2V0Rmlyc3QoKTtiLnNldFN0eWxlKFwiei1pbmRleFwiLHBhcnNlSW50KGIuJC5zdHlsZS56SW5kZXgsMTApK01hdGguZmxvb3IodGhpcy5fLmVkaXRvci5jb25maWcuYmFzZUZsb2F0WkluZGV4LzIpKX1lbHNlIHAodGhpcy5fLmVkaXRvcik7aWYoQ0tFRElUT1IuZGlhbG9nLl8uY3VycmVudFRvcD10aGlzLl8ucGFyZW50RGlhbG9nKUNLRURJVE9SLmRpYWxvZy5fLmN1cnJlbnRaSW5kZXgtPTEwO2Vsc2V7Q0tFRElUT1IuZGlhbG9nLl8uY3VycmVudFpJbmRleD1udWxsO2EucmVtb3ZlTGlzdGVuZXIoXCJrZXlkb3duXCIsQyk7YS5yZW1vdmVMaXN0ZW5lcihcImtleXVwXCIsRik7dmFyIGM9dGhpcy5fLmVkaXRvcjtjLmZvY3VzKCk7c2V0VGltZW91dChmdW5jdGlvbigpe2MuZm9jdXNNYW5hZ2VyLnVubG9jaygpO0NLRURJVE9SLmVudi5pT1MmJmMud2luZG93LmZvY3VzKCl9LDApfWRlbGV0ZSB0aGlzLl8ucGFyZW50RGlhbG9nO1xudGhpcy5mb3JlYWNoKGZ1bmN0aW9uKGEpe2EucmVzZXRJbml0VmFsdWUmJmEucmVzZXRJbml0VmFsdWUoKX0pO3RoaXMuc2V0U3RhdGUoQ0tFRElUT1IuRElBTE9HX1NUQVRFX0lETEUpfX0sYWRkUGFnZTpmdW5jdGlvbihhKXtpZighYS5yZXF1aXJlZENvbnRlbnR8fHRoaXMuXy5lZGl0b3IuZmlsdGVyLmNoZWNrKGEucmVxdWlyZWRDb250ZW50KSl7Zm9yKHZhciBiPVtdLGM9YS5sYWJlbD8nIHRpdGxlXFx4M2RcIicrQ0tFRElUT1IudG9vbHMuaHRtbEVuY29kZShhLmxhYmVsKSsnXCInOlwiXCIsZD1DS0VESVRPUi5kaWFsb2cuXy51aUVsZW1lbnRCdWlsZGVycy52Ym94LmJ1aWxkKHRoaXMse3R5cGU6XCJ2Ym94XCIsY2xhc3NOYW1lOlwiY2tlX2RpYWxvZ19wYWdlX2NvbnRlbnRzXCIsY2hpbGRyZW46YS5lbGVtZW50cyxleHBhbmQ6ISFhLmV4cGFuZCxwYWRkaW5nOmEucGFkZGluZyxzdHlsZTphLnN0eWxlfHxcIndpZHRoOiAxMDAlO1wifSxiKSxlPXRoaXMuXy5jb250ZW50c1thLmlkXT17fSxmPWQuZ2V0Q2hpbGQoKSxcbmc9MDtkPWYuc2hpZnQoKTspZC5ub3RBbGxvd2VkfHxcImhib3hcIj09ZC50eXBlfHxcInZib3hcIj09ZC50eXBlfHxnKyssZVtkLmlkXT1kLFwiZnVuY3Rpb25cIj09dHlwZW9mIGQuZ2V0Q2hpbGQmJmYucHVzaC5hcHBseShmLGQuZ2V0Q2hpbGQoKSk7Z3x8KGEuaGlkZGVuPSEwKTtiPUNLRURJVE9SLmRvbS5lbGVtZW50LmNyZWF0ZUZyb21IdG1sKGIuam9pbihcIlwiKSk7Yi5zZXRBdHRyaWJ1dGUoXCJyb2xlXCIsXCJ0YWJwYW5lbFwiKTtkPUNLRURJVE9SLmVudjtlPVwiY2tlX1wiK2EuaWQrXCJfXCIrQ0tFRElUT1IudG9vbHMuZ2V0TmV4dE51bWJlcigpO2M9Q0tFRElUT1IuZG9tLmVsZW1lbnQuY3JlYXRlRnJvbUh0bWwoWydcXHgzY2EgY2xhc3NcXHgzZFwiY2tlX2RpYWxvZ190YWJcIicsMDx0aGlzLl8ucGFnZUNvdW50P1wiIGNrZV9sYXN0XCI6XCJja2VfZmlyc3RcIixjLGEuaGlkZGVuPycgc3R5bGVcXHgzZFwiZGlzcGxheTpub25lXCInOlwiXCIsJyBpZFxceDNkXCInLGUsJ1wiJyxkLmdlY2tvJiYhZC5oYz9cIlwiOicgaHJlZlxceDNkXCJqYXZhc2NyaXB0OnZvaWQoMClcIicsXG4nIHRhYkluZGV4XFx4M2RcIi0xXCIgaGlkZWZvY3VzXFx4M2RcInRydWVcIiByb2xlXFx4M2RcInRhYlwiXFx4M2UnLGEubGFiZWwsXCJcXHgzYy9hXFx4M2VcIl0uam9pbihcIlwiKSk7Yi5zZXRBdHRyaWJ1dGUoXCJhcmlhLWxhYmVsbGVkYnlcIixlKTt0aGlzLl8udGFic1thLmlkXT1bYyxiXTt0aGlzLl8udGFiSWRMaXN0LnB1c2goYS5pZCk7IWEuaGlkZGVuJiZ0aGlzLl8ucGFnZUNvdW50Kys7dGhpcy5fLmxhc3RUYWI9Yzt0aGlzLnVwZGF0ZVN0eWxlKCk7Yi5zZXRBdHRyaWJ1dGUoXCJuYW1lXCIsYS5pZCk7Yi5hcHBlbmRUbyh0aGlzLnBhcnRzLmNvbnRlbnRzKTtjLnVuc2VsZWN0YWJsZSgpO3RoaXMucGFydHMudGFicy5hcHBlbmQoYyk7YS5hY2Nlc3NLZXkmJihFKHRoaXMsdGhpcyxcIkNUUkwrXCIrYS5hY2Nlc3NLZXksTSxHKSx0aGlzLl8uYWNjZXNzS2V5TWFwW1wiQ1RSTCtcIithLmFjY2Vzc0tleV09YS5pZCl9fSxzZWxlY3RQYWdlOmZ1bmN0aW9uKGEpe2lmKHRoaXMuXy5jdXJyZW50VGFiSWQhPWEmJiF0aGlzLl8udGFic1thXVswXS5oYXNDbGFzcyhcImNrZV9kaWFsb2dfdGFiX2Rpc2FibGVkXCIpJiZcbiExIT09dGhpcy5maXJlKFwic2VsZWN0UGFnZVwiLHtwYWdlOmEsY3VycmVudFBhZ2U6dGhpcy5fLmN1cnJlbnRUYWJJZH0pKXtmb3IodmFyIGMgaW4gdGhpcy5fLnRhYnMpe3ZhciBkPXRoaXMuXy50YWJzW2NdWzBdLGU9dGhpcy5fLnRhYnNbY11bMV07YyE9YSYmKGQucmVtb3ZlQ2xhc3MoXCJja2VfZGlhbG9nX3RhYl9zZWxlY3RlZFwiKSxlLmhpZGUoKSk7ZS5zZXRBdHRyaWJ1dGUoXCJhcmlhLWhpZGRlblwiLGMhPWEpfXZhciBmPXRoaXMuXy50YWJzW2FdO2ZbMF0uYWRkQ2xhc3MoXCJja2VfZGlhbG9nX3RhYl9zZWxlY3RlZFwiKTtDS0VESVRPUi5lbnYuaWU2Q29tcGF0fHxDS0VESVRPUi5lbnYuaWU3Q29tcGF0PyhiKGZbMV0pLGZbMV0uc2hvdygpLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtiKGZbMV0sMSl9LDApKTpmWzFdLnNob3coKTt0aGlzLl8uY3VycmVudFRhYklkPWE7dGhpcy5fLmN1cnJlbnRUYWJJbmRleD1DS0VESVRPUi50b29scy5pbmRleE9mKHRoaXMuXy50YWJJZExpc3QsYSl9fSxcbnVwZGF0ZVN0eWxlOmZ1bmN0aW9uKCl7dGhpcy5wYXJ0cy5kaWFsb2dbKDE9PT10aGlzLl8ucGFnZUNvdW50P1wiYWRkXCI6XCJyZW1vdmVcIikrXCJDbGFzc1wiXShcImNrZV9zaW5nbGVfcGFnZVwiKX0saGlkZVBhZ2U6ZnVuY3Rpb24oYil7dmFyIGM9dGhpcy5fLnRhYnNbYl0mJnRoaXMuXy50YWJzW2JdWzBdO2MmJjEhPXRoaXMuXy5wYWdlQ291bnQmJmMuaXNWaXNpYmxlKCkmJihiPT10aGlzLl8uY3VycmVudFRhYklkJiZ0aGlzLnNlbGVjdFBhZ2UoYS5jYWxsKHRoaXMpKSxjLmhpZGUoKSx0aGlzLl8ucGFnZUNvdW50LS0sdGhpcy51cGRhdGVTdHlsZSgpKX0sc2hvd1BhZ2U6ZnVuY3Rpb24oYSl7aWYoYT10aGlzLl8udGFic1thXSYmdGhpcy5fLnRhYnNbYV1bMF0pYS5zaG93KCksdGhpcy5fLnBhZ2VDb3VudCsrLHRoaXMudXBkYXRlU3R5bGUoKX0sZ2V0RWxlbWVudDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl8uZWxlbWVudH0sZ2V0TmFtZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl8ubmFtZX0sXG5nZXRDb250ZW50RWxlbWVudDpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuXy5jb250ZW50c1thXTtyZXR1cm4gYyYmY1tiXX0sZ2V0VmFsdWVPZjpmdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLmdldENvbnRlbnRFbGVtZW50KGEsYikuZ2V0VmFsdWUoKX0sc2V0VmFsdWVPZjpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIHRoaXMuZ2V0Q29udGVudEVsZW1lbnQoYSxiKS5zZXRWYWx1ZShjKX0sZ2V0QnV0dG9uOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLl8uYnV0dG9uc1thXX0sY2xpY2s6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuXy5idXR0b25zW2FdLmNsaWNrKCl9LGRpc2FibGVCdXR0b246ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuXy5idXR0b25zW2FdLmRpc2FibGUoKX0sZW5hYmxlQnV0dG9uOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLl8uYnV0dG9uc1thXS5lbmFibGUoKX0sZ2V0UGFnZUNvdW50OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuXy5wYWdlQ291bnR9LGdldFBhcmVudEVkaXRvcjpmdW5jdGlvbigpe3JldHVybiB0aGlzLl8uZWRpdG9yfSxcbmdldFNlbGVjdGVkRWxlbWVudDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFBhcmVudEVkaXRvcigpLmdldFNlbGVjdGlvbigpLmdldFNlbGVjdGVkRWxlbWVudCgpfSxhZGRGb2N1c2FibGU6ZnVuY3Rpb24oYSxiKXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgYiliPXRoaXMuXy5mb2N1c0xpc3QubGVuZ3RoLHRoaXMuXy5mb2N1c0xpc3QucHVzaChuZXcgbCh0aGlzLGEsYikpO2Vsc2V7dGhpcy5fLmZvY3VzTGlzdC5zcGxpY2UoYiwwLG5ldyBsKHRoaXMsYSxiKSk7Zm9yKHZhciBjPWIrMTtjPHRoaXMuXy5mb2N1c0xpc3QubGVuZ3RoO2MrKyl0aGlzLl8uZm9jdXNMaXN0W2NdLmZvY3VzSW5kZXgrK319LHNldFN0YXRlOmZ1bmN0aW9uKGEpe2lmKHRoaXMuc3RhdGUhPWEpe3RoaXMuc3RhdGU9YTtpZihhPT1DS0VESVRPUi5ESUFMT0dfU1RBVEVfQlVTWSl7aWYoIXRoaXMucGFydHMuc3Bpbm5lcil7dmFyIGI9dGhpcy5nZXRQYXJlbnRFZGl0b3IoKS5sYW5nLmRpcixjPXthdHRyaWJ1dGVzOntcImNsYXNzXCI6XCJja2VfZGlhbG9nX3NwaW5uZXJcIn0sXG5zdHlsZXM6e1wiZmxvYXRcIjpcInJ0bFwiPT1iP1wicmlnaHRcIjpcImxlZnRcIn19O2Muc3R5bGVzW1wibWFyZ2luLVwiKyhcInJ0bFwiPT1iP1wibGVmdFwiOlwicmlnaHRcIildPVwiOHB4XCI7dGhpcy5wYXJ0cy5zcGlubmVyPUNLRURJVE9SLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIixjKTt0aGlzLnBhcnRzLnNwaW5uZXIuc2V0SHRtbChcIlxceDI2Izg5ODc7XCIpO3RoaXMucGFydHMuc3Bpbm5lci5hcHBlbmRUbyh0aGlzLnBhcnRzLnRpdGxlLDEpfXRoaXMucGFydHMuc3Bpbm5lci5zaG93KCk7dGhpcy5nZXRCdXR0b24oXCJva1wiKS5kaXNhYmxlKCl9ZWxzZSBhPT1DS0VESVRPUi5ESUFMT0dfU1RBVEVfSURMRSYmKHRoaXMucGFydHMuc3Bpbm5lciYmdGhpcy5wYXJ0cy5zcGlubmVyLmhpZGUoKSx0aGlzLmdldEJ1dHRvbihcIm9rXCIpLmVuYWJsZSgpKTt0aGlzLmZpcmUoXCJzdGF0ZVwiLGEpfX19O0NLRURJVE9SLnRvb2xzLmV4dGVuZChDS0VESVRPUi5kaWFsb2cse2FkZDpmdW5jdGlvbihhLGIpe3RoaXMuXy5kaWFsb2dEZWZpbml0aW9uc1thXSYmXG5cImZ1bmN0aW9uXCIhPXR5cGVvZiBifHwodGhpcy5fLmRpYWxvZ0RlZmluaXRpb25zW2FdPWIpfSxleGlzdHM6ZnVuY3Rpb24oYSl7cmV0dXJuISF0aGlzLl8uZGlhbG9nRGVmaW5pdGlvbnNbYV19LGdldEN1cnJlbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gQ0tFRElUT1IuZGlhbG9nLl8uY3VycmVudFRvcH0saXNUYWJFbmFibGVkOmZ1bmN0aW9uKGEsYixjKXthPWEuY29uZmlnLnJlbW92ZURpYWxvZ1RhYnM7cmV0dXJuIShhJiZhLm1hdGNoKG5ldyBSZWdFeHAoXCIoPzpefDspXCIrYitcIjpcIitjK1wiKD86JHw7KVwiLFwiaVwiKSkpfSxva0J1dHRvbjpmdW5jdGlvbigpe3ZhciBhPWZ1bmN0aW9uKGEsYil7Yj1ifHx7fTtyZXR1cm4gQ0tFRElUT1IudG9vbHMuZXh0ZW5kKHtpZDpcIm9rXCIsdHlwZTpcImJ1dHRvblwiLGxhYmVsOmEubGFuZy5jb21tb24ub2ssXCJjbGFzc1wiOlwiY2tlX2RpYWxvZ191aV9idXR0b25fb2tcIixvbkNsaWNrOmZ1bmN0aW9uKGEpe2E9YS5kYXRhLmRpYWxvZzshMSE9PWEuZmlyZShcIm9rXCIsXG57aGlkZTohMH0pLmhpZGUmJmEuaGlkZSgpfX0sYiwhMCl9O2EudHlwZT1cImJ1dHRvblwiO2Eub3ZlcnJpZGU9ZnVuY3Rpb24oYil7cmV0dXJuIENLRURJVE9SLnRvb2xzLmV4dGVuZChmdW5jdGlvbihjKXtyZXR1cm4gYShjLGIpfSx7dHlwZTpcImJ1dHRvblwifSwhMCl9O3JldHVybiBhfSgpLGNhbmNlbEJ1dHRvbjpmdW5jdGlvbigpe3ZhciBhPWZ1bmN0aW9uKGEsYil7Yj1ifHx7fTtyZXR1cm4gQ0tFRElUT1IudG9vbHMuZXh0ZW5kKHtpZDpcImNhbmNlbFwiLHR5cGU6XCJidXR0b25cIixsYWJlbDphLmxhbmcuY29tbW9uLmNhbmNlbCxcImNsYXNzXCI6XCJja2VfZGlhbG9nX3VpX2J1dHRvbl9jYW5jZWxcIixvbkNsaWNrOmZ1bmN0aW9uKGEpe2E9YS5kYXRhLmRpYWxvZzshMSE9PWEuZmlyZShcImNhbmNlbFwiLHtoaWRlOiEwfSkuaGlkZSYmYS5oaWRlKCl9fSxiLCEwKX07YS50eXBlPVwiYnV0dG9uXCI7YS5vdmVycmlkZT1mdW5jdGlvbihiKXtyZXR1cm4gQ0tFRElUT1IudG9vbHMuZXh0ZW5kKGZ1bmN0aW9uKGMpe3JldHVybiBhKGMsXG5iKX0se3R5cGU6XCJidXR0b25cIn0sITApfTtyZXR1cm4gYX0oKSxhZGRVSUVsZW1lbnQ6ZnVuY3Rpb24oYSxiKXt0aGlzLl8udWlFbGVtZW50QnVpbGRlcnNbYV09Yn19KTtDS0VESVRPUi5kaWFsb2cuXz17dWlFbGVtZW50QnVpbGRlcnM6e30sZGlhbG9nRGVmaW5pdGlvbnM6e30sY3VycmVudFRvcDpudWxsLGN1cnJlbnRaSW5kZXg6bnVsbH07Q0tFRElUT1IuZXZlbnQuaW1wbGVtZW50T24oQ0tFRElUT1IuZGlhbG9nKTtDS0VESVRPUi5ldmVudC5pbXBsZW1lbnRPbihDS0VESVRPUi5kaWFsb2cucHJvdG90eXBlKTt2YXIgcj17cmVzaXphYmxlOkNLRURJVE9SLkRJQUxPR19SRVNJWkVfQk9USCxtaW5XaWR0aDo2MDAsbWluSGVpZ2h0OjQwMCxidXR0b25zOltDS0VESVRPUi5kaWFsb2cub2tCdXR0b24sQ0tFRElUT1IuZGlhbG9nLmNhbmNlbEJ1dHRvbl19LHU9ZnVuY3Rpb24oYSxiLGMpe2Zvcih2YXIgZD0wLGU7ZT1hW2RdO2QrKylpZihlLmlkPT1ifHxjJiZlW2NdJiYoZT11KGVbY10sXG5iLGMpKSlyZXR1cm4gZTtyZXR1cm4gbnVsbH0sQj1mdW5jdGlvbihhLGIsYyxkLGUpe2lmKGMpe2Zvcih2YXIgZj0wLGc7Zz1hW2ZdO2YrKyl7aWYoZy5pZD09YylyZXR1cm4gYS5zcGxpY2UoZiwwLGIpLGI7aWYoZCYmZ1tkXSYmKGc9QihnW2RdLGIsYyxkLCEwKSkpcmV0dXJuIGd9aWYoZSlyZXR1cm4gbnVsbH1hLnB1c2goYik7cmV0dXJuIGJ9LHg9ZnVuY3Rpb24oYSxiLGMpe2Zvcih2YXIgZD0wLGU7ZT1hW2RdO2QrKyl7aWYoZS5pZD09YilyZXR1cm4gYS5zcGxpY2UoZCwxKTtpZihjJiZlW2NdJiYoZT14KGVbY10sYixjKSkpcmV0dXJuIGV9cmV0dXJuIG51bGx9LHc9ZnVuY3Rpb24oYSxiKXt0aGlzLmRpYWxvZz1hO2Zvcih2YXIgYz1iLmNvbnRlbnRzLGQ9MCxlO2U9Y1tkXTtkKyspY1tkXT1lJiZuZXcgaChhLGUpO0NLRURJVE9SLnRvb2xzLmV4dGVuZCh0aGlzLGIpfTt3LnByb3RvdHlwZT17Z2V0Q29udGVudHM6ZnVuY3Rpb24oYSl7cmV0dXJuIHUodGhpcy5jb250ZW50cyxcbmEpfSxnZXRCdXR0b246ZnVuY3Rpb24oYSl7cmV0dXJuIHUodGhpcy5idXR0b25zLGEpfSxhZGRDb250ZW50czpmdW5jdGlvbihhLGIpe3JldHVybiBCKHRoaXMuY29udGVudHMsYSxiKX0sYWRkQnV0dG9uOmZ1bmN0aW9uKGEsYil7cmV0dXJuIEIodGhpcy5idXR0b25zLGEsYil9LHJlbW92ZUNvbnRlbnRzOmZ1bmN0aW9uKGEpe3godGhpcy5jb250ZW50cyxhKX0scmVtb3ZlQnV0dG9uOmZ1bmN0aW9uKGEpe3godGhpcy5idXR0b25zLGEpfX07aC5wcm90b3R5cGU9e2dldDpmdW5jdGlvbihhKXtyZXR1cm4gdSh0aGlzLmVsZW1lbnRzLGEsXCJjaGlsZHJlblwiKX0sYWRkOmZ1bmN0aW9uKGEsYil7cmV0dXJuIEIodGhpcy5lbGVtZW50cyxhLGIsXCJjaGlsZHJlblwiKX0scmVtb3ZlOmZ1bmN0aW9uKGEpe3godGhpcy5lbGVtZW50cyxhLFwiY2hpbGRyZW5cIil9fTt2YXIgeixEPXt9LHksQT17fSxDPWZ1bmN0aW9uKGEpe3ZhciBiPWEuZGF0YS4kLmN0cmxLZXl8fGEuZGF0YS4kLm1ldGFLZXksYz1cbmEuZGF0YS4kLmFsdEtleSxkPWEuZGF0YS4kLnNoaWZ0S2V5LGU9U3RyaW5nLmZyb21DaGFyQ29kZShhLmRhdGEuJC5rZXlDb2RlKTsoYj1BWyhiP1wiQ1RSTCtcIjpcIlwiKSsoYz9cIkFMVCtcIjpcIlwiKSsoZD9cIlNISUZUK1wiOlwiXCIpK2VdKSYmYi5sZW5ndGgmJihiPWJbYi5sZW5ndGgtMV0sYi5rZXlkb3duJiZiLmtleWRvd24uY2FsbChiLnVpRWxlbWVudCxiLmRpYWxvZyxiLmtleSksYS5kYXRhLnByZXZlbnREZWZhdWx0KCkpfSxGPWZ1bmN0aW9uKGEpe3ZhciBiPWEuZGF0YS4kLmN0cmxLZXl8fGEuZGF0YS4kLm1ldGFLZXksYz1hLmRhdGEuJC5hbHRLZXksZD1hLmRhdGEuJC5zaGlmdEtleSxlPVN0cmluZy5mcm9tQ2hhckNvZGUoYS5kYXRhLiQua2V5Q29kZSk7KGI9QVsoYj9cIkNUUkwrXCI6XCJcIikrKGM/XCJBTFQrXCI6XCJcIikrKGQ/XCJTSElGVCtcIjpcIlwiKStlXSkmJmIubGVuZ3RoJiYoYj1iW2IubGVuZ3RoLTFdLGIua2V5dXAmJihiLmtleXVwLmNhbGwoYi51aUVsZW1lbnQsYi5kaWFsb2csYi5rZXkpLFxuYS5kYXRhLnByZXZlbnREZWZhdWx0KCkpKX0sRT1mdW5jdGlvbihhLGIsYyxkLGUpeyhBW2NdfHwoQVtjXT1bXSkpLnB1c2goe3VpRWxlbWVudDphLGRpYWxvZzpiLGtleTpjLGtleXVwOmV8fGEuYWNjZXNzS2V5VXAsa2V5ZG93bjpkfHxhLmFjY2Vzc0tleURvd259KX0sSj1mdW5jdGlvbihhKXtmb3IodmFyIGIgaW4gQSl7Zm9yKHZhciBjPUFbYl0sZD1jLmxlbmd0aC0xOzA8PWQ7ZC0tKWNbZF0uZGlhbG9nIT1hJiZjW2RdLnVpRWxlbWVudCE9YXx8Yy5zcGxpY2UoZCwxKTswPT09Yy5sZW5ndGgmJmRlbGV0ZSBBW2JdfX0sRz1mdW5jdGlvbihhLGIpe2EuXy5hY2Nlc3NLZXlNYXBbYl0mJmEuc2VsZWN0UGFnZShhLl8uYWNjZXNzS2V5TWFwW2JdKX0sTT1mdW5jdGlvbigpe307KGZ1bmN0aW9uKCl7Q0tFRElUT1IudWkuZGlhbG9nPXt1aUVsZW1lbnQ6ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyl7aWYoISg0PmFyZ3VtZW50cy5sZW5ndGgpKXt2YXIgaD0oZC5jYWxsP2QoYik6ZCl8fFwiZGl2XCIsXG5rPVtcIlxceDNjXCIsaCxcIiBcIl0sbD0oZSYmZS5jYWxsP2UoYik6ZSl8fHt9LG09KGYmJmYuY2FsbD9mKGIpOmYpfHx7fSxuPShnJiZnLmNhbGw/Zy5jYWxsKHRoaXMsYSxiKTpnKXx8XCJcIix1PXRoaXMuZG9tSWQ9bS5pZHx8Q0tFRElUT1IudG9vbHMuZ2V0TmV4dElkKCkrXCJfdWlFbGVtZW50XCI7Yi5yZXF1aXJlZENvbnRlbnQmJiFhLmdldFBhcmVudEVkaXRvcigpLmZpbHRlci5jaGVjayhiLnJlcXVpcmVkQ29udGVudCkmJihsLmRpc3BsYXk9XCJub25lXCIsdGhpcy5ub3RBbGxvd2VkPSEwKTttLmlkPXU7dmFyIHI9e307Yi50eXBlJiYocltcImNrZV9kaWFsb2dfdWlfXCIrYi50eXBlXT0xKTtiLmNsYXNzTmFtZSYmKHJbYi5jbGFzc05hbWVdPTEpO2IuZGlzYWJsZWQmJihyLmNrZV9kaXNhYmxlZD0xKTtmb3IodmFyIHQ9bVtcImNsYXNzXCJdJiZtW1wiY2xhc3NcIl0uc3BsaXQ/bVtcImNsYXNzXCJdLnNwbGl0KFwiIFwiKTpbXSx1PTA7dTx0Lmxlbmd0aDt1KyspdFt1XSYmKHJbdFt1XV09MSk7dD1bXTtmb3IodSBpbiByKXQucHVzaCh1KTtcbm1bXCJjbGFzc1wiXT10LmpvaW4oXCIgXCIpO2IudGl0bGUmJihtLnRpdGxlPWIudGl0bGUpO3I9KGIuc3R5bGV8fFwiXCIpLnNwbGl0KFwiO1wiKTtiLmFsaWduJiYodD1iLmFsaWduLGxbXCJtYXJnaW4tbGVmdFwiXT1cImxlZnRcIj09dD8wOlwiYXV0b1wiLGxbXCJtYXJnaW4tcmlnaHRcIl09XCJyaWdodFwiPT10PzA6XCJhdXRvXCIpO2Zvcih1IGluIGwpci5wdXNoKHUrXCI6XCIrbFt1XSk7Yi5oaWRkZW4mJnIucHVzaChcImRpc3BsYXk6bm9uZVwiKTtmb3IodT1yLmxlbmd0aC0xOzA8PXU7dS0tKVwiXCI9PT1yW3VdJiZyLnNwbGljZSh1LDEpOzA8ci5sZW5ndGgmJihtLnN0eWxlPShtLnN0eWxlP20uc3R5bGUrXCI7IFwiOlwiXCIpK3Iuam9pbihcIjsgXCIpKTtmb3IodSBpbiBtKWsucHVzaCh1KydcXHgzZFwiJytDS0VESVRPUi50b29scy5odG1sRW5jb2RlKG1bdV0pKydcIiAnKTtrLnB1c2goXCJcXHgzZVwiLG4sXCJcXHgzYy9cIixoLFwiXFx4M2VcIik7Yy5wdXNoKGsuam9pbihcIlwiKSk7KHRoaXMuX3x8KHRoaXMuXz17fSkpLmRpYWxvZz1hO1wiYm9vbGVhblwiPT1cbnR5cGVvZiBiLmlzQ2hhbmdlZCYmKHRoaXMuaXNDaGFuZ2VkPWZ1bmN0aW9uKCl7cmV0dXJuIGIuaXNDaGFuZ2VkfSk7XCJmdW5jdGlvblwiPT10eXBlb2YgYi5pc0NoYW5nZWQmJih0aGlzLmlzQ2hhbmdlZD1iLmlzQ2hhbmdlZCk7XCJmdW5jdGlvblwiPT10eXBlb2YgYi5zZXRWYWx1ZSYmKHRoaXMuc2V0VmFsdWU9Q0tFRElUT1IudG9vbHMub3ZlcnJpZGUodGhpcy5zZXRWYWx1ZSxmdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oYyl7YS5jYWxsKHRoaXMsYi5zZXRWYWx1ZS5jYWxsKHRoaXMsYykpfX0pKTtcImZ1bmN0aW9uXCI9PXR5cGVvZiBiLmdldFZhbHVlJiYodGhpcy5nZXRWYWx1ZT1DS0VESVRPUi50b29scy5vdmVycmlkZSh0aGlzLmdldFZhbHVlLGZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBiLmdldFZhbHVlLmNhbGwodGhpcyxhLmNhbGwodGhpcykpfX0pKTtDS0VESVRPUi5ldmVudC5pbXBsZW1lbnRPbih0aGlzKTt0aGlzLnJlZ2lzdGVyRXZlbnRzKGIpO1xudGhpcy5hY2Nlc3NLZXlVcCYmdGhpcy5hY2Nlc3NLZXlEb3duJiZiLmFjY2Vzc0tleSYmRSh0aGlzLGEsXCJDVFJMK1wiK2IuYWNjZXNzS2V5KTt2YXIgeD10aGlzO2Eub24oXCJsb2FkXCIsZnVuY3Rpb24oKXt2YXIgYj14LmdldElucHV0RWxlbWVudCgpO2lmKGIpe3ZhciBjPXgudHlwZSBpbntjaGVja2JveDoxLHJhdGlvOjF9JiZDS0VESVRPUi5lbnYuaWUmJjg+Q0tFRElUT1IuZW52LnZlcnNpb24/XCJja2VfZGlhbG9nX3VpX2ZvY3VzZWRcIjpcIlwiO2Iub24oXCJmb2N1c1wiLGZ1bmN0aW9uKCl7YS5fLnRhYkJhck1vZGU9ITE7YS5fLmhhc0ZvY3VzPSEwO3guZmlyZShcImZvY3VzXCIpO2MmJnRoaXMuYWRkQ2xhc3MoYyl9KTtiLm9uKFwiYmx1clwiLGZ1bmN0aW9uKCl7eC5maXJlKFwiYmx1clwiKTtjJiZ0aGlzLnJlbW92ZUNsYXNzKGMpfSl9fSk7Q0tFRElUT1IudG9vbHMuZXh0ZW5kKHRoaXMsYik7dGhpcy5rZXlib2FyZEZvY3VzYWJsZSYmKHRoaXMudGFiSW5kZXg9Yi50YWJJbmRleHx8MCx0aGlzLmZvY3VzSW5kZXg9XG5hLl8uZm9jdXNMaXN0LnB1c2godGhpcyktMSx0aGlzLm9uKFwiZm9jdXNcIixmdW5jdGlvbigpe2EuXy5jdXJyZW50Rm9jdXNJbmRleD14LmZvY3VzSW5kZXh9KSl9fSxoYm94OmZ1bmN0aW9uKGEsYixjLGQsZSl7aWYoISg0PmFyZ3VtZW50cy5sZW5ndGgpKXt0aGlzLl98fCh0aGlzLl89e30pO3ZhciBmPXRoaXMuXy5jaGlsZHJlbj1iLGc9ZSYmZS53aWR0aHN8fG51bGwsaD1lJiZlLmhlaWdodHx8bnVsbCxrLGw9e3JvbGU6XCJwcmVzZW50YXRpb25cIn07ZSYmZS5hbGlnbiYmKGwuYWxpZ249ZS5hbGlnbik7Q0tFRElUT1IudWkuZGlhbG9nLnVpRWxlbWVudC5jYWxsKHRoaXMsYSxlfHx7dHlwZTpcImhib3hcIn0sZCxcInRhYmxlXCIse30sbCxmdW5jdGlvbigpe3ZhciBhPVsnXFx4M2N0Ym9keVxceDNlXFx4M2N0ciBjbGFzc1xceDNkXCJja2VfZGlhbG9nX3VpX2hib3hcIlxceDNlJ107Zm9yKGs9MDtrPGMubGVuZ3RoO2srKyl7dmFyIGI9XCJja2VfZGlhbG9nX3VpX2hib3hfY2hpbGRcIixkPVtdOzA9PT1rJiZcbihiPVwiY2tlX2RpYWxvZ191aV9oYm94X2ZpcnN0XCIpO2s9PWMubGVuZ3RoLTEmJihiPVwiY2tlX2RpYWxvZ191aV9oYm94X2xhc3RcIik7YS5wdXNoKCdcXHgzY3RkIGNsYXNzXFx4M2RcIicsYiwnXCIgcm9sZVxceDNkXCJwcmVzZW50YXRpb25cIiAnKTtnP2dba10mJmQucHVzaChcIndpZHRoOlwiK3QoZ1trXSkpOmQucHVzaChcIndpZHRoOlwiK01hdGguZmxvb3IoMTAwL2MubGVuZ3RoKStcIiVcIik7aCYmZC5wdXNoKFwiaGVpZ2h0OlwiK3QoaCkpO2UmJnZvaWQgMCE9PWUucGFkZGluZyYmZC5wdXNoKFwicGFkZGluZzpcIit0KGUucGFkZGluZykpO0NLRURJVE9SLmVudi5pZSYmQ0tFRElUT1IuZW52LnF1aXJrcyYmZltrXS5hbGlnbiYmZC5wdXNoKFwidGV4dC1hbGlnbjpcIitmW2tdLmFsaWduKTswPGQubGVuZ3RoJiZhLnB1c2goJ3N0eWxlXFx4M2RcIicrZC5qb2luKFwiOyBcIikrJ1wiICcpO2EucHVzaChcIlxceDNlXCIsY1trXSxcIlxceDNjL3RkXFx4M2VcIil9YS5wdXNoKFwiXFx4M2MvdHJcXHgzZVxceDNjL3Rib2R5XFx4M2VcIik7cmV0dXJuIGEuam9pbihcIlwiKX0pfX0sXG52Ym94OmZ1bmN0aW9uKGEsYixjLGQsZSl7aWYoISgzPmFyZ3VtZW50cy5sZW5ndGgpKXt0aGlzLl98fCh0aGlzLl89e30pO3ZhciBmPXRoaXMuXy5jaGlsZHJlbj1iLGc9ZSYmZS53aWR0aHx8bnVsbCxoPWUmJmUuaGVpZ2h0c3x8bnVsbDtDS0VESVRPUi51aS5kaWFsb2cudWlFbGVtZW50LmNhbGwodGhpcyxhLGV8fHt0eXBlOlwidmJveFwifSxkLFwiZGl2XCIsbnVsbCx7cm9sZTpcInByZXNlbnRhdGlvblwifSxmdW5jdGlvbigpe3ZhciBiPVsnXFx4M2N0YWJsZSByb2xlXFx4M2RcInByZXNlbnRhdGlvblwiIGNlbGxzcGFjaW5nXFx4M2RcIjBcIiBib3JkZXJcXHgzZFwiMFwiICddO2IucHVzaCgnc3R5bGVcXHgzZFwiJyk7ZSYmZS5leHBhbmQmJmIucHVzaChcImhlaWdodDoxMDAlO1wiKTtiLnB1c2goXCJ3aWR0aDpcIit0KGd8fFwiMTAwJVwiKSxcIjtcIik7Q0tFRElUT1IuZW52LndlYmtpdCYmYi5wdXNoKFwiZmxvYXQ6bm9uZTtcIik7Yi5wdXNoKCdcIicpO2IucHVzaCgnYWxpZ25cXHgzZFwiJyxDS0VESVRPUi50b29scy5odG1sRW5jb2RlKGUmJlxuZS5hbGlnbnx8KFwibHRyXCI9PWEuZ2V0UGFyZW50RWRpdG9yKCkubGFuZy5kaXI/XCJsZWZ0XCI6XCJyaWdodFwiKSksJ1wiICcpO2IucHVzaChcIlxceDNlXFx4M2N0Ym9keVxceDNlXCIpO2Zvcih2YXIgZD0wO2Q8Yy5sZW5ndGg7ZCsrKXt2YXIgaz1bXTtiLnB1c2goJ1xceDNjdHJcXHgzZVxceDNjdGQgcm9sZVxceDNkXCJwcmVzZW50YXRpb25cIiAnKTtnJiZrLnB1c2goXCJ3aWR0aDpcIit0KGd8fFwiMTAwJVwiKSk7aD9rLnB1c2goXCJoZWlnaHQ6XCIrdChoW2RdKSk6ZSYmZS5leHBhbmQmJmsucHVzaChcImhlaWdodDpcIitNYXRoLmZsb29yKDEwMC9jLmxlbmd0aCkrXCIlXCIpO2UmJnZvaWQgMCE9PWUucGFkZGluZyYmay5wdXNoKFwicGFkZGluZzpcIit0KGUucGFkZGluZykpO0NLRURJVE9SLmVudi5pZSYmQ0tFRElUT1IuZW52LnF1aXJrcyYmZltkXS5hbGlnbiYmay5wdXNoKFwidGV4dC1hbGlnbjpcIitmW2RdLmFsaWduKTswPGsubGVuZ3RoJiZiLnB1c2goJ3N0eWxlXFx4M2RcIicsay5qb2luKFwiOyBcIiksJ1wiICcpO2IucHVzaCgnIGNsYXNzXFx4M2RcImNrZV9kaWFsb2dfdWlfdmJveF9jaGlsZFwiXFx4M2UnLFxuY1tkXSxcIlxceDNjL3RkXFx4M2VcXHgzYy90clxceDNlXCIpfWIucHVzaChcIlxceDNjL3Rib2R5XFx4M2VcXHgzYy90YWJsZVxceDNlXCIpO3JldHVybiBiLmpvaW4oXCJcIil9KX19fX0pKCk7Q0tFRElUT1IudWkuZGlhbG9nLnVpRWxlbWVudC5wcm90b3R5cGU9e2dldEVsZW1lbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gQ0tFRElUT1IuZG9jdW1lbnQuZ2V0QnlJZCh0aGlzLmRvbUlkKX0sZ2V0SW5wdXRFbGVtZW50OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0RWxlbWVudCgpfSxnZXREaWFsb2c6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fLmRpYWxvZ30sc2V0VmFsdWU6ZnVuY3Rpb24oYSxiKXt0aGlzLmdldElucHV0RWxlbWVudCgpLnNldFZhbHVlKGEpOyFiJiZ0aGlzLmZpcmUoXCJjaGFuZ2VcIix7dmFsdWU6YX0pO3JldHVybiB0aGlzfSxnZXRWYWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdldElucHV0RWxlbWVudCgpLmdldFZhbHVlKCl9LGlzQ2hhbmdlZDpmdW5jdGlvbigpe3JldHVybiExfSxzZWxlY3RQYXJlbnRUYWI6ZnVuY3Rpb24oKXtmb3IodmFyIGE9XG50aGlzLmdldElucHV0RWxlbWVudCgpOyhhPWEuZ2V0UGFyZW50KCkpJiYtMT09YS4kLmNsYXNzTmFtZS5zZWFyY2goXCJja2VfZGlhbG9nX3BhZ2VfY29udGVudHNcIik7KTtpZighYSlyZXR1cm4gdGhpczthPWEuZ2V0QXR0cmlidXRlKFwibmFtZVwiKTt0aGlzLl8uZGlhbG9nLl8uY3VycmVudFRhYklkIT1hJiZ0aGlzLl8uZGlhbG9nLnNlbGVjdFBhZ2UoYSk7cmV0dXJuIHRoaXN9LGZvY3VzOmZ1bmN0aW9uKCl7dGhpcy5zZWxlY3RQYXJlbnRUYWIoKS5nZXRJbnB1dEVsZW1lbnQoKS5mb2N1cygpO3JldHVybiB0aGlzfSxyZWdpc3RlckV2ZW50czpmdW5jdGlvbihhKXt2YXIgYj0vXm9uKFtBLVpdXFx3KykvLGMsZD1mdW5jdGlvbihhLGIsYyxkKXtiLm9uKFwibG9hZFwiLGZ1bmN0aW9uKCl7YS5nZXRJbnB1dEVsZW1lbnQoKS5vbihjLGQsYSl9KX0sZTtmb3IoZSBpbiBhKWlmKGM9ZS5tYXRjaChiKSl0aGlzLmV2ZW50UHJvY2Vzc29yc1tlXT90aGlzLmV2ZW50UHJvY2Vzc29yc1tlXS5jYWxsKHRoaXMsXG50aGlzLl8uZGlhbG9nLGFbZV0pOmQodGhpcyx0aGlzLl8uZGlhbG9nLGNbMV0udG9Mb3dlckNhc2UoKSxhW2VdKTtyZXR1cm4gdGhpc30sZXZlbnRQcm9jZXNzb3JzOntvbkxvYWQ6ZnVuY3Rpb24oYSxiKXthLm9uKFwibG9hZFwiLGIsdGhpcyl9LG9uU2hvdzpmdW5jdGlvbihhLGIpe2Eub24oXCJzaG93XCIsYix0aGlzKX0sb25IaWRlOmZ1bmN0aW9uKGEsYil7YS5vbihcImhpZGVcIixiLHRoaXMpfX0sYWNjZXNzS2V5RG93bjpmdW5jdGlvbigpe3RoaXMuZm9jdXMoKX0sYWNjZXNzS2V5VXA6ZnVuY3Rpb24oKXt9LGRpc2FibGU6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmdldEVsZW1lbnQoKTt0aGlzLmdldElucHV0RWxlbWVudCgpLnNldEF0dHJpYnV0ZShcImRpc2FibGVkXCIsXCJ0cnVlXCIpO2EuYWRkQ2xhc3MoXCJja2VfZGlzYWJsZWRcIil9LGVuYWJsZTpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZ2V0RWxlbWVudCgpO3RoaXMuZ2V0SW5wdXRFbGVtZW50KCkucmVtb3ZlQXR0cmlidXRlKFwiZGlzYWJsZWRcIik7XG5hLnJlbW92ZUNsYXNzKFwiY2tlX2Rpc2FibGVkXCIpfSxpc0VuYWJsZWQ6ZnVuY3Rpb24oKXtyZXR1cm4hdGhpcy5nZXRFbGVtZW50KCkuaGFzQ2xhc3MoXCJja2VfZGlzYWJsZWRcIil9LGlzVmlzaWJsZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdldElucHV0RWxlbWVudCgpLmlzVmlzaWJsZSgpfSxpc0ZvY3VzYWJsZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmlzRW5hYmxlZCgpJiZ0aGlzLmlzVmlzaWJsZSgpPyEwOiExfX07Q0tFRElUT1IudWkuZGlhbG9nLmhib3gucHJvdG90eXBlPUNLRURJVE9SLnRvb2xzLmV4dGVuZChuZXcgQ0tFRElUT1IudWkuZGlhbG9nLnVpRWxlbWVudCx7Z2V0Q2hpbGQ6ZnVuY3Rpb24oYSl7aWYoMT5hcmd1bWVudHMubGVuZ3RoKXJldHVybiB0aGlzLl8uY2hpbGRyZW4uY29uY2F0KCk7YS5zcGxpY2V8fChhPVthXSk7cmV0dXJuIDI+YS5sZW5ndGg/dGhpcy5fLmNoaWxkcmVuW2FbMF1dOnRoaXMuXy5jaGlsZHJlblthWzBdXSYmdGhpcy5fLmNoaWxkcmVuW2FbMF1dLmdldENoaWxkP1xudGhpcy5fLmNoaWxkcmVuW2FbMF1dLmdldENoaWxkKGEuc2xpY2UoMSxhLmxlbmd0aCkpOm51bGx9fSwhMCk7Q0tFRElUT1IudWkuZGlhbG9nLnZib3gucHJvdG90eXBlPW5ldyBDS0VESVRPUi51aS5kaWFsb2cuaGJveDsoZnVuY3Rpb24oKXt2YXIgYT17YnVpbGQ6ZnVuY3Rpb24oYSxiLGMpe2Zvcih2YXIgZD1iLmNoaWxkcmVuLGUsZj1bXSxnPVtdLGg9MDtoPGQubGVuZ3RoJiYoZT1kW2hdKTtoKyspe3ZhciBrPVtdO2YucHVzaChrKTtnLnB1c2goQ0tFRElUT1IuZGlhbG9nLl8udWlFbGVtZW50QnVpbGRlcnNbZS50eXBlXS5idWlsZChhLGUsaykpfXJldHVybiBuZXcgQ0tFRElUT1IudWkuZGlhbG9nW2IudHlwZV0oYSxnLGYsYyxiKX19O0NLRURJVE9SLmRpYWxvZy5hZGRVSUVsZW1lbnQoXCJoYm94XCIsYSk7Q0tFRElUT1IuZGlhbG9nLmFkZFVJRWxlbWVudChcInZib3hcIixhKX0pKCk7Q0tFRElUT1IuZGlhbG9nQ29tbWFuZD1mdW5jdGlvbihhLGIpe3RoaXMuZGlhbG9nTmFtZT1hO1xuQ0tFRElUT1IudG9vbHMuZXh0ZW5kKHRoaXMsYiwhMCl9O0NLRURJVE9SLmRpYWxvZ0NvbW1hbmQucHJvdG90eXBlPXtleGVjOmZ1bmN0aW9uKGEpe2Eub3BlbkRpYWxvZyh0aGlzLmRpYWxvZ05hbWUpfSxjYW5VbmRvOiExLGVkaXRvckZvY3VzOjF9OyhmdW5jdGlvbigpe3ZhciBhPS9eKFthXXxbXmFdKSskLyxiPS9eXFxkKiQvLGM9L15cXGQqKD86XFwuXFxkKyk/JC8sZD0vXigoKFxcZCooXFwuXFxkKykpfChcXGQqKSkocHh8XFwlKT8pPyQvLGU9L14oKChcXGQqKFxcLlxcZCspKXwoXFxkKikpKHB4fGVtfGV4fGlufGNtfG1tfHB0fHBjfFxcJSk/KT8kL2ksZj0vXihcXHMqW1xcdy1dK1xccyo6XFxzKlteOjtdKyg/Ojt8JCkpKiQvO0NLRURJVE9SLlZBTElEQVRFX09SPTE7Q0tFRElUT1IuVkFMSURBVEVfQU5EPTI7Q0tFRElUT1IuZGlhbG9nLnZhbGlkYXRlPXtmdW5jdGlvbnM6ZnVuY3Rpb24oKXt2YXIgYT1hcmd1bWVudHM7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGI9dGhpcyYmdGhpcy5nZXRWYWx1ZT90aGlzLmdldFZhbHVlKCk6XG5hWzBdLGMsZD1DS0VESVRPUi5WQUxJREFURV9BTkQsZT1bXSxmO2ZvcihmPTA7ZjxhLmxlbmd0aDtmKyspaWYoXCJmdW5jdGlvblwiPT10eXBlb2YgYVtmXSllLnB1c2goYVtmXSk7ZWxzZSBicmVhaztmPGEubGVuZ3RoJiZcInN0cmluZ1wiPT10eXBlb2YgYVtmXSYmKGM9YVtmXSxmKyspO2Y8YS5sZW5ndGgmJlwibnVtYmVyXCI9PXR5cGVvZiBhW2ZdJiYoZD1hW2ZdKTt2YXIgZz1kPT1DS0VESVRPUi5WQUxJREFURV9BTkQ/ITA6ITE7Zm9yKGY9MDtmPGUubGVuZ3RoO2YrKylnPWQ9PUNLRURJVE9SLlZBTElEQVRFX0FORD9nJiZlW2ZdKGIpOmd8fGVbZl0oYik7cmV0dXJuIGc/ITA6Y319LHJlZ2V4OmZ1bmN0aW9uKGEsYil7cmV0dXJuIGZ1bmN0aW9uKGMpe2M9dGhpcyYmdGhpcy5nZXRWYWx1ZT90aGlzLmdldFZhbHVlKCk6YztyZXR1cm4gYS50ZXN0KGMpPyEwOmJ9fSxub3RFbXB0eTpmdW5jdGlvbihiKXtyZXR1cm4gdGhpcy5yZWdleChhLGIpfSxpbnRlZ2VyOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLnJlZ2V4KGIsXG5hKX0sbnVtYmVyOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLnJlZ2V4KGMsYSl9LGNzc0xlbmd0aDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5mdW5jdGlvbnMoZnVuY3Rpb24oYSl7cmV0dXJuIGUudGVzdChDS0VESVRPUi50b29scy50cmltKGEpKX0sYSl9LGh0bWxMZW5ndGg6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZnVuY3Rpb25zKGZ1bmN0aW9uKGEpe3JldHVybiBkLnRlc3QoQ0tFRElUT1IudG9vbHMudHJpbShhKSl9LGEpfSxpbmxpbmVTdHlsZTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5mdW5jdGlvbnMoZnVuY3Rpb24oYSl7cmV0dXJuIGYudGVzdChDS0VESVRPUi50b29scy50cmltKGEpKX0sYSl9LGVxdWFsczpmdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLmZ1bmN0aW9ucyhmdW5jdGlvbihiKXtyZXR1cm4gYj09YX0sYil9LG5vdEVxdWFsOmZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuZnVuY3Rpb25zKGZ1bmN0aW9uKGIpe3JldHVybiBiIT1hfSxiKX19O0NLRURJVE9SLm9uKFwiaW5zdGFuY2VEZXN0cm95ZWRcIixcbmZ1bmN0aW9uKGEpe2lmKENLRURJVE9SLnRvb2xzLmlzRW1wdHkoQ0tFRElUT1IuaW5zdGFuY2VzKSl7Zm9yKHZhciBiO2I9Q0tFRElUT1IuZGlhbG9nLl8uY3VycmVudFRvcDspYi5oaWRlKCk7Zm9yKHZhciBjIGluIEQpRFtjXS5yZW1vdmUoKTtEPXt9fWE9YS5lZGl0b3IuXy5zdG9yZWREaWFsb2dzO2Zvcih2YXIgZCBpbiBhKWFbZF0uZGVzdHJveSgpfSl9KSgpO0NLRURJVE9SLnRvb2xzLmV4dGVuZChDS0VESVRPUi5lZGl0b3IucHJvdG90eXBlLHtvcGVuRGlhbG9nOmZ1bmN0aW9uKGEsYil7dmFyIGM9bnVsbCxkPUNLRURJVE9SLmRpYWxvZy5fLmRpYWxvZ0RlZmluaXRpb25zW2FdO251bGw9PT1DS0VESVRPUi5kaWFsb2cuXy5jdXJyZW50VG9wJiZxKHRoaXMpO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGQpYz10aGlzLl8uc3RvcmVkRGlhbG9nc3x8KHRoaXMuXy5zdG9yZWREaWFsb2dzPXt9KSxjPWNbYV18fChjW2FdPW5ldyBDS0VESVRPUi5kaWFsb2codGhpcyxhKSksYiYmYi5jYWxsKGMsXG5jKSxjLnNob3coKTtlbHNle2lmKFwiZmFpbGVkXCI9PWQpdGhyb3cgcCh0aGlzKSxFcnJvcignW0NLRURJVE9SLmRpYWxvZy5vcGVuRGlhbG9nXSBEaWFsb2cgXCInK2ErJ1wiIGZhaWxlZCB3aGVuIGxvYWRpbmcgZGVmaW5pdGlvbi4nKTtcInN0cmluZ1wiPT10eXBlb2YgZCYmQ0tFRElUT1Iuc2NyaXB0TG9hZGVyLmxvYWQoQ0tFRElUT1IuZ2V0VXJsKGQpLGZ1bmN0aW9uKCl7XCJmdW5jdGlvblwiIT10eXBlb2YgQ0tFRElUT1IuZGlhbG9nLl8uZGlhbG9nRGVmaW5pdGlvbnNbYV0mJihDS0VESVRPUi5kaWFsb2cuXy5kaWFsb2dEZWZpbml0aW9uc1thXT1cImZhaWxlZFwiKTt0aGlzLm9wZW5EaWFsb2coYSxiKX0sdGhpcywwLDEpfUNLRURJVE9SLnNraW4ubG9hZFBhcnQoXCJkaWFsb2dcIik7cmV0dXJuIGN9fSl9KCksQ0tFRElUT1IucGx1Z2lucy5hZGQoXCJkaWFsb2dcIix7cmVxdWlyZXM6XCJkaWFsb2d1aVwiLGluaXQ6ZnVuY3Rpb24oYSl7YS5vbihcImRvdWJsZWNsaWNrXCIsZnVuY3Rpb24oZil7Zi5kYXRhLmRpYWxvZyYmXG5hLm9wZW5EaWFsb2coZi5kYXRhLmRpYWxvZyl9LG51bGwsbnVsbCw5OTkpfX0pLGZ1bmN0aW9uKCl7Q0tFRElUT1IucGx1Z2lucy5hZGQoXCJhMTF5aGVscFwiLHtyZXF1aXJlczpcImRpYWxvZ1wiLGF2YWlsYWJsZUxhbmdzOnthZjoxLGFyOjEsYmc6MSxjYToxLGNzOjEsY3k6MSxkYToxLGRlOjEsXCJkZS1jaFwiOjEsZWw6MSxlbjoxLFwiZW4tZ2JcIjoxLGVvOjEsZXM6MSxldDoxLGV1OjEsZmE6MSxmaToxLGZvOjEsZnI6MSxcImZyLWNhXCI6MSxnbDoxLGd1OjEsaGU6MSxoaToxLGhyOjEsaHU6MSxpZDoxLGl0OjEsamE6MSxrbToxLGtvOjEsa3U6MSxsdDoxLGx2OjEsbWs6MSxtbjoxLG5iOjEsbmw6MSxubzoxLHBsOjEscHQ6MSxcInB0LWJyXCI6MSxybzoxLHJ1OjEsc2k6MSxzazoxLHNsOjEsc3E6MSxzcjoxLFwic3ItbGF0blwiOjEsc3Y6MSx0aDoxLHRyOjEsdHQ6MSx1ZzoxLHVrOjEsdmk6MSx6aDoxLFwiemgtY25cIjoxfSxpbml0OmZ1bmN0aW9uKGEpe3ZhciBmPXRoaXM7YS5hZGRDb21tYW5kKFwiYTExeUhlbHBcIixcbntleGVjOmZ1bmN0aW9uKCl7dmFyIGI9YS5sYW5nQ29kZSxiPWYuYXZhaWxhYmxlTGFuZ3NbYl0/YjpmLmF2YWlsYWJsZUxhbmdzW2IucmVwbGFjZSgvLS4qLyxcIlwiKV0/Yi5yZXBsYWNlKC8tLiovLFwiXCIpOlwiZW5cIjtDS0VESVRPUi5zY3JpcHRMb2FkZXIubG9hZChDS0VESVRPUi5nZXRVcmwoZi5wYXRoK1wiZGlhbG9ncy9sYW5nL1wiK2IrXCIuanNcIiksZnVuY3Rpb24oKXthLmxhbmcuYTExeWhlbHA9Zi5sYW5nRW50cmllc1tiXTthLm9wZW5EaWFsb2coXCJhMTF5SGVscFwiKX0pfSxtb2Rlczp7d3lzaXd5ZzoxLHNvdXJjZToxfSxyZWFkT25seToxLGNhblVuZG86ITF9KTthLnNldEtleXN0cm9rZShDS0VESVRPUi5BTFQrNDgsXCJhMTF5SGVscFwiKTtDS0VESVRPUi5kaWFsb2cuYWRkKFwiYTExeUhlbHBcIix0aGlzLnBhdGgrXCJkaWFsb2dzL2ExMXloZWxwLmpzXCIpO2Eub24oXCJhcmlhRWRpdG9ySGVscExhYmVsXCIsZnVuY3Rpb24oYil7Yi5kYXRhLmxhYmVsPWEubGFuZy5jb21tb24uZWRpdG9ySGVscH0pfX0pfSgpLFxuQ0tFRElUT1IucGx1Z2lucy5hZGQoXCJhYm91dFwiLHtyZXF1aXJlczpcImRpYWxvZ1wiLGluaXQ6ZnVuY3Rpb24oYSl7dmFyIGY9YS5hZGRDb21tYW5kKFwiYWJvdXRcIixuZXcgQ0tFRElUT1IuZGlhbG9nQ29tbWFuZChcImFib3V0XCIpKTtmLm1vZGVzPXt3eXNpd3lnOjEsc291cmNlOjF9O2YuY2FuVW5kbz0hMTtmLnJlYWRPbmx5PTE7YS51aS5hZGRCdXR0b24mJmEudWkuYWRkQnV0dG9uKFwiQWJvdXRcIix7bGFiZWw6YS5sYW5nLmFib3V0LnRpdGxlLGNvbW1hbmQ6XCJhYm91dFwiLHRvb2xiYXI6XCJhYm91dFwifSk7Q0tFRElUT1IuZGlhbG9nLmFkZChcImFib3V0XCIsdGhpcy5wYXRoK1wiZGlhbG9ncy9hYm91dC5qc1wiKX19KSxDS0VESVRPUi5wbHVnaW5zLmFkZChcImJhc2ljc3R5bGVzXCIse2luaXQ6ZnVuY3Rpb24oYSl7dmFyIGY9MCxiPWZ1bmN0aW9uKGIsZCxlLGspe2lmKGspe2s9bmV3IENLRURJVE9SLnN0eWxlKGspO3ZhciBnPWNbZV07Zy51bnNoaWZ0KGspO2EuYXR0YWNoU3R5bGVTdGF0ZUNoYW5nZShrLFxuZnVuY3Rpb24oYil7IWEucmVhZE9ubHkmJmEuZ2V0Q29tbWFuZChlKS5zZXRTdGF0ZShiKX0pO2EuYWRkQ29tbWFuZChlLG5ldyBDS0VESVRPUi5zdHlsZUNvbW1hbmQoayx7Y29udGVudEZvcm1zOmd9KSk7YS51aS5hZGRCdXR0b24mJmEudWkuYWRkQnV0dG9uKGIse2xhYmVsOmQsY29tbWFuZDplLHRvb2xiYXI6XCJiYXNpY3N0eWxlcyxcIisoZis9MTApfSl9fSxjPXtib2xkOltcInN0cm9uZ1wiLFwiYlwiLFtcInNwYW5cIixmdW5jdGlvbihhKXthPWEuc3R5bGVzW1wiZm9udC13ZWlnaHRcIl07cmV0dXJuXCJib2xkXCI9PWF8fDcwMDw9K2F9XV0saXRhbGljOltcImVtXCIsXCJpXCIsW1wic3BhblwiLGZ1bmN0aW9uKGEpe3JldHVyblwiaXRhbGljXCI9PWEuc3R5bGVzW1wiZm9udC1zdHlsZVwiXX1dXSx1bmRlcmxpbmU6W1widVwiLFtcInNwYW5cIixmdW5jdGlvbihhKXtyZXR1cm5cInVuZGVybGluZVwiPT1hLnN0eWxlc1tcInRleHQtZGVjb3JhdGlvblwiXX1dXSxzdHJpa2U6W1wic1wiLFwic3RyaWtlXCIsW1wic3BhblwiLGZ1bmN0aW9uKGEpe3JldHVyblwibGluZS10aHJvdWdoXCI9PVxuYS5zdHlsZXNbXCJ0ZXh0LWRlY29yYXRpb25cIl19XV0sc3Vic2NyaXB0OltcInN1YlwiXSxzdXBlcnNjcmlwdDpbXCJzdXBcIl19LGU9YS5jb25maWcsbT1hLmxhbmcuYmFzaWNzdHlsZXM7YihcIkJvbGRcIixtLmJvbGQsXCJib2xkXCIsZS5jb3JlU3R5bGVzX2JvbGQpO2IoXCJJdGFsaWNcIixtLml0YWxpYyxcIml0YWxpY1wiLGUuY29yZVN0eWxlc19pdGFsaWMpO2IoXCJVbmRlcmxpbmVcIixtLnVuZGVybGluZSxcInVuZGVybGluZVwiLGUuY29yZVN0eWxlc191bmRlcmxpbmUpO2IoXCJTdHJpa2VcIixtLnN0cmlrZSxcInN0cmlrZVwiLGUuY29yZVN0eWxlc19zdHJpa2UpO2IoXCJTdWJzY3JpcHRcIixtLnN1YnNjcmlwdCxcInN1YnNjcmlwdFwiLGUuY29yZVN0eWxlc19zdWJzY3JpcHQpO2IoXCJTdXBlcnNjcmlwdFwiLG0uc3VwZXJzY3JpcHQsXCJzdXBlcnNjcmlwdFwiLGUuY29yZVN0eWxlc19zdXBlcnNjcmlwdCk7YS5zZXRLZXlzdHJva2UoW1tDS0VESVRPUi5DVFJMKzY2LFwiYm9sZFwiXSxbQ0tFRElUT1IuQ1RSTCs3MyxcIml0YWxpY1wiXSxcbltDS0VESVRPUi5DVFJMKzg1LFwidW5kZXJsaW5lXCJdXSl9fSksQ0tFRElUT1IuY29uZmlnLmNvcmVTdHlsZXNfYm9sZD17ZWxlbWVudDpcInN0cm9uZ1wiLG92ZXJyaWRlczpcImJcIn0sQ0tFRElUT1IuY29uZmlnLmNvcmVTdHlsZXNfaXRhbGljPXtlbGVtZW50OlwiZW1cIixvdmVycmlkZXM6XCJpXCJ9LENLRURJVE9SLmNvbmZpZy5jb3JlU3R5bGVzX3VuZGVybGluZT17ZWxlbWVudDpcInVcIn0sQ0tFRElUT1IuY29uZmlnLmNvcmVTdHlsZXNfc3RyaWtlPXtlbGVtZW50Olwic1wiLG92ZXJyaWRlczpcInN0cmlrZVwifSxDS0VESVRPUi5jb25maWcuY29yZVN0eWxlc19zdWJzY3JpcHQ9e2VsZW1lbnQ6XCJzdWJcIn0sQ0tFRElUT1IuY29uZmlnLmNvcmVTdHlsZXNfc3VwZXJzY3JpcHQ9e2VsZW1lbnQ6XCJzdXBcIn0sZnVuY3Rpb24oKXt2YXIgYT17ZXhlYzpmdW5jdGlvbihhKXt2YXIgYj1hLmdldENvbW1hbmQoXCJibG9ja3F1b3RlXCIpLnN0YXRlLGM9YS5nZXRTZWxlY3Rpb24oKSxlPWMmJmMuZ2V0UmFuZ2VzKClbMF07XG5pZihlKXt2YXIgbT1jLmNyZWF0ZUJvb2ttYXJrcygpO2lmKENLRURJVE9SLmVudi5pZSl7dmFyIGw9bVswXS5zdGFydE5vZGUsZD1tWzBdLmVuZE5vZGUsaDtpZihsJiZcImJsb2NrcXVvdGVcIj09bC5nZXRQYXJlbnQoKS5nZXROYW1lKCkpZm9yKGg9bDtoPWguZ2V0TmV4dCgpOylpZihoLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmaC5pc0Jsb2NrQm91bmRhcnkoKSl7bC5tb3ZlKGgsITApO2JyZWFrfWlmKGQmJlwiYmxvY2txdW90ZVwiPT1kLmdldFBhcmVudCgpLmdldE5hbWUoKSlmb3IoaD1kO2g9aC5nZXRQcmV2aW91cygpOylpZihoLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmaC5pc0Jsb2NrQm91bmRhcnkoKSl7ZC5tb3ZlKGgpO2JyZWFrfX12YXIgaz1lLmNyZWF0ZUl0ZXJhdG9yKCk7ay5lbmxhcmdlQnI9YS5jb25maWcuZW50ZXJNb2RlIT1DS0VESVRPUi5FTlRFUl9CUjtpZihiPT1DS0VESVRPUi5UUklTVEFURV9PRkYpe2ZvcihsPVtdO2I9ay5nZXROZXh0UGFyYWdyYXBoKCk7KWwucHVzaChiKTtcbjE+bC5sZW5ndGgmJihiPWEuZG9jdW1lbnQuY3JlYXRlRWxlbWVudChhLmNvbmZpZy5lbnRlck1vZGU9PUNLRURJVE9SLkVOVEVSX1A/XCJwXCI6XCJkaXZcIiksZD1tLnNoaWZ0KCksZS5pbnNlcnROb2RlKGIpLGIuYXBwZW5kKG5ldyBDS0VESVRPUi5kb20udGV4dChcIu+7v1wiLGEuZG9jdW1lbnQpKSxlLm1vdmVUb0Jvb2ttYXJrKGQpLGUuc2VsZWN0Tm9kZUNvbnRlbnRzKGIpLGUuY29sbGFwc2UoITApLGQ9ZS5jcmVhdGVCb29rbWFyaygpLGwucHVzaChiKSxtLnVuc2hpZnQoZCkpO2g9bFswXS5nZXRQYXJlbnQoKTtlPVtdO2ZvcihkPTA7ZDxsLmxlbmd0aDtkKyspYj1sW2RdLGg9aC5nZXRDb21tb25BbmNlc3RvcihiLmdldFBhcmVudCgpKTtmb3IoYj17dGFibGU6MSx0Ym9keToxLHRyOjEsb2w6MSx1bDoxfTtiW2guZ2V0TmFtZSgpXTspaD1oLmdldFBhcmVudCgpO2ZvcihkPW51bGw7MDxsLmxlbmd0aDspe2ZvcihiPWwuc2hpZnQoKTshYi5nZXRQYXJlbnQoKS5lcXVhbHMoaCk7KWI9Yi5nZXRQYXJlbnQoKTtcbmIuZXF1YWxzKGQpfHxlLnB1c2goYik7ZD1ifWZvcig7MDxlLmxlbmd0aDspaWYoYj1lLnNoaWZ0KCksXCJibG9ja3F1b3RlXCI9PWIuZ2V0TmFtZSgpKXtmb3IoZD1uZXcgQ0tFRElUT1IuZG9tLmRvY3VtZW50RnJhZ21lbnQoYS5kb2N1bWVudCk7Yi5nZXRGaXJzdCgpOylkLmFwcGVuZChiLmdldEZpcnN0KCkucmVtb3ZlKCkpLGwucHVzaChkLmdldExhc3QoKSk7ZC5yZXBsYWNlKGIpfWVsc2UgbC5wdXNoKGIpO2U9YS5kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYmxvY2txdW90ZVwiKTtmb3IoZS5pbnNlcnRCZWZvcmUobFswXSk7MDxsLmxlbmd0aDspYj1sLnNoaWZ0KCksZS5hcHBlbmQoYil9ZWxzZSBpZihiPT1DS0VESVRPUi5UUklTVEFURV9PTil7ZD1bXTtmb3IoaD17fTtiPWsuZ2V0TmV4dFBhcmFncmFwaCgpOyl7Zm9yKGw9ZT1udWxsO2IuZ2V0UGFyZW50KCk7KXtpZihcImJsb2NrcXVvdGVcIj09Yi5nZXRQYXJlbnQoKS5nZXROYW1lKCkpe2U9Yi5nZXRQYXJlbnQoKTtsPWI7YnJlYWt9Yj1cbmIuZ2V0UGFyZW50KCl9ZSYmbCYmIWwuZ2V0Q3VzdG9tRGF0YShcImJsb2NrcXVvdGVfbW92ZW91dFwiKSYmKGQucHVzaChsKSxDS0VESVRPUi5kb20uZWxlbWVudC5zZXRNYXJrZXIoaCxsLFwiYmxvY2txdW90ZV9tb3Zlb3V0XCIsITApKX1DS0VESVRPUi5kb20uZWxlbWVudC5jbGVhckFsbE1hcmtlcnMoaCk7Yj1bXTtsPVtdO2ZvcihoPXt9OzA8ZC5sZW5ndGg7KWs9ZC5zaGlmdCgpLGU9ay5nZXRQYXJlbnQoKSxrLmdldFByZXZpb3VzKCk/ay5nZXROZXh0KCk/KGsuYnJlYWtQYXJlbnQoay5nZXRQYXJlbnQoKSksbC5wdXNoKGsuZ2V0TmV4dCgpKSk6ay5yZW1vdmUoKS5pbnNlcnRBZnRlcihlKTprLnJlbW92ZSgpLmluc2VydEJlZm9yZShlKSxlLmdldEN1c3RvbURhdGEoXCJibG9ja3F1b3RlX3Byb2Nlc3NlZFwiKXx8KGwucHVzaChlKSxDS0VESVRPUi5kb20uZWxlbWVudC5zZXRNYXJrZXIoaCxlLFwiYmxvY2txdW90ZV9wcm9jZXNzZWRcIiwhMCkpLGIucHVzaChrKTtDS0VESVRPUi5kb20uZWxlbWVudC5jbGVhckFsbE1hcmtlcnMoaCk7XG5mb3IoZD1sLmxlbmd0aC0xOzA8PWQ7ZC0tKXtlPWxbZF07YTp7aD1lO2Zvcih2YXIgaz0wLGc9aC5nZXRDaGlsZENvdW50KCksbj12b2lkIDA7azxnJiYobj1oLmdldENoaWxkKGspKTtrKyspaWYobi50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJm4uaXNCbG9ja0JvdW5kYXJ5KCkpe2g9ITE7YnJlYWsgYX1oPSEwfWgmJmUucmVtb3ZlKCl9aWYoYS5jb25maWcuZW50ZXJNb2RlPT1DS0VESVRPUi5FTlRFUl9CUilmb3IoZT0hMDtiLmxlbmd0aDspaWYoaz1iLnNoaWZ0KCksXCJkaXZcIj09ay5nZXROYW1lKCkpe2Q9bmV3IENLRURJVE9SLmRvbS5kb2N1bWVudEZyYWdtZW50KGEuZG9jdW1lbnQpOyFlfHwhay5nZXRQcmV2aW91cygpfHxrLmdldFByZXZpb3VzKCkudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZrLmdldFByZXZpb3VzKCkuaXNCbG9ja0JvdW5kYXJ5KCl8fGQuYXBwZW5kKGEuZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJyXCIpKTtmb3IoZT1rLmdldE5leHQoKSYmXG4hKGsuZ2V0TmV4dCgpLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmay5nZXROZXh0KCkuaXNCbG9ja0JvdW5kYXJ5KCkpO2suZ2V0Rmlyc3QoKTspay5nZXRGaXJzdCgpLnJlbW92ZSgpLmFwcGVuZFRvKGQpO2UmJmQuYXBwZW5kKGEuZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJyXCIpKTtkLnJlcGxhY2Uoayk7ZT0hMX19Yy5zZWxlY3RCb29rbWFya3MobSk7YS5mb2N1cygpfX0scmVmcmVzaDpmdW5jdGlvbihhLGIpe3RoaXMuc2V0U3RhdGUoYS5lbGVtZW50UGF0aChiLmJsb2NrfHxiLmJsb2NrTGltaXQpLmNvbnRhaW5zKFwiYmxvY2txdW90ZVwiLDEpP0NLRURJVE9SLlRSSVNUQVRFX09OOkNLRURJVE9SLlRSSVNUQVRFX09GRil9LGNvbnRleHQ6XCJibG9ja3F1b3RlXCIsYWxsb3dlZENvbnRlbnQ6XCJibG9ja3F1b3RlXCIscmVxdWlyZWRDb250ZW50OlwiYmxvY2txdW90ZVwifTtDS0VESVRPUi5wbHVnaW5zLmFkZChcImJsb2NrcXVvdGVcIix7aW5pdDpmdW5jdGlvbihmKXtmLmJsb2NrbGVzc3x8XG4oZi5hZGRDb21tYW5kKFwiYmxvY2txdW90ZVwiLGEpLGYudWkuYWRkQnV0dG9uJiZmLnVpLmFkZEJ1dHRvbihcIkJsb2NrcXVvdGVcIix7bGFiZWw6Zi5sYW5nLmJsb2NrcXVvdGUudG9vbGJhcixjb21tYW5kOlwiYmxvY2txdW90ZVwiLHRvb2xiYXI6XCJibG9ja3MsMTBcIn0pKX19KX0oKSxcInVzZSBzdHJpY3RcIixmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSxiLGMpe2IudHlwZXx8KGIudHlwZT1cImF1dG9cIik7aWYoYyYmITE9PT1hLmZpcmUoXCJiZWZvcmVQYXN0ZVwiLGIpfHwhYi5kYXRhVmFsdWUmJmIuZGF0YVRyYW5zZmVyLmlzRW1wdHkoKSlyZXR1cm4hMTtiLmRhdGFWYWx1ZXx8KGIuZGF0YVZhbHVlPVwiXCIpO2lmKENLRURJVE9SLmVudi5nZWNrbyYmXCJkcm9wXCI9PWIubWV0aG9kJiZhLnRvb2xib3gpYS5vbmNlKFwiYWZ0ZXJQYXN0ZVwiLGZ1bmN0aW9uKCl7YS50b29sYm94LmZvY3VzKCl9KTtyZXR1cm4gYS5maXJlKFwicGFzdGVcIixiKX1mdW5jdGlvbiBmKGIpe2Z1bmN0aW9uIGMoKXt2YXIgYT1iLmVkaXRhYmxlKCk7XG5pZihDS0VESVRPUi5wbHVnaW5zLmNsaXBib2FyZC5pc0N1c3RvbUNvcHlDdXRTdXBwb3J0ZWQpe3ZhciBkPWZ1bmN0aW9uKGEpe2IucmVhZE9ubHkmJlwiY3V0XCI9PWEubmFtZXx8QS5pbml0UGFzdGVEYXRhVHJhbnNmZXIoYSxiKTthLmRhdGEucHJldmVudERlZmF1bHQoKX07YS5vbihcImNvcHlcIixkKTthLm9uKFwiY3V0XCIsZCk7YS5vbihcImN1dFwiLGZ1bmN0aW9uKCl7Yi5yZWFkT25seXx8Yi5leHRyYWN0U2VsZWN0ZWRIdG1sKCl9LG51bGwsbnVsbCw5OTkpfWEub24oQS5tYWluUGFzdGVFdmVudCxmdW5jdGlvbihhKXtcImJlZm9yZXBhc3RlXCI9PUEubWFpblBhc3RlRXZlbnQmJkN8fHooYSl9KTtcImJlZm9yZXBhc3RlXCI9PUEubWFpblBhc3RlRXZlbnQmJihhLm9uKFwicGFzdGVcIixmdW5jdGlvbihhKXtGfHwoZigpLGEuZGF0YS5wcmV2ZW50RGVmYXVsdCgpLHooYSksayhcInBhc3RlXCIpfHxiLm9wZW5EaWFsb2coXCJwYXN0ZVwiKSl9KSxhLm9uKFwiY29udGV4dG1lbnVcIixoLG51bGwsbnVsbCwwKSxcbmEub24oXCJiZWZvcmVwYXN0ZVwiLGZ1bmN0aW9uKGEpeyFhLmRhdGF8fGEuZGF0YS4kLmN0cmxLZXl8fGEuZGF0YS4kLnNoaWZ0S2V5fHxoKCl9LG51bGwsbnVsbCwwKSk7YS5vbihcImJlZm9yZWN1dFwiLGZ1bmN0aW9uKCl7IUMmJmwoYil9KTt2YXIgZTthLmF0dGFjaExpc3RlbmVyKENLRURJVE9SLmVudi5pZT9hOmIuZG9jdW1lbnQuZ2V0RG9jdW1lbnRFbGVtZW50KCksXCJtb3VzZXVwXCIsZnVuY3Rpb24oKXtlPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtEKCl9LDApfSk7Yi5vbihcImRlc3Ryb3lcIixmdW5jdGlvbigpe2NsZWFyVGltZW91dChlKX0pO2Eub24oXCJrZXl1cFwiLEQpfWZ1bmN0aW9uIGQoYSl7cmV0dXJue3R5cGU6YSxjYW5VbmRvOlwiY3V0XCI9PWEsc3RhcnREaXNhYmxlZDohMCxmYWtlS2V5c3Ryb2tlOlwiY3V0XCI9PWE/Q0tFRElUT1IuQ1RSTCs4ODpDS0VESVRPUi5DVFJMKzY3LGV4ZWM6ZnVuY3Rpb24oKXtcImN1dFwiPT10aGlzLnR5cGUmJmwoKTt2YXIgYTt2YXIgYz10aGlzLnR5cGU7XG5pZihDS0VESVRPUi5lbnYuaWUpYT1rKGMpO2Vsc2UgdHJ5e2E9Yi5kb2N1bWVudC4kLmV4ZWNDb21tYW5kKGMsITEsbnVsbCl9Y2F0Y2goZCl7YT0hMX1hfHxiLnNob3dOb3RpZmljYXRpb24oYi5sYW5nLmNsaXBib2FyZFt0aGlzLnR5cGUrXCJFcnJvclwiXSk7cmV0dXJuIGF9fX1mdW5jdGlvbiBlKCl7cmV0dXJue2NhblVuZG86ITEsYXN5bmM6ITAsZmFrZUtleXN0cm9rZTpDS0VESVRPUi5DVFJMKzg2LGV4ZWM6ZnVuY3Rpb24oYixjKXt2YXIgZD10aGlzLGU9ZnVuY3Rpb24oYyxlKXtjJiZhKGIsYywhIWUpO2IuZmlyZShcImFmdGVyQ29tbWFuZEV4ZWNcIix7bmFtZTpcInBhc3RlXCIsY29tbWFuZDpkLHJldHVyblZhbHVlOiEhY30pfTtcInN0cmluZ1wiPT10eXBlb2YgYz9lKHtkYXRhVmFsdWU6YyxtZXRob2Q6XCJwYXN0ZVwiLGRhdGFUcmFuc2ZlcjpBLmluaXRQYXN0ZURhdGFUcmFuc2ZlcigpfSwxKTpiLmdldENsaXBib2FyZERhdGEoZSl9fX1mdW5jdGlvbiBmKCl7Rj0xO3NldFRpbWVvdXQoZnVuY3Rpb24oKXtGPVxuMH0sMTAwKX1mdW5jdGlvbiBoKCl7Qz0xO3NldFRpbWVvdXQoZnVuY3Rpb24oKXtDPTB9LDEwKX1mdW5jdGlvbiBrKGEpe3ZhciBjPWIuZG9jdW1lbnQsZD1jLmdldEJvZHkoKSxlPSExLGY9ZnVuY3Rpb24oKXtlPSEwfTtkLm9uKGEsZik7NzxDS0VESVRPUi5lbnYudmVyc2lvbj9jLiQuZXhlY0NvbW1hbmQoYSk6Yy4kLnNlbGVjdGlvbi5jcmVhdGVSYW5nZSgpLmV4ZWNDb21tYW5kKGEpO2QucmVtb3ZlTGlzdGVuZXIoYSxmKTtyZXR1cm4gZX1mdW5jdGlvbiBsKCl7aWYoQ0tFRElUT1IuZW52LmllJiYhQ0tFRElUT1IuZW52LnF1aXJrcyl7dmFyIGE9Yi5nZXRTZWxlY3Rpb24oKSxjLGQsZTthLmdldFR5cGUoKT09Q0tFRElUT1IuU0VMRUNUSU9OX0VMRU1FTlQmJihjPWEuZ2V0U2VsZWN0ZWRFbGVtZW50KCkpJiYoZD1hLmdldFJhbmdlcygpWzBdLGU9Yi5kb2N1bWVudC5jcmVhdGVUZXh0KFwiXCIpLGUuaW5zZXJ0QmVmb3JlKGMpLGQuc2V0U3RhcnRCZWZvcmUoZSksZC5zZXRFbmRBZnRlcihjKSxcbmEuc2VsZWN0UmFuZ2VzKFtkXSksc2V0VGltZW91dChmdW5jdGlvbigpe2MuZ2V0UGFyZW50KCkmJihlLnJlbW92ZSgpLGEuc2VsZWN0RWxlbWVudChjKSl9LDApKX19ZnVuY3Rpb24gbShhLGMpe3ZhciBkPWIuZG9jdW1lbnQsZT1iLmVkaXRhYmxlKCksZj1mdW5jdGlvbihhKXthLmNhbmNlbCgpfSxoO2lmKCFkLmdldEJ5SWQoXCJja2VfcGFzdGViaW5cIikpe3ZhciBrPWIuZ2V0U2VsZWN0aW9uKCksbD1rLmNyZWF0ZUJvb2ttYXJrcygpO0NLRURJVE9SLmVudi5pZSYmay5yb290LmZpcmUoXCJzZWxlY3Rpb25jaGFuZ2VcIik7dmFyIG49bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KCFDS0VESVRPUi5lbnYud2Via2l0JiYhZS5pcyhcImJvZHlcIil8fENLRURJVE9SLmVudi5pZT9cImRpdlwiOlwiYm9keVwiLGQpO24uc2V0QXR0cmlidXRlcyh7aWQ6XCJja2VfcGFzdGViaW5cIixcImRhdGEtY2tlLXRlbXBcIjpcIjFcIn0pO3ZhciB1PTAsZD1kLmdldFdpbmRvdygpO0NLRURJVE9SLmVudi53ZWJraXQ/KGUuYXBwZW5kKG4pLFxubi5hZGRDbGFzcyhcImNrZV9lZGl0YWJsZVwiKSxlLmlzKFwiYm9keVwiKXx8KHU9XCJzdGF0aWNcIiE9ZS5nZXRDb21wdXRlZFN0eWxlKFwicG9zaXRpb25cIik/ZTpDS0VESVRPUi5kb20uZWxlbWVudC5nZXQoZS4kLm9mZnNldFBhcmVudCksdT11LmdldERvY3VtZW50UG9zaXRpb24oKS55KSk6ZS5nZXRBc2NlbmRhbnQoQ0tFRElUT1IuZW52LmllP1wiYm9keVwiOlwiaHRtbFwiLDEpLmFwcGVuZChuKTtuLnNldFN0eWxlcyh7cG9zaXRpb246XCJhYnNvbHV0ZVwiLHRvcDpkLmdldFNjcm9sbFBvc2l0aW9uKCkueS11KzEwK1wicHhcIix3aWR0aDpcIjFweFwiLGhlaWdodDpNYXRoLm1heCgxLGQuZ2V0Vmlld1BhbmVTaXplKCkuaGVpZ2h0LTIwKStcInB4XCIsb3ZlcmZsb3c6XCJoaWRkZW5cIixtYXJnaW46MCxwYWRkaW5nOjB9KTtDS0VESVRPUi5lbnYuc2FmYXJpJiZuLnNldFN0eWxlcyhDS0VESVRPUi50b29scy5jc3NWZW5kb3JQcmVmaXgoXCJ1c2VyLXNlbGVjdFwiLFwidGV4dFwiKSk7KHU9bi5nZXRQYXJlbnQoKS5pc1JlYWRPbmx5KCkpP1xuKG4uc2V0T3BhY2l0eSgwKSxuLnNldEF0dHJpYnV0ZShcImNvbnRlbnRlZGl0YWJsZVwiLCEwKSk6bi5zZXRTdHlsZShcImx0clwiPT1iLmNvbmZpZy5jb250ZW50c0xhbmdEaXJlY3Rpb24/XCJsZWZ0XCI6XCJyaWdodFwiLFwiLTEwMDAwcHhcIik7Yi5vbihcInNlbGVjdGlvbkNoYW5nZVwiLGYsbnVsbCxudWxsLDApO2lmKENLRURJVE9SLmVudi53ZWJraXR8fENLRURJVE9SLmVudi5nZWNrbyloPWUub25jZShcImJsdXJcIixmLG51bGwsbnVsbCwtMTAwKTt1JiZuLmZvY3VzKCk7dT1uZXcgQ0tFRElUT1IuZG9tLnJhbmdlKG4pO3Uuc2VsZWN0Tm9kZUNvbnRlbnRzKG4pO3ZhciByPXUuc2VsZWN0KCk7Q0tFRElUT1IuZW52LmllJiYoaD1lLm9uY2UoXCJibHVyXCIsZnVuY3Rpb24oKXtiLmxvY2tTZWxlY3Rpb24ocil9KSk7dmFyIHQ9Q0tFRElUT1IuZG9jdW1lbnQuZ2V0V2luZG93KCkuZ2V0U2Nyb2xsUG9zaXRpb24oKS55O3NldFRpbWVvdXQoZnVuY3Rpb24oKXtDS0VESVRPUi5lbnYud2Via2l0JiYoQ0tFRElUT1IuZG9jdW1lbnQuZ2V0Qm9keSgpLiQuc2Nyb2xsVG9wPVxudCk7aCYmaC5yZW1vdmVMaXN0ZW5lcigpO0NLRURJVE9SLmVudi5pZSYmZS5mb2N1cygpO2suc2VsZWN0Qm9va21hcmtzKGwpO24ucmVtb3ZlKCk7dmFyIGE7Q0tFRElUT1IuZW52LndlYmtpdCYmKGE9bi5nZXRGaXJzdCgpKSYmYS5pcyYmYS5oYXNDbGFzcyhcIkFwcGxlLXN0eWxlLXNwYW5cIikmJihuPWEpO2IucmVtb3ZlTGlzdGVuZXIoXCJzZWxlY3Rpb25DaGFuZ2VcIixmKTtjKG4uZ2V0SHRtbCgpKX0sMCl9fWZ1bmN0aW9uIHgoKXtpZihcInBhc3RlXCI9PUEubWFpblBhc3RlRXZlbnQpcmV0dXJuIGIuZmlyZShcImJlZm9yZVBhc3RlXCIse3R5cGU6XCJhdXRvXCIsbWV0aG9kOlwicGFzdGVcIn0pLCExO2IuZm9jdXMoKTtmKCk7dmFyIGE9Yi5mb2N1c01hbmFnZXI7YS5sb2NrKCk7aWYoYi5lZGl0YWJsZSgpLmZpcmUoQS5tYWluUGFzdGVFdmVudCkmJiFrKFwicGFzdGVcIikpcmV0dXJuIGEudW5sb2NrKCksITE7YS51bmxvY2soKTtyZXR1cm4hMH1mdW5jdGlvbiB3KGEpe2lmKFwid3lzaXd5Z1wiPT1iLm1vZGUpc3dpdGNoKGEuZGF0YS5rZXlDb2RlKXtjYXNlIENLRURJVE9SLkNUUkwrXG44NjpjYXNlIENLRURJVE9SLlNISUZUKzQ1OmE9Yi5lZGl0YWJsZSgpO2YoKTtcInBhc3RlXCI9PUEubWFpblBhc3RlRXZlbnQmJmEuZmlyZShcImJlZm9yZXBhc3RlXCIpO2JyZWFrO2Nhc2UgQ0tFRElUT1IuQ1RSTCs4ODpjYXNlIENLRURJVE9SLlNISUZUKzQ2OmIuZmlyZShcInNhdmVTbmFwc2hvdFwiKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Yi5maXJlKFwic2F2ZVNuYXBzaG90XCIpfSw1MCl9fWZ1bmN0aW9uIHooYyl7dmFyIGQ9e3R5cGU6XCJhdXRvXCIsbWV0aG9kOlwicGFzdGVcIixkYXRhVHJhbnNmZXI6QS5pbml0UGFzdGVEYXRhVHJhbnNmZXIoYyl9O2QuZGF0YVRyYW5zZmVyLmNhY2hlRGF0YSgpO3ZhciBlPSExIT09Yi5maXJlKFwiYmVmb3JlUGFzdGVcIixkKTtlJiZBLmNhbkNsaXBib2FyZEFwaUJlVHJ1c3RlZChkLmRhdGFUcmFuc2ZlcixiKT8oYy5kYXRhLnByZXZlbnREZWZhdWx0KCksc2V0VGltZW91dChmdW5jdGlvbigpe2EoYixkKX0sMCkpOm0oYyxmdW5jdGlvbihjKXtkLmRhdGFWYWx1ZT1cbmMucmVwbGFjZSgvPHNwYW5bXj5dK2RhdGEtY2tlLWJvb2ttYXJrW148XSo/PFxcL3NwYW4+L2lnLFwiXCIpO2UmJmEoYixkKX0pfWZ1bmN0aW9uIEQoKXtpZihcInd5c2l3eWdcIj09Yi5tb2RlKXt2YXIgYT15KFwicGFzdGVcIik7Yi5nZXRDb21tYW5kKFwiY3V0XCIpLnNldFN0YXRlKHkoXCJjdXRcIikpO2IuZ2V0Q29tbWFuZChcImNvcHlcIikuc2V0U3RhdGUoeShcImNvcHlcIikpO2IuZ2V0Q29tbWFuZChcInBhc3RlXCIpLnNldFN0YXRlKGEpO2IuZmlyZShcInBhc3RlU3RhdGVcIixhKX19ZnVuY3Rpb24geShhKXtpZihFJiZhIGlue3Bhc3RlOjEsY3V0OjF9KXJldHVybiBDS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRDtpZihcInBhc3RlXCI9PWEpcmV0dXJuIENLRURJVE9SLlRSSVNUQVRFX09GRjthPWIuZ2V0U2VsZWN0aW9uKCk7dmFyIGM9YS5nZXRSYW5nZXMoKTtyZXR1cm4gYS5nZXRUeXBlKCk9PUNLRURJVE9SLlNFTEVDVElPTl9OT05FfHwxPT1jLmxlbmd0aCYmY1swXS5jb2xsYXBzZWQ/Q0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUQ6XG5DS0VESVRPUi5UUklTVEFURV9PRkZ9dmFyIEE9Q0tFRElUT1IucGx1Z2lucy5jbGlwYm9hcmQsQz0wLEY9MCxFPTA7KGZ1bmN0aW9uKCl7Yi5vbihcImtleVwiLHcpO2Iub24oXCJjb250ZW50RG9tXCIsYyk7Yi5vbihcInNlbGVjdGlvbkNoYW5nZVwiLGZ1bmN0aW9uKGEpe0U9YS5kYXRhLnNlbGVjdGlvbi5nZXRSYW5nZXMoKVswXS5jaGVja1JlYWRPbmx5KCk7RCgpfSk7Yi5jb250ZXh0TWVudSYmYi5jb250ZXh0TWVudS5hZGRMaXN0ZW5lcihmdW5jdGlvbihhLGIpe0U9Yi5nZXRSYW5nZXMoKVswXS5jaGVja1JlYWRPbmx5KCk7cmV0dXJue2N1dDp5KFwiY3V0XCIpLGNvcHk6eShcImNvcHlcIikscGFzdGU6eShcInBhc3RlXCIpfX0pfSkoKTsoZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGMsZCxlLGYsaCl7dmFyIGs9Yi5sYW5nLmNsaXBib2FyZFtkXTtiLmFkZENvbW1hbmQoZCxlKTtiLnVpLmFkZEJ1dHRvbiYmYi51aS5hZGRCdXR0b24oYyx7bGFiZWw6ayxjb21tYW5kOmQsdG9vbGJhcjpcImNsaXBib2FyZCxcIitcbmZ9KTtiLmFkZE1lbnVJdGVtcyYmYi5hZGRNZW51SXRlbShkLHtsYWJlbDprLGNvbW1hbmQ6ZCxncm91cDpcImNsaXBib2FyZFwiLG9yZGVyOmh9KX1hKFwiQ3V0XCIsXCJjdXRcIixkKFwiY3V0XCIpLDEwLDEpO2EoXCJDb3B5XCIsXCJjb3B5XCIsZChcImNvcHlcIiksMjAsNCk7YShcIlBhc3RlXCIsXCJwYXN0ZVwiLGUoKSwzMCw4KX0pKCk7Yi5nZXRDbGlwYm9hcmREYXRhPWZ1bmN0aW9uKGEsYyl7ZnVuY3Rpb24gZChhKXthLnJlbW92ZUxpc3RlbmVyKCk7YS5jYW5jZWwoKTtjKGEuZGF0YSl9ZnVuY3Rpb24gZShhKXthLnJlbW92ZUxpc3RlbmVyKCk7YS5jYW5jZWwoKTtsPSEwO2Moe3R5cGU6ayxkYXRhVmFsdWU6YS5kYXRhLmRhdGFWYWx1ZSxkYXRhVHJhbnNmZXI6YS5kYXRhLmRhdGFUcmFuc2ZlcixtZXRob2Q6XCJwYXN0ZVwifSl9ZnVuY3Rpb24gZigpe3RoaXMuY3VzdG9tVGl0bGU9YSYmYS50aXRsZX12YXIgaD0hMSxrPVwiYXV0b1wiLGw9ITE7Y3x8KGM9YSxhPW51bGwpO2Iub24oXCJwYXN0ZVwiLGQsbnVsbCxudWxsLFxuMCk7Yi5vbihcImJlZm9yZVBhc3RlXCIsZnVuY3Rpb24oYSl7YS5yZW1vdmVMaXN0ZW5lcigpO2g9ITA7az1hLmRhdGEudHlwZX0sbnVsbCxudWxsLDFFMyk7ITE9PT14KCkmJihiLnJlbW92ZUxpc3RlbmVyKFwicGFzdGVcIixkKSxoJiZiLmZpcmUoXCJwYXN0ZURpYWxvZ1wiLGYpPyhiLm9uKFwicGFzdGVEaWFsb2dDb21taXRcIixlKSxiLm9uKFwiZGlhbG9nSGlkZVwiLGZ1bmN0aW9uKGEpe2EucmVtb3ZlTGlzdGVuZXIoKTthLmRhdGEucmVtb3ZlTGlzdGVuZXIoXCJwYXN0ZURpYWxvZ0NvbW1pdFwiLGUpO3NldFRpbWVvdXQoZnVuY3Rpb24oKXtsfHxjKG51bGwpfSwxMCl9KSk6YyhudWxsKSl9fWZ1bmN0aW9uIGIoYSl7aWYoQ0tFRElUT1IuZW52LndlYmtpdCl7aWYoIWEubWF0Y2goL15bXjxdKiQvZykmJiFhLm1hdGNoKC9eKDxkaXY+PGJyKCA/XFwvKT8+PFxcL2Rpdj58PGRpdj5bXjxdKjxcXC9kaXY+KSokL2dpKSlyZXR1cm5cImh0bWxcIn1lbHNlIGlmKENLRURJVE9SLmVudi5pZSl7aWYoIWEubWF0Y2goL14oW148XXw8YnIoID9cXC8pPz4pKiQvZ2kpJiZcbiFhLm1hdGNoKC9eKDxwPihbXjxdfDxiciggP1xcLyk/PikqPFxcL3A+fChcXHJcXG4pKSokL2dpKSlyZXR1cm5cImh0bWxcIn1lbHNlIGlmKENLRURJVE9SLmVudi5nZWNrbyl7aWYoIWEubWF0Y2goL14oW148XXw8YnIoID9cXC8pPz4pKiQvZ2kpKXJldHVyblwiaHRtbFwifWVsc2UgcmV0dXJuXCJodG1sXCI7cmV0dXJuXCJodG1saWZpZWR0ZXh0XCJ9ZnVuY3Rpb24gYyhhLGIpe2Z1bmN0aW9uIGMoYSl7cmV0dXJuIENLRURJVE9SLnRvb2xzLnJlcGVhdChcIlxceDNjL3BcXHgzZVxceDNjcFxceDNlXCIsfn4oYS8yKSkrKDE9PWElMj9cIlxceDNjYnJcXHgzZVwiOlwiXCIpfWI9Yi5yZXBsYWNlKC9cXHMrL2csXCIgXCIpLnJlcGxhY2UoLz4gKzwvZyxcIlxceDNlXFx4M2NcIikucmVwbGFjZSgvPGJyID9cXC8+L2dpLFwiXFx4M2NiclxceDNlXCIpO2I9Yi5yZXBsYWNlKC88XFwvP1tBLVpdKz4vZyxmdW5jdGlvbihhKXtyZXR1cm4gYS50b0xvd2VyQ2FzZSgpfSk7aWYoYi5tYXRjaCgvXltePF0kLykpcmV0dXJuIGI7Q0tFRElUT1IuZW52LndlYmtpdCYmXG4tMTxiLmluZGV4T2YoXCJcXHgzY2RpdlxceDNlXCIpJiYoYj1iLnJlcGxhY2UoL14oPGRpdj4oPGJyPnwpPFxcL2Rpdj4pKD8hJHwoPGRpdj4oPGJyPnwpPFxcL2Rpdj4pKS9nLFwiXFx4M2NiclxceDNlXCIpLnJlcGxhY2UoL14oPGRpdj4oPGJyPnwpPFxcL2Rpdj4pezJ9KD8hJCkvZyxcIlxceDNjZGl2XFx4M2VcXHgzYy9kaXZcXHgzZVwiKSxiLm1hdGNoKC88ZGl2Pig8YnI+fCk8XFwvZGl2Pi8pJiYoYj1cIlxceDNjcFxceDNlXCIrYi5yZXBsYWNlKC8oPGRpdj4oPGJyPnwpPFxcL2Rpdj4pKy9nLGZ1bmN0aW9uKGEpe3JldHVybiBjKGEuc3BsaXQoXCJcXHgzYy9kaXZcXHgzZVxceDNjZGl2XFx4M2VcIikubGVuZ3RoKzEpfSkrXCJcXHgzYy9wXFx4M2VcIiksYj1iLnJlcGxhY2UoLzxcXC9kaXY+PGRpdj4vZyxcIlxceDNjYnJcXHgzZVwiKSxiPWIucmVwbGFjZSgvPFxcLz9kaXY+L2csXCJcIikpO0NLRURJVE9SLmVudi5nZWNrbyYmYS5lbnRlck1vZGUhPUNLRURJVE9SLkVOVEVSX0JSJiYoQ0tFRElUT1IuZW52LmdlY2tvJiYoYj1iLnJlcGxhY2UoL148YnI+PGJyPiQvLFxuXCJcXHgzY2JyXFx4M2VcIikpLC0xPGIuaW5kZXhPZihcIlxceDNjYnJcXHgzZVxceDNjYnJcXHgzZVwiKSYmKGI9XCJcXHgzY3BcXHgzZVwiK2IucmVwbGFjZSgvKDxicj4pezIsfS9nLGZ1bmN0aW9uKGEpe3JldHVybiBjKGEubGVuZ3RoLzQpfSkrXCJcXHgzYy9wXFx4M2VcIikpO3JldHVybiBsKGEsYil9ZnVuY3Rpb24gZSgpe2Z1bmN0aW9uIGEoKXt2YXIgYj17fSxjO2ZvcihjIGluIENLRURJVE9SLmR0ZClcIiRcIiE9Yy5jaGFyQXQoMCkmJlwiZGl2XCIhPWMmJlwic3BhblwiIT1jJiYoYltjXT0xKTtyZXR1cm4gYn12YXIgYj17fTtyZXR1cm57Z2V0OmZ1bmN0aW9uKGMpe3JldHVyblwicGxhaW4tdGV4dFwiPT1jP2IucGxhaW5UZXh0fHwoYi5wbGFpblRleHQ9bmV3IENLRURJVE9SLmZpbHRlcihcImJyXCIpKTpcInNlbWFudGljLWNvbnRlbnRcIj09Yz8oKGM9Yi5zZW1hbnRpY0NvbnRlbnQpfHwoYz1uZXcgQ0tFRElUT1IuZmlsdGVyLGMuYWxsb3coeyQxOntlbGVtZW50czphKCksYXR0cmlidXRlczohMCxzdHlsZXM6ITEsY2xhc3NlczohMX19KSxcbmM9Yi5zZW1hbnRpY0NvbnRlbnQ9YyksYyk6Yz9uZXcgQ0tFRElUT1IuZmlsdGVyKGMpOm51bGx9fX1mdW5jdGlvbiBtKGEsYixjKXtiPUNLRURJVE9SLmh0bWxQYXJzZXIuZnJhZ21lbnQuZnJvbUh0bWwoYik7dmFyIGQ9bmV3IENLRURJVE9SLmh0bWxQYXJzZXIuYmFzaWNXcml0ZXI7Yy5hcHBseVRvKGIsITAsITEsYS5hY3RpdmVFbnRlck1vZGUpO2Iud3JpdGVIdG1sKGQpO3JldHVybiBkLmdldEh0bWwoKX1mdW5jdGlvbiBsKGEsYil7YS5lbnRlck1vZGU9PUNLRURJVE9SLkVOVEVSX0JSP2I9Yi5yZXBsYWNlKC8oPFxcL3A+PHA+KSsvZyxmdW5jdGlvbihhKXtyZXR1cm4gQ0tFRElUT1IudG9vbHMucmVwZWF0KFwiXFx4M2NiclxceDNlXCIsYS5sZW5ndGgvNyoyKX0pLnJlcGxhY2UoLzxcXC8/cD4vZyxcIlwiKTphLmVudGVyTW9kZT09Q0tFRElUT1IuRU5URVJfRElWJiYoYj1iLnJlcGxhY2UoLzwoXFwvKT9wPi9nLFwiXFx4M2MkMWRpdlxceDNlXCIpKTtyZXR1cm4gYn1mdW5jdGlvbiBkKGEpe2EuZGF0YS5wcmV2ZW50RGVmYXVsdCgpO1xuYS5kYXRhLiQuZGF0YVRyYW5zZmVyLmRyb3BFZmZlY3Q9XCJub25lXCJ9ZnVuY3Rpb24gaChiKXt2YXIgYz1DS0VESVRPUi5wbHVnaW5zLmNsaXBib2FyZDtiLm9uKFwiY29udGVudERvbVwiLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gZChjLGUsZil7ZS5zZWxlY3QoKTthKGIse2RhdGFUcmFuc2ZlcjpmLG1ldGhvZDpcImRyb3BcIn0sMSk7Zi5zb3VyY2VFZGl0b3IuZmlyZShcInNhdmVTbmFwc2hvdFwiKTtmLnNvdXJjZUVkaXRvci5lZGl0YWJsZSgpLmV4dHJhY3RIdG1sRnJvbVJhbmdlKGMpO2Yuc291cmNlRWRpdG9yLmdldFNlbGVjdGlvbigpLnNlbGVjdFJhbmdlcyhbY10pO2Yuc291cmNlRWRpdG9yLmZpcmUoXCJzYXZlU25hcHNob3RcIil9ZnVuY3Rpb24gZShkLGYpe2Quc2VsZWN0KCk7YShiLHtkYXRhVHJhbnNmZXI6ZixtZXRob2Q6XCJkcm9wXCJ9LDEpO2MucmVzZXREcmFnRGF0YVRyYW5zZmVyKCl9ZnVuY3Rpb24gZihhLGMsZCl7dmFyIGU9eyQ6YS5kYXRhLiQsdGFyZ2V0OmEuZGF0YS5nZXRUYXJnZXQoKX07XG5jJiYoZS5kcmFnUmFuZ2U9Yyk7ZCYmKGUuZHJvcFJhbmdlPWQpOyExPT09Yi5maXJlKGEubmFtZSxlKSYmYS5kYXRhLnByZXZlbnREZWZhdWx0KCl9ZnVuY3Rpb24gaChhKXthLnR5cGUhPUNLRURJVE9SLk5PREVfRUxFTUVOVCYmKGE9YS5nZXRQYXJlbnQoKSk7cmV0dXJuIGEuZ2V0Q2hpbGRDb3VudCgpfXZhciBrPWIuZWRpdGFibGUoKSxsPUNLRURJVE9SLnBsdWdpbnMuY2xpcGJvYXJkLmdldERyb3BUYXJnZXQoYiksbT1iLnVpLnNwYWNlKFwidG9wXCIpLHg9Yi51aS5zcGFjZShcImJvdHRvbVwiKTtjLnByZXZlbnREZWZhdWx0RHJvcE9uRWxlbWVudChtKTtjLnByZXZlbnREZWZhdWx0RHJvcE9uRWxlbWVudCh4KTtrLmF0dGFjaExpc3RlbmVyKGwsXCJkcmFnc3RhcnRcIixmKTtrLmF0dGFjaExpc3RlbmVyKGIsXCJkcmFnc3RhcnRcIixjLnJlc2V0RHJhZ0RhdGFUcmFuc2ZlcixjLG51bGwsMSk7ay5hdHRhY2hMaXN0ZW5lcihiLFwiZHJhZ3N0YXJ0XCIsZnVuY3Rpb24oYSl7Yy5pbml0RHJhZ0RhdGFUcmFuc2ZlcihhLFxuYil9LG51bGwsbnVsbCwyKTtrLmF0dGFjaExpc3RlbmVyKGIsXCJkcmFnc3RhcnRcIixmdW5jdGlvbigpe3ZhciBhPWMuZHJhZ1JhbmdlPWIuZ2V0U2VsZWN0aW9uKCkuZ2V0UmFuZ2VzKClbMF07Q0tFRElUT1IuZW52LmllJiYxMD5DS0VESVRPUi5lbnYudmVyc2lvbiYmKGMuZHJhZ1N0YXJ0Q29udGFpbmVyQ2hpbGRDb3VudD1hP2goYS5zdGFydENvbnRhaW5lcik6bnVsbCxjLmRyYWdFbmRDb250YWluZXJDaGlsZENvdW50PWE/aChhLmVuZENvbnRhaW5lcik6bnVsbCl9LG51bGwsbnVsbCwxMDApO2suYXR0YWNoTGlzdGVuZXIobCxcImRyYWdlbmRcIixmKTtrLmF0dGFjaExpc3RlbmVyKGIsXCJkcmFnZW5kXCIsYy5pbml0RHJhZ0RhdGFUcmFuc2ZlcixjLG51bGwsMSk7ay5hdHRhY2hMaXN0ZW5lcihiLFwiZHJhZ2VuZFwiLGMucmVzZXREcmFnRGF0YVRyYW5zZmVyLGMsbnVsbCwxMDApO2suYXR0YWNoTGlzdGVuZXIobCxcImRyYWdvdmVyXCIsZnVuY3Rpb24oYSl7dmFyIGI9YS5kYXRhLmdldFRhcmdldCgpO1xuYiYmYi5pcyYmYi5pcyhcImh0bWxcIik/YS5kYXRhLnByZXZlbnREZWZhdWx0KCk6Q0tFRElUT1IuZW52LmllJiZDS0VESVRPUi5wbHVnaW5zLmNsaXBib2FyZC5pc0ZpbGVBcGlTdXBwb3J0ZWQmJmEuZGF0YS4kLmRhdGFUcmFuc2Zlci50eXBlcy5jb250YWlucyhcIkZpbGVzXCIpJiZhLmRhdGEucHJldmVudERlZmF1bHQoKX0pO2suYXR0YWNoTGlzdGVuZXIobCxcImRyb3BcIixmdW5jdGlvbihhKXtpZighYS5kYXRhLiQuZGVmYXVsdFByZXZlbnRlZCl7YS5kYXRhLnByZXZlbnREZWZhdWx0KCk7dmFyIGQ9YS5kYXRhLmdldFRhcmdldCgpO2lmKCFkLmlzUmVhZE9ubHkoKXx8ZC50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmQuaXMoXCJodG1sXCIpKXt2YXIgZD1jLmdldFJhbmdlQXREcm9wUG9zaXRpb24oYSxiKSxlPWMuZHJhZ1JhbmdlO2QmJmYoYSxlLGQpfX19LG51bGwsbnVsbCw5OTk5KTtrLmF0dGFjaExpc3RlbmVyKGIsXCJkcm9wXCIsYy5pbml0RHJhZ0RhdGFUcmFuc2ZlcixjLG51bGwsXG4xKTtrLmF0dGFjaExpc3RlbmVyKGIsXCJkcm9wXCIsZnVuY3Rpb24oYSl7aWYoYT1hLmRhdGEpe3ZhciBmPWEuZHJvcFJhbmdlLGg9YS5kcmFnUmFuZ2Usaz1hLmRhdGFUcmFuc2ZlcjtrLmdldFRyYW5zZmVyVHlwZShiKT09Q0tFRElUT1IuREFUQV9UUkFOU0ZFUl9JTlRFUk5BTD9zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Yy5pbnRlcm5hbERyb3AoaCxmLGssYil9LDApOmsuZ2V0VHJhbnNmZXJUeXBlKGIpPT1DS0VESVRPUi5EQVRBX1RSQU5TRkVSX0NST1NTX0VESVRPUlM/ZChoLGYsayk6ZShmLGspfX0sbnVsbCxudWxsLDk5OTkpfSl9Q0tFRElUT1IucGx1Z2lucy5hZGQoXCJjbGlwYm9hcmRcIix7cmVxdWlyZXM6XCJkaWFsb2dcIixpbml0OmZ1bmN0aW9uKGEpe3ZhciBkLGs9ZSgpO2EuY29uZmlnLmZvcmNlUGFzdGVBc1BsYWluVGV4dD9kPVwicGxhaW4tdGV4dFwiOmEuY29uZmlnLnBhc3RlRmlsdGVyP2Q9YS5jb25maWcucGFzdGVGaWx0ZXI6IUNLRURJVE9SLmVudi53ZWJraXR8fFwicGFzdGVGaWx0ZXJcImluXG5hLmNvbmZpZ3x8KGQ9XCJzZW1hbnRpYy1jb250ZW50XCIpO2EucGFzdGVGaWx0ZXI9ay5nZXQoZCk7ZihhKTtoKGEpO0NLRURJVE9SLmRpYWxvZy5hZGQoXCJwYXN0ZVwiLENLRURJVE9SLmdldFVybCh0aGlzLnBhdGgrXCJkaWFsb2dzL3Bhc3RlLmpzXCIpKTthLm9uKFwicGFzdGVcIixmdW5jdGlvbihiKXtiLmRhdGEuZGF0YVRyYW5zZmVyfHwoYi5kYXRhLmRhdGFUcmFuc2Zlcj1uZXcgQ0tFRElUT1IucGx1Z2lucy5jbGlwYm9hcmQuZGF0YVRyYW5zZmVyKTtpZighYi5kYXRhLmRhdGFWYWx1ZSl7dmFyIGM9Yi5kYXRhLmRhdGFUcmFuc2ZlcixkPWMuZ2V0RGF0YShcInRleHQvaHRtbFwiKTtpZihkKWIuZGF0YS5kYXRhVmFsdWU9ZCxiLmRhdGEudHlwZT1cImh0bWxcIjtlbHNlIGlmKGQ9Yy5nZXREYXRhKFwidGV4dC9wbGFpblwiKSliLmRhdGEuZGF0YVZhbHVlPWEuZWRpdGFibGUoKS50cmFuc2Zvcm1QbGFpblRleHRUb0h0bWwoZCksYi5kYXRhLnR5cGU9XCJ0ZXh0XCJ9fSxudWxsLG51bGwsMSk7YS5vbihcInBhc3RlXCIsXG5mdW5jdGlvbihhKXt2YXIgYj1hLmRhdGEuZGF0YVZhbHVlLGM9Q0tFRElUT1IuZHRkLiRibG9jazstMTxiLmluZGV4T2YoXCJBcHBsZS1cIikmJihiPWIucmVwbGFjZSgvPHNwYW4gY2xhc3M9XCJBcHBsZS1jb252ZXJ0ZWQtc3BhY2VcIj4mbmJzcDs8XFwvc3Bhbj4vZ2ksXCIgXCIpLFwiaHRtbFwiIT1hLmRhdGEudHlwZSYmKGI9Yi5yZXBsYWNlKC88c3BhbiBjbGFzcz1cIkFwcGxlLXRhYi1zcGFuXCJbXj5dKj4oW148XSopPFxcL3NwYW4+L2dpLGZ1bmN0aW9uKGEsYil7cmV0dXJuIGIucmVwbGFjZSgvXFx0L2csXCJcXHgyNm5ic3A7XFx4MjZuYnNwOyBcXHgyNm5ic3A7XCIpfSkpLC0xPGIuaW5kZXhPZignXFx4M2NiciBjbGFzc1xceDNkXCJBcHBsZS1pbnRlcmNoYW5nZS1uZXdsaW5lXCJcXHgzZScpJiYoYS5kYXRhLnN0YXJ0c1dpdGhFT0w9MSxhLmRhdGEucHJlU25pZmZpbmc9XCJodG1sXCIsYj1iLnJlcGxhY2UoLzxiciBjbGFzcz1cIkFwcGxlLWludGVyY2hhbmdlLW5ld2xpbmVcIj4vLFwiXCIpKSxiPWIucmVwbGFjZSgvKDxbXj5dKykgY2xhc3M9XCJBcHBsZS1bXlwiXSpcIi9naSxcblwiJDFcIikpO2lmKGIubWF0Y2goL148W148XStja2VfKGVkaXRhYmxlfGNvbnRlbnRzKS9pKSl7dmFyIGQsZSxmPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudChcImRpdlwiKTtmb3IoZi5zZXRIdG1sKGIpOzE9PWYuZ2V0Q2hpbGRDb3VudCgpJiYoZD1mLmdldEZpcnN0KCkpJiZkLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmKGQuaGFzQ2xhc3MoXCJja2VfZWRpdGFibGVcIil8fGQuaGFzQ2xhc3MoXCJja2VfY29udGVudHNcIikpOylmPWU9ZDtlJiYoYj1lLmdldEh0bWwoKS5yZXBsYWNlKC88YnI+JC9pLFwiXCIpKX1DS0VESVRPUi5lbnYuaWU/Yj1iLnJlcGxhY2UoL14mbmJzcDsoPzogfFxcclxcbik/PChcXHcrKS9nLGZ1bmN0aW9uKGIsZCl7cmV0dXJuIGQudG9Mb3dlckNhc2UoKWluIGM/KGEuZGF0YS5wcmVTbmlmZmluZz1cImh0bWxcIixcIlxceDNjXCIrZCk6Yn0pOkNLRURJVE9SLmVudi53ZWJraXQ/Yj1iLnJlcGxhY2UoLzxcXC8oXFx3Kyk+PGRpdj48YnI+PFxcL2Rpdj4kLyxmdW5jdGlvbihiLGQpe3JldHVybiBkIGluXG5jPyhhLmRhdGEuZW5kc1dpdGhFT0w9MSxcIlxceDNjL1wiK2QrXCJcXHgzZVwiKTpifSk6Q0tFRElUT1IuZW52LmdlY2tvJiYoYj1iLnJlcGxhY2UoLyhcXHMpPGJyPiQvLFwiJDFcIikpO2EuZGF0YS5kYXRhVmFsdWU9Yn0sbnVsbCxudWxsLDMpO2Eub24oXCJwYXN0ZVwiLGZ1bmN0aW9uKGQpe2Q9ZC5kYXRhO3ZhciBlPWQudHlwZSxmPWQuZGF0YVZhbHVlLGgsbD1hLmNvbmZpZy5jbGlwYm9hcmRfZGVmYXVsdENvbnRlbnRUeXBlfHxcImh0bWxcIixuPWQuZGF0YVRyYW5zZmVyLmdldFRyYW5zZmVyVHlwZShhKTtoPVwiaHRtbFwiPT1lfHxcImh0bWxcIj09ZC5wcmVTbmlmZmluZz9cImh0bWxcIjpiKGYpO1wiaHRtbGlmaWVkdGV4dFwiPT1oJiYoZj1jKGEuY29uZmlnLGYpKTtcInRleHRcIj09ZSYmXCJodG1sXCI9PWg/Zj1tKGEsZixrLmdldChcInBsYWluLXRleHRcIikpOm49PUNLRURJVE9SLkRBVEFfVFJBTlNGRVJfRVhURVJOQUwmJmEucGFzdGVGaWx0ZXImJiFkLmRvbnRGaWx0ZXImJihmPW0oYSxmLGEucGFzdGVGaWx0ZXIpKTtcbmQuc3RhcnRzV2l0aEVPTCYmKGY9J1xceDNjYnIgZGF0YS1ja2UtZW9sXFx4M2RcIjFcIlxceDNlJytmKTtkLmVuZHNXaXRoRU9MJiYoZis9J1xceDNjYnIgZGF0YS1ja2UtZW9sXFx4M2RcIjFcIlxceDNlJyk7XCJhdXRvXCI9PWUmJihlPVwiaHRtbFwiPT1ofHxcImh0bWxcIj09bD9cImh0bWxcIjpcInRleHRcIik7ZC50eXBlPWU7ZC5kYXRhVmFsdWU9ZjtkZWxldGUgZC5wcmVTbmlmZmluZztkZWxldGUgZC5zdGFydHNXaXRoRU9MO2RlbGV0ZSBkLmVuZHNXaXRoRU9MfSxudWxsLG51bGwsNik7YS5vbihcInBhc3RlXCIsZnVuY3Rpb24oYil7Yj1iLmRhdGE7Yi5kYXRhVmFsdWUmJihhLmluc2VydEh0bWwoYi5kYXRhVmFsdWUsYi50eXBlLGIucmFuZ2UpLHNldFRpbWVvdXQoZnVuY3Rpb24oKXthLmZpcmUoXCJhZnRlclBhc3RlXCIpfSwwKSl9LG51bGwsbnVsbCwxRTMpO2Eub24oXCJwYXN0ZURpYWxvZ1wiLGZ1bmN0aW9uKGIpe3NldFRpbWVvdXQoZnVuY3Rpb24oKXthLm9wZW5EaWFsb2coXCJwYXN0ZVwiLGIuZGF0YSl9LDApfSl9fSk7XG5DS0VESVRPUi5wbHVnaW5zLmNsaXBib2FyZD17aXNDdXN0b21Db3B5Q3V0U3VwcG9ydGVkOiFDS0VESVRPUi5lbnYuaWUmJiFDS0VESVRPUi5lbnYuaU9TLGlzQ3VzdG9tRGF0YVR5cGVzU3VwcG9ydGVkOiFDS0VESVRPUi5lbnYuaWUsaXNGaWxlQXBpU3VwcG9ydGVkOiFDS0VESVRPUi5lbnYuaWV8fDk8Q0tFRElUT1IuZW52LnZlcnNpb24sbWFpblBhc3RlRXZlbnQ6Q0tFRElUT1IuZW52LmllJiYhQ0tFRElUT1IuZW52LmVkZ2U/XCJiZWZvcmVwYXN0ZVwiOlwicGFzdGVcIixjYW5DbGlwYm9hcmRBcGlCZVRydXN0ZWQ6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS5nZXRUcmFuc2ZlclR5cGUoYikhPUNLRURJVE9SLkRBVEFfVFJBTlNGRVJfRVhURVJOQUx8fENLRURJVE9SLmVudi5jaHJvbWUmJiFhLmlzRW1wdHkoKXx8Q0tFRElUT1IuZW52LmdlY2tvJiYoYS5nZXREYXRhKFwidGV4dC9odG1sXCIpfHxhLmdldEZpbGVzQ291bnQoKSk/ITA6ITF9LGdldERyb3BUYXJnZXQ6ZnVuY3Rpb24oYSl7dmFyIGI9XG5hLmVkaXRhYmxlKCk7cmV0dXJuIENLRURJVE9SLmVudi5pZSYmOT5DS0VESVRPUi5lbnYudmVyc2lvbnx8Yi5pc0lubGluZSgpP2I6YS5kb2N1bWVudH0sZml4U3BsaXROb2Rlc0FmdGVyRHJvcDpmdW5jdGlvbihhLGIsYyxkKXtmdW5jdGlvbiBlKGEsYyxkKXt2YXIgZj1hO2YudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUJiYoZj1hLmdldFBhcmVudCgpKTtpZihmLmVxdWFscyhjKSYmZCE9Yy5nZXRDaGlsZENvdW50KCkpcmV0dXJuIGE9Yi5zdGFydENvbnRhaW5lci5nZXRDaGlsZChiLnN0YXJ0T2Zmc2V0LTEpLGM9Yi5zdGFydENvbnRhaW5lci5nZXRDaGlsZChiLnN0YXJ0T2Zmc2V0KSxhJiZhLnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVCYmYyYmYy50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFQmJihkPWEuZ2V0TGVuZ3RoKCksYS5zZXRUZXh0KGEuZ2V0VGV4dCgpK2MuZ2V0VGV4dCgpKSxjLnJlbW92ZSgpLGIuc2V0U3RhcnQoYSxkKSxiLmNvbGxhcHNlKCEwKSksITB9dmFyIGY9Yi5zdGFydENvbnRhaW5lcjtcblwibnVtYmVyXCI9PXR5cGVvZiBkJiZcIm51bWJlclwiPT10eXBlb2YgYyYmZi50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJihlKGEuc3RhcnRDb250YWluZXIsZixjKXx8ZShhLmVuZENvbnRhaW5lcixmLGQpKX0saXNEcm9wUmFuZ2VBZmZlY3RlZEJ5RHJhZ1JhbmdlOmZ1bmN0aW9uKGEsYil7dmFyIGM9Yi5zdGFydENvbnRhaW5lcixkPWIuZW5kT2Zmc2V0O3JldHVybiBhLmVuZENvbnRhaW5lci5lcXVhbHMoYykmJmEuZW5kT2Zmc2V0PD1kfHxhLnN0YXJ0Q29udGFpbmVyLmdldFBhcmVudCgpLmVxdWFscyhjKSYmYS5zdGFydENvbnRhaW5lci5nZXRJbmRleCgpPGR8fGEuZW5kQ29udGFpbmVyLmdldFBhcmVudCgpLmVxdWFscyhjKSYmYS5lbmRDb250YWluZXIuZ2V0SW5kZXgoKTxkPyEwOiExfSxpbnRlcm5hbERyb3A6ZnVuY3Rpb24oYixjLGQsZSl7dmFyIGY9Q0tFRElUT1IucGx1Z2lucy5jbGlwYm9hcmQsaD1lLmVkaXRhYmxlKCksayxsO2UuZmlyZShcInNhdmVTbmFwc2hvdFwiKTtcbmUuZmlyZShcImxvY2tTbmFwc2hvdFwiLHtkb250VXBkYXRlOjF9KTtDS0VESVRPUi5lbnYuaWUmJjEwPkNLRURJVE9SLmVudi52ZXJzaW9uJiZ0aGlzLmZpeFNwbGl0Tm9kZXNBZnRlckRyb3AoYixjLGYuZHJhZ1N0YXJ0Q29udGFpbmVyQ2hpbGRDb3VudCxmLmRyYWdFbmRDb250YWluZXJDaGlsZENvdW50KTsobD10aGlzLmlzRHJvcFJhbmdlQWZmZWN0ZWRCeURyYWdSYW5nZShiLGMpKXx8KGs9Yi5jcmVhdGVCb29rbWFyayghMSkpO2Y9Yy5jbG9uZSgpLmNyZWF0ZUJvb2ttYXJrKCExKTtsJiYoaz1iLmNyZWF0ZUJvb2ttYXJrKCExKSk7Yj1rLnN0YXJ0Tm9kZTtjPWsuZW5kTm9kZTtsPWYuc3RhcnROb2RlO2MmJmIuZ2V0UG9zaXRpb24obCkmQ0tFRElUT1IuUE9TSVRJT05fUFJFQ0VESU5HJiZjLmdldFBvc2l0aW9uKGwpJkNLRURJVE9SLlBPU0lUSU9OX0ZPTExPV0lORyYmbC5pbnNlcnRCZWZvcmUoYik7Yj1lLmNyZWF0ZVJhbmdlKCk7Yi5tb3ZlVG9Cb29rbWFyayhrKTtoLmV4dHJhY3RIdG1sRnJvbVJhbmdlKGIsXG4xKTtjPWUuY3JlYXRlUmFuZ2UoKTtjLm1vdmVUb0Jvb2ttYXJrKGYpO2EoZSx7ZGF0YVRyYW5zZmVyOmQsbWV0aG9kOlwiZHJvcFwiLHJhbmdlOmN9LDEpO2UuZmlyZShcInVubG9ja1NuYXBzaG90XCIpfSxnZXRSYW5nZUF0RHJvcFBvc2l0aW9uOmZ1bmN0aW9uKGEsYil7dmFyIGM9YS5kYXRhLiQsZD1jLmNsaWVudFgsZT1jLmNsaWVudFksZj1iLmdldFNlbGVjdGlvbighMCkuZ2V0UmFuZ2VzKClbMF0saD1iLmNyZWF0ZVJhbmdlKCk7aWYoYS5kYXRhLnRlc3RSYW5nZSlyZXR1cm4gYS5kYXRhLnRlc3RSYW5nZTtpZihkb2N1bWVudC5jYXJldFJhbmdlRnJvbVBvaW50KWM9Yi5kb2N1bWVudC4kLmNhcmV0UmFuZ2VGcm9tUG9pbnQoZCxlKSxoLnNldFN0YXJ0KENLRURJVE9SLmRvbS5ub2RlKGMuc3RhcnRDb250YWluZXIpLGMuc3RhcnRPZmZzZXQpLGguY29sbGFwc2UoITApO2Vsc2UgaWYoYy5yYW5nZVBhcmVudCloLnNldFN0YXJ0KENLRURJVE9SLmRvbS5ub2RlKGMucmFuZ2VQYXJlbnQpLFxuYy5yYW5nZU9mZnNldCksaC5jb2xsYXBzZSghMCk7ZWxzZXtpZihDS0VESVRPUi5lbnYuaWUmJjg8Q0tFRElUT1IuZW52LnZlcnNpb24mJmYmJmIuZWRpdGFibGUoKS5oYXNGb2N1cylyZXR1cm4gZjtpZihkb2N1bWVudC5ib2R5LmNyZWF0ZVRleHRSYW5nZSl7Yi5mb2N1cygpO2M9Yi5kb2N1bWVudC5nZXRCb2R5KCkuJC5jcmVhdGVUZXh0UmFuZ2UoKTt0cnl7Zm9yKHZhciBrPSExLGw9MDsyMD5sJiYhaztsKyspe2lmKCFrKXRyeXtjLm1vdmVUb1BvaW50KGQsZS1sKSxrPSEwfWNhdGNoKG0pe31pZighayl0cnl7Yy5tb3ZlVG9Qb2ludChkLGUrbCksaz0hMH1jYXRjaCh3KXt9fWlmKGspe3ZhciB6PVwiY2tlLXRlbXAtXCIrKG5ldyBEYXRlKS5nZXRUaW1lKCk7Yy5wYXN0ZUhUTUwoJ1xceDNjc3BhbiBpZFxceDNkXCInK3orJ1wiXFx4M2XigItcXHgzYy9zcGFuXFx4M2UnKTt2YXIgRD1iLmRvY3VtZW50LmdldEJ5SWQoeik7aC5tb3ZlVG9Qb3NpdGlvbihELENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9TVEFSVCk7XG5ELnJlbW92ZSgpfWVsc2V7dmFyIHk9Yi5kb2N1bWVudC4kLmVsZW1lbnRGcm9tUG9pbnQoZCxlKSxBPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudCh5KSxDO2lmKEEuZXF1YWxzKGIuZWRpdGFibGUoKSl8fFwiaHRtbFwiPT1BLmdldE5hbWUoKSlyZXR1cm4gZiYmZi5zdGFydENvbnRhaW5lciYmIWYuc3RhcnRDb250YWluZXIuZXF1YWxzKGIuZWRpdGFibGUoKSk/ZjpudWxsO0M9QS5nZXRDbGllbnRSZWN0KCk7ZDxDLmxlZnQ/aC5zZXRTdGFydEF0KEEsQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfU1RBUlQpOmguc2V0U3RhcnRBdChBLENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9FTkQpO2guY29sbGFwc2UoITApfX1jYXRjaChGKXtyZXR1cm4gbnVsbH19ZWxzZSByZXR1cm4gbnVsbH1yZXR1cm4gaH0saW5pdERyYWdEYXRhVHJhbnNmZXI6ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLmRhdGEuJD9hLmRhdGEuJC5kYXRhVHJhbnNmZXI6bnVsbCxkPW5ldyB0aGlzLmRhdGFUcmFuc2ZlcihjLGIpO1xuYz90aGlzLmRyYWdEYXRhJiZkLmlkPT10aGlzLmRyYWdEYXRhLmlkP2Q9dGhpcy5kcmFnRGF0YTp0aGlzLmRyYWdEYXRhPWQ6dGhpcy5kcmFnRGF0YT9kPXRoaXMuZHJhZ0RhdGE6dGhpcy5kcmFnRGF0YT1kO2EuZGF0YS5kYXRhVHJhbnNmZXI9ZH0scmVzZXREcmFnRGF0YVRyYW5zZmVyOmZ1bmN0aW9uKCl7dGhpcy5kcmFnRGF0YT1udWxsfSxpbml0UGFzdGVEYXRhVHJhbnNmZXI6ZnVuY3Rpb24oYSxiKXtpZih0aGlzLmlzQ3VzdG9tQ29weUN1dFN1cHBvcnRlZCl7aWYoYSYmYS5kYXRhJiZhLmRhdGEuJCl7dmFyIGM9bmV3IHRoaXMuZGF0YVRyYW5zZmVyKGEuZGF0YS4kLmNsaXBib2FyZERhdGEsYik7dGhpcy5jb3B5Q3V0RGF0YSYmYy5pZD09dGhpcy5jb3B5Q3V0RGF0YS5pZD8oYz10aGlzLmNvcHlDdXREYXRhLGMuJD1hLmRhdGEuJC5jbGlwYm9hcmREYXRhKTp0aGlzLmNvcHlDdXREYXRhPWM7cmV0dXJuIGN9cmV0dXJuIG5ldyB0aGlzLmRhdGFUcmFuc2ZlcihudWxsLGIpfXJldHVybiBuZXcgdGhpcy5kYXRhVHJhbnNmZXIoQ0tFRElUT1IuZW52LmVkZ2UmJlxuYSYmYS5kYXRhLiQmJmEuZGF0YS4kLmNsaXBib2FyZERhdGF8fG51bGwsYil9LHByZXZlbnREZWZhdWx0RHJvcE9uRWxlbWVudDpmdW5jdGlvbihhKXthJiZhLm9uKFwiZHJhZ292ZXJcIixkKX19O3ZhciBrPUNLRURJVE9SLnBsdWdpbnMuY2xpcGJvYXJkLmlzQ3VzdG9tRGF0YVR5cGVzU3VwcG9ydGVkP1wiY2tlL2lkXCI6XCJUZXh0XCI7Q0tFRElUT1IucGx1Z2lucy5jbGlwYm9hcmQuZGF0YVRyYW5zZmVyPWZ1bmN0aW9uKGEsYil7YSYmKHRoaXMuJD1hKTt0aGlzLl89e21ldGFSZWdFeHA6L148bWV0YS4qPz4vaSxib2R5UmVnRXhwOi88Ym9keSg/OltcXHNcXFNdKj8pPihbXFxzXFxTXSopPFxcL2JvZHk+L2ksZnJhZ21lbnRSZWdFeHA6L1xceDNjIS0tKD86U3RhcnR8RW5kKUZyYWdtZW50LS1cXHgzZS9nLGRhdGE6e30sZmlsZXM6W10sbm9ybWFsaXplVHlwZTpmdW5jdGlvbihhKXthPWEudG9Mb3dlckNhc2UoKTtyZXR1cm5cInRleHRcIj09YXx8XCJ0ZXh0L3BsYWluXCI9PWE/XCJUZXh0XCI6XCJ1cmxcIj09YT9cIlVSTFwiOlxuYX19O3RoaXMuaWQ9dGhpcy5nZXREYXRhKGspO3RoaXMuaWR8fCh0aGlzLmlkPVwiVGV4dFwiPT1rP1wiXCI6XCJja2UtXCIrQ0tFRElUT1IudG9vbHMuZ2V0VW5pcXVlSWQoKSk7aWYoXCJUZXh0XCIhPWspdHJ5e3RoaXMuJC5zZXREYXRhKGssdGhpcy5pZCl9Y2F0Y2goYyl7fWImJih0aGlzLnNvdXJjZUVkaXRvcj1iLHRoaXMuc2V0RGF0YShcInRleHQvaHRtbFwiLGIuZ2V0U2VsZWN0ZWRIdG1sKDEpKSxcIlRleHRcIj09a3x8dGhpcy5nZXREYXRhKFwidGV4dC9wbGFpblwiKXx8dGhpcy5zZXREYXRhKFwidGV4dC9wbGFpblwiLGIuZ2V0U2VsZWN0aW9uKCkuZ2V0U2VsZWN0ZWRUZXh0KCkpKX07Q0tFRElUT1IuREFUQV9UUkFOU0ZFUl9JTlRFUk5BTD0xO0NLRURJVE9SLkRBVEFfVFJBTlNGRVJfQ1JPU1NfRURJVE9SUz0yO0NLRURJVE9SLkRBVEFfVFJBTlNGRVJfRVhURVJOQUw9MztDS0VESVRPUi5wbHVnaW5zLmNsaXBib2FyZC5kYXRhVHJhbnNmZXIucHJvdG90eXBlPXtnZXREYXRhOmZ1bmN0aW9uKGEpe2E9XG50aGlzLl8ubm9ybWFsaXplVHlwZShhKTt2YXIgYj10aGlzLl8uZGF0YVthXTtpZih2b2lkIDA9PT1ifHxudWxsPT09Ynx8XCJcIj09PWIpdHJ5e2I9dGhpcy4kLmdldERhdGEoYSl9Y2F0Y2goYyl7fWlmKHZvaWQgMD09PWJ8fG51bGw9PT1ifHxcIlwiPT09YiliPVwiXCI7XCJ0ZXh0L2h0bWxcIj09YT8oYj1iLnJlcGxhY2UodGhpcy5fLm1ldGFSZWdFeHAsXCJcIiksKGE9dGhpcy5fLmJvZHlSZWdFeHAuZXhlYyhiKSkmJmEubGVuZ3RoJiYoYj1hWzFdLGI9Yi5yZXBsYWNlKHRoaXMuXy5mcmFnbWVudFJlZ0V4cCxcIlwiKSkpOlwiVGV4dFwiPT1hJiZDS0VESVRPUi5lbnYuZ2Vja28mJnRoaXMuZ2V0RmlsZXNDb3VudCgpJiZcImZpbGU6Ly9cIj09Yi5zdWJzdHJpbmcoMCw3KSYmKGI9XCJcIik7cmV0dXJuIGJ9LHNldERhdGE6ZnVuY3Rpb24oYSxiKXthPXRoaXMuXy5ub3JtYWxpemVUeXBlKGEpO3RoaXMuXy5kYXRhW2FdPWI7aWYoQ0tFRElUT1IucGx1Z2lucy5jbGlwYm9hcmQuaXNDdXN0b21EYXRhVHlwZXNTdXBwb3J0ZWR8fFxuXCJVUkxcIj09YXx8XCJUZXh0XCI9PWEpe1wiVGV4dFwiPT1rJiZcIlRleHRcIj09YSYmKHRoaXMuaWQ9Yik7dHJ5e3RoaXMuJC5zZXREYXRhKGEsYil9Y2F0Y2goYyl7fX19LGdldFRyYW5zZmVyVHlwZTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5zb3VyY2VFZGl0b3I/dGhpcy5zb3VyY2VFZGl0b3I9PWE/Q0tFRElUT1IuREFUQV9UUkFOU0ZFUl9JTlRFUk5BTDpDS0VESVRPUi5EQVRBX1RSQU5TRkVSX0NST1NTX0VESVRPUlM6Q0tFRElUT1IuREFUQV9UUkFOU0ZFUl9FWFRFUk5BTH0sY2FjaGVEYXRhOmZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShjKXtjPWIuXy5ub3JtYWxpemVUeXBlKGMpO3ZhciBkPWIuZ2V0RGF0YShjKTtkJiYoYi5fLmRhdGFbY109ZCl9aWYodGhpcy4kKXt2YXIgYj10aGlzLGMsZDtpZihDS0VESVRPUi5wbHVnaW5zLmNsaXBib2FyZC5pc0N1c3RvbURhdGFUeXBlc1N1cHBvcnRlZCl7aWYodGhpcy4kLnR5cGVzKWZvcihjPTA7Yzx0aGlzLiQudHlwZXMubGVuZ3RoO2MrKylhKHRoaXMuJC50eXBlc1tjXSl9ZWxzZSBhKFwiVGV4dFwiKSxcbmEoXCJVUkxcIik7ZD10aGlzLl9nZXRJbWFnZUZyb21DbGlwYm9hcmQoKTtpZih0aGlzLiQmJnRoaXMuJC5maWxlc3x8ZCl7dGhpcy5fLmZpbGVzPVtdO2lmKHRoaXMuJC5maWxlcyYmdGhpcy4kLmZpbGVzLmxlbmd0aClmb3IoYz0wO2M8dGhpcy4kLmZpbGVzLmxlbmd0aDtjKyspdGhpcy5fLmZpbGVzLnB1c2godGhpcy4kLmZpbGVzW2NdKTswPT09dGhpcy5fLmZpbGVzLmxlbmd0aCYmZCYmdGhpcy5fLmZpbGVzLnB1c2goZCl9fX0sZ2V0RmlsZXNDb3VudDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl8uZmlsZXMubGVuZ3RoP3RoaXMuXy5maWxlcy5sZW5ndGg6dGhpcy4kJiZ0aGlzLiQuZmlsZXMmJnRoaXMuJC5maWxlcy5sZW5ndGg/dGhpcy4kLmZpbGVzLmxlbmd0aDp0aGlzLl9nZXRJbWFnZUZyb21DbGlwYm9hcmQoKT8xOjB9LGdldEZpbGU6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuXy5maWxlcy5sZW5ndGg/dGhpcy5fLmZpbGVzW2FdOnRoaXMuJCYmdGhpcy4kLmZpbGVzJiZ0aGlzLiQuZmlsZXMubGVuZ3RoP1xudGhpcy4kLmZpbGVzW2FdOjA9PT1hP3RoaXMuX2dldEltYWdlRnJvbUNsaXBib2FyZCgpOnZvaWQgMH0saXNFbXB0eTpmdW5jdGlvbigpe3ZhciBhPXt9LGI7aWYodGhpcy5nZXRGaWxlc0NvdW50KCkpcmV0dXJuITE7Zm9yKGIgaW4gdGhpcy5fLmRhdGEpYVtiXT0xO2lmKHRoaXMuJClpZihDS0VESVRPUi5wbHVnaW5zLmNsaXBib2FyZC5pc0N1c3RvbURhdGFUeXBlc1N1cHBvcnRlZCl7aWYodGhpcy4kLnR5cGVzKWZvcih2YXIgYz0wO2M8dGhpcy4kLnR5cGVzLmxlbmd0aDtjKyspYVt0aGlzLiQudHlwZXNbY11dPTF9ZWxzZSBhLlRleHQ9MSxhLlVSTD0xO1wiVGV4dFwiIT1rJiYoYVtrXT0wKTtmb3IoYiBpbiBhKWlmKGFbYl0mJlwiXCIhPT10aGlzLmdldERhdGEoYikpcmV0dXJuITE7cmV0dXJuITB9LF9nZXRJbWFnZUZyb21DbGlwYm9hcmQ6ZnVuY3Rpb24oKXt2YXIgYTtpZih0aGlzLiQmJnRoaXMuJC5pdGVtcyYmdGhpcy4kLml0ZW1zWzBdKXRyeXtpZigoYT10aGlzLiQuaXRlbXNbMF0uZ2V0QXNGaWxlKCkpJiZcbmEudHlwZSlyZXR1cm4gYX1jYXRjaChiKXt9fX19KCksZnVuY3Rpb24oKXtDS0VESVRPUi5wbHVnaW5zLmFkZChcInBhbmVsXCIse2JlZm9yZUluaXQ6ZnVuY3Rpb24oYSl7YS51aS5hZGRIYW5kbGVyKENLRURJVE9SLlVJX1BBTkVMLENLRURJVE9SLnVpLnBhbmVsLmhhbmRsZXIpfX0pO0NLRURJVE9SLlVJX1BBTkVMPVwicGFuZWxcIjtDS0VESVRPUi51aS5wYW5lbD1mdW5jdGlvbihhLGIpe2ImJkNLRURJVE9SLnRvb2xzLmV4dGVuZCh0aGlzLGIpO0NLRURJVE9SLnRvb2xzLmV4dGVuZCh0aGlzLHtjbGFzc05hbWU6XCJcIixjc3M6W119KTt0aGlzLmlkPUNLRURJVE9SLnRvb2xzLmdldE5leHRJZCgpO3RoaXMuZG9jdW1lbnQ9YTt0aGlzLmlzRnJhbWVkPXRoaXMuZm9yY2VJRnJhbWV8fHRoaXMuY3NzLmxlbmd0aDt0aGlzLl89e2Jsb2Nrczp7fX19O0NLRURJVE9SLnVpLnBhbmVsLmhhbmRsZXI9e2NyZWF0ZTpmdW5jdGlvbihhKXtyZXR1cm4gbmV3IENLRURJVE9SLnVpLnBhbmVsKGEpfX07dmFyIGE9XG5DS0VESVRPUi5hZGRUZW1wbGF0ZShcInBhbmVsXCIsJ1xceDNjZGl2IGxhbmdcXHgzZFwie2xhbmdDb2RlfVwiIGlkXFx4M2RcIntpZH1cIiBkaXJcXHgzZHtkaXJ9IGNsYXNzXFx4M2RcImNrZSBja2VfcmVzZXRfYWxsIHtlZGl0b3JJZH0gY2tlX3BhbmVsIGNrZV9wYW5lbCB7Y2xzfSBja2Vfe2Rpcn1cIiBzdHlsZVxceDNkXCJ6LWluZGV4Ont6LWluZGV4fVwiIHJvbGVcXHgzZFwicHJlc2VudGF0aW9uXCJcXHgzZXtmcmFtZX1cXHgzYy9kaXZcXHgzZScpLGY9Q0tFRElUT1IuYWRkVGVtcGxhdGUoXCJwYW5lbC1mcmFtZVwiLCdcXHgzY2lmcmFtZSBpZFxceDNkXCJ7aWR9XCIgY2xhc3NcXHgzZFwiY2tlX3BhbmVsX2ZyYW1lXCIgcm9sZVxceDNkXCJwcmVzZW50YXRpb25cIiBmcmFtZWJvcmRlclxceDNkXCIwXCIgc3JjXFx4M2RcIntzcmN9XCJcXHgzZVxceDNjL2lmcmFtZVxceDNlJyksYj1DS0VESVRPUi5hZGRUZW1wbGF0ZShcInBhbmVsLWZyYW1lLWlubmVyXCIsJ1xceDNjIURPQ1RZUEUgaHRtbFxceDNlXFx4M2NodG1sIGNsYXNzXFx4M2RcImNrZV9wYW5lbF9jb250YWluZXIge2Vudn1cIiBkaXJcXHgzZFwie2Rpcn1cIiBsYW5nXFx4M2RcIntsYW5nQ29kZX1cIlxceDNlXFx4M2NoZWFkXFx4M2V7Y3NzfVxceDNjL2hlYWRcXHgzZVxceDNjYm9keSBjbGFzc1xceDNkXCJja2Vfe2Rpcn1cIiBzdHlsZVxceDNkXCJtYXJnaW46MDtwYWRkaW5nOjBcIiBvbmxvYWRcXHgzZFwie29ubG9hZH1cIlxceDNlXFx4M2MvYm9keVxceDNlXFx4M2MvaHRtbFxceDNlJyk7XG5DS0VESVRPUi51aS5wYW5lbC5wcm90b3R5cGU9e3JlbmRlcjpmdW5jdGlvbihjLGUpe3RoaXMuZ2V0SG9sZGVyRWxlbWVudD1mdW5jdGlvbigpe3ZhciBhPXRoaXMuXy5ob2xkZXI7aWYoIWEpe2lmKHRoaXMuaXNGcmFtZWQpe3ZhciBhPXRoaXMuZG9jdW1lbnQuZ2V0QnlJZCh0aGlzLmlkK1wiX2ZyYW1lXCIpLGM9YS5nZXRQYXJlbnQoKSxhPWEuZ2V0RnJhbWVEb2N1bWVudCgpO0NLRURJVE9SLmVudi5pT1MmJmMuc2V0U3R5bGVzKHtvdmVyZmxvdzpcInNjcm9sbFwiLFwiLXdlYmtpdC1vdmVyZmxvdy1zY3JvbGxpbmdcIjpcInRvdWNoXCJ9KTtjPUNLRURJVE9SLnRvb2xzLmFkZEZ1bmN0aW9uKENLRURJVE9SLnRvb2xzLmJpbmQoZnVuY3Rpb24oKXt0aGlzLmlzTG9hZGVkPSEwO2lmKHRoaXMub25Mb2FkKXRoaXMub25Mb2FkKCl9LHRoaXMpKTthLndyaXRlKGIub3V0cHV0KENLRURJVE9SLnRvb2xzLmV4dGVuZCh7Y3NzOkNLRURJVE9SLnRvb2xzLmJ1aWxkU3R5bGVIdG1sKHRoaXMuY3NzKSxvbmxvYWQ6XCJ3aW5kb3cucGFyZW50LkNLRURJVE9SLnRvb2xzLmNhbGxGdW5jdGlvbihcIitcbmMrXCIpO1wifSxtKSkpO2EuZ2V0V2luZG93KCkuJC5DS0VESVRPUj1DS0VESVRPUjthLm9uKFwia2V5ZG93blwiLGZ1bmN0aW9uKGEpe3ZhciBiPWEuZGF0YS5nZXRLZXlzdHJva2UoKSxjPXRoaXMuZG9jdW1lbnQuZ2V0QnlJZCh0aGlzLmlkKS5nZXRBdHRyaWJ1dGUoXCJkaXJcIik7dGhpcy5fLm9uS2V5RG93biYmITE9PT10aGlzLl8ub25LZXlEb3duKGIpP2EuZGF0YS5wcmV2ZW50RGVmYXVsdCgpOigyNz09Ynx8Yj09KFwicnRsXCI9PWM/Mzk6MzcpKSYmdGhpcy5vbkVzY2FwZSYmITE9PT10aGlzLm9uRXNjYXBlKGIpJiZhLmRhdGEucHJldmVudERlZmF1bHQoKX0sdGhpcyk7YT1hLmdldEJvZHkoKTthLnVuc2VsZWN0YWJsZSgpO0NLRURJVE9SLmVudi5haXImJkNLRURJVE9SLnRvb2xzLmNhbGxGdW5jdGlvbihjKX1lbHNlIGE9dGhpcy5kb2N1bWVudC5nZXRCeUlkKHRoaXMuaWQpO3RoaXMuXy5ob2xkZXI9YX1yZXR1cm4gYX07dmFyIG09e2VkaXRvcklkOmMuaWQsaWQ6dGhpcy5pZCxsYW5nQ29kZTpjLmxhbmdDb2RlLFxuZGlyOmMubGFuZy5kaXIsY2xzOnRoaXMuY2xhc3NOYW1lLGZyYW1lOlwiXCIsZW52OkNLRURJVE9SLmVudi5jc3NDbGFzcyxcInotaW5kZXhcIjpjLmNvbmZpZy5iYXNlRmxvYXRaSW5kZXgrMX07aWYodGhpcy5pc0ZyYW1lZCl7dmFyIGw9Q0tFRElUT1IuZW52LmFpcj9cImphdmFzY3JpcHQ6dm9pZCgwKVwiOkNLRURJVE9SLmVudi5pZT9cImphdmFzY3JpcHQ6dm9pZChmdW5jdGlvbigpe1wiK2VuY29kZVVSSUNvbXBvbmVudChcImRvY3VtZW50Lm9wZW4oKTsoXCIrQ0tFRElUT1IudG9vbHMuZml4RG9tYWluK1wiKSgpO2RvY3VtZW50LmNsb3NlKCk7XCIpK1wifSgpKVwiOlwiXCI7bS5mcmFtZT1mLm91dHB1dCh7aWQ6dGhpcy5pZCtcIl9mcmFtZVwiLHNyYzpsfSl9bD1hLm91dHB1dChtKTtlJiZlLnB1c2gobCk7cmV0dXJuIGx9LGFkZEJsb2NrOmZ1bmN0aW9uKGEsYil7Yj10aGlzLl8uYmxvY2tzW2FdPWIgaW5zdGFuY2VvZiBDS0VESVRPUi51aS5wYW5lbC5ibG9jaz9iOm5ldyBDS0VESVRPUi51aS5wYW5lbC5ibG9jayh0aGlzLmdldEhvbGRlckVsZW1lbnQoKSxcbmIpO3RoaXMuXy5jdXJyZW50QmxvY2t8fHRoaXMuc2hvd0Jsb2NrKGEpO3JldHVybiBifSxnZXRCbG9jazpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5fLmJsb2Nrc1thXX0sc2hvd0Jsb2NrOmZ1bmN0aW9uKGEpe2E9dGhpcy5fLmJsb2Nrc1thXTt2YXIgYj10aGlzLl8uY3VycmVudEJsb2NrLGY9IXRoaXMuZm9yY2VJRnJhbWV8fENLRURJVE9SLmVudi5pZT90aGlzLl8uaG9sZGVyOnRoaXMuZG9jdW1lbnQuZ2V0QnlJZCh0aGlzLmlkK1wiX2ZyYW1lXCIpO2ImJmIuaGlkZSgpO3RoaXMuXy5jdXJyZW50QmxvY2s9YTtDS0VESVRPUi5maXJlKFwiYXJpYVdpZGdldFwiLGYpO2EuXy5mb2N1c0luZGV4PS0xO3RoaXMuXy5vbktleURvd249YS5vbktleURvd24mJkNLRURJVE9SLnRvb2xzLmJpbmQoYS5vbktleURvd24sYSk7YS5zaG93KCk7cmV0dXJuIGF9LGRlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQmJnRoaXMuZWxlbWVudC5yZW1vdmUoKX19O0NLRURJVE9SLnVpLnBhbmVsLmJsb2NrPVxuQ0tFRElUT1IudG9vbHMuY3JlYXRlQ2xhc3MoeyQ6ZnVuY3Rpb24oYSxiKXt0aGlzLmVsZW1lbnQ9YS5hcHBlbmQoYS5nZXREb2N1bWVudCgpLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIix7YXR0cmlidXRlczp7dGFiaW5kZXg6LTEsXCJjbGFzc1wiOlwiY2tlX3BhbmVsX2Jsb2NrXCJ9LHN0eWxlczp7ZGlzcGxheTpcIm5vbmVcIn19KSk7YiYmQ0tFRElUT1IudG9vbHMuZXh0ZW5kKHRoaXMsYik7dGhpcy5lbGVtZW50LnNldEF0dHJpYnV0ZXMoe3JvbGU6dGhpcy5hdHRyaWJ1dGVzLnJvbGV8fFwicHJlc2VudGF0aW9uXCIsXCJhcmlhLWxhYmVsXCI6dGhpcy5hdHRyaWJ1dGVzW1wiYXJpYS1sYWJlbFwiXSx0aXRsZTp0aGlzLmF0dHJpYnV0ZXMudGl0bGV8fHRoaXMuYXR0cmlidXRlc1tcImFyaWEtbGFiZWxcIl19KTt0aGlzLmtleXM9e307dGhpcy5fLmZvY3VzSW5kZXg9LTE7dGhpcy5lbGVtZW50LmRpc2FibGVDb250ZXh0TWVudSgpfSxfOnttYXJrSXRlbTpmdW5jdGlvbihhKXstMSE9YSYmKGE9dGhpcy5lbGVtZW50LmdldEVsZW1lbnRzQnlUYWcoXCJhXCIpLmdldEl0ZW0odGhpcy5fLmZvY3VzSW5kZXg9XG5hKSxDS0VESVRPUi5lbnYud2Via2l0JiZhLmdldERvY3VtZW50KCkuZ2V0V2luZG93KCkuZm9jdXMoKSxhLmZvY3VzKCksdGhpcy5vbk1hcmsmJnRoaXMub25NYXJrKGEpKX19LHByb3RvOntzaG93OmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LnNldFN0eWxlKFwiZGlzcGxheVwiLFwiXCIpfSxoaWRlOmZ1bmN0aW9uKCl7dGhpcy5vbkhpZGUmJiEwPT09dGhpcy5vbkhpZGUuY2FsbCh0aGlzKXx8dGhpcy5lbGVtZW50LnNldFN0eWxlKFwiZGlzcGxheVwiLFwibm9uZVwiKX0sb25LZXlEb3duOmZ1bmN0aW9uKGEsYil7dmFyIGY9dGhpcy5rZXlzW2FdO3N3aXRjaChmKXtjYXNlIFwibmV4dFwiOmZvcih2YXIgbD10aGlzLl8uZm9jdXNJbmRleCxmPXRoaXMuZWxlbWVudC5nZXRFbGVtZW50c0J5VGFnKFwiYVwiKSxkO2Q9Zi5nZXRJdGVtKCsrbCk7KWlmKGQuZ2V0QXR0cmlidXRlKFwiX2NrZV9mb2N1c1wiKSYmZC4kLm9mZnNldFdpZHRoKXt0aGlzLl8uZm9jdXNJbmRleD1sO2QuZm9jdXMoKTticmVha31yZXR1cm4gZHx8XG5iPyExOih0aGlzLl8uZm9jdXNJbmRleD0tMSx0aGlzLm9uS2V5RG93bihhLDEpKTtjYXNlIFwicHJldlwiOmw9dGhpcy5fLmZvY3VzSW5kZXg7Zm9yKGY9dGhpcy5lbGVtZW50LmdldEVsZW1lbnRzQnlUYWcoXCJhXCIpOzA8bCYmKGQ9Zi5nZXRJdGVtKC0tbCkpOyl7aWYoZC5nZXRBdHRyaWJ1dGUoXCJfY2tlX2ZvY3VzXCIpJiZkLiQub2Zmc2V0V2lkdGgpe3RoaXMuXy5mb2N1c0luZGV4PWw7ZC5mb2N1cygpO2JyZWFrfWQ9bnVsbH1yZXR1cm4gZHx8Yj8hMToodGhpcy5fLmZvY3VzSW5kZXg9Zi5jb3VudCgpLHRoaXMub25LZXlEb3duKGEsMSkpO2Nhc2UgXCJjbGlja1wiOmNhc2UgXCJtb3VzZXVwXCI6cmV0dXJuIGw9dGhpcy5fLmZvY3VzSW5kZXgsKGQ9MDw9bCYmdGhpcy5lbGVtZW50LmdldEVsZW1lbnRzQnlUYWcoXCJhXCIpLmdldEl0ZW0obCkpJiYoZC4kW2ZdP2QuJFtmXSgpOmQuJFtcIm9uXCIrZl0oKSksITF9cmV0dXJuITB9fX0pfSgpLENLRURJVE9SLnBsdWdpbnMuYWRkKFwiZmxvYXRwYW5lbFwiLFxue3JlcXVpcmVzOlwicGFuZWxcIn0pLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhLGMsZSxtLGwpe2w9Q0tFRElUT1IudG9vbHMuZ2VuS2V5KGMuZ2V0VW5pcXVlSWQoKSxlLmdldFVuaXF1ZUlkKCksYS5sYW5nLmRpcixhLnVpQ29sb3J8fFwiXCIsbS5jc3N8fFwiXCIsbHx8XCJcIik7dmFyIGQ9ZltsXTtkfHwoZD1mW2xdPW5ldyBDS0VESVRPUi51aS5wYW5lbChjLG0pLGQuZWxlbWVudD1lLmFwcGVuZChDS0VESVRPUi5kb20uZWxlbWVudC5jcmVhdGVGcm9tSHRtbChkLnJlbmRlcihhKSxjKSksZC5lbGVtZW50LnNldFN0eWxlcyh7ZGlzcGxheTpcIm5vbmVcIixwb3NpdGlvbjpcImFic29sdXRlXCJ9KSk7cmV0dXJuIGR9dmFyIGY9e307Q0tFRElUT1IudWkuZmxvYXRQYW5lbD1DS0VESVRPUi50b29scy5jcmVhdGVDbGFzcyh7JDpmdW5jdGlvbihiLGMsZSxmKXtmdW5jdGlvbiBsKCl7Zy5oaWRlKCl9ZS5mb3JjZUlGcmFtZT0xO2UudG9vbGJhclJlbGF0ZWQmJmIuZWxlbWVudE1vZGU9PUNLRURJVE9SLkVMRU1FTlRfTU9ERV9JTkxJTkUmJlxuKGM9Q0tFRElUT1IuZG9jdW1lbnQuZ2V0QnlJZChcImNrZV9cIitiLm5hbWUpKTt2YXIgZD1jLmdldERvY3VtZW50KCk7Zj1hKGIsZCxjLGUsZnx8MCk7dmFyIGg9Zi5lbGVtZW50LGs9aC5nZXRGaXJzdCgpLGc9dGhpcztoLmRpc2FibGVDb250ZXh0TWVudSgpO3RoaXMuZWxlbWVudD1oO3RoaXMuXz17ZWRpdG9yOmIscGFuZWw6ZixwYXJlbnRFbGVtZW50OmMsZGVmaW5pdGlvbjplLGRvY3VtZW50OmQsaWZyYW1lOmssY2hpbGRyZW46W10sZGlyOmIubGFuZy5kaXIsc2hvd0Jsb2NrUGFyYW1zOm51bGx9O2Iub24oXCJtb2RlXCIsbCk7Yi5vbihcInJlc2l6ZVwiLGwpO2QuZ2V0V2luZG93KCkub24oXCJyZXNpemVcIixmdW5jdGlvbigpe3RoaXMucmVwb3NpdGlvbigpfSx0aGlzKX0scHJvdG86e2FkZEJsb2NrOmZ1bmN0aW9uKGEsYyl7cmV0dXJuIHRoaXMuXy5wYW5lbC5hZGRCbG9jayhhLGMpfSxhZGRMaXN0QmxvY2s6ZnVuY3Rpb24oYSxjKXtyZXR1cm4gdGhpcy5fLnBhbmVsLmFkZExpc3RCbG9jayhhLFxuYyl9LGdldEJsb2NrOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLl8ucGFuZWwuZ2V0QmxvY2soYSl9LHNob3dCbG9jazpmdW5jdGlvbihhLGMsZSxmLGwsZCl7dmFyIGg9dGhpcy5fLnBhbmVsLGs9aC5zaG93QmxvY2soYSk7dGhpcy5fLnNob3dCbG9ja1BhcmFtcz1bXS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7dGhpcy5hbGxvd0JsdXIoITEpO3ZhciBnPXRoaXMuXy5lZGl0b3IuZWRpdGFibGUoKTt0aGlzLl8ucmV0dXJuRm9jdXM9Zy5oYXNGb2N1cz9nOm5ldyBDS0VESVRPUi5kb20uZWxlbWVudChDS0VESVRPUi5kb2N1bWVudC4kLmFjdGl2ZUVsZW1lbnQpO3RoaXMuXy5oaWRlVGltZW91dD0wO3ZhciBuPXRoaXMuZWxlbWVudCxnPXRoaXMuXy5pZnJhbWUsZz1DS0VESVRPUi5lbnYuaWUmJiFDS0VESVRPUi5lbnYuZWRnZT9nOm5ldyBDS0VESVRPUi5kb20ud2luZG93KGcuJC5jb250ZW50V2luZG93KSxxPW4uZ2V0RG9jdW1lbnQoKSxwPXRoaXMuXy5wYXJlbnRFbGVtZW50LmdldFBvc2l0aW9uZWRBbmNlc3RvcigpLFxudD1jLmdldERvY3VtZW50UG9zaXRpb24ocSkscT1wP3AuZ2V0RG9jdW1lbnRQb3NpdGlvbihxKTp7eDowLHk6MH0sdj1cInJ0bFwiPT10aGlzLl8uZGlyLHI9dC54KyhmfHwwKS1xLngsdT10LnkrKGx8fDApLXEueTshdnx8MSE9ZSYmNCE9ZT92fHwyIT1lJiYzIT1lfHwocis9Yy4kLm9mZnNldFdpZHRoLTEpOnIrPWMuJC5vZmZzZXRXaWR0aDtpZigzPT1lfHw0PT1lKXUrPWMuJC5vZmZzZXRIZWlnaHQtMTt0aGlzLl8ucGFuZWwuXy5vZmZzZXRQYXJlbnRJZD1jLmdldElkKCk7bi5zZXRTdHlsZXMoe3RvcDp1K1wicHhcIixsZWZ0OjAsZGlzcGxheTpcIlwifSk7bi5zZXRPcGFjaXR5KDApO24uZ2V0Rmlyc3QoKS5yZW1vdmVTdHlsZShcIndpZHRoXCIpO3RoaXMuXy5lZGl0b3IuZm9jdXNNYW5hZ2VyLmFkZChnKTt0aGlzLl8uYmx1clNldHx8KENLRURJVE9SLmV2ZW50LnVzZUNhcHR1cmU9ITAsZy5vbihcImJsdXJcIixmdW5jdGlvbihhKXtmdW5jdGlvbiBiKCl7ZGVsZXRlIHRoaXMuXy5yZXR1cm5Gb2N1cztcbnRoaXMuaGlkZSgpfXRoaXMuYWxsb3dCbHVyKCkmJmEuZGF0YS5nZXRQaGFzZSgpPT1DS0VESVRPUi5FVkVOVF9QSEFTRV9BVF9UQVJHRVQmJnRoaXMudmlzaWJsZSYmIXRoaXMuXy5hY3RpdmVDaGlsZCYmKENLRURJVE9SLmVudi5pT1M/dGhpcy5fLmhpZGVUaW1lb3V0fHwodGhpcy5fLmhpZGVUaW1lb3V0PUNLRURJVE9SLnRvb2xzLnNldFRpbWVvdXQoYiwwLHRoaXMpKTpiLmNhbGwodGhpcykpfSx0aGlzKSxnLm9uKFwiZm9jdXNcIixmdW5jdGlvbigpe3RoaXMuXy5mb2N1c2VkPSEwO3RoaXMuaGlkZUNoaWxkKCk7dGhpcy5hbGxvd0JsdXIoITApfSx0aGlzKSxDS0VESVRPUi5lbnYuaU9TJiYoZy5vbihcInRvdWNoc3RhcnRcIixmdW5jdGlvbigpe2NsZWFyVGltZW91dCh0aGlzLl8uaGlkZVRpbWVvdXQpfSx0aGlzKSxnLm9uKFwidG91Y2hlbmRcIixmdW5jdGlvbigpe3RoaXMuXy5oaWRlVGltZW91dD0wO3RoaXMuZm9jdXMoKX0sdGhpcykpLENLRURJVE9SLmV2ZW50LnVzZUNhcHR1cmU9ITEsXG50aGlzLl8uYmx1clNldD0xKTtoLm9uRXNjYXBlPUNLRURJVE9SLnRvb2xzLmJpbmQoZnVuY3Rpb24oYSl7aWYodGhpcy5vbkVzY2FwZSYmITE9PT10aGlzLm9uRXNjYXBlKGEpKXJldHVybiExfSx0aGlzKTtDS0VESVRPUi50b29scy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dmFyIGE9Q0tFRElUT1IudG9vbHMuYmluZChmdW5jdGlvbigpe3ZhciBhPW47YS5yZW1vdmVTdHlsZShcIndpZHRoXCIpO2lmKGsuYXV0b1NpemUpe3ZhciBiPWsuZWxlbWVudC5nZXREb2N1bWVudCgpLGI9KENLRURJVE9SLmVudi53ZWJraXR8fENLRURJVE9SLmVudi5lZGdlP2suZWxlbWVudDpiLmdldEJvZHkoKSkuJC5zY3JvbGxXaWR0aDtDS0VESVRPUi5lbnYuaWUmJkNLRURJVE9SLmVudi5xdWlya3MmJjA8YiYmKGIrPShhLiQub2Zmc2V0V2lkdGh8fDApLShhLiQuY2xpZW50V2lkdGh8fDApKzMpO2Euc2V0U3R5bGUoXCJ3aWR0aFwiLGIrMTArXCJweFwiKTtiPWsuZWxlbWVudC4kLnNjcm9sbEhlaWdodDtDS0VESVRPUi5lbnYuaWUmJlxuQ0tFRElUT1IuZW52LnF1aXJrcyYmMDxiJiYoYis9KGEuJC5vZmZzZXRIZWlnaHR8fDApLShhLiQuY2xpZW50SGVpZ2h0fHwwKSszKTthLnNldFN0eWxlKFwiaGVpZ2h0XCIsYitcInB4XCIpO2guXy5jdXJyZW50QmxvY2suZWxlbWVudC5zZXRTdHlsZShcImRpc3BsYXlcIixcIm5vbmVcIikucmVtb3ZlU3R5bGUoXCJkaXNwbGF5XCIpfWVsc2UgYS5yZW1vdmVTdHlsZShcImhlaWdodFwiKTt2JiYoci09bi4kLm9mZnNldFdpZHRoKTtuLnNldFN0eWxlKFwibGVmdFwiLHIrXCJweFwiKTt2YXIgYj1oLmVsZW1lbnQuZ2V0V2luZG93KCksYT1uLiQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksYj1iLmdldFZpZXdQYW5lU2l6ZSgpLGM9YS53aWR0aHx8YS5yaWdodC1hLmxlZnQsZT1hLmhlaWdodHx8YS5ib3R0b20tYS50b3AsZj12P2EucmlnaHQ6Yi53aWR0aC1hLmxlZnQsZz12P2Iud2lkdGgtYS5yaWdodDphLmxlZnQ7dj9mPGMmJihyPWc+Yz9yK2M6Yi53aWR0aD5jP3ItYS5sZWZ0OnItYS5yaWdodCtiLndpZHRoKTpcbmY8YyYmKHI9Zz5jP3ItYzpiLndpZHRoPmM/ci1hLnJpZ2h0K2Iud2lkdGg6ci1hLmxlZnQpO2M9YS50b3A7Yi5oZWlnaHQtYS50b3A8ZSYmKHU9Yz5lP3UtZTpiLmhlaWdodD5lP3UtYS5ib3R0b20rYi5oZWlnaHQ6dS1hLnRvcCk7Q0tFRElUT1IuZW52LmllJiYoYj1hPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudChuLiQub2Zmc2V0UGFyZW50KSxcImh0bWxcIj09Yi5nZXROYW1lKCkmJihiPWIuZ2V0RG9jdW1lbnQoKS5nZXRCb2R5KCkpLFwicnRsXCI9PWIuZ2V0Q29tcHV0ZWRTdHlsZShcImRpcmVjdGlvblwiKSYmKHI9Q0tFRElUT1IuZW52LmllOENvbXBhdD9yLTIqbi5nZXREb2N1bWVudCgpLmdldERvY3VtZW50RWxlbWVudCgpLiQuc2Nyb2xsTGVmdDpyLShhLiQuc2Nyb2xsV2lkdGgtYS4kLmNsaWVudFdpZHRoKSkpO3ZhciBhPW4uZ2V0Rmlyc3QoKSxsOyhsPWEuZ2V0Q3VzdG9tRGF0YShcImFjdGl2ZVBhbmVsXCIpKSYmbC5vbkhpZGUmJmwub25IaWRlLmNhbGwodGhpcywxKTthLnNldEN1c3RvbURhdGEoXCJhY3RpdmVQYW5lbFwiLFxudGhpcyk7bi5zZXRTdHlsZXMoe3RvcDp1K1wicHhcIixsZWZ0OnIrXCJweFwifSk7bi5zZXRPcGFjaXR5KDEpO2QmJmQoKX0sdGhpcyk7aC5pc0xvYWRlZD9hKCk6aC5vbkxvYWQ9YTtDS0VESVRPUi50b29scy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dmFyIGE9Q0tFRElUT1IuZW52LndlYmtpdCYmQ0tFRElUT1IuZG9jdW1lbnQuZ2V0V2luZG93KCkuZ2V0U2Nyb2xsUG9zaXRpb24oKS55O3RoaXMuZm9jdXMoKTtrLmVsZW1lbnQuZm9jdXMoKTtDS0VESVRPUi5lbnYud2Via2l0JiYoQ0tFRElUT1IuZG9jdW1lbnQuZ2V0Qm9keSgpLiQuc2Nyb2xsVG9wPWEpO3RoaXMuYWxsb3dCbHVyKCEwKTt0aGlzLl8uZWRpdG9yLmZpcmUoXCJwYW5lbFNob3dcIix0aGlzKX0sMCx0aGlzKX0sQ0tFRElUT1IuZW52LmFpcj8yMDA6MCx0aGlzKTt0aGlzLnZpc2libGU9MTt0aGlzLm9uU2hvdyYmdGhpcy5vblNob3cuY2FsbCh0aGlzKX0scmVwb3NpdGlvbjpmdW5jdGlvbigpe3ZhciBhPXRoaXMuXy5zaG93QmxvY2tQYXJhbXM7XG50aGlzLnZpc2libGUmJnRoaXMuXy5zaG93QmxvY2tQYXJhbXMmJih0aGlzLmhpZGUoKSx0aGlzLnNob3dCbG9jay5hcHBseSh0aGlzLGEpKX0sZm9jdXM6ZnVuY3Rpb24oKXtpZihDS0VESVRPUi5lbnYud2Via2l0KXt2YXIgYT1DS0VESVRPUi5kb2N1bWVudC5nZXRBY3RpdmUoKTthJiYhYS5lcXVhbHModGhpcy5fLmlmcmFtZSkmJmEuJC5ibHVyKCl9KHRoaXMuXy5sYXN0Rm9jdXNlZHx8dGhpcy5fLmlmcmFtZS5nZXRGcmFtZURvY3VtZW50KCkuZ2V0V2luZG93KCkpLmZvY3VzKCl9LGJsdXI6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLl8uaWZyYW1lLmdldEZyYW1lRG9jdW1lbnQoKS5nZXRBY3RpdmUoKTthJiZhLmlzKFwiYVwiKSYmKHRoaXMuXy5sYXN0Rm9jdXNlZD1hKX0saGlkZTpmdW5jdGlvbihhKXtpZih0aGlzLnZpc2libGUmJighdGhpcy5vbkhpZGV8fCEwIT09dGhpcy5vbkhpZGUuY2FsbCh0aGlzKSkpe3RoaXMuaGlkZUNoaWxkKCk7Q0tFRElUT1IuZW52LmdlY2tvJiZ0aGlzLl8uaWZyYW1lLmdldEZyYW1lRG9jdW1lbnQoKS4kLmFjdGl2ZUVsZW1lbnQuYmx1cigpO1xudGhpcy5lbGVtZW50LnNldFN0eWxlKFwiZGlzcGxheVwiLFwibm9uZVwiKTt0aGlzLnZpc2libGU9MDt0aGlzLmVsZW1lbnQuZ2V0Rmlyc3QoKS5yZW1vdmVDdXN0b21EYXRhKFwiYWN0aXZlUGFuZWxcIik7aWYoYT1hJiZ0aGlzLl8ucmV0dXJuRm9jdXMpQ0tFRElUT1IuZW52LndlYmtpdCYmYS50eXBlJiZhLmdldFdpbmRvdygpLiQuZm9jdXMoKSxhLmZvY3VzKCk7ZGVsZXRlIHRoaXMuXy5sYXN0Rm9jdXNlZDt0aGlzLl8uc2hvd0Jsb2NrUGFyYW1zPW51bGw7dGhpcy5fLmVkaXRvci5maXJlKFwicGFuZWxIaWRlXCIsdGhpcyl9fSxhbGxvd0JsdXI6ZnVuY3Rpb24oYSl7dmFyIGM9dGhpcy5fLnBhbmVsO3ZvaWQgMCE9PWEmJihjLmFsbG93Qmx1cj1hKTtyZXR1cm4gYy5hbGxvd0JsdXJ9LHNob3dBc0NoaWxkOmZ1bmN0aW9uKGEsYyxlLGYsbCxkKXtpZih0aGlzLl8uYWN0aXZlQ2hpbGQhPWF8fGEuXy5wYW5lbC5fLm9mZnNldFBhcmVudElkIT1lLmdldElkKCkpdGhpcy5oaWRlQ2hpbGQoKSxhLm9uSGlkZT1cbkNLRURJVE9SLnRvb2xzLmJpbmQoZnVuY3Rpb24oKXtDS0VESVRPUi50b29scy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dGhpcy5fLmZvY3VzZWR8fHRoaXMuaGlkZSgpfSwwLHRoaXMpfSx0aGlzKSx0aGlzLl8uYWN0aXZlQ2hpbGQ9YSx0aGlzLl8uZm9jdXNlZD0hMSxhLnNob3dCbG9jayhjLGUsZixsLGQpLHRoaXMuYmx1cigpLChDS0VESVRPUi5lbnYuaWU3Q29tcGF0fHxDS0VESVRPUi5lbnYuaWU2Q29tcGF0KSYmc2V0VGltZW91dChmdW5jdGlvbigpe2EuZWxlbWVudC5nZXRDaGlsZCgwKS4kLnN0eWxlLmNzc1RleHQrPVwiXCJ9LDEwMCl9LGhpZGVDaGlsZDpmdW5jdGlvbihhKXt2YXIgYz10aGlzLl8uYWN0aXZlQ2hpbGQ7YyYmKGRlbGV0ZSBjLm9uSGlkZSxkZWxldGUgdGhpcy5fLmFjdGl2ZUNoaWxkLGMuaGlkZSgpLGEmJnRoaXMuZm9jdXMoKSl9fX0pO0NLRURJVE9SLm9uKFwiaW5zdGFuY2VEZXN0cm95ZWRcIixmdW5jdGlvbigpe3ZhciBhPUNLRURJVE9SLnRvb2xzLmlzRW1wdHkoQ0tFRElUT1IuaW5zdGFuY2VzKSxcbmM7Zm9yKGMgaW4gZil7dmFyIGU9ZltjXTthP2UuZGVzdHJveSgpOmUuZWxlbWVudC5oaWRlKCl9YSYmKGY9e30pfSl9KCksQ0tFRElUT1IucGx1Z2lucy5hZGQoXCJtZW51XCIse3JlcXVpcmVzOlwiZmxvYXRwYW5lbFwiLGJlZm9yZUluaXQ6ZnVuY3Rpb24oYSl7Zm9yKHZhciBmPWEuY29uZmlnLm1lbnVfZ3JvdXBzLnNwbGl0KFwiLFwiKSxiPWEuXy5tZW51R3JvdXBzPXt9LGM9YS5fLm1lbnVJdGVtcz17fSxlPTA7ZTxmLmxlbmd0aDtlKyspYltmW2VdXT1lKzE7YS5hZGRNZW51R3JvdXA9ZnVuY3Rpb24oYSxjKXtiW2FdPWN8fDEwMH07YS5hZGRNZW51SXRlbT1mdW5jdGlvbihhLGUpe2JbZS5ncm91cF0mJihjW2FdPW5ldyBDS0VESVRPUi5tZW51SXRlbSh0aGlzLGEsZSkpfTthLmFkZE1lbnVJdGVtcz1mdW5jdGlvbihhKXtmb3IodmFyIGIgaW4gYSl0aGlzLmFkZE1lbnVJdGVtKGIsYVtiXSl9O2EuZ2V0TWVudUl0ZW09ZnVuY3Rpb24oYSl7cmV0dXJuIGNbYV19O2EucmVtb3ZlTWVudUl0ZW09XG5mdW5jdGlvbihhKXtkZWxldGUgY1thXX19fSksZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEpe2Euc29ydChmdW5jdGlvbihhLGIpe3JldHVybiBhLmdyb3VwPGIuZ3JvdXA/LTE6YS5ncm91cD5iLmdyb3VwPzE6YS5vcmRlcjxiLm9yZGVyPy0xOmEub3JkZXI+Yi5vcmRlcj8xOjB9KX12YXIgZj0nXFx4M2NzcGFuIGNsYXNzXFx4M2RcImNrZV9tZW51aXRlbVwiXFx4M2VcXHgzY2EgaWRcXHgzZFwie2lkfVwiIGNsYXNzXFx4M2RcImNrZV9tZW51YnV0dG9uIGNrZV9tZW51YnV0dG9uX197bmFtZX0gY2tlX21lbnVidXR0b25fe3N0YXRlfSB7Y2xzfVwiIGhyZWZcXHgzZFwie2hyZWZ9XCIgdGl0bGVcXHgzZFwie3RpdGxlfVwiIHRhYmluZGV4XFx4M2RcIi0xXCIgX2NrZV9mb2N1c1xceDNkMSBoaWRlZm9jdXNcXHgzZFwidHJ1ZVwiIHJvbGVcXHgzZFwie3JvbGV9XCIgYXJpYS1sYWJlbFxceDNkXCJ7bGFiZWx9XCIgYXJpYS1kZXNjcmliZWRieVxceDNkXCJ7aWR9X2Rlc2NyaXB0aW9uXCIgYXJpYS1oYXNwb3B1cFxceDNkXCJ7aGFzUG9wdXB9XCIgYXJpYS1kaXNhYmxlZFxceDNkXCJ7ZGlzYWJsZWR9XCIge2FyaWFDaGVja2VkfSc7XG5DS0VESVRPUi5lbnYuZ2Vja28mJkNLRURJVE9SLmVudi5tYWMmJihmKz0nIG9ua2V5cHJlc3NcXHgzZFwicmV0dXJuIGZhbHNlO1wiJyk7Q0tFRElUT1IuZW52LmdlY2tvJiYoZis9JyBvbmJsdXJcXHgzZFwidGhpcy5zdHlsZS5jc3NUZXh0IFxceDNkIHRoaXMuc3R5bGUuY3NzVGV4dDtcIicpO3ZhciBmPWYrKCcgb25tb3VzZW92ZXJcXHgzZFwiQ0tFRElUT1IudG9vbHMuY2FsbEZ1bmN0aW9uKHtob3ZlckZufSx7aW5kZXh9KTtcIiBvbm1vdXNlb3V0XFx4M2RcIkNLRURJVE9SLnRvb2xzLmNhbGxGdW5jdGlvbih7bW92ZU91dEZufSx7aW5kZXh9KTtcIiAnKyhDS0VESVRPUi5lbnYuaWU/J29uY2xpY2tcXHgzZFwicmV0dXJuIGZhbHNlO1wiIG9ubW91c2V1cCc6XCJvbmNsaWNrXCIpKydcXHgzZFwiQ0tFRElUT1IudG9vbHMuY2FsbEZ1bmN0aW9uKHtjbGlja0ZufSx7aW5kZXh9KTsgcmV0dXJuIGZhbHNlO1wiXFx4M2UnKSxiPUNLRURJVE9SLmFkZFRlbXBsYXRlKFwibWVudUl0ZW1cIixmKydcXHgzY3NwYW4gY2xhc3NcXHgzZFwiY2tlX21lbnVidXR0b25faW5uZXJcIlxceDNlXFx4M2NzcGFuIGNsYXNzXFx4M2RcImNrZV9tZW51YnV0dG9uX2ljb25cIlxceDNlXFx4M2NzcGFuIGNsYXNzXFx4M2RcImNrZV9idXR0b25faWNvbiBja2VfYnV0dG9uX197aWNvbk5hbWV9X2ljb25cIiBzdHlsZVxceDNkXCJ7aWNvblN0eWxlfVwiXFx4M2VcXHgzYy9zcGFuXFx4M2VcXHgzYy9zcGFuXFx4M2VcXHgzY3NwYW4gY2xhc3NcXHgzZFwiY2tlX21lbnVidXR0b25fbGFiZWxcIlxceDNle2xhYmVsfVxceDNjL3NwYW5cXHgzZXtzaG9ydGN1dEh0bWx9e2Fycm93SHRtbH1cXHgzYy9zcGFuXFx4M2VcXHgzYy9hXFx4M2VcXHgzY3NwYW4gaWRcXHgzZFwie2lkfV9kZXNjcmlwdGlvblwiIGNsYXNzXFx4M2RcImNrZV92b2ljZV9sYWJlbFwiIGFyaWEtaGlkZGVuXFx4M2RcImZhbHNlXCJcXHgzZXthcmlhU2hvcnRjdXR9XFx4M2Mvc3BhblxceDNlXFx4M2Mvc3BhblxceDNlJyksXG5jPUNLRURJVE9SLmFkZFRlbXBsYXRlKFwibWVudUFycm93XCIsJ1xceDNjc3BhbiBjbGFzc1xceDNkXCJja2VfbWVudWFycm93XCJcXHgzZVxceDNjc3BhblxceDNle2xhYmVsfVxceDNjL3NwYW5cXHgzZVxceDNjL3NwYW5cXHgzZScpLGU9Q0tFRElUT1IuYWRkVGVtcGxhdGUoXCJtZW51U2hvcnRjdXRcIiwnXFx4M2NzcGFuIGNsYXNzXFx4M2RcImNrZV9tZW51YnV0dG9uX2xhYmVsIGNrZV9tZW51YnV0dG9uX3Nob3J0Y3V0XCJcXHgzZXtzaG9ydGN1dH1cXHgzYy9zcGFuXFx4M2UnKTtDS0VESVRPUi5tZW51PUNLRURJVE9SLnRvb2xzLmNyZWF0ZUNsYXNzKHskOmZ1bmN0aW9uKGEsYil7Yj10aGlzLl8uZGVmaW5pdGlvbj1ifHx7fTt0aGlzLmlkPUNLRURJVE9SLnRvb2xzLmdldE5leHRJZCgpO3RoaXMuZWRpdG9yPWE7dGhpcy5pdGVtcz1bXTt0aGlzLl8ubGlzdGVuZXJzPVtdO3RoaXMuXy5sZXZlbD1iLmxldmVsfHwxO3ZhciBjPUNLRURJVE9SLnRvb2xzLmV4dGVuZCh7fSxiLnBhbmVsLHtjc3M6W0NLRURJVE9SLnNraW4uZ2V0UGF0aChcImVkaXRvclwiKV0sXG5sZXZlbDp0aGlzLl8ubGV2ZWwtMSxibG9jazp7fX0pLGU9Yy5ibG9jay5hdHRyaWJ1dGVzPWMuYXR0cmlidXRlc3x8e307IWUucm9sZSYmKGUucm9sZT1cIm1lbnVcIik7dGhpcy5fLnBhbmVsRGVmaW5pdGlvbj1jfSxfOntvblNob3c6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmVkaXRvci5nZXRTZWxlY3Rpb24oKSxiPWEmJmEuZ2V0U3RhcnRFbGVtZW50KCksYz10aGlzLmVkaXRvci5lbGVtZW50UGF0aCgpLGU9dGhpcy5fLmxpc3RlbmVyczt0aGlzLnJlbW92ZUFsbCgpO2Zvcih2YXIgZj0wO2Y8ZS5sZW5ndGg7ZisrKXt2YXIgZz1lW2ZdKGIsYSxjKTtpZihnKWZvcih2YXIgbiBpbiBnKXt2YXIgcT10aGlzLmVkaXRvci5nZXRNZW51SXRlbShuKTshcXx8cS5jb21tYW5kJiYhdGhpcy5lZGl0b3IuZ2V0Q29tbWFuZChxLmNvbW1hbmQpLnN0YXRlfHwocS5zdGF0ZT1nW25dLHRoaXMuYWRkKHEpKX19fSxvbkNsaWNrOmZ1bmN0aW9uKGEpe3RoaXMuaGlkZSgpO2lmKGEub25DbGljaylhLm9uQ2xpY2soKTtcbmVsc2UgYS5jb21tYW5kJiZ0aGlzLmVkaXRvci5leGVjQ29tbWFuZChhLmNvbW1hbmQpfSxvbkVzY2FwZTpmdW5jdGlvbihhKXt2YXIgYj10aGlzLnBhcmVudDtiP2IuXy5wYW5lbC5oaWRlQ2hpbGQoMSk6Mjc9PWEmJnRoaXMuaGlkZSgxKTtyZXR1cm4hMX0sb25IaWRlOmZ1bmN0aW9uKCl7dGhpcy5vbkhpZGUmJnRoaXMub25IaWRlKCl9LHNob3dTdWJNZW51OmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuXy5zdWJNZW51LGM9dGhpcy5pdGVtc1thXTtpZihjPWMuZ2V0SXRlbXMmJmMuZ2V0SXRlbXMoKSl7Yj9iLnJlbW92ZUFsbCgpOihiPXRoaXMuXy5zdWJNZW51PW5ldyBDS0VESVRPUi5tZW51KHRoaXMuZWRpdG9yLENLRURJVE9SLnRvb2xzLmV4dGVuZCh7fSx0aGlzLl8uZGVmaW5pdGlvbix7bGV2ZWw6dGhpcy5fLmxldmVsKzF9LCEwKSksYi5wYXJlbnQ9dGhpcyxiLl8ub25DbGljaz1DS0VESVRPUi50b29scy5iaW5kKHRoaXMuXy5vbkNsaWNrLHRoaXMpKTtmb3IodmFyIGUgaW4gYyl7dmFyIGY9XG50aGlzLmVkaXRvci5nZXRNZW51SXRlbShlKTtmJiYoZi5zdGF0ZT1jW2VdLGIuYWRkKGYpKX12YXIgZz10aGlzLl8ucGFuZWwuZ2V0QmxvY2sodGhpcy5pZCkuZWxlbWVudC5nZXREb2N1bWVudCgpLmdldEJ5SWQodGhpcy5pZCtTdHJpbmcoYSkpO3NldFRpbWVvdXQoZnVuY3Rpb24oKXtiLnNob3coZywyKX0sMCl9ZWxzZSB0aGlzLl8ucGFuZWwuaGlkZUNoaWxkKDEpfX0scHJvdG86e2FkZDpmdW5jdGlvbihhKXthLm9yZGVyfHwoYS5vcmRlcj10aGlzLml0ZW1zLmxlbmd0aCk7dGhpcy5pdGVtcy5wdXNoKGEpfSxyZW1vdmVBbGw6ZnVuY3Rpb24oKXt0aGlzLml0ZW1zPVtdfSxzaG93OmZ1bmN0aW9uKGIsYyxkLGUpe2lmKCF0aGlzLnBhcmVudCYmKHRoaXMuXy5vblNob3coKSwhdGhpcy5pdGVtcy5sZW5ndGgpKXJldHVybjtjPWN8fChcInJ0bFwiPT10aGlzLmVkaXRvci5sYW5nLmRpcj8yOjEpO3ZhciBmPXRoaXMuaXRlbXMsZz10aGlzLmVkaXRvcixuPXRoaXMuXy5wYW5lbCxxPXRoaXMuXy5lbGVtZW50O1xuaWYoIW4pe249dGhpcy5fLnBhbmVsPW5ldyBDS0VESVRPUi51aS5mbG9hdFBhbmVsKHRoaXMuZWRpdG9yLENLRURJVE9SLmRvY3VtZW50LmdldEJvZHkoKSx0aGlzLl8ucGFuZWxEZWZpbml0aW9uLHRoaXMuXy5sZXZlbCk7bi5vbkVzY2FwZT1DS0VESVRPUi50b29scy5iaW5kKGZ1bmN0aW9uKGEpe2lmKCExPT09dGhpcy5fLm9uRXNjYXBlKGEpKXJldHVybiExfSx0aGlzKTtuLm9uU2hvdz1mdW5jdGlvbigpe24uXy5wYW5lbC5nZXRIb2xkZXJFbGVtZW50KCkuZ2V0UGFyZW50KCkuYWRkQ2xhc3MoXCJja2VcIikuYWRkQ2xhc3MoXCJja2VfcmVzZXRfYWxsXCIpfTtuLm9uSGlkZT1DS0VESVRPUi50b29scy5iaW5kKGZ1bmN0aW9uKCl7dGhpcy5fLm9uSGlkZSYmdGhpcy5fLm9uSGlkZSgpfSx0aGlzKTtxPW4uYWRkQmxvY2sodGhpcy5pZCx0aGlzLl8ucGFuZWxEZWZpbml0aW9uLmJsb2NrKTtxLmF1dG9TaXplPSEwO3ZhciBwPXEua2V5cztwWzQwXT1cIm5leHRcIjtwWzldPVwibmV4dFwiO3BbMzhdPVxuXCJwcmV2XCI7cFtDS0VESVRPUi5TSElGVCs5XT1cInByZXZcIjtwW1wicnRsXCI9PWcubGFuZy5kaXI/Mzc6MzldPUNLRURJVE9SLmVudi5pZT9cIm1vdXNldXBcIjpcImNsaWNrXCI7cFszMl09Q0tFRElUT1IuZW52LmllP1wibW91c2V1cFwiOlwiY2xpY2tcIjtDS0VESVRPUi5lbnYuaWUmJihwWzEzXT1cIm1vdXNldXBcIik7cT10aGlzLl8uZWxlbWVudD1xLmVsZW1lbnQ7cD1xLmdldERvY3VtZW50KCk7cC5nZXRCb2R5KCkuc2V0U3R5bGUoXCJvdmVyZmxvd1wiLFwiaGlkZGVuXCIpO3AuZ2V0RWxlbWVudHNCeVRhZyhcImh0bWxcIikuZ2V0SXRlbSgwKS5zZXRTdHlsZShcIm92ZXJmbG93XCIsXCJoaWRkZW5cIik7dGhpcy5fLml0ZW1PdmVyRm49Q0tFRElUT1IudG9vbHMuYWRkRnVuY3Rpb24oZnVuY3Rpb24oYSl7Y2xlYXJUaW1lb3V0KHRoaXMuXy5zaG93U3ViVGltZW91dCk7dGhpcy5fLnNob3dTdWJUaW1lb3V0PUNLRURJVE9SLnRvb2xzLnNldFRpbWVvdXQodGhpcy5fLnNob3dTdWJNZW51LGcuY29uZmlnLm1lbnVfc3ViTWVudURlbGF5fHxcbjQwMCx0aGlzLFthXSl9LHRoaXMpO3RoaXMuXy5pdGVtT3V0Rm49Q0tFRElUT1IudG9vbHMuYWRkRnVuY3Rpb24oZnVuY3Rpb24oKXtjbGVhclRpbWVvdXQodGhpcy5fLnNob3dTdWJUaW1lb3V0KX0sdGhpcyk7dGhpcy5fLml0ZW1DbGlja0ZuPUNLRURJVE9SLnRvb2xzLmFkZEZ1bmN0aW9uKGZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuaXRlbXNbYV07aWYoYi5zdGF0ZT09Q0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUQpdGhpcy5oaWRlKDEpO2Vsc2UgaWYoYi5nZXRJdGVtcyl0aGlzLl8uc2hvd1N1Yk1lbnUoYSk7ZWxzZSB0aGlzLl8ub25DbGljayhiKX0sdGhpcyl9YShmKTtmb3IodmFyIHA9Zy5lbGVtZW50UGF0aCgpLHA9WydcXHgzY2RpdiBjbGFzc1xceDNkXCJja2VfbWVudScrKHAmJnAuZGlyZWN0aW9uKCkhPWcubGFuZy5kaXI/XCIgY2tlX21peGVkX2Rpcl9jb250ZW50XCI6XCJcIikrJ1wiIHJvbGVcXHgzZFwicHJlc2VudGF0aW9uXCJcXHgzZSddLHQ9Zi5sZW5ndGgsdj10JiZmWzBdLmdyb3VwLFxucj0wO3I8dDtyKyspe3ZhciB1PWZbcl07diE9dS5ncm91cCYmKHAucHVzaCgnXFx4M2NkaXYgY2xhc3NcXHgzZFwiY2tlX21lbnVzZXBhcmF0b3JcIiByb2xlXFx4M2RcInNlcGFyYXRvclwiXFx4M2VcXHgzYy9kaXZcXHgzZScpLHY9dS5ncm91cCk7dS5yZW5kZXIodGhpcyxyLHApfXAucHVzaChcIlxceDNjL2RpdlxceDNlXCIpO3Euc2V0SHRtbChwLmpvaW4oXCJcIikpO0NLRURJVE9SLnVpLmZpcmUoXCJyZWFkeVwiLHRoaXMpO3RoaXMucGFyZW50P3RoaXMucGFyZW50Ll8ucGFuZWwuc2hvd0FzQ2hpbGQobix0aGlzLmlkLGIsYyxkLGUpOm4uc2hvd0Jsb2NrKHRoaXMuaWQsYixjLGQsZSk7Zy5maXJlKFwibWVudVNob3dcIixbbl0pfSxhZGRMaXN0ZW5lcjpmdW5jdGlvbihhKXt0aGlzLl8ubGlzdGVuZXJzLnB1c2goYSl9LGhpZGU6ZnVuY3Rpb24oYSl7dGhpcy5fLm9uSGlkZSYmdGhpcy5fLm9uSGlkZSgpO3RoaXMuXy5wYW5lbCYmdGhpcy5fLnBhbmVsLmhpZGUoYSl9fX0pO0NLRURJVE9SLm1lbnVJdGVtPUNLRURJVE9SLnRvb2xzLmNyZWF0ZUNsYXNzKHskOmZ1bmN0aW9uKGEsXG5iLGMpe0NLRURJVE9SLnRvb2xzLmV4dGVuZCh0aGlzLGMse29yZGVyOjAsY2xhc3NOYW1lOlwiY2tlX21lbnVidXR0b25fX1wiK2J9KTt0aGlzLmdyb3VwPWEuXy5tZW51R3JvdXBzW3RoaXMuZ3JvdXBdO3RoaXMuZWRpdG9yPWE7dGhpcy5uYW1lPWJ9LHByb3RvOntyZW5kZXI6ZnVuY3Rpb24oYSxmLGQpe3ZhciBoPWEuaWQrU3RyaW5nKGYpLGs9XCJ1bmRlZmluZWRcIj09dHlwZW9mIHRoaXMuc3RhdGU/Q0tFRElUT1IuVFJJU1RBVEVfT0ZGOnRoaXMuc3RhdGUsZz1cIlwiLG49dGhpcy5lZGl0b3IscSxwLHQ9az09Q0tFRElUT1IuVFJJU1RBVEVfT04/XCJvblwiOms9PUNLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVEP1wiZGlzYWJsZWRcIjpcIm9mZlwiO3RoaXMucm9sZSBpbnttZW51aXRlbWNoZWNrYm94OjEsbWVudWl0ZW1yYWRpbzoxfSYmKGc9JyBhcmlhLWNoZWNrZWRcXHgzZFwiJysoaz09Q0tFRElUT1IuVFJJU1RBVEVfT04/XCJ0cnVlXCI6XCJmYWxzZVwiKSsnXCInKTt2YXIgdj10aGlzLmdldEl0ZW1zLHI9XG5cIlxceDI2I1wiKyhcInJ0bFwiPT10aGlzLmVkaXRvci5sYW5nLmRpcj9cIjk2NjhcIjpcIjk2NThcIikrXCI7XCIsdT10aGlzLm5hbWU7dGhpcy5pY29uJiYhL1xcLi8udGVzdCh0aGlzLmljb24pJiYodT10aGlzLmljb24pO3RoaXMuY29tbWFuZCYmKHE9bi5nZXRDb21tYW5kKHRoaXMuY29tbWFuZCksKHE9bi5nZXRDb21tYW5kS2V5c3Ryb2tlKHEpKSYmKHA9Q0tFRElUT1IudG9vbHMua2V5c3Ryb2tlVG9TdHJpbmcobi5sYW5nLmNvbW1vbi5rZXlib2FyZCxxKSkpO2E9e2lkOmgsbmFtZTp0aGlzLm5hbWUsaWNvbk5hbWU6dSxsYWJlbDp0aGlzLmxhYmVsLGNsczp0aGlzLmNsYXNzTmFtZXx8XCJcIixzdGF0ZTp0LGhhc1BvcHVwOnY/XCJ0cnVlXCI6XCJmYWxzZVwiLGRpc2FibGVkOms9PUNLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVELHRpdGxlOnRoaXMubGFiZWwrKHA/XCIgKFwiK3AuZGlzcGxheStcIilcIjpcIlwiKSxhcmlhU2hvcnRjdXQ6cD9uLmxhbmcuY29tbW9uLmtleWJvYXJkU2hvcnRjdXQrXCIgXCIrcC5hcmlhOlxuXCJcIixocmVmOlwiamF2YXNjcmlwdDp2b2lkKCdcIisodGhpcy5sYWJlbHx8XCJcIikucmVwbGFjZShcIidcIikrXCInKVwiLGhvdmVyRm46YS5fLml0ZW1PdmVyRm4sbW92ZU91dEZuOmEuXy5pdGVtT3V0Rm4sY2xpY2tGbjphLl8uaXRlbUNsaWNrRm4saW5kZXg6ZixpY29uU3R5bGU6Q0tFRElUT1Iuc2tpbi5nZXRJY29uU3R5bGUodSxcInJ0bFwiPT10aGlzLmVkaXRvci5sYW5nLmRpcix1PT10aGlzLmljb24/bnVsbDp0aGlzLmljb24sdGhpcy5pY29uT2Zmc2V0KSxzaG9ydGN1dEh0bWw6cD9lLm91dHB1dCh7c2hvcnRjdXQ6cC5kaXNwbGF5fSk6XCJcIixhcnJvd0h0bWw6dj9jLm91dHB1dCh7bGFiZWw6cn0pOlwiXCIscm9sZTp0aGlzLnJvbGU/dGhpcy5yb2xlOlwibWVudWl0ZW1cIixhcmlhQ2hlY2tlZDpnfTtiLm91dHB1dChhLGQpfX19KX0oKSxDS0VESVRPUi5jb25maWcubWVudV9ncm91cHM9XCJjbGlwYm9hcmQsZm9ybSx0YWJsZWNlbGwsdGFibGVjZWxscHJvcGVydGllcyx0YWJsZXJvdyx0YWJsZWNvbHVtbix0YWJsZSxhbmNob3IsbGluayxpbWFnZSxmbGFzaCxjaGVja2JveCxyYWRpbyx0ZXh0ZmllbGQsaGlkZGVuZmllbGQsaW1hZ2VidXR0b24sYnV0dG9uLHNlbGVjdCx0ZXh0YXJlYSxkaXZcIixcbkNLRURJVE9SLnBsdWdpbnMuYWRkKFwiY29udGV4dG1lbnVcIix7cmVxdWlyZXM6XCJtZW51XCIsb25Mb2FkOmZ1bmN0aW9uKCl7Q0tFRElUT1IucGx1Z2lucy5jb250ZXh0TWVudT1DS0VESVRPUi50b29scy5jcmVhdGVDbGFzcyh7YmFzZTpDS0VESVRPUi5tZW51LCQ6ZnVuY3Rpb24oYSl7dGhpcy5iYXNlLmNhbGwodGhpcyxhLHtwYW5lbDp7Y2xhc3NOYW1lOlwiY2tlX21lbnVfcGFuZWxcIixhdHRyaWJ1dGVzOntcImFyaWEtbGFiZWxcIjphLmxhbmcuY29udGV4dG1lbnUub3B0aW9uc319fSl9LHByb3RvOnthZGRUYXJnZXQ6ZnVuY3Rpb24oYSxmKXthLm9uKFwiY29udGV4dG1lbnVcIixmdW5jdGlvbihhKXthPWEuZGF0YTt2YXIgYz1DS0VESVRPUi5lbnYud2Via2l0P2I6Q0tFRElUT1IuZW52Lm1hYz9hLiQubWV0YUtleTphLiQuY3RybEtleTtpZighZnx8IWMpe2EucHJldmVudERlZmF1bHQoKTtpZihDS0VESVRPUi5lbnYubWFjJiZDS0VESVRPUi5lbnYud2Via2l0KXt2YXIgYz10aGlzLmVkaXRvcixcbmw9KG5ldyBDS0VESVRPUi5kb20uZWxlbWVudFBhdGgoYS5nZXRUYXJnZXQoKSxjLmVkaXRhYmxlKCkpKS5jb250YWlucyhmdW5jdGlvbihhKXtyZXR1cm4gYS5oYXNBdHRyaWJ1dGUoXCJjb250ZW50ZWRpdGFibGVcIil9LCEwKTtsJiZcImZhbHNlXCI9PWwuZ2V0QXR0cmlidXRlKFwiY29udGVudGVkaXRhYmxlXCIpJiZjLmdldFNlbGVjdGlvbigpLmZha2UobCl9dmFyIGw9YS5nZXRUYXJnZXQoKS5nZXREb2N1bWVudCgpLGQ9YS5nZXRUYXJnZXQoKS5nZXREb2N1bWVudCgpLmdldERvY3VtZW50RWxlbWVudCgpLGM9IWwuZXF1YWxzKENLRURJVE9SLmRvY3VtZW50KSxsPWwuZ2V0V2luZG93KCkuZ2V0U2Nyb2xsUG9zaXRpb24oKSxoPWM/YS4kLmNsaWVudFg6YS4kLnBhZ2VYfHxsLngrYS4kLmNsaWVudFgsaz1jP2EuJC5jbGllbnRZOmEuJC5wYWdlWXx8bC55K2EuJC5jbGllbnRZO0NLRURJVE9SLnRvb2xzLnNldFRpbWVvdXQoZnVuY3Rpb24oKXt0aGlzLm9wZW4oZCxudWxsLGgsayl9LENLRURJVE9SLmVudi5pZT9cbjIwMDowLHRoaXMpfX0sdGhpcyk7aWYoQ0tFRElUT1IuZW52LndlYmtpdCl7dmFyIGIsYz1mdW5jdGlvbigpe2I9MH07YS5vbihcImtleWRvd25cIixmdW5jdGlvbihhKXtiPUNLRURJVE9SLmVudi5tYWM/YS5kYXRhLiQubWV0YUtleTphLmRhdGEuJC5jdHJsS2V5fSk7YS5vbihcImtleXVwXCIsYyk7YS5vbihcImNvbnRleHRtZW51XCIsYyl9fSxvcGVuOmZ1bmN0aW9uKGEsZixiLGMpe3RoaXMuZWRpdG9yLmZvY3VzKCk7YT1hfHxDS0VESVRPUi5kb2N1bWVudC5nZXREb2N1bWVudEVsZW1lbnQoKTt0aGlzLmVkaXRvci5zZWxlY3Rpb25DaGFuZ2UoMSk7dGhpcy5zaG93KGEsZixiLGMpfX19KX0sYmVmb3JlSW5pdDpmdW5jdGlvbihhKXt2YXIgZj1hLmNvbnRleHRNZW51PW5ldyBDS0VESVRPUi5wbHVnaW5zLmNvbnRleHRNZW51KGEpO2Eub24oXCJjb250ZW50RG9tXCIsZnVuY3Rpb24oKXtmLmFkZFRhcmdldChhLmVkaXRhYmxlKCksITEhPT1hLmNvbmZpZy5icm93c2VyQ29udGV4dE1lbnVPbkN0cmwpfSk7XG5hLmFkZENvbW1hbmQoXCJjb250ZXh0TWVudVwiLHtleGVjOmZ1bmN0aW9uKCl7YS5jb250ZXh0TWVudS5vcGVuKGEuZG9jdW1lbnQuZ2V0Qm9keSgpKX19KTthLnNldEtleXN0cm9rZShDS0VESVRPUi5TSElGVCsxMjEsXCJjb250ZXh0TWVudVwiKTthLnNldEtleXN0cm9rZShDS0VESVRPUi5DVFJMK0NLRURJVE9SLlNISUZUKzEyMSxcImNvbnRleHRNZW51XCIpfX0pLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhLGIpe2Z1bmN0aW9uIGwoYil7Yj1nLmxpc3RbYl07dmFyIGM7Yi5lcXVhbHMoYS5lZGl0YWJsZSgpKXx8XCJ0cnVlXCI9PWIuZ2V0QXR0cmlidXRlKFwiY29udGVudGVkaXRhYmxlXCIpPyhjPWEuY3JlYXRlUmFuZ2UoKSxjLnNlbGVjdE5vZGVDb250ZW50cyhiKSxjPWMuc2VsZWN0KCkpOihjPWEuZ2V0U2VsZWN0aW9uKCksYy5zZWxlY3RFbGVtZW50KGIpKTtDS0VESVRPUi5lbnYuaWUmJmEuZmlyZShcInNlbGVjdGlvbkNoYW5nZVwiLHtzZWxlY3Rpb246YyxwYXRoOm5ldyBDS0VESVRPUi5kb20uZWxlbWVudFBhdGgoYil9KTtcbmEuZm9jdXMoKX1mdW5jdGlvbiBkKCl7ayYmay5zZXRIdG1sKCdcXHgzY3NwYW4gY2xhc3NcXHgzZFwiY2tlX3BhdGhfZW1wdHlcIlxceDNlXFx4MjZuYnNwO1xceDNjL3NwYW5cXHgzZScpO2RlbGV0ZSBnLmxpc3R9dmFyIGg9YS51aS5zcGFjZUlkKFwicGF0aFwiKSxrLGc9YS5fLmVsZW1lbnRzUGF0aCxuPWcuaWRCYXNlO2IuaHRtbCs9J1xceDNjc3BhbiBpZFxceDNkXCInK2grJ19sYWJlbFwiIGNsYXNzXFx4M2RcImNrZV92b2ljZV9sYWJlbFwiXFx4M2UnK2EubGFuZy5lbGVtZW50c3BhdGguZWxlTGFiZWwrJ1xceDNjL3NwYW5cXHgzZVxceDNjc3BhbiBpZFxceDNkXCInK2grJ1wiIGNsYXNzXFx4M2RcImNrZV9wYXRoXCIgcm9sZVxceDNkXCJncm91cFwiIGFyaWEtbGFiZWxsZWRieVxceDNkXCInK2grJ19sYWJlbFwiXFx4M2VcXHgzY3NwYW4gY2xhc3NcXHgzZFwiY2tlX3BhdGhfZW1wdHlcIlxceDNlXFx4MjZuYnNwO1xceDNjL3NwYW5cXHgzZVxceDNjL3NwYW5cXHgzZSc7YS5vbihcInVpUmVhZHlcIixmdW5jdGlvbigpe3ZhciBiPWEudWkuc3BhY2UoXCJwYXRoXCIpO1xuYiYmYS5mb2N1c01hbmFnZXIuYWRkKGIsMSl9KTtnLm9uQ2xpY2s9bDt2YXIgcT1DS0VESVRPUi50b29scy5hZGRGdW5jdGlvbihsKSxwPUNLRURJVE9SLnRvb2xzLmFkZEZ1bmN0aW9uKGZ1bmN0aW9uKGIsYyl7dmFyIGQ9Zy5pZEJhc2UsZjtjPW5ldyBDS0VESVRPUi5kb20uZXZlbnQoYyk7Zj1cInJ0bFwiPT1hLmxhbmcuZGlyO3N3aXRjaChjLmdldEtleXN0cm9rZSgpKXtjYXNlIGY/Mzk6Mzc6Y2FzZSA5OnJldHVybihmPUNLRURJVE9SLmRvY3VtZW50LmdldEJ5SWQoZCsoYisxKSkpfHwoZj1DS0VESVRPUi5kb2N1bWVudC5nZXRCeUlkKGQrXCIwXCIpKSxmLmZvY3VzKCksITE7Y2FzZSBmPzM3OjM5OmNhc2UgQ0tFRElUT1IuU0hJRlQrOTpyZXR1cm4oZj1DS0VESVRPUi5kb2N1bWVudC5nZXRCeUlkKGQrKGItMSkpKXx8KGY9Q0tFRElUT1IuZG9jdW1lbnQuZ2V0QnlJZChkKyhnLmxpc3QubGVuZ3RoLTEpKSksZi5mb2N1cygpLCExO2Nhc2UgMjc6cmV0dXJuIGEuZm9jdXMoKSwhMTtjYXNlIDEzOmNhc2UgMzI6cmV0dXJuIGwoYiksXG4hMX1yZXR1cm4hMH0pO2Eub24oXCJzZWxlY3Rpb25DaGFuZ2VcIixmdW5jdGlvbigpe2Zvcih2YXIgYj1bXSxkPWcubGlzdD1bXSxmPVtdLGw9Zy5maWx0ZXJzLG09ITAseD1hLmVsZW1lbnRQYXRoKCkuZWxlbWVudHMsdyx6PXgubGVuZ3RoO3otLTspe3ZhciBEPXhbel0seT0wO3c9RC5kYXRhKFwiY2tlLWRpc3BsYXktbmFtZVwiKT9ELmRhdGEoXCJja2UtZGlzcGxheS1uYW1lXCIpOkQuZGF0YShcImNrZS1yZWFsLWVsZW1lbnQtdHlwZVwiKT9ELmRhdGEoXCJja2UtcmVhbC1lbGVtZW50LXR5cGVcIik6RC5nZXROYW1lKCk7KG09RC5oYXNBdHRyaWJ1dGUoXCJjb250ZW50ZWRpdGFibGVcIik/XCJ0cnVlXCI9PUQuZ2V0QXR0cmlidXRlKFwiY29udGVudGVkaXRhYmxlXCIpOm0pfHxELmhhc0F0dHJpYnV0ZShcImNvbnRlbnRlZGl0YWJsZVwiKXx8KHk9MSk7Zm9yKHZhciBBPTA7QTxsLmxlbmd0aDtBKyspe3ZhciBDPWxbQV0oRCx3KTtpZighMT09PUMpe3k9MTticmVha313PUN8fHd9eXx8KGQudW5zaGlmdChEKSxcbmYudW5zaGlmdCh3KSl9ZD1kLmxlbmd0aDtmb3IobD0wO2w8ZDtsKyspdz1mW2xdLG09YS5sYW5nLmVsZW1lbnRzcGF0aC5lbGVUaXRsZS5yZXBsYWNlKC8lMS8sdyksdz1jLm91dHB1dCh7aWQ6bitsLGxhYmVsOm0sdGV4dDp3LGpzVGl0bGU6XCJqYXZhc2NyaXB0OnZvaWQoJ1wiK3crXCInKVwiLGluZGV4Omwsa2V5RG93bkZuOnAsY2xpY2tGbjpxfSksYi51bnNoaWZ0KHcpO2t8fChrPUNLRURJVE9SLmRvY3VtZW50LmdldEJ5SWQoaCkpO2Y9aztmLnNldEh0bWwoYi5qb2luKFwiXCIpKydcXHgzY3NwYW4gY2xhc3NcXHgzZFwiY2tlX3BhdGhfZW1wdHlcIlxceDNlXFx4MjZuYnNwO1xceDNjL3NwYW5cXHgzZScpO2EuZmlyZShcImVsZW1lbnRzUGF0aFVwZGF0ZVwiLHtzcGFjZTpmfSl9KTthLm9uKFwicmVhZE9ubHlcIixkKTthLm9uKFwiY29udGVudERvbVVubG9hZFwiLGQpO2EuYWRkQ29tbWFuZChcImVsZW1lbnRzUGF0aEZvY3VzXCIsZi50b29sYmFyRm9jdXMpO2Euc2V0S2V5c3Ryb2tlKENLRURJVE9SLkFMVCsxMjIsXG5cImVsZW1lbnRzUGF0aEZvY3VzXCIpfXZhciBmPXt0b29sYmFyRm9jdXM6e2VkaXRvckZvY3VzOiExLHJlYWRPbmx5OjEsZXhlYzpmdW5jdGlvbihhKXsoYT1DS0VESVRPUi5kb2N1bWVudC5nZXRCeUlkKGEuXy5lbGVtZW50c1BhdGguaWRCYXNlK1wiMFwiKSkmJmEuZm9jdXMoQ0tFRElUT1IuZW52LmllfHxDS0VESVRPUi5lbnYuYWlyKX19fSxiPVwiXCI7Q0tFRElUT1IuZW52LmdlY2tvJiZDS0VESVRPUi5lbnYubWFjJiYoYis9JyBvbmtleXByZXNzXFx4M2RcInJldHVybiBmYWxzZTtcIicpO0NLRURJVE9SLmVudi5nZWNrbyYmKGIrPScgb25ibHVyXFx4M2RcInRoaXMuc3R5bGUuY3NzVGV4dCBcXHgzZCB0aGlzLnN0eWxlLmNzc1RleHQ7XCInKTt2YXIgYz1DS0VESVRPUi5hZGRUZW1wbGF0ZShcInBhdGhJdGVtXCIsJ1xceDNjYSBpZFxceDNkXCJ7aWR9XCIgaHJlZlxceDNkXCJ7anNUaXRsZX1cIiB0YWJpbmRleFxceDNkXCItMVwiIGNsYXNzXFx4M2RcImNrZV9wYXRoX2l0ZW1cIiB0aXRsZVxceDNkXCJ7bGFiZWx9XCInK2IrJyBoaWRlZm9jdXNcXHgzZFwidHJ1ZVwiICBvbmtleWRvd25cXHgzZFwicmV0dXJuIENLRURJVE9SLnRvb2xzLmNhbGxGdW5jdGlvbih7a2V5RG93bkZufSx7aW5kZXh9LCBldmVudCApO1wiIG9uY2xpY2tcXHgzZFwiQ0tFRElUT1IudG9vbHMuY2FsbEZ1bmN0aW9uKHtjbGlja0ZufSx7aW5kZXh9KTsgcmV0dXJuIGZhbHNlO1wiIHJvbGVcXHgzZFwiYnV0dG9uXCIgYXJpYS1sYWJlbFxceDNkXCJ7bGFiZWx9XCJcXHgzZXt0ZXh0fVxceDNjL2FcXHgzZScpO1xuQ0tFRElUT1IucGx1Z2lucy5hZGQoXCJlbGVtZW50c3BhdGhcIix7aW5pdDpmdW5jdGlvbihiKXtiLl8uZWxlbWVudHNQYXRoPXtpZEJhc2U6XCJja2VfZWxlbWVudHNwYXRoX1wiK0NLRURJVE9SLnRvb2xzLmdldE5leHROdW1iZXIoKStcIl9cIixmaWx0ZXJzOltdfTtiLm9uKFwidWlTcGFjZVwiLGZ1bmN0aW9uKGMpe1wiYm90dG9tXCI9PWMuZGF0YS5zcGFjZSYmYShiLGMuZGF0YSl9KX19KX0oKSxmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSxlKXt2YXIgbSxsO2Uub24oXCJyZWZyZXNoXCIsZnVuY3Rpb24oYSl7dmFyIGM9W2ZdLGU7Zm9yKGUgaW4gYS5kYXRhLnN0YXRlcyljLnB1c2goYS5kYXRhLnN0YXRlc1tlXSk7dGhpcy5zZXRTdGF0ZShDS0VESVRPUi50b29scy5zZWFyY2goYyxiKT9iOmYpfSxlLG51bGwsMTAwKTtlLm9uKFwiZXhlY1wiLGZ1bmN0aW9uKGIpe209YS5nZXRTZWxlY3Rpb24oKTtsPW0uY3JlYXRlQm9va21hcmtzKDEpO2IuZGF0YXx8KGIuZGF0YT17fSk7Yi5kYXRhLmRvbmU9ITF9LGUsXG5udWxsLDApO2Uub24oXCJleGVjXCIsZnVuY3Rpb24oKXthLmZvcmNlTmV4dFNlbGVjdGlvbkNoZWNrKCk7bS5zZWxlY3RCb29rbWFya3MobCl9LGUsbnVsbCwxMDApfXZhciBmPUNLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVELGI9Q0tFRElUT1IuVFJJU1RBVEVfT0ZGO0NLRURJVE9SLnBsdWdpbnMuYWRkKFwiaW5kZW50XCIse2luaXQ6ZnVuY3Rpb24oYil7dmFyIGU9Q0tFRElUT1IucGx1Z2lucy5pbmRlbnQuZ2VuZXJpY0RlZmluaXRpb247YShiLGIuYWRkQ29tbWFuZChcImluZGVudFwiLG5ldyBlKCEwKSkpO2EoYixiLmFkZENvbW1hbmQoXCJvdXRkZW50XCIsbmV3IGUpKTtiLnVpLmFkZEJ1dHRvbiYmKGIudWkuYWRkQnV0dG9uKFwiSW5kZW50XCIse2xhYmVsOmIubGFuZy5pbmRlbnQuaW5kZW50LGNvbW1hbmQ6XCJpbmRlbnRcIixkaXJlY3Rpb25hbDohMCx0b29sYmFyOlwiaW5kZW50LDIwXCJ9KSxiLnVpLmFkZEJ1dHRvbihcIk91dGRlbnRcIix7bGFiZWw6Yi5sYW5nLmluZGVudC5vdXRkZW50LGNvbW1hbmQ6XCJvdXRkZW50XCIsXG5kaXJlY3Rpb25hbDohMCx0b29sYmFyOlwiaW5kZW50LDEwXCJ9KSk7Yi5vbihcImRpckNoYW5nZWRcIixmdW5jdGlvbihhKXt2YXIgZT1iLmNyZWF0ZVJhbmdlKCksZD1hLmRhdGEubm9kZTtlLnNldFN0YXJ0QmVmb3JlKGQpO2Uuc2V0RW5kQWZ0ZXIoZCk7Zm9yKHZhciBmPW5ldyBDS0VESVRPUi5kb20ud2Fsa2VyKGUpLGs7az1mLm5leHQoKTspaWYoay50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQpaWYoIWsuZXF1YWxzKGQpJiZrLmdldERpcmVjdGlvbigpKWUuc2V0U3RhcnRBZnRlcihrKSxmPW5ldyBDS0VESVRPUi5kb20ud2Fsa2VyKGUpO2Vsc2V7dmFyIGc9Yi5jb25maWcuaW5kZW50Q2xhc3NlcztpZihnKWZvcih2YXIgbj1cImx0clwiPT1hLmRhdGEuZGlyP1tcIl9ydGxcIixcIlwiXTpbXCJcIixcIl9ydGxcIl0scT0wO3E8Zy5sZW5ndGg7cSsrKWsuaGFzQ2xhc3MoZ1txXStuWzBdKSYmKGsucmVtb3ZlQ2xhc3MoZ1txXStuWzBdKSxrLmFkZENsYXNzKGdbcV0rblsxXSkpO2c9ay5nZXRTdHlsZShcIm1hcmdpbi1yaWdodFwiKTtcbm49ay5nZXRTdHlsZShcIm1hcmdpbi1sZWZ0XCIpO2c/ay5zZXRTdHlsZShcIm1hcmdpbi1sZWZ0XCIsZyk6ay5yZW1vdmVTdHlsZShcIm1hcmdpbi1sZWZ0XCIpO24/ay5zZXRTdHlsZShcIm1hcmdpbi1yaWdodFwiLG4pOmsucmVtb3ZlU3R5bGUoXCJtYXJnaW4tcmlnaHRcIil9fSl9fSk7Q0tFRElUT1IucGx1Z2lucy5pbmRlbnQ9e2dlbmVyaWNEZWZpbml0aW9uOmZ1bmN0aW9uKGEpe3RoaXMuaXNJbmRlbnQ9ISFhO3RoaXMuc3RhcnREaXNhYmxlZD0hdGhpcy5pc0luZGVudH0sc3BlY2lmaWNEZWZpbml0aW9uOmZ1bmN0aW9uKGEsYixmKXt0aGlzLm5hbWU9Yjt0aGlzLmVkaXRvcj1hO3RoaXMuam9icz17fTt0aGlzLmVudGVyQnI9YS5jb25maWcuZW50ZXJNb2RlPT1DS0VESVRPUi5FTlRFUl9CUjt0aGlzLmlzSW5kZW50PSEhZjt0aGlzLnJlbGF0ZWRHbG9iYWw9Zj9cImluZGVudFwiOlwib3V0ZGVudFwiO3RoaXMuaW5kZW50S2V5PWY/OTpDS0VESVRPUi5TSElGVCs5O3RoaXMuZGF0YWJhc2U9e319LHJlZ2lzdGVyQ29tbWFuZHM6ZnVuY3Rpb24oYSxcbmIpe2Eub24oXCJwbHVnaW5zTG9hZGVkXCIsZnVuY3Rpb24oKXtmb3IodmFyIGEgaW4gYikoZnVuY3Rpb24oYSxiKXt2YXIgYz1hLmdldENvbW1hbmQoYi5yZWxhdGVkR2xvYmFsKSxlO2ZvcihlIGluIGIuam9icyljLm9uKFwiZXhlY1wiLGZ1bmN0aW9uKGMpe2MuZGF0YS5kb25lfHwoYS5maXJlKFwibG9ja1NuYXBzaG90XCIpLGIuZXhlY0pvYihhLGUpJiYoYy5kYXRhLmRvbmU9ITApLGEuZmlyZShcInVubG9ja1NuYXBzaG90XCIpLENLRURJVE9SLmRvbS5lbGVtZW50LmNsZWFyQWxsTWFya2VycyhiLmRhdGFiYXNlKSl9LHRoaXMsbnVsbCxlKSxjLm9uKFwicmVmcmVzaFwiLGZ1bmN0aW9uKGMpe2MuZGF0YS5zdGF0ZXN8fChjLmRhdGEuc3RhdGVzPXt9KTtjLmRhdGEuc3RhdGVzW2IubmFtZStcIkBcIitlXT1iLnJlZnJlc2hKb2IoYSxlLGMuZGF0YS5wYXRoKX0sdGhpcyxudWxsLGUpO2EuYWRkRmVhdHVyZShiKX0pKHRoaXMsYlthXSl9KX19O0NLRURJVE9SLnBsdWdpbnMuaW5kZW50LmdlbmVyaWNEZWZpbml0aW9uLnByb3RvdHlwZT1cbntjb250ZXh0OlwicFwiLGV4ZWM6ZnVuY3Rpb24oKXt9fTtDS0VESVRPUi5wbHVnaW5zLmluZGVudC5zcGVjaWZpY0RlZmluaXRpb24ucHJvdG90eXBlPXtleGVjSm9iOmZ1bmN0aW9uKGEsYil7dmFyIG09dGhpcy5qb2JzW2JdO2lmKG0uc3RhdGUhPWYpcmV0dXJuIG0uZXhlYy5jYWxsKHRoaXMsYSl9LHJlZnJlc2hKb2I6ZnVuY3Rpb24oYSxiLG0pe2I9dGhpcy5qb2JzW2JdO2EuYWN0aXZlRmlsdGVyLmNoZWNrRmVhdHVyZSh0aGlzKT9iLnN0YXRlPWIucmVmcmVzaC5jYWxsKHRoaXMsYSxtKTpiLnN0YXRlPWY7cmV0dXJuIGIuc3RhdGV9LGdldENvbnRleHQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGEuY29udGFpbnModGhpcy5jb250ZXh0KX19fSgpLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhKXtmdW5jdGlvbiBjKGYpe2Zvcih2YXIgaD1wLnN0YXJ0Q29udGFpbmVyLG09cC5lbmRDb250YWluZXI7aCYmIWguZ2V0UGFyZW50KCkuZXF1YWxzKGYpOyloPWguZ2V0UGFyZW50KCk7Zm9yKDttJiYhbS5nZXRQYXJlbnQoKS5lcXVhbHMoZik7KW09XG5tLmdldFBhcmVudCgpO2lmKCFofHwhbSlyZXR1cm4hMTtmb3IodmFyIHQ9aCxoPVtdLHY9ITE7IXY7KXQuZXF1YWxzKG0pJiYodj0hMCksaC5wdXNoKHQpLHQ9dC5nZXROZXh0KCk7aWYoMT5oLmxlbmd0aClyZXR1cm4hMTt0PWYuZ2V0UGFyZW50cyghMCk7Zm9yKG09MDttPHQubGVuZ3RoO20rKylpZih0W21dLmdldE5hbWUmJmxbdFttXS5nZXROYW1lKCldKXtmPXRbbV07YnJlYWt9Zm9yKHZhciB0PWUuaXNJbmRlbnQ/MTotMSxtPWhbMF0saD1oW2gubGVuZ3RoLTFdLHY9Q0tFRElUT1IucGx1Z2lucy5saXN0Lmxpc3RUb0FycmF5KGYsZyksej12W2guZ2V0Q3VzdG9tRGF0YShcImxpc3RhcnJheV9pbmRleFwiKV0uaW5kZW50LG09bS5nZXRDdXN0b21EYXRhKFwibGlzdGFycmF5X2luZGV4XCIpO208PWguZ2V0Q3VzdG9tRGF0YShcImxpc3RhcnJheV9pbmRleFwiKTttKyspaWYodlttXS5pbmRlbnQrPXQsMDx0KXt2YXIgcT12W21dLnBhcmVudDt2W21dLnBhcmVudD1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQocS5nZXROYW1lKCksXG5xLmdldERvY3VtZW50KCkpfWZvcihtPWguZ2V0Q3VzdG9tRGF0YShcImxpc3RhcnJheV9pbmRleFwiKSsxO208di5sZW5ndGgmJnZbbV0uaW5kZW50Pno7bSsrKXZbbV0uaW5kZW50Kz10O2g9Q0tFRElUT1IucGx1Z2lucy5saXN0LmFycmF5VG9MaXN0KHYsZyxudWxsLGEuY29uZmlnLmVudGVyTW9kZSxmLmdldERpcmVjdGlvbigpKTtpZighZS5pc0luZGVudCl7dmFyIHk7aWYoKHk9Zi5nZXRQYXJlbnQoKSkmJnkuaXMoXCJsaVwiKSlmb3IodmFyIHQ9aC5saXN0Tm9kZS5nZXRDaGlsZHJlbigpLEE9W10sQyxtPXQuY291bnQoKS0xOzA8PW07bS0tKShDPXQuZ2V0SXRlbShtKSkmJkMuaXMmJkMuaXMoXCJsaVwiKSYmQS5wdXNoKEMpfWgmJmgubGlzdE5vZGUucmVwbGFjZShmKTtpZihBJiZBLmxlbmd0aClmb3IobT0wO208QS5sZW5ndGg7bSsrKXtmb3IoQz1mPUFbbV07KEM9Qy5nZXROZXh0KCkpJiZDLmlzJiZDLmdldE5hbWUoKWluIGw7KUNLRURJVE9SLmVudi5uZWVkc05ic3BGaWxsZXImJiFmLmdldEZpcnN0KGIpJiZcbmYuYXBwZW5kKHAuZG9jdW1lbnQuY3JlYXRlVGV4dChcIsKgXCIpKSxmLmFwcGVuZChDKTtmLmluc2VydEFmdGVyKHkpfWgmJmEuZmlyZShcImNvbnRlbnREb21JbnZhbGlkYXRlZFwiKTtyZXR1cm4hMH1mb3IodmFyIGU9dGhpcyxnPXRoaXMuZGF0YWJhc2UsbD10aGlzLmNvbnRleHQsbT1hLmdldFNlbGVjdGlvbigpLG09KG0mJm0uZ2V0UmFuZ2VzKCkpLmNyZWF0ZUl0ZXJhdG9yKCkscDtwPW0uZ2V0TmV4dFJhbmdlKCk7KXtmb3IodmFyIHQ9cC5nZXRDb21tb25BbmNlc3RvcigpO3QmJih0LnR5cGUhPUNLRURJVE9SLk5PREVfRUxFTUVOVHx8IWxbdC5nZXROYW1lKCldKTspe2lmKGEuZWRpdGFibGUoKS5lcXVhbHModCkpe3Q9ITE7YnJlYWt9dD10LmdldFBhcmVudCgpfXR8fCh0PXAuc3RhcnRQYXRoKCkuY29udGFpbnMobCkpJiZwLnNldEVuZEF0KHQsQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX0VORCk7aWYoIXQpe3ZhciB2PXAuZ2V0RW5jbG9zZWROb2RlKCk7diYmdi50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJlxudi5nZXROYW1lKClpbiBsJiYocC5zZXRTdGFydEF0KHYsQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfU1RBUlQpLHAuc2V0RW5kQXQodixDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfRU5EKSx0PXYpfXQmJnAuc3RhcnRDb250YWluZXIudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZwLnN0YXJ0Q29udGFpbmVyLmdldE5hbWUoKWluIGwmJih2PW5ldyBDS0VESVRPUi5kb20ud2Fsa2VyKHApLHYuZXZhbHVhdG9yPWYscC5zdGFydENvbnRhaW5lcj12Lm5leHQoKSk7dCYmcC5lbmRDb250YWluZXIudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZwLmVuZENvbnRhaW5lci5nZXROYW1lKClpbiBsJiYodj1uZXcgQ0tFRElUT1IuZG9tLndhbGtlcihwKSx2LmV2YWx1YXRvcj1mLHAuZW5kQ29udGFpbmVyPXYucHJldmlvdXMoKSk7aWYodClyZXR1cm4gYyh0KX1yZXR1cm4gMH1mdW5jdGlvbiBmKGEpe3JldHVybiBhLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmYS5pcyhcImxpXCIpfVxuZnVuY3Rpb24gYihhKXtyZXR1cm4gYyhhKSYmZShhKX12YXIgYz1DS0VESVRPUi5kb20ud2Fsa2VyLndoaXRlc3BhY2VzKCEwKSxlPUNLRURJVE9SLmRvbS53YWxrZXIuYm9va21hcmsoITEsITApLG09Q0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUQsbD1DS0VESVRPUi5UUklTVEFURV9PRkY7Q0tFRElUT1IucGx1Z2lucy5hZGQoXCJpbmRlbnRsaXN0XCIse3JlcXVpcmVzOlwiaW5kZW50XCIsaW5pdDpmdW5jdGlvbihiKXtmdW5jdGlvbiBjKGIpe2Uuc3BlY2lmaWNEZWZpbml0aW9uLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt0aGlzLnJlcXVpcmVkQ29udGVudD1bXCJ1bFwiLFwib2xcIl07Yi5vbihcImtleVwiLGZ1bmN0aW9uKGEpe2lmKFwid3lzaXd5Z1wiPT1iLm1vZGUmJmEuZGF0YS5rZXlDb2RlPT10aGlzLmluZGVudEtleSl7dmFyIGM9dGhpcy5nZXRDb250ZXh0KGIuZWxlbWVudFBhdGgoKSk7IWN8fHRoaXMuaXNJbmRlbnQmJkNLRURJVE9SLnBsdWdpbnMuaW5kZW50TGlzdC5maXJzdEl0ZW1JblBhdGgodGhpcy5jb250ZXh0LFxuYi5lbGVtZW50UGF0aCgpLGMpfHwoYi5leGVjQ29tbWFuZCh0aGlzLnJlbGF0ZWRHbG9iYWwpLGEuY2FuY2VsKCkpfX0sdGhpcyk7dGhpcy5qb2JzW3RoaXMuaXNJbmRlbnQ/MTA6MzBdPXtyZWZyZXNoOnRoaXMuaXNJbmRlbnQ/ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmdldENvbnRleHQoYiksZD1DS0VESVRPUi5wbHVnaW5zLmluZGVudExpc3QuZmlyc3RJdGVtSW5QYXRoKHRoaXMuY29udGV4dCxiLGMpO3JldHVybiBjJiZ0aGlzLmlzSW5kZW50JiYhZD9sOm19OmZ1bmN0aW9uKGEsYil7cmV0dXJuIXRoaXMuZ2V0Q29udGV4dChiKXx8dGhpcy5pc0luZGVudD9tOmx9LGV4ZWM6Q0tFRElUT1IudG9vbHMuYmluZChhLHRoaXMpfX12YXIgZT1DS0VESVRPUi5wbHVnaW5zLmluZGVudDtlLnJlZ2lzdGVyQ29tbWFuZHMoYix7aW5kZW50bGlzdDpuZXcgYyhiLFwiaW5kZW50bGlzdFwiLCEwKSxvdXRkZW50bGlzdDpuZXcgYyhiLFwib3V0ZGVudGxpc3RcIil9KTtDS0VESVRPUi50b29scy5leHRlbmQoYy5wcm90b3R5cGUsXG5lLnNwZWNpZmljRGVmaW5pdGlvbi5wcm90b3R5cGUse2NvbnRleHQ6e29sOjEsdWw6MX19KX19KTtDS0VESVRPUi5wbHVnaW5zLmluZGVudExpc3Q9e307Q0tFRElUT1IucGx1Z2lucy5pbmRlbnRMaXN0LmZpcnN0SXRlbUluUGF0aD1mdW5jdGlvbihhLGIsYyl7dmFyIGU9Yi5jb250YWlucyhmKTtjfHwoYz1iLmNvbnRhaW5zKGEpKTtyZXR1cm4gYyYmZSYmZS5lcXVhbHMoYy5nZXRGaXJzdChmKSl9fSgpLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhLGIsYyl7ZnVuY3Rpb24gZChjKXtpZighKCEobD1rW2M/XCJnZXRGaXJzdFwiOlwiZ2V0TGFzdFwiXSgpKXx8bC5pcyYmbC5pc0Jsb2NrQm91bmRhcnkoKXx8IShtPWIucm9vdFtjP1wiZ2V0UHJldmlvdXNcIjpcImdldE5leHRcIl0oQ0tFRElUT1IuZG9tLndhbGtlci5pbnZpc2libGUoITApKSl8fG0uaXMmJm0uaXNCbG9ja0JvdW5kYXJ5KHticjoxfSkpKWEuZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJyXCIpW2M/XCJpbnNlcnRCZWZvcmVcIjpcImluc2VydEFmdGVyXCJdKGwpfVxuZm9yKHZhciBlPUNLRURJVE9SLnBsdWdpbnMubGlzdC5saXN0VG9BcnJheShiLnJvb3QsYyksZj1bXSxnPTA7ZzxiLmNvbnRlbnRzLmxlbmd0aDtnKyspe3ZhciBoPWIuY29udGVudHNbZ107KGg9aC5nZXRBc2NlbmRhbnQoXCJsaVwiLCEwKSkmJiFoLmdldEN1c3RvbURhdGEoXCJsaXN0X2l0ZW1fcHJvY2Vzc2VkXCIpJiYoZi5wdXNoKGgpLENLRURJVE9SLmRvbS5lbGVtZW50LnNldE1hcmtlcihjLGgsXCJsaXN0X2l0ZW1fcHJvY2Vzc2VkXCIsITApKX1oPW51bGw7Zm9yKGc9MDtnPGYubGVuZ3RoO2crKyloPWZbZ10uZ2V0Q3VzdG9tRGF0YShcImxpc3RhcnJheV9pbmRleFwiKSxlW2hdLmluZGVudD0tMTtmb3IoZz1oKzE7ZzxlLmxlbmd0aDtnKyspaWYoZVtnXS5pbmRlbnQ+ZVtnLTFdLmluZGVudCsxKXtmPWVbZy0xXS5pbmRlbnQrMS1lW2ddLmluZGVudDtmb3IoaD1lW2ddLmluZGVudDtlW2ddJiZlW2ddLmluZGVudD49aDspZVtnXS5pbmRlbnQrPWYsZysrO2ctLX12YXIgaz1DS0VESVRPUi5wbHVnaW5zLmxpc3QuYXJyYXlUb0xpc3QoZSxcbmMsbnVsbCxhLmNvbmZpZy5lbnRlck1vZGUsYi5yb290LmdldEF0dHJpYnV0ZShcImRpclwiKSkubGlzdE5vZGUsbCxtO2QoITApO2QoKTtrLnJlcGxhY2UoYi5yb290KTthLmZpcmUoXCJjb250ZW50RG9tSW52YWxpZGF0ZWRcIil9ZnVuY3Rpb24gZihhLGIpe3RoaXMubmFtZT1hO3RoaXMuY29udGV4dD10aGlzLnR5cGU9Yjt0aGlzLmFsbG93ZWRDb250ZW50PWIrXCIgbGlcIjt0aGlzLnJlcXVpcmVkQ29udGVudD1ifWZ1bmN0aW9uIGIoYSxiLGMsZCl7Zm9yKHZhciBlLGY7ZT1hW2Q/XCJnZXRMYXN0XCI6XCJnZXRGaXJzdFwiXShwKTspKGY9ZS5nZXREaXJlY3Rpb24oMSkpIT09Yi5nZXREaXJlY3Rpb24oMSkmJmUuc2V0QXR0cmlidXRlKFwiZGlyXCIsZiksZS5yZW1vdmUoKSxjP2VbZD9cImluc2VydEJlZm9yZVwiOlwiaW5zZXJ0QWZ0ZXJcIl0oYyk6Yi5hcHBlbmQoZSxkKX1mdW5jdGlvbiBjKGEpe2Z1bmN0aW9uIGMoZCl7dmFyIGU9YVtkP1wiZ2V0UHJldmlvdXNcIjpcImdldE5leHRcIl0oZyk7ZSYmZS50eXBlPT1cbkNLRURJVE9SLk5PREVfRUxFTUVOVCYmZS5pcyhhLmdldE5hbWUoKSkmJihiKGEsZSxudWxsLCFkKSxhLnJlbW92ZSgpLGE9ZSl9YygpO2MoMSl9ZnVuY3Rpb24gZShhKXtyZXR1cm4gYS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJihhLmdldE5hbWUoKWluIENLRURJVE9SLmR0ZC4kYmxvY2t8fGEuZ2V0TmFtZSgpaW4gQ0tFRElUT1IuZHRkLiRsaXN0SXRlbSkmJkNLRURJVE9SLmR0ZFthLmdldE5hbWUoKV1bXCIjXCJdfWZ1bmN0aW9uIG0oYSxkLGUpe2EuZmlyZShcInNhdmVTbmFwc2hvdFwiKTtlLmVubGFyZ2UoQ0tFRElUT1IuRU5MQVJHRV9MSVNUX0lURU1fQ09OVEVOVFMpO3ZhciBmPWUuZXh0cmFjdENvbnRlbnRzKCk7ZC50cmltKCExLCEwKTt2YXIgaD1kLmNyZWF0ZUJvb2ttYXJrKCksaz1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnRQYXRoKGQuc3RhcnRDb250YWluZXIpLG09ay5ibG9jayxrPWsubGFzdEVsZW1lbnQuZ2V0QXNjZW5kYW50KFwibGlcIiwxKXx8bSxwPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudFBhdGgoZS5zdGFydENvbnRhaW5lciksXG5xPXAuY29udGFpbnMoQ0tFRElUT1IuZHRkLiRsaXN0SXRlbSkscD1wLmNvbnRhaW5zKENLRURJVE9SLmR0ZC4kbGlzdCk7bT8obT1tLmdldEJvZ3VzKCkpJiZtLnJlbW92ZSgpOnAmJihtPXAuZ2V0UHJldmlvdXMoZykpJiZuKG0pJiZtLnJlbW92ZSgpOyhtPWYuZ2V0TGFzdCgpKSYmbS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJm0uaXMoXCJiclwiKSYmbS5yZW1vdmUoKTsobT1kLnN0YXJ0Q29udGFpbmVyLmdldENoaWxkKGQuc3RhcnRPZmZzZXQpKT9mLmluc2VydEJlZm9yZShtKTpkLnN0YXJ0Q29udGFpbmVyLmFwcGVuZChmKTtxJiYoZj1sKHEpKSYmKGsuY29udGFpbnMocSk/KGIoZixxLmdldFBhcmVudCgpLHEpLGYucmVtb3ZlKCkpOmsuYXBwZW5kKGYpKTtmb3IoO2UuY2hlY2tTdGFydE9mQmxvY2soKSYmZS5jaGVja0VuZE9mQmxvY2soKTspe3A9ZS5zdGFydFBhdGgoKTtmPXAuYmxvY2s7aWYoIWYpYnJlYWs7Zi5pcyhcImxpXCIpJiYoaz1mLmdldFBhcmVudCgpLGYuZXF1YWxzKGsuZ2V0TGFzdChnKSkmJlxuZi5lcXVhbHMoay5nZXRGaXJzdChnKSkmJihmPWspKTtlLm1vdmVUb1Bvc2l0aW9uKGYsQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX1NUQVJUKTtmLnJlbW92ZSgpfWU9ZS5jbG9uZSgpO2Y9YS5lZGl0YWJsZSgpO2Uuc2V0RW5kQXQoZixDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfRU5EKTtlPW5ldyBDS0VESVRPUi5kb20ud2Fsa2VyKGUpO2UuZXZhbHVhdG9yPWZ1bmN0aW9uKGEpe3JldHVybiBnKGEpJiYhbihhKX07KGU9ZS5uZXh0KCkpJiZlLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmZS5nZXROYW1lKClpbiBDS0VESVRPUi5kdGQuJGxpc3QmJmMoZSk7ZC5tb3ZlVG9Cb29rbWFyayhoKTtkLnNlbGVjdCgpO2EuZmlyZShcInNhdmVTbmFwc2hvdFwiKX1mdW5jdGlvbiBsKGEpe3JldHVybihhPWEuZ2V0TGFzdChnKSkmJmEudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZhLmdldE5hbWUoKWluIGQ/YTpudWxsfXZhciBkPXtvbDoxLHVsOjF9LGg9Q0tFRElUT1IuZG9tLndhbGtlci53aGl0ZXNwYWNlcygpLFxuaz1DS0VESVRPUi5kb20ud2Fsa2VyLmJvb2ttYXJrKCksZz1mdW5jdGlvbihhKXtyZXR1cm4hKGgoYSl8fGsoYSkpfSxuPUNLRURJVE9SLmRvbS53YWxrZXIuYm9ndXMoKTtDS0VESVRPUi5wbHVnaW5zLmxpc3Q9e2xpc3RUb0FycmF5OmZ1bmN0aW9uKGEsYixjLGUsZil7aWYoIWRbYS5nZXROYW1lKCldKXJldHVybltdO2V8fChlPTApO2N8fChjPVtdKTtmb3IodmFyIGc9MCxoPWEuZ2V0Q2hpbGRDb3VudCgpO2c8aDtnKyspe3ZhciBrPWEuZ2V0Q2hpbGQoZyk7ay50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmsuZ2V0TmFtZSgpaW4gQ0tFRElUT1IuZHRkLiRsaXN0JiZDS0VESVRPUi5wbHVnaW5zLmxpc3QubGlzdFRvQXJyYXkoayxiLGMsZSsxKTtpZihcImxpXCI9PWsuJC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpKXt2YXIgbD17cGFyZW50OmEsaW5kZW50OmUsZWxlbWVudDprLGNvbnRlbnRzOltdfTtmP2wuZ3JhbmRwYXJlbnQ9ZjoobC5ncmFuZHBhcmVudD1hLmdldFBhcmVudCgpLFxubC5ncmFuZHBhcmVudCYmXCJsaVwiPT1sLmdyYW5kcGFyZW50LiQubm9kZU5hbWUudG9Mb3dlckNhc2UoKSYmKGwuZ3JhbmRwYXJlbnQ9bC5ncmFuZHBhcmVudC5nZXRQYXJlbnQoKSkpO2ImJkNLRURJVE9SLmRvbS5lbGVtZW50LnNldE1hcmtlcihiLGssXCJsaXN0YXJyYXlfaW5kZXhcIixjLmxlbmd0aCk7Yy5wdXNoKGwpO2Zvcih2YXIgbT0wLG49ay5nZXRDaGlsZENvdW50KCkscDttPG47bSsrKXA9ay5nZXRDaGlsZChtKSxwLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmZFtwLmdldE5hbWUoKV0/Q0tFRElUT1IucGx1Z2lucy5saXN0Lmxpc3RUb0FycmF5KHAsYixjLGUrMSxsLmdyYW5kcGFyZW50KTpsLmNvbnRlbnRzLnB1c2gocCl9fXJldHVybiBjfSxhcnJheVRvTGlzdDpmdW5jdGlvbihhLGIsYyxlLGYpe2N8fChjPTApO2lmKCFhfHxhLmxlbmd0aDxjKzEpcmV0dXJuIG51bGw7Zm9yKHZhciBoLGw9YVtjXS5wYXJlbnQuZ2V0RG9jdW1lbnQoKSxtPW5ldyBDS0VESVRPUi5kb20uZG9jdW1lbnRGcmFnbWVudChsKSxcbm49bnVsbCxwPWMscT1NYXRoLm1heChhW2NdLmluZGVudCwwKSxDPW51bGwsRixFLEo9ZT09Q0tFRElUT1IuRU5URVJfUD9cInBcIjpcImRpdlwiOzspe3ZhciBHPWFbcF07aD1HLmdyYW5kcGFyZW50O0Y9Ry5lbGVtZW50LmdldERpcmVjdGlvbigxKTtpZihHLmluZGVudD09cSl7biYmYVtwXS5wYXJlbnQuZ2V0TmFtZSgpPT1uLmdldE5hbWUoKXx8KG49YVtwXS5wYXJlbnQuY2xvbmUoITEsMSksZiYmbi5zZXRBdHRyaWJ1dGUoXCJkaXJcIixmKSxtLmFwcGVuZChuKSk7Qz1uLmFwcGVuZChHLmVsZW1lbnQuY2xvbmUoMCwxKSk7RiE9bi5nZXREaXJlY3Rpb24oMSkmJkMuc2V0QXR0cmlidXRlKFwiZGlyXCIsRik7Zm9yKGg9MDtoPEcuY29udGVudHMubGVuZ3RoO2grKylDLmFwcGVuZChHLmNvbnRlbnRzW2hdLmNsb25lKDEsMSkpO3ArK31lbHNlIGlmKEcuaW5kZW50PT1NYXRoLm1heChxLDApKzEpRz1hW3AtMV0uZWxlbWVudC5nZXREaXJlY3Rpb24oMSkscD1DS0VESVRPUi5wbHVnaW5zLmxpc3QuYXJyYXlUb0xpc3QoYSxcbm51bGwscCxlLEchPUY/RjpudWxsKSwhQy5nZXRDaGlsZENvdW50KCkmJkNLRURJVE9SLmVudi5uZWVkc05ic3BGaWxsZXImJjc+PWwuJC5kb2N1bWVudE1vZGUmJkMuYXBwZW5kKGwuY3JlYXRlVGV4dChcIsKgXCIpKSxDLmFwcGVuZChwLmxpc3ROb2RlKSxwPXAubmV4dEluZGV4O2Vsc2UgaWYoLTE9PUcuaW5kZW50JiYhYyYmaCl7ZFtoLmdldE5hbWUoKV0/KEM9Ry5lbGVtZW50LmNsb25lKCExLCEwKSxGIT1oLmdldERpcmVjdGlvbigxKSYmQy5zZXRBdHRyaWJ1dGUoXCJkaXJcIixGKSk6Qz1uZXcgQ0tFRElUT1IuZG9tLmRvY3VtZW50RnJhZ21lbnQobCk7dmFyIG49aC5nZXREaXJlY3Rpb24oMSkhPUYsTT1HLmVsZW1lbnQsST1NLmdldEF0dHJpYnV0ZShcImNsYXNzXCIpLEg9TS5nZXRBdHRyaWJ1dGUoXCJzdHlsZVwiKSxSPUMudHlwZT09Q0tFRElUT1IuTk9ERV9ET0NVTUVOVF9GUkFHTUVOVCYmKGUhPUNLRURJVE9SLkVOVEVSX0JSfHxufHxIfHxJKSxQLFQ9Ry5jb250ZW50cy5sZW5ndGgsTztcbmZvcihoPTA7aDxUO2grKylpZihQPUcuY29udGVudHNbaF0sayhQKSYmMTxUKVI/Tz1QLmNsb25lKDEsMSk6Qy5hcHBlbmQoUC5jbG9uZSgxLDEpKTtlbHNlIGlmKFAudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZQLmlzQmxvY2tCb3VuZGFyeSgpKXtuJiYhUC5nZXREaXJlY3Rpb24oKSYmUC5zZXRBdHRyaWJ1dGUoXCJkaXJcIixGKTtFPVA7dmFyIEs9TS5nZXRBdHRyaWJ1dGUoXCJzdHlsZVwiKTtLJiZFLnNldEF0dHJpYnV0ZShcInN0eWxlXCIsSy5yZXBsYWNlKC8oW147XSkkLyxcIiQxO1wiKSsoRS5nZXRBdHRyaWJ1dGUoXCJzdHlsZVwiKXx8XCJcIikpO0kmJlAuYWRkQ2xhc3MoSSk7RT1udWxsO08mJihDLmFwcGVuZChPKSxPPW51bGwpO0MuYXBwZW5kKFAuY2xvbmUoMSwxKSl9ZWxzZSBSPyhFfHwoRT1sLmNyZWF0ZUVsZW1lbnQoSiksQy5hcHBlbmQoRSksbiYmRS5zZXRBdHRyaWJ1dGUoXCJkaXJcIixGKSksSCYmRS5zZXRBdHRyaWJ1dGUoXCJzdHlsZVwiLEgpLEkmJkUuc2V0QXR0cmlidXRlKFwiY2xhc3NcIixcbkkpLE8mJihFLmFwcGVuZChPKSxPPW51bGwpLEUuYXBwZW5kKFAuY2xvbmUoMSwxKSkpOkMuYXBwZW5kKFAuY2xvbmUoMSwxKSk7TyYmKChFfHxDKS5hcHBlbmQoTyksTz1udWxsKTtDLnR5cGU9PUNLRURJVE9SLk5PREVfRE9DVU1FTlRfRlJBR01FTlQmJnAhPWEubGVuZ3RoLTEmJihDS0VESVRPUi5lbnYubmVlZHNCckZpbGxlciYmKEY9Qy5nZXRMYXN0KCkpJiZGLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmRi5pcyhcImJyXCIpJiZGLnJlbW92ZSgpLChGPUMuZ2V0TGFzdChnKSkmJkYudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZGLmlzKENLRURJVE9SLmR0ZC4kYmxvY2spfHxDLmFwcGVuZChsLmNyZWF0ZUVsZW1lbnQoXCJiclwiKSkpO0Y9Qy4kLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7XCJkaXZcIiE9RiYmXCJwXCIhPUZ8fEMuYXBwZW5kQm9ndXMoKTttLmFwcGVuZChDKTtuPW51bGw7cCsrfWVsc2UgcmV0dXJuIG51bGw7RT1udWxsO2lmKGEubGVuZ3RoPD1wfHxNYXRoLm1heChhW3BdLmluZGVudCxcbjApPHEpYnJlYWt9aWYoYilmb3IoYT1tLmdldEZpcnN0KCk7YTspe2lmKGEudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiYoQ0tFRElUT1IuZG9tLmVsZW1lbnQuY2xlYXJNYXJrZXJzKGIsYSksYS5nZXROYW1lKClpbiBDS0VESVRPUi5kdGQuJGxpc3RJdGVtJiYoYz1hLGw9Zj1lPXZvaWQgMCxlPWMuZ2V0RGlyZWN0aW9uKCkpKSl7Zm9yKGY9Yy5nZXRQYXJlbnQoKTtmJiYhKGw9Zi5nZXREaXJlY3Rpb24oKSk7KWY9Zi5nZXRQYXJlbnQoKTtlPT1sJiZjLnJlbW92ZUF0dHJpYnV0ZShcImRpclwiKX1hPWEuZ2V0TmV4dFNvdXJjZU5vZGUoKX1yZXR1cm57bGlzdE5vZGU6bSxuZXh0SW5kZXg6cH19fTt2YXIgcT0vXmhbMS02XSQvLHA9Q0tFRElUT1IuZG9tLndhbGtlci5ub2RlVHlwZShDS0VESVRPUi5OT0RFX0VMRU1FTlQpO2YucHJvdG90eXBlPXtleGVjOmZ1bmN0aW9uKGIpe3RoaXMucmVmcmVzaChiLGIuZWxlbWVudFBhdGgoKSk7dmFyIGU9Yi5jb25maWcsZj1iLmdldFNlbGVjdGlvbigpLFxuaD1mJiZmLmdldFJhbmdlcygpO2lmKHRoaXMuc3RhdGU9PUNLRURJVE9SLlRSSVNUQVRFX09GRil7dmFyIGs9Yi5lZGl0YWJsZSgpO2lmKGsuZ2V0Rmlyc3QoZykpe3ZhciBsPTE9PWgubGVuZ3RoJiZoWzBdOyhlPWwmJmwuZ2V0RW5jbG9zZWROb2RlKCkpJiZlLmlzJiZ0aGlzLnR5cGU9PWUuZ2V0TmFtZSgpJiZ0aGlzLnNldFN0YXRlKENLRURJVE9SLlRSSVNUQVRFX09OKX1lbHNlIGUuZW50ZXJNb2RlPT1DS0VESVRPUi5FTlRFUl9CUj9rLmFwcGVuZEJvZ3VzKCk6aFswXS5maXhCbG9jaygxLGUuZW50ZXJNb2RlPT1DS0VESVRPUi5FTlRFUl9QP1wicFwiOlwiZGl2XCIpLGYuc2VsZWN0UmFuZ2VzKGgpfWZvcih2YXIgZT1mLmNyZWF0ZUJvb2ttYXJrcyghMCksaz1bXSxtPXt9LGg9aC5jcmVhdGVJdGVyYXRvcigpLG49MDsobD1oLmdldE5leHRSYW5nZSgpKSYmKytuOyl7dmFyIHA9bC5nZXRCb3VuZGFyeU5vZGVzKCkseT1wLnN0YXJ0Tm9kZSxBPXAuZW5kTm9kZTt5LnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmXG5cInRkXCI9PXkuZ2V0TmFtZSgpJiZsLnNldFN0YXJ0QXQocC5zdGFydE5vZGUsQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfU1RBUlQpO0EudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZcInRkXCI9PUEuZ2V0TmFtZSgpJiZsLnNldEVuZEF0KHAuZW5kTm9kZSxDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfRU5EKTtsPWwuY3JlYXRlSXRlcmF0b3IoKTtmb3IobC5mb3JjZUJyQnJlYWs9dGhpcy5zdGF0ZT09Q0tFRElUT1IuVFJJU1RBVEVfT0ZGO3A9bC5nZXROZXh0UGFyYWdyYXBoKCk7KWlmKCFwLmdldEN1c3RvbURhdGEoXCJsaXN0X2Jsb2NrXCIpKXtDS0VESVRPUi5kb20uZWxlbWVudC5zZXRNYXJrZXIobSxwLFwibGlzdF9ibG9ja1wiLDEpO2Zvcih2YXIgQz1iLmVsZW1lbnRQYXRoKHApLHk9Qy5lbGVtZW50cyxBPTAsQz1DLmJsb2NrTGltaXQsRixFPXkubGVuZ3RoLTE7MDw9RSYmKEY9eVtFXSk7RS0tKWlmKGRbRi5nZXROYW1lKCldJiZDLmNvbnRhaW5zKEYpKXtDLnJlbW92ZUN1c3RvbURhdGEoXCJsaXN0X2dyb3VwX29iamVjdF9cIitcbm4pOyh5PUYuZ2V0Q3VzdG9tRGF0YShcImxpc3RfZ3JvdXBfb2JqZWN0XCIpKT95LmNvbnRlbnRzLnB1c2gocCk6KHk9e3Jvb3Q6Rixjb250ZW50czpbcF19LGsucHVzaCh5KSxDS0VESVRPUi5kb20uZWxlbWVudC5zZXRNYXJrZXIobSxGLFwibGlzdF9ncm91cF9vYmplY3RcIix5KSk7QT0xO2JyZWFrfUF8fChBPUMsQS5nZXRDdXN0b21EYXRhKFwibGlzdF9ncm91cF9vYmplY3RfXCIrbik/QS5nZXRDdXN0b21EYXRhKFwibGlzdF9ncm91cF9vYmplY3RfXCIrbikuY29udGVudHMucHVzaChwKTooeT17cm9vdDpBLGNvbnRlbnRzOltwXX0sQ0tFRElUT1IuZG9tLmVsZW1lbnQuc2V0TWFya2VyKG0sQSxcImxpc3RfZ3JvdXBfb2JqZWN0X1wiK24seSksay5wdXNoKHkpKSl9fWZvcihGPVtdOzA8ay5sZW5ndGg7KWlmKHk9ay5zaGlmdCgpLHRoaXMuc3RhdGU9PUNLRURJVE9SLlRSSVNUQVRFX09GRilpZihkW3kucm9vdC5nZXROYW1lKCldKXtoPWI7bj15O3k9bTtsPUY7QT1DS0VESVRPUi5wbHVnaW5zLmxpc3QubGlzdFRvQXJyYXkobi5yb290LFxueSk7Qz1bXTtmb3IocD0wO3A8bi5jb250ZW50cy5sZW5ndGg7cCsrKUU9bi5jb250ZW50c1twXSwoRT1FLmdldEFzY2VuZGFudChcImxpXCIsITApKSYmIUUuZ2V0Q3VzdG9tRGF0YShcImxpc3RfaXRlbV9wcm9jZXNzZWRcIikmJihDLnB1c2goRSksQ0tFRElUT1IuZG9tLmVsZW1lbnQuc2V0TWFya2VyKHksRSxcImxpc3RfaXRlbV9wcm9jZXNzZWRcIiwhMCkpO2Zvcih2YXIgRT1uLnJvb3QuZ2V0RG9jdW1lbnQoKSxKPXZvaWQgMCxHPXZvaWQgMCxwPTA7cDxDLmxlbmd0aDtwKyspe3ZhciBNPUNbcF0uZ2V0Q3VzdG9tRGF0YShcImxpc3RhcnJheV9pbmRleFwiKSxKPUFbTV0ucGFyZW50O0ouaXModGhpcy50eXBlKXx8KEc9RS5jcmVhdGVFbGVtZW50KHRoaXMudHlwZSksSi5jb3B5QXR0cmlidXRlcyhHLHtzdGFydDoxLHR5cGU6MX0pLEcucmVtb3ZlU3R5bGUoXCJsaXN0LXN0eWxlLXR5cGVcIiksQVtNXS5wYXJlbnQ9Ryl9eT1DS0VESVRPUi5wbHVnaW5zLmxpc3QuYXJyYXlUb0xpc3QoQSx5LG51bGwsXG5oLmNvbmZpZy5lbnRlck1vZGUpO0E9dm9pZCAwO0M9eS5saXN0Tm9kZS5nZXRDaGlsZENvdW50KCk7Zm9yKHA9MDtwPEMmJihBPXkubGlzdE5vZGUuZ2V0Q2hpbGQocCkpO3ArKylBLmdldE5hbWUoKT09dGhpcy50eXBlJiZsLnB1c2goQSk7eS5saXN0Tm9kZS5yZXBsYWNlKG4ucm9vdCk7aC5maXJlKFwiY29udGVudERvbUludmFsaWRhdGVkXCIpfWVsc2V7QT1iO2w9eTtwPUY7Qz1sLmNvbnRlbnRzO2g9bC5yb290LmdldERvY3VtZW50KCk7bj1bXTsxPT1DLmxlbmd0aCYmQ1swXS5lcXVhbHMobC5yb290KSYmKHk9aC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLENbMF0ubW92ZUNoaWxkcmVuJiZDWzBdLm1vdmVDaGlsZHJlbih5KSxDWzBdLmFwcGVuZCh5KSxDWzBdPXkpO2w9bC5jb250ZW50c1swXS5nZXRQYXJlbnQoKTtmb3IoRT0wO0U8Qy5sZW5ndGg7RSsrKWw9bC5nZXRDb21tb25BbmNlc3RvcihDW0VdLmdldFBhcmVudCgpKTtKPUEuY29uZmlnLnVzZUNvbXB1dGVkU3RhdGU7QT15PXZvaWQgMDtcbko9dm9pZCAwPT09Snx8Sjtmb3IoRT0wO0U8Qy5sZW5ndGg7RSsrKWZvcihHPUNbRV07TT1HLmdldFBhcmVudCgpOyl7aWYoTS5lcXVhbHMobCkpe24ucHVzaChHKTshQSYmRy5nZXREaXJlY3Rpb24oKSYmKEE9MSk7Rz1HLmdldERpcmVjdGlvbihKKTtudWxsIT09eSYmKHk9eSYmeSE9Rz9udWxsOkcpO2JyZWFrfUc9TX1pZighKDE+bi5sZW5ndGgpKXtDPW5bbi5sZW5ndGgtMV0uZ2V0TmV4dCgpO0U9aC5jcmVhdGVFbGVtZW50KHRoaXMudHlwZSk7cC5wdXNoKEUpO2ZvcihKPXA9dm9pZCAwO24ubGVuZ3RoOylwPW4uc2hpZnQoKSxKPWguY3JlYXRlRWxlbWVudChcImxpXCIpLEc9cCxHLmlzKFwicHJlXCIpfHxxLnRlc3QoRy5nZXROYW1lKCkpfHxcImZhbHNlXCI9PUcuZ2V0QXR0cmlidXRlKFwiY29udGVudGVkaXRhYmxlXCIpP3AuYXBwZW5kVG8oSik6KHAuY29weUF0dHJpYnV0ZXMoSikseSYmcC5nZXREaXJlY3Rpb24oKSYmKEoucmVtb3ZlU3R5bGUoXCJkaXJlY3Rpb25cIiksSi5yZW1vdmVBdHRyaWJ1dGUoXCJkaXJcIikpLFxucC5tb3ZlQ2hpbGRyZW4oSikscC5yZW1vdmUoKSksSi5hcHBlbmRUbyhFKTt5JiZBJiZFLnNldEF0dHJpYnV0ZShcImRpclwiLHkpO0M/RS5pbnNlcnRCZWZvcmUoQyk6RS5hcHBlbmRUbyhsKX19ZWxzZSB0aGlzLnN0YXRlPT1DS0VESVRPUi5UUklTVEFURV9PTiYmZFt5LnJvb3QuZ2V0TmFtZSgpXSYmYS5jYWxsKHRoaXMsYix5LG0pO2ZvcihFPTA7RTxGLmxlbmd0aDtFKyspYyhGW0VdKTtDS0VESVRPUi5kb20uZWxlbWVudC5jbGVhckFsbE1hcmtlcnMobSk7Zi5zZWxlY3RCb29rbWFya3MoZSk7Yi5mb2N1cygpfSxyZWZyZXNoOmZ1bmN0aW9uKGEsYil7dmFyIGM9Yi5jb250YWlucyhkLDEpLGU9Yi5ibG9ja0xpbWl0fHxiLnJvb3Q7YyYmZS5jb250YWlucyhjKT90aGlzLnNldFN0YXRlKGMuaXModGhpcy50eXBlKT9DS0VESVRPUi5UUklTVEFURV9PTjpDS0VESVRPUi5UUklTVEFURV9PRkYpOnRoaXMuc2V0U3RhdGUoQ0tFRElUT1IuVFJJU1RBVEVfT0ZGKX19O0NLRURJVE9SLnBsdWdpbnMuYWRkKFwibGlzdFwiLFxue3JlcXVpcmVzOlwiaW5kZW50bGlzdFwiLGluaXQ6ZnVuY3Rpb24oYSl7YS5ibG9ja2xlc3N8fChhLmFkZENvbW1hbmQoXCJudW1iZXJlZGxpc3RcIixuZXcgZihcIm51bWJlcmVkbGlzdFwiLFwib2xcIikpLGEuYWRkQ29tbWFuZChcImJ1bGxldGVkbGlzdFwiLG5ldyBmKFwiYnVsbGV0ZWRsaXN0XCIsXCJ1bFwiKSksYS51aS5hZGRCdXR0b24mJihhLnVpLmFkZEJ1dHRvbihcIk51bWJlcmVkTGlzdFwiLHtsYWJlbDphLmxhbmcubGlzdC5udW1iZXJlZGxpc3QsY29tbWFuZDpcIm51bWJlcmVkbGlzdFwiLGRpcmVjdGlvbmFsOiEwLHRvb2xiYXI6XCJsaXN0LDEwXCJ9KSxhLnVpLmFkZEJ1dHRvbihcIkJ1bGxldGVkTGlzdFwiLHtsYWJlbDphLmxhbmcubGlzdC5idWxsZXRlZGxpc3QsY29tbWFuZDpcImJ1bGxldGVkbGlzdFwiLGRpcmVjdGlvbmFsOiEwLHRvb2xiYXI6XCJsaXN0LDIwXCJ9KSksYS5vbihcImtleVwiLGZ1bmN0aW9uKGIpe3ZhciBjPWIuZGF0YS5kb21FdmVudC5nZXRLZXkoKSxmO2lmKFwid3lzaXd5Z1wiPT1hLm1vZGUmJlxuYyBpbns4OjEsNDY6MX0pe3ZhciBoPWEuZ2V0U2VsZWN0aW9uKCkuZ2V0UmFuZ2VzKClbMF0saz1oJiZoLnN0YXJ0UGF0aCgpO2lmKGgmJmguY29sbGFwc2VkKXt2YXIgcD04PT1jLHE9YS5lZGl0YWJsZSgpLEQ9bmV3IENLRURJVE9SLmRvbS53YWxrZXIoaC5jbG9uZSgpKTtELmV2YWx1YXRvcj1mdW5jdGlvbihhKXtyZXR1cm4gZyhhKSYmIW4oYSl9O0QuZ3VhcmQ9ZnVuY3Rpb24oYSxiKXtyZXR1cm4hKGImJmEudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZhLmlzKFwidGFibGVcIikpfTtjPWguY2xvbmUoKTtpZihwKXt2YXIgeTsoeT1rLmNvbnRhaW5zKGQpKSYmaC5jaGVja0JvdW5kYXJ5T2ZFbGVtZW50KHksQ0tFRElUT1IuU1RBUlQpJiYoeT15LmdldFBhcmVudCgpKSYmeS5pcyhcImxpXCIpJiYoeT1sKHkpKT8oZj15LHk9eS5nZXRQcmV2aW91cyhnKSxjLm1vdmVUb1Bvc2l0aW9uKHkmJm4oeSk/eTpmLENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9TVEFSVCkpOihELnJhbmdlLnNldFN0YXJ0QXQocSxcbkNLRURJVE9SLlBPU0lUSU9OX0FGVEVSX1NUQVJUKSxELnJhbmdlLnNldEVuZChoLnN0YXJ0Q29udGFpbmVyLGguc3RhcnRPZmZzZXQpLCh5PUQucHJldmlvdXMoKSkmJnkudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiYoeS5nZXROYW1lKClpbiBkfHx5LmlzKFwibGlcIikpJiYoeS5pcyhcImxpXCIpfHwoRC5yYW5nZS5zZWxlY3ROb2RlQ29udGVudHMoeSksRC5yZXNldCgpLEQuZXZhbHVhdG9yPWUseT1ELnByZXZpb3VzKCkpLGY9eSxjLm1vdmVUb0VsZW1lbnRFZGl0RW5kKGYpLGMubW92ZVRvUG9zaXRpb24oYy5lbmRQYXRoKCkuYmxvY2ssQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX0VORCkpKTtpZihmKW0oYSxjLGgpLGIuY2FuY2VsKCk7ZWxzZXt2YXIgQT1rLmNvbnRhaW5zKGQpO0EmJmguY2hlY2tCb3VuZGFyeU9mRWxlbWVudChBLENLRURJVE9SLlNUQVJUKSYmKGY9QS5nZXRGaXJzdChnKSxoLmNoZWNrQm91bmRhcnlPZkVsZW1lbnQoZixDS0VESVRPUi5TVEFSVCkmJih5PUEuZ2V0UHJldmlvdXMoZyksXG5sKGYpP3kmJihoLm1vdmVUb0VsZW1lbnRFZGl0RW5kKHkpLGguc2VsZWN0KCkpOmEuZXhlY0NvbW1hbmQoXCJvdXRkZW50XCIpLGIuY2FuY2VsKCkpKX19ZWxzZSBpZihmPWsuY29udGFpbnMoXCJsaVwiKSl7aWYoRC5yYW5nZS5zZXRFbmRBdChxLENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9FTkQpLHA9KHE9Zi5nZXRMYXN0KGcpKSYmZShxKT9xOmYsaz0wLCh5PUQubmV4dCgpKSYmeS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJnkuZ2V0TmFtZSgpaW4gZCYmeS5lcXVhbHMocSk/KGs9MSx5PUQubmV4dCgpKTpoLmNoZWNrQm91bmRhcnlPZkVsZW1lbnQocCxDS0VESVRPUi5FTkQpJiYoaz0yKSxrJiZ5KXtoPWguY2xvbmUoKTtoLm1vdmVUb0VsZW1lbnRFZGl0U3RhcnQoeSk7aWYoMT09ayYmKGMub3B0aW1pemUoKSwhYy5zdGFydENvbnRhaW5lci5lcXVhbHMoZikpKXtmb3IoZj1jLnN0YXJ0Q29udGFpbmVyO2YuaXMoQ0tFRElUT1IuZHRkLiRpbmxpbmUpOylBPWYsZj1mLmdldFBhcmVudCgpO1xuQSYmYy5tb3ZlVG9Qb3NpdGlvbihBLENLRURJVE9SLlBPU0lUSU9OX0FGVEVSX0VORCl9Mj09ayYmKGMubW92ZVRvUG9zaXRpb24oYy5lbmRQYXRoKCkuYmxvY2ssQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX0VORCksaC5lbmRQYXRoKCkuYmxvY2smJmgubW92ZVRvUG9zaXRpb24oaC5lbmRQYXRoKCkuYmxvY2ssQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfU1RBUlQpKTttKGEsYyxoKTtiLmNhbmNlbCgpfX1lbHNlIEQucmFuZ2Uuc2V0RW5kQXQocSxDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfRU5EKSwoeT1ELm5leHQoKSkmJnkudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZ5LmlzKGQpJiYoeT15LmdldEZpcnN0KGcpLGsuYmxvY2smJmguY2hlY2tTdGFydE9mQmxvY2soKSYmaC5jaGVja0VuZE9mQmxvY2soKT8oay5ibG9jay5yZW1vdmUoKSxoLm1vdmVUb0VsZW1lbnRFZGl0U3RhcnQoeSksaC5zZWxlY3QoKSk6bCh5KT8oaC5tb3ZlVG9FbGVtZW50RWRpdFN0YXJ0KHkpLGguc2VsZWN0KCkpOlxuKGg9aC5jbG9uZSgpLGgubW92ZVRvRWxlbWVudEVkaXRTdGFydCh5KSxtKGEsYyxoKSksYi5jYW5jZWwoKSk7c2V0VGltZW91dChmdW5jdGlvbigpe2Euc2VsZWN0aW9uQ2hhbmdlKDEpfSl9fX0pKX19KX0oKSxmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSxiLGMpe2M9YS5jb25maWcuZm9yY2VFbnRlck1vZGV8fGM7XCJ3eXNpd3lnXCI9PWEubW9kZSYmKGJ8fChiPWEuYWN0aXZlRW50ZXJNb2RlKSxhLmVsZW1lbnRQYXRoKCkuaXNDb250ZXh0Rm9yKFwicFwiKXx8KGI9Q0tFRElUT1IuRU5URVJfQlIsYz0xKSxhLmZpcmUoXCJzYXZlU25hcHNob3RcIiksYj09Q0tFRElUT1IuRU5URVJfQlI/bChhLGIsbnVsbCxjKTpkKGEsYixudWxsLGMpLGEuZmlyZShcInNhdmVTbmFwc2hvdFwiKSl9ZnVuY3Rpb24gZihhKXthPWEuZ2V0U2VsZWN0aW9uKCkuZ2V0UmFuZ2VzKCEwKTtmb3IodmFyIGI9YS5sZW5ndGgtMTswPGI7Yi0tKWFbYl0uZGVsZXRlQ29udGVudHMoKTtyZXR1cm4gYVswXX1mdW5jdGlvbiBiKGEpe3ZhciBiPVxuYS5zdGFydENvbnRhaW5lci5nZXRBc2NlbmRhbnQoZnVuY3Rpb24oYSl7cmV0dXJuIGEudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZcInRydWVcIj09YS5nZXRBdHRyaWJ1dGUoXCJjb250ZW50ZWRpdGFibGVcIil9LCEwKTtpZihhLnJvb3QuZXF1YWxzKGIpKXJldHVybiBhO2I9bmV3IENLRURJVE9SLmRvbS5yYW5nZShiKTtiLm1vdmVUb1JhbmdlKGEpO3JldHVybiBifUNLRURJVE9SLnBsdWdpbnMuYWRkKFwiZW50ZXJrZXlcIix7aW5pdDpmdW5jdGlvbihiKXtiLmFkZENvbW1hbmQoXCJlbnRlclwiLHttb2Rlczp7d3lzaXd5ZzoxfSxlZGl0b3JGb2N1czohMSxleGVjOmZ1bmN0aW9uKGIpe2EoYil9fSk7Yi5hZGRDb21tYW5kKFwic2hpZnRFbnRlclwiLHttb2Rlczp7d3lzaXd5ZzoxfSxlZGl0b3JGb2N1czohMSxleGVjOmZ1bmN0aW9uKGIpe2EoYixiLmFjdGl2ZVNoaWZ0RW50ZXJNb2RlLDEpfX0pO2Iuc2V0S2V5c3Ryb2tlKFtbMTMsXCJlbnRlclwiXSxbQ0tFRElUT1IuU0hJRlQrMTMsXCJzaGlmdEVudGVyXCJdXSl9fSk7XG52YXIgYz1DS0VESVRPUi5kb20ud2Fsa2VyLndoaXRlc3BhY2VzKCksZT1DS0VESVRPUi5kb20ud2Fsa2VyLmJvb2ttYXJrKCk7Q0tFRElUT1IucGx1Z2lucy5lbnRlcmtleT17ZW50ZXJCbG9jazpmdW5jdGlvbihhLGQsbSxxKXtpZihtPW18fGYoYSkpe209YihtKTt2YXIgcD1tLmRvY3VtZW50LHQ9bS5jaGVja1N0YXJ0T2ZCbG9jaygpLHY9bS5jaGVja0VuZE9mQmxvY2soKSxyPWEuZWxlbWVudFBhdGgobS5zdGFydENvbnRhaW5lciksdT1yLmJsb2NrLEI9ZD09Q0tFRElUT1IuRU5URVJfRElWP1wiZGl2XCI6XCJwXCIseDtpZih0JiZ2KXtpZih1JiYodS5pcyhcImxpXCIpfHx1LmdldFBhcmVudCgpLmlzKFwibGlcIikpKXt1LmlzKFwibGlcIil8fCh1PXUuZ2V0UGFyZW50KCkpO209dS5nZXRQYXJlbnQoKTt4PW0uZ2V0UGFyZW50KCk7cT0hdS5oYXNQcmV2aW91cygpO3ZhciB3PSF1Lmhhc05leHQoKSxCPWEuZ2V0U2VsZWN0aW9uKCksej1CLmNyZWF0ZUJvb2ttYXJrcygpLHQ9dS5nZXREaXJlY3Rpb24oMSksXG52PXUuZ2V0QXR0cmlidXRlKFwiY2xhc3NcIiksRD11LmdldEF0dHJpYnV0ZShcInN0eWxlXCIpLHk9eC5nZXREaXJlY3Rpb24oMSkhPXQ7YT1hLmVudGVyTW9kZSE9Q0tFRElUT1IuRU5URVJfQlJ8fHl8fER8fHY7aWYoeC5pcyhcImxpXCIpKXF8fHc/KHEmJncmJm0ucmVtb3ZlKCksdVt3P1wiaW5zZXJ0QWZ0ZXJcIjpcImluc2VydEJlZm9yZVwiXSh4KSk6dS5icmVha1BhcmVudCh4KTtlbHNle2lmKGEpaWYoci5ibG9jay5pcyhcImxpXCIpPyh4PXAuY3JlYXRlRWxlbWVudChkPT1DS0VESVRPUi5FTlRFUl9QP1wicFwiOlwiZGl2XCIpLHkmJnguc2V0QXR0cmlidXRlKFwiZGlyXCIsdCksRCYmeC5zZXRBdHRyaWJ1dGUoXCJzdHlsZVwiLEQpLHYmJnguc2V0QXR0cmlidXRlKFwiY2xhc3NcIix2KSx1Lm1vdmVDaGlsZHJlbih4KSk6eD1yLmJsb2NrLHF8fHcpeFtxP1wiaW5zZXJ0QmVmb3JlXCI6XCJpbnNlcnRBZnRlclwiXShtKTtlbHNlIHUuYnJlYWtQYXJlbnQobSkseC5pbnNlcnRBZnRlcihtKTtlbHNlIGlmKHUuYXBwZW5kQm9ndXMoITApLFxucXx8dylmb3IoO3A9dVtxP1wiZ2V0Rmlyc3RcIjpcImdldExhc3RcIl0oKTspcFtxP1wiaW5zZXJ0QmVmb3JlXCI6XCJpbnNlcnRBZnRlclwiXShtKTtlbHNlIGZvcih1LmJyZWFrUGFyZW50KG0pO3A9dS5nZXRMYXN0KCk7KXAuaW5zZXJ0QWZ0ZXIobSk7dS5yZW1vdmUoKX1CLnNlbGVjdEJvb2ttYXJrcyh6KTtyZXR1cm59aWYodSYmdS5nZXRQYXJlbnQoKS5pcyhcImJsb2NrcXVvdGVcIikpe3UuYnJlYWtQYXJlbnQodS5nZXRQYXJlbnQoKSk7dS5nZXRQcmV2aW91cygpLmdldEZpcnN0KENLRURJVE9SLmRvbS53YWxrZXIuaW52aXNpYmxlKDEpKXx8dS5nZXRQcmV2aW91cygpLnJlbW92ZSgpO3UuZ2V0TmV4dCgpLmdldEZpcnN0KENLRURJVE9SLmRvbS53YWxrZXIuaW52aXNpYmxlKDEpKXx8dS5nZXROZXh0KCkucmVtb3ZlKCk7bS5tb3ZlVG9FbGVtZW50RWRpdFN0YXJ0KHUpO20uc2VsZWN0KCk7cmV0dXJufX1lbHNlIGlmKHUmJnUuaXMoXCJwcmVcIikmJiF2KXtsKGEsZCxtLHEpO3JldHVybn1pZih0PVxubS5zcGxpdEJsb2NrKEIpKXtkPXQucHJldmlvdXNCbG9jazt1PXQubmV4dEJsb2NrO3I9dC53YXNTdGFydE9mQmxvY2s7YT10Lndhc0VuZE9mQmxvY2s7dT8oej11LmdldFBhcmVudCgpLHouaXMoXCJsaVwiKSYmKHUuYnJlYWtQYXJlbnQoeiksdS5tb3ZlKHUuZ2V0TmV4dCgpLDEpKSk6ZCYmKHo9ZC5nZXRQYXJlbnQoKSkmJnouaXMoXCJsaVwiKSYmKGQuYnJlYWtQYXJlbnQoeiksej1kLmdldE5leHQoKSxtLm1vdmVUb0VsZW1lbnRFZGl0U3RhcnQoeiksZC5tb3ZlKGQuZ2V0UHJldmlvdXMoKSkpO2lmKHJ8fGEpe2lmKGQpe2lmKGQuaXMoXCJsaVwiKXx8IWgudGVzdChkLmdldE5hbWUoKSkmJiFkLmlzKFwicHJlXCIpKXg9ZC5jbG9uZSgpfWVsc2UgdSYmKHg9dS5jbG9uZSgpKTt4P3EmJiF4LmlzKFwibGlcIikmJngucmVuYW1lTm9kZShCKTp6JiZ6LmlzKFwibGlcIik/eD16Oih4PXAuY3JlYXRlRWxlbWVudChCKSxkJiYodz1kLmdldERpcmVjdGlvbigpKSYmeC5zZXRBdHRyaWJ1dGUoXCJkaXJcIix3KSk7XG5pZihwPXQuZWxlbWVudFBhdGgpZm9yKHE9MCxCPXAuZWxlbWVudHMubGVuZ3RoO3E8QjtxKyspe3o9cC5lbGVtZW50c1txXTtpZih6LmVxdWFscyhwLmJsb2NrKXx8ei5lcXVhbHMocC5ibG9ja0xpbWl0KSlicmVhaztDS0VESVRPUi5kdGQuJHJlbW92ZUVtcHR5W3ouZ2V0TmFtZSgpXSYmKHo9ei5jbG9uZSgpLHgubW92ZUNoaWxkcmVuKHopLHguYXBwZW5kKHopKX14LmFwcGVuZEJvZ3VzKCk7eC5nZXRQYXJlbnQoKXx8bS5pbnNlcnROb2RlKHgpO3guaXMoXCJsaVwiKSYmeC5yZW1vdmVBdHRyaWJ1dGUoXCJ2YWx1ZVwiKTshQ0tFRElUT1IuZW52LmllfHwhcnx8YSYmZC5nZXRDaGlsZENvdW50KCl8fChtLm1vdmVUb0VsZW1lbnRFZGl0U3RhcnQoYT9kOngpLG0uc2VsZWN0KCkpO20ubW92ZVRvRWxlbWVudEVkaXRTdGFydChyJiYhYT91OngpfWVsc2UgdS5pcyhcImxpXCIpJiYoeD1tLmNsb25lKCkseC5zZWxlY3ROb2RlQ29udGVudHModSkseD1uZXcgQ0tFRElUT1IuZG9tLndhbGtlcih4KSxcbnguZXZhbHVhdG9yPWZ1bmN0aW9uKGEpe3JldHVybiEoZShhKXx8YyhhKXx8YS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmEuZ2V0TmFtZSgpaW4gQ0tFRElUT1IuZHRkLiRpbmxpbmUmJiEoYS5nZXROYW1lKClpbiBDS0VESVRPUi5kdGQuJGVtcHR5KSl9LCh6PXgubmV4dCgpKSYmei50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJnouaXMoXCJ1bFwiLFwib2xcIikmJihDS0VESVRPUi5lbnYubmVlZHNCckZpbGxlcj9wLmNyZWF0ZUVsZW1lbnQoXCJiclwiKTpwLmNyZWF0ZVRleHQoXCLCoFwiKSkuaW5zZXJ0QmVmb3JlKHopKSx1JiZtLm1vdmVUb0VsZW1lbnRFZGl0U3RhcnQodSk7bS5zZWxlY3QoKTttLnNjcm9sbEludG9WaWV3KCl9fX0sZW50ZXJCcjpmdW5jdGlvbihhLGIsYyxlKXtpZihjPWN8fGYoYSkpe3ZhciBsPWMuZG9jdW1lbnQsbT1jLmNoZWNrRW5kT2ZCbG9jaygpLHY9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50UGF0aChhLmdldFNlbGVjdGlvbigpLmdldFN0YXJ0RWxlbWVudCgpKSxcbnI9di5ibG9jayx1PXImJnYuYmxvY2suZ2V0TmFtZSgpO2V8fFwibGlcIiE9dT8oIWUmJm0mJmgudGVzdCh1KT8obT1yLmdldERpcmVjdGlvbigpKT8obD1sLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksbC5zZXRBdHRyaWJ1dGUoXCJkaXJcIixtKSxsLmluc2VydEFmdGVyKHIpLGMuc2V0U3RhcnQobCwwKSk6KGwuY3JlYXRlRWxlbWVudChcImJyXCIpLmluc2VydEFmdGVyKHIpLENLRURJVE9SLmVudi5nZWNrbyYmbC5jcmVhdGVUZXh0KFwiXCIpLmluc2VydEFmdGVyKHIpLGMuc2V0U3RhcnRBdChyLmdldE5leHQoKSxDS0VESVRPUi5lbnYuaWU/Q0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX1NUQVJUOkNLRURJVE9SLlBPU0lUSU9OX0FGVEVSX1NUQVJUKSk6KGE9XCJwcmVcIj09dSYmQ0tFRElUT1IuZW52LmllJiY4PkNLRURJVE9SLmVudi52ZXJzaW9uP2wuY3JlYXRlVGV4dChcIlxcclwiKTpsLmNyZWF0ZUVsZW1lbnQoXCJiclwiKSxjLmRlbGV0ZUNvbnRlbnRzKCksYy5pbnNlcnROb2RlKGEpLENLRURJVE9SLmVudi5uZWVkc0JyRmlsbGVyP1xuKGwuY3JlYXRlVGV4dChcIu+7v1wiKS5pbnNlcnRBZnRlcihhKSxtJiYocnx8di5ibG9ja0xpbWl0KS5hcHBlbmRCb2d1cygpLGEuZ2V0TmV4dCgpLiQubm9kZVZhbHVlPVwiXCIsYy5zZXRTdGFydEF0KGEuZ2V0TmV4dCgpLENLRURJVE9SLlBPU0lUSU9OX0FGVEVSX1NUQVJUKSk6Yy5zZXRTdGFydEF0KGEsQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfRU5EKSksYy5jb2xsYXBzZSghMCksYy5zZWxlY3QoKSxjLnNjcm9sbEludG9WaWV3KCkpOmQoYSxiLGMsZSl9fX07dmFyIG09Q0tFRElUT1IucGx1Z2lucy5lbnRlcmtleSxsPW0uZW50ZXJCcixkPW0uZW50ZXJCbG9jayxoPS9eaFsxLTZdJC99KCksZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEsYil7dmFyIGM9e30sZT1bXSxtPXtuYnNwOlwiwqBcIixzaHk6XCLCrVwiLGd0OlwiXFx4M2VcIixsdDpcIlxceDNjXCIsYW1wOlwiXFx4MjZcIixhcG9zOlwiJ1wiLHF1b3Q6J1wiJ307YT1hLnJlcGxhY2UoL1xcYihuYnNwfHNoeXxndHxsdHxhbXB8YXBvc3xxdW90KSg/Oix8JCkvZyxmdW5jdGlvbihhLFxuZCl7dmFyIGY9Yj9cIlxceDI2XCIrZCtcIjtcIjptW2RdO2NbZl09Yj9tW2RdOlwiXFx4MjZcIitkK1wiO1wiO2UucHVzaChmKTtyZXR1cm5cIlwifSk7aWYoIWImJmEpe2E9YS5zcGxpdChcIixcIik7dmFyIGw9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSxkO2wuaW5uZXJIVE1MPVwiXFx4MjZcIithLmpvaW4oXCI7XFx4MjZcIikrXCI7XCI7ZD1sLmlubmVySFRNTDtsPW51bGw7Zm9yKGw9MDtsPGQubGVuZ3RoO2wrKyl7dmFyIGg9ZC5jaGFyQXQobCk7Y1toXT1cIlxceDI2XCIrYVtsXStcIjtcIjtlLnB1c2goaCl9fWMucmVnZXg9ZS5qb2luKGI/XCJ8XCI6XCJcIik7cmV0dXJuIGN9Q0tFRElUT1IucGx1Z2lucy5hZGQoXCJlbnRpdGllc1wiLHthZnRlckluaXQ6ZnVuY3Rpb24oZil7ZnVuY3Rpb24gYihhKXtyZXR1cm4gaFthXX1mdW5jdGlvbiBjKGEpe3JldHVyblwiZm9yY2VcIiE9ZS5lbnRpdGllc19wcm9jZXNzTnVtZXJpY2FsJiZsW2FdP2xbYV06XCJcXHgyNiNcIithLmNoYXJDb2RlQXQoMCkrXCI7XCJ9dmFyIGU9Zi5jb25maWc7aWYoZj1cbihmPWYuZGF0YVByb2Nlc3NvcikmJmYuaHRtbEZpbHRlcil7dmFyIG09W107ITEhPT1lLmJhc2ljRW50aXRpZXMmJm0ucHVzaChcIm5ic3AsZ3QsbHQsYW1wXCIpO2UuZW50aXRpZXMmJihtLmxlbmd0aCYmbS5wdXNoKFwicXVvdCxpZXhjbCxjZW50LHBvdW5kLGN1cnJlbix5ZW4sYnJ2YmFyLHNlY3QsdW1sLGNvcHksb3JkZixsYXF1byxub3Qsc2h5LHJlZyxtYWNyLGRlZyxwbHVzbW4sc3VwMixzdXAzLGFjdXRlLG1pY3JvLHBhcmEsbWlkZG90LGNlZGlsLHN1cDEsb3JkbSxyYXF1byxmcmFjMTQsZnJhYzEyLGZyYWMzNCxpcXVlc3QsdGltZXMsZGl2aWRlLGZub2YsYnVsbCxoZWxsaXAscHJpbWUsUHJpbWUsb2xpbmUsZnJhc2wsd2VpZXJwLGltYWdlLHJlYWwsdHJhZGUsYWxlZnN5bSxsYXJyLHVhcnIscmFycixkYXJyLGhhcnIsY3JhcnIsbEFycix1QXJyLHJBcnIsZEFycixoQXJyLGZvcmFsbCxwYXJ0LGV4aXN0LGVtcHR5LG5hYmxhLGlzaW4sbm90aW4sbmkscHJvZCxzdW0sbWludXMsbG93YXN0LHJhZGljLHByb3AsaW5maW4sYW5nLGFuZCxvcixjYXAsY3VwLGludCx0aGVyZTQsc2ltLGNvbmcsYXN5bXAsbmUsZXF1aXYsbGUsZ2Usc3ViLHN1cCxuc3ViLHN1YmUsc3VwZSxvcGx1cyxvdGltZXMscGVycCxzZG90LGxjZWlsLHJjZWlsLGxmbG9vcixyZmxvb3IsbGFuZyxyYW5nLGxveixzcGFkZXMsY2x1YnMsaGVhcnRzLGRpYW1zLGNpcmMsdGlsZGUsZW5zcCxlbXNwLHRoaW5zcCx6d25qLHp3aixscm0scmxtLG5kYXNoLG1kYXNoLGxzcXVvLHJzcXVvLHNicXVvLGxkcXVvLHJkcXVvLGJkcXVvLGRhZ2dlcixEYWdnZXIscGVybWlsLGxzYXF1byxyc2FxdW8sZXVyb1wiKSxcbmUuZW50aXRpZXNfbGF0aW4mJm0ucHVzaChcIkFncmF2ZSxBYWN1dGUsQWNpcmMsQXRpbGRlLEF1bWwsQXJpbmcsQUVsaWcsQ2NlZGlsLEVncmF2ZSxFYWN1dGUsRWNpcmMsRXVtbCxJZ3JhdmUsSWFjdXRlLEljaXJjLEl1bWwsRVRILE50aWxkZSxPZ3JhdmUsT2FjdXRlLE9jaXJjLE90aWxkZSxPdW1sLE9zbGFzaCxVZ3JhdmUsVWFjdXRlLFVjaXJjLFV1bWwsWWFjdXRlLFRIT1JOLHN6bGlnLGFncmF2ZSxhYWN1dGUsYWNpcmMsYXRpbGRlLGF1bWwsYXJpbmcsYWVsaWcsY2NlZGlsLGVncmF2ZSxlYWN1dGUsZWNpcmMsZXVtbCxpZ3JhdmUsaWFjdXRlLGljaXJjLGl1bWwsZXRoLG50aWxkZSxvZ3JhdmUsb2FjdXRlLG9jaXJjLG90aWxkZSxvdW1sLG9zbGFzaCx1Z3JhdmUsdWFjdXRlLHVjaXJjLHV1bWwseWFjdXRlLHRob3JuLHl1bWwsT0VsaWcsb2VsaWcsU2Nhcm9uLHNjYXJvbixZdW1sXCIpLGUuZW50aXRpZXNfZ3JlZWsmJm0ucHVzaChcIkFscGhhLEJldGEsR2FtbWEsRGVsdGEsRXBzaWxvbixaZXRhLEV0YSxUaGV0YSxJb3RhLEthcHBhLExhbWJkYSxNdSxOdSxYaSxPbWljcm9uLFBpLFJobyxTaWdtYSxUYXUsVXBzaWxvbixQaGksQ2hpLFBzaSxPbWVnYSxhbHBoYSxiZXRhLGdhbW1hLGRlbHRhLGVwc2lsb24semV0YSxldGEsdGhldGEsaW90YSxrYXBwYSxsYW1iZGEsbXUsbnUseGksb21pY3JvbixwaSxyaG8sc2lnbWFmLHNpZ21hLHRhdSx1cHNpbG9uLHBoaSxjaGkscHNpLG9tZWdhLHRoZXRhc3ltLHVwc2loLHBpdlwiKSxcbmUuZW50aXRpZXNfYWRkaXRpb25hbCYmbS5wdXNoKGUuZW50aXRpZXNfYWRkaXRpb25hbCkpO3ZhciBsPWEobS5qb2luKFwiLFwiKSksZD1sLnJlZ2V4P1wiW1wiK2wucmVnZXgrXCJdXCI6XCJhXlwiO2RlbGV0ZSBsLnJlZ2V4O2UuZW50aXRpZXMmJmUuZW50aXRpZXNfcHJvY2Vzc051bWVyaWNhbCYmKGQ9XCJbXiAtfl18XCIrZCk7dmFyIGQ9bmV3IFJlZ0V4cChkLFwiZ1wiKSxoPWEoXCJuYnNwLGd0LGx0LGFtcCxzaHlcIiwhMCksaz1uZXcgUmVnRXhwKGgucmVnZXgsXCJnXCIpO2YuYWRkUnVsZXMoe3RleHQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVwbGFjZShrLGIpLnJlcGxhY2UoZCxjKX19LHthcHBseVRvQWxsOiEwLGV4Y2x1ZGVOZXN0ZWRFZGl0YWJsZTohMH0pfX19KX0oKSxDS0VESVRPUi5jb25maWcuYmFzaWNFbnRpdGllcz0hMCxDS0VESVRPUi5jb25maWcuZW50aXRpZXM9ITAsQ0tFRElUT1IuY29uZmlnLmVudGl0aWVzX2xhdGluPSEwLENLRURJVE9SLmNvbmZpZy5lbnRpdGllc19ncmVlaz0hMCxcbkNLRURJVE9SLmNvbmZpZy5lbnRpdGllc19hZGRpdGlvbmFsPVwiIzM5XCIsQ0tFRElUT1IucGx1Z2lucy5hZGQoXCJwb3B1cFwiKSxDS0VESVRPUi50b29scy5leHRlbmQoQ0tFRElUT1IuZWRpdG9yLnByb3RvdHlwZSx7cG9wdXA6ZnVuY3Rpb24oYSxmLGIsYyl7Zj1mfHxcIjgwJVwiO2I9Ynx8XCI3MCVcIjtcInN0cmluZ1wiPT10eXBlb2YgZiYmMTxmLmxlbmd0aCYmXCIlXCI9PWYuc3Vic3RyKGYubGVuZ3RoLTEsMSkmJihmPXBhcnNlSW50KHdpbmRvdy5zY3JlZW4ud2lkdGgqcGFyc2VJbnQoZiwxMCkvMTAwLDEwKSk7XCJzdHJpbmdcIj09dHlwZW9mIGImJjE8Yi5sZW5ndGgmJlwiJVwiPT1iLnN1YnN0cihiLmxlbmd0aC0xLDEpJiYoYj1wYXJzZUludCh3aW5kb3cuc2NyZWVuLmhlaWdodCpwYXJzZUludChiLDEwKS8xMDAsMTApKTs2NDA+ZiYmKGY9NjQwKTs0MjA+YiYmKGI9NDIwKTt2YXIgZT1wYXJzZUludCgod2luZG93LnNjcmVlbi5oZWlnaHQtYikvMiwxMCksbT1wYXJzZUludCgod2luZG93LnNjcmVlbi53aWR0aC1cbmYpLzIsMTApO2M9KGN8fFwibG9jYXRpb25cXHgzZG5vLG1lbnViYXJcXHgzZG5vLHRvb2xiYXJcXHgzZG5vLGRlcGVuZGVudFxceDNkeWVzLG1pbmltaXphYmxlXFx4M2Rubyxtb2RhbFxceDNkeWVzLGFsd2F5c1JhaXNlZFxceDNkeWVzLHJlc2l6YWJsZVxceDNkeWVzLHNjcm9sbGJhcnNcXHgzZHllc1wiKStcIix3aWR0aFxceDNkXCIrZitcIixoZWlnaHRcXHgzZFwiK2IrXCIsdG9wXFx4M2RcIitlK1wiLGxlZnRcXHgzZFwiK207dmFyIGw9d2luZG93Lm9wZW4oXCJcIixudWxsLGMsITApO2lmKCFsKXJldHVybiExO3RyeXstMT09bmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLmluZGV4T2YoXCIgY2hyb21lL1wiKSYmKGwubW92ZVRvKG0sZSksbC5yZXNpemVUbyhmLGIpKSxsLmZvY3VzKCksbC5sb2NhdGlvbi5ocmVmPWF9Y2F0Y2goZCl7d2luZG93Lm9wZW4oYSxudWxsLGMsITApfXJldHVybiEwfX0pLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhLGIpe3ZhciBjPVtdO2lmKGIpZm9yKHZhciBkIGluIGIpYy5wdXNoKGQrXG5cIlxceDNkXCIrZW5jb2RlVVJJQ29tcG9uZW50KGJbZF0pKTtlbHNlIHJldHVybiBhO3JldHVybiBhKygtMSE9YS5pbmRleE9mKFwiP1wiKT9cIlxceDI2XCI6XCI/XCIpK2Muam9pbihcIlxceDI2XCIpfWZ1bmN0aW9uIGYoYSl7YSs9XCJcIjtyZXR1cm4gYS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSthLnN1YnN0cigxKX1mdW5jdGlvbiBiKCl7dmFyIGI9dGhpcy5nZXREaWFsb2coKSxjPWIuZ2V0UGFyZW50RWRpdG9yKCk7Yy5fLmZpbGVicm93c2VyU2U9dGhpczt2YXIgZD1jLmNvbmZpZ1tcImZpbGVicm93c2VyXCIrZihiLmdldE5hbWUoKSkrXCJXaW5kb3dXaWR0aFwiXXx8Yy5jb25maWcuZmlsZWJyb3dzZXJXaW5kb3dXaWR0aHx8XCI4MCVcIixiPWMuY29uZmlnW1wiZmlsZWJyb3dzZXJcIitmKGIuZ2V0TmFtZSgpKStcIldpbmRvd0hlaWdodFwiXXx8Yy5jb25maWcuZmlsZWJyb3dzZXJXaW5kb3dIZWlnaHR8fFwiNzAlXCIsZT10aGlzLmZpbGVicm93c2VyLnBhcmFtc3x8e307ZS5DS0VkaXRvcj1jLm5hbWU7ZS5DS0VkaXRvckZ1bmNOdW09XG5jLl8uZmlsZWJyb3dzZXJGbjtlLmxhbmdDb2RlfHwoZS5sYW5nQ29kZT1jLmxhbmdDb2RlKTtlPWEodGhpcy5maWxlYnJvd3Nlci51cmwsZSk7Yy5wb3B1cChlLGQsYixjLmNvbmZpZy5maWxlYnJvd3NlcldpbmRvd0ZlYXR1cmVzfHxjLmNvbmZpZy5maWxlQnJvd3NlcldpbmRvd0ZlYXR1cmVzKX1mdW5jdGlvbiBjKCl7dmFyIGE9dGhpcy5nZXREaWFsb2coKTthLmdldFBhcmVudEVkaXRvcigpLl8uZmlsZWJyb3dzZXJTZT10aGlzO3JldHVybiBhLmdldENvbnRlbnRFbGVtZW50KHRoaXNbXCJmb3JcIl1bMF0sdGhpc1tcImZvclwiXVsxXSkuZ2V0SW5wdXRFbGVtZW50KCkuJC52YWx1ZSYmYS5nZXRDb250ZW50RWxlbWVudCh0aGlzW1wiZm9yXCJdWzBdLHRoaXNbXCJmb3JcIl1bMV0pLmdldEFjdGlvbigpPyEwOiExfWZ1bmN0aW9uIGUoYixjLGQpe3ZhciBlPWQucGFyYW1zfHx7fTtlLkNLRWRpdG9yPWIubmFtZTtlLkNLRWRpdG9yRnVuY051bT1iLl8uZmlsZWJyb3dzZXJGbjtlLmxhbmdDb2RlfHxcbihlLmxhbmdDb2RlPWIubGFuZ0NvZGUpO2MuYWN0aW9uPWEoZC51cmwsZSk7Yy5maWxlYnJvd3Nlcj1kfWZ1bmN0aW9uIG0oYSxkLGcsbCl7aWYobCYmbC5sZW5ndGgpZm9yKHZhciBxLHA9bC5sZW5ndGg7cC0tOylpZihxPWxbcF0sXCJoYm94XCIhPXEudHlwZSYmXCJ2Ym94XCIhPXEudHlwZSYmXCJmaWVsZHNldFwiIT1xLnR5cGV8fG0oYSxkLGcscS5jaGlsZHJlbikscS5maWxlYnJvd3NlcilpZihcInN0cmluZ1wiPT10eXBlb2YgcS5maWxlYnJvd3NlciYmKHEuZmlsZWJyb3dzZXI9e2FjdGlvbjpcImZpbGVCdXR0b25cIj09cS50eXBlP1wiUXVpY2tVcGxvYWRcIjpcIkJyb3dzZVwiLHRhcmdldDpxLmZpbGVicm93c2VyfSksXCJCcm93c2VcIj09cS5maWxlYnJvd3Nlci5hY3Rpb24pe3ZhciB0PXEuZmlsZWJyb3dzZXIudXJsO3ZvaWQgMD09PXQmJih0PWEuY29uZmlnW1wiZmlsZWJyb3dzZXJcIitmKGQpK1wiQnJvd3NlVXJsXCJdLHZvaWQgMD09PXQmJih0PWEuY29uZmlnLmZpbGVicm93c2VyQnJvd3NlVXJsKSk7XG50JiYocS5vbkNsaWNrPWIscS5maWxlYnJvd3Nlci51cmw9dCxxLmhpZGRlbj0hMSl9ZWxzZSBpZihcIlF1aWNrVXBsb2FkXCI9PXEuZmlsZWJyb3dzZXIuYWN0aW9uJiZxW1wiZm9yXCJdJiYodD1xLmZpbGVicm93c2VyLnVybCx2b2lkIDA9PT10JiYodD1hLmNvbmZpZ1tcImZpbGVicm93c2VyXCIrZihkKStcIlVwbG9hZFVybFwiXSx2b2lkIDA9PT10JiYodD1hLmNvbmZpZy5maWxlYnJvd3NlclVwbG9hZFVybCkpLHQpKXt2YXIgdj1xLm9uQ2xpY2s7cS5vbkNsaWNrPWZ1bmN0aW9uKGEpe3ZhciBiPWEuc2VuZGVyO2lmKHYmJiExPT09di5jYWxsKGIsYSkpcmV0dXJuITE7aWYoYy5jYWxsKGIsYSkpe2E9Yi5nZXREaWFsb2coKS5nZXRDb250ZW50RWxlbWVudCh0aGlzW1wiZm9yXCJdWzBdLHRoaXNbXCJmb3JcIl1bMV0pLmdldElucHV0RWxlbWVudCgpO2lmKGI9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KGEuJC5mb3JtKSkoYT1iLiQuZWxlbWVudHMuY2tDc3JmVG9rZW4pP2E9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KGEpOlxuKGE9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KFwiaW5wdXRcIiksYS5zZXRBdHRyaWJ1dGVzKHtuYW1lOlwiY2tDc3JmVG9rZW5cIix0eXBlOlwiaGlkZGVuXCJ9KSxiLmFwcGVuZChhKSksYS5zZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiLENLRURJVE9SLnRvb2xzLmdldENzcmZUb2tlbigpKTtyZXR1cm4hMH1yZXR1cm4hMX07cS5maWxlYnJvd3Nlci51cmw9dDtxLmhpZGRlbj0hMTtlKGEsZy5nZXRDb250ZW50cyhxW1wiZm9yXCJdWzBdKS5nZXQocVtcImZvclwiXVsxXSkscS5maWxlYnJvd3Nlcil9fWZ1bmN0aW9uIGwoYSxiLGMpe2lmKC0xIT09Yy5pbmRleE9mKFwiO1wiKSl7Yz1jLnNwbGl0KFwiO1wiKTtmb3IodmFyIGQ9MDtkPGMubGVuZ3RoO2QrKylpZihsKGEsYixjW2RdKSlyZXR1cm4hMDtyZXR1cm4hMX1yZXR1cm4oYT1hLmdldENvbnRlbnRzKGIpLmdldChjKS5maWxlYnJvd3NlcikmJmEudXJsfWZ1bmN0aW9uIGQoYSxiKXt2YXIgYz10aGlzLl8uZmlsZWJyb3dzZXJTZS5nZXREaWFsb2coKSxkPXRoaXMuXy5maWxlYnJvd3NlclNlW1wiZm9yXCJdLFxuZT10aGlzLl8uZmlsZWJyb3dzZXJTZS5maWxlYnJvd3Nlci5vblNlbGVjdDtkJiZjLmdldENvbnRlbnRFbGVtZW50KGRbMF0sZFsxXSkucmVzZXQoKTtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBifHwhMSE9PWIuY2FsbCh0aGlzLl8uZmlsZWJyb3dzZXJTZSkpaWYoIWV8fCExIT09ZS5jYWxsKHRoaXMuXy5maWxlYnJvd3NlclNlLGEsYikpaWYoXCJzdHJpbmdcIj09dHlwZW9mIGImJmImJmFsZXJ0KGIpLGEmJihkPXRoaXMuXy5maWxlYnJvd3NlclNlLGM9ZC5nZXREaWFsb2coKSxkPWQuZmlsZWJyb3dzZXIudGFyZ2V0fHxudWxsKSlpZihkPWQuc3BsaXQoXCI6XCIpLGU9Yy5nZXRDb250ZW50RWxlbWVudChkWzBdLGRbMV0pKWUuc2V0VmFsdWUoYSksYy5zZWxlY3RQYWdlKGRbMF0pfUNLRURJVE9SLnBsdWdpbnMuYWRkKFwiZmlsZWJyb3dzZXJcIix7cmVxdWlyZXM6XCJwb3B1cFwiLGluaXQ6ZnVuY3Rpb24oYSl7YS5fLmZpbGVicm93c2VyRm49Q0tFRElUT1IudG9vbHMuYWRkRnVuY3Rpb24oZCxhKTtcbmEub24oXCJkZXN0cm95XCIsZnVuY3Rpb24oKXtDS0VESVRPUi50b29scy5yZW1vdmVGdW5jdGlvbih0aGlzLl8uZmlsZWJyb3dzZXJGbil9KX19KTtDS0VESVRPUi5vbihcImRpYWxvZ0RlZmluaXRpb25cIixmdW5jdGlvbihhKXtpZihhLmVkaXRvci5wbHVnaW5zLmZpbGVicm93c2VyKWZvcih2YXIgYj1hLmRhdGEuZGVmaW5pdGlvbixjLGQ9MDtkPGIuY29udGVudHMubGVuZ3RoOysrZClpZihjPWIuY29udGVudHNbZF0pbShhLmVkaXRvcixhLmRhdGEubmFtZSxiLGMuZWxlbWVudHMpLGMuaGlkZGVuJiZjLmZpbGVicm93c2VyJiYoYy5oaWRkZW49IWwoYixjLmlkLGMuZmlsZWJyb3dzZXIpKX0pfSgpLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhKXt2YXIgZT1hLmNvbmZpZyxtPWEuZmlyZShcInVpU3BhY2VcIix7c3BhY2U6XCJ0b3BcIixodG1sOlwiXCJ9KS5odG1sLGw9ZnVuY3Rpb24oKXtmdW5jdGlvbiBkKGEsYyxlKXtoLnNldFN0eWxlKGMsYihlKSk7aC5zZXRTdHlsZShcInBvc2l0aW9uXCIsYSl9ZnVuY3Rpb24gZyhhKXt2YXIgYj1cbm0uZ2V0RG9jdW1lbnRQb3NpdGlvbigpO3N3aXRjaChhKXtjYXNlIFwidG9wXCI6ZChcImFic29sdXRlXCIsXCJ0b3BcIixiLnktQi16KTticmVhaztjYXNlIFwicGluXCI6ZChcImZpeGVkXCIsXCJ0b3BcIix5KTticmVhaztjYXNlIFwiYm90dG9tXCI6ZChcImFic29sdXRlXCIsXCJ0b3BcIixiLnkrKHIuaGVpZ2h0fHxyLmJvdHRvbS1yLnRvcCkreil9az1hfXZhciBrLG0sdixyLHUsQix4LHc9ZS5mbG9hdFNwYWNlRG9ja2VkT2Zmc2V0WHx8MCx6PWUuZmxvYXRTcGFjZURvY2tlZE9mZnNldFl8fDAsRD1lLmZsb2F0U3BhY2VQaW5uZWRPZmZzZXRYfHwwLHk9ZS5mbG9hdFNwYWNlUGlubmVkT2Zmc2V0WXx8MDtyZXR1cm4gZnVuY3Rpb24oZCl7aWYobT1hLmVkaXRhYmxlKCkpe3ZhciBuPWQmJlwiZm9jdXNcIj09ZC5uYW1lO24mJmguc2hvdygpO2EuZmlyZShcImZsb2F0aW5nU3BhY2VMYXlvdXRcIix7c2hvdzpufSk7aC5yZW1vdmVTdHlsZShcImxlZnRcIik7aC5yZW1vdmVTdHlsZShcInJpZ2h0XCIpO3Y9aC5nZXRDbGllbnRSZWN0KCk7XG5yPW0uZ2V0Q2xpZW50UmVjdCgpO3U9Zi5nZXRWaWV3UGFuZVNpemUoKTtCPXYuaGVpZ2h0O3g9XCJwYWdlWE9mZnNldFwiaW4gZi4kP2YuJC5wYWdlWE9mZnNldDpDS0VESVRPUi5kb2N1bWVudC4kLmRvY3VtZW50RWxlbWVudC5zY3JvbGxMZWZ0O2s/KEIrejw9ci50b3A/ZyhcInRvcFwiKTpCK3o+dS5oZWlnaHQtci5ib3R0b20/ZyhcInBpblwiKTpnKFwiYm90dG9tXCIpLGQ9dS53aWR0aC8yLGQ9ZS5mbG9hdFNwYWNlUHJlZmVyUmlnaHQ/XCJyaWdodFwiOjA8ci5sZWZ0JiZyLnJpZ2h0PHUud2lkdGgmJnIud2lkdGg+di53aWR0aD9cInJ0bFwiPT1lLmNvbnRlbnRzTGFuZ0RpcmVjdGlvbj9cInJpZ2h0XCI6XCJsZWZ0XCI6ZC1yLmxlZnQ+ci5yaWdodC1kP1wibGVmdFwiOlwicmlnaHRcIix2LndpZHRoPnUud2lkdGg/KGQ9XCJsZWZ0XCIsbj0wKToobj1cImxlZnRcIj09ZD8wPHIubGVmdD9yLmxlZnQ6MDpyLnJpZ2h0PHUud2lkdGg/dS53aWR0aC1yLnJpZ2h0OjAsbit2LndpZHRoPnUud2lkdGgmJihkPVwibGVmdFwiPT1kP1xuXCJyaWdodFwiOlwibGVmdFwiLG49MCkpLGguc2V0U3R5bGUoZCxiKChcInBpblwiPT1rP0Q6dykrbisoXCJwaW5cIj09az8wOlwibGVmdFwiPT1kP3g6LXgpKSkpOihrPVwicGluXCIsZyhcInBpblwiKSxsKGQpKX19fSgpO2lmKG0pe3ZhciBkPW5ldyBDS0VESVRPUi50ZW1wbGF0ZSgnXFx4M2NkaXYgaWRcXHgzZFwiY2tlX3tuYW1lfVwiIGNsYXNzXFx4M2RcImNrZSB7aWR9IGNrZV9yZXNldF9hbGwgY2tlX2Nocm9tZSBja2VfZWRpdG9yX3tuYW1lfSBja2VfZmxvYXQgY2tlX3tsYW5nRGlyfSAnK0NLRURJVE9SLmVudi5jc3NDbGFzcysnXCIgZGlyXFx4M2RcIntsYW5nRGlyfVwiIHRpdGxlXFx4M2RcIicrKENLRURJVE9SLmVudi5nZWNrbz9cIiBcIjpcIlwiKSsnXCIgbGFuZ1xceDNkXCJ7bGFuZ0NvZGV9XCIgcm9sZVxceDNkXCJhcHBsaWNhdGlvblwiIHN0eWxlXFx4M2RcIntzdHlsZX1cIicrKGEudGl0bGU/JyBhcmlhLWxhYmVsbGVkYnlcXHgzZFwiY2tlX3tuYW1lfV9hcmlhbGJsXCInOlwiIFwiKStcIlxceDNlXCIrKGEudGl0bGU/J1xceDNjc3BhbiBpZFxceDNkXCJja2Vfe25hbWV9X2FyaWFsYmxcIiBjbGFzc1xceDNkXCJja2Vfdm9pY2VfbGFiZWxcIlxceDNle3ZvaWNlTGFiZWx9XFx4M2Mvc3BhblxceDNlJzpcblwiIFwiKSsnXFx4M2NkaXYgY2xhc3NcXHgzZFwiY2tlX2lubmVyXCJcXHgzZVxceDNjZGl2IGlkXFx4M2RcInt0b3BJZH1cIiBjbGFzc1xceDNkXCJja2VfdG9wXCIgcm9sZVxceDNkXCJwcmVzZW50YXRpb25cIlxceDNle2NvbnRlbnR9XFx4M2MvZGl2XFx4M2VcXHgzYy9kaXZcXHgzZVxceDNjL2RpdlxceDNlJyksaD1DS0VESVRPUi5kb2N1bWVudC5nZXRCb2R5KCkuYXBwZW5kKENLRURJVE9SLmRvbS5lbGVtZW50LmNyZWF0ZUZyb21IdG1sKGQub3V0cHV0KHtjb250ZW50Om0saWQ6YS5pZCxsYW5nRGlyOmEubGFuZy5kaXIsbGFuZ0NvZGU6YS5sYW5nQ29kZSxuYW1lOmEubmFtZSxzdHlsZTpcImRpc3BsYXk6bm9uZTt6LWluZGV4OlwiKyhlLmJhc2VGbG9hdFpJbmRleC0xKSx0b3BJZDphLnVpLnNwYWNlSWQoXCJ0b3BcIiksdm9pY2VMYWJlbDphLnRpdGxlfSkpKSxrPUNLRURJVE9SLnRvb2xzLmV2ZW50c0J1ZmZlcig1MDAsbCksZz1DS0VESVRPUi50b29scy5ldmVudHNCdWZmZXIoMTAwLGwpO2gudW5zZWxlY3RhYmxlKCk7aC5vbihcIm1vdXNlZG93blwiLFxuZnVuY3Rpb24oYSl7YT1hLmRhdGE7YS5nZXRUYXJnZXQoKS5oYXNBc2NlbmRhbnQoXCJhXCIsMSl8fGEucHJldmVudERlZmF1bHQoKX0pO2Eub24oXCJmb2N1c1wiLGZ1bmN0aW9uKGIpe2woYik7YS5vbihcImNoYW5nZVwiLGsuaW5wdXQpO2Yub24oXCJzY3JvbGxcIixnLmlucHV0KTtmLm9uKFwicmVzaXplXCIsZy5pbnB1dCl9KTthLm9uKFwiYmx1clwiLGZ1bmN0aW9uKCl7aC5oaWRlKCk7YS5yZW1vdmVMaXN0ZW5lcihcImNoYW5nZVwiLGsuaW5wdXQpO2YucmVtb3ZlTGlzdGVuZXIoXCJzY3JvbGxcIixnLmlucHV0KTtmLnJlbW92ZUxpc3RlbmVyKFwicmVzaXplXCIsZy5pbnB1dCl9KTthLm9uKFwiZGVzdHJveVwiLGZ1bmN0aW9uKCl7Zi5yZW1vdmVMaXN0ZW5lcihcInNjcm9sbFwiLGcuaW5wdXQpO2YucmVtb3ZlTGlzdGVuZXIoXCJyZXNpemVcIixnLmlucHV0KTtoLmNsZWFyQ3VzdG9tRGF0YSgpO2gucmVtb3ZlKCl9KTthLmZvY3VzTWFuYWdlci5oYXNGb2N1cyYmaC5zaG93KCk7YS5mb2N1c01hbmFnZXIuYWRkKGgsXG4xKX19dmFyIGY9Q0tFRElUT1IuZG9jdW1lbnQuZ2V0V2luZG93KCksYj1DS0VESVRPUi50b29scy5jc3NMZW5ndGg7Q0tFRElUT1IucGx1Z2lucy5hZGQoXCJmbG9hdGluZ3NwYWNlXCIse2luaXQ6ZnVuY3Rpb24oYil7Yi5vbihcImxvYWRlZFwiLGZ1bmN0aW9uKCl7YSh0aGlzKX0sbnVsbCxudWxsLDIwKX19KX0oKSxDS0VESVRPUi5wbHVnaW5zLmFkZChcImxpc3RibG9ja1wiLHtyZXF1aXJlczpcInBhbmVsXCIsb25Mb2FkOmZ1bmN0aW9uKCl7dmFyIGE9Q0tFRElUT1IuYWRkVGVtcGxhdGUoXCJwYW5lbC1saXN0XCIsJ1xceDNjdWwgcm9sZVxceDNkXCJwcmVzZW50YXRpb25cIiBjbGFzc1xceDNkXCJja2VfcGFuZWxfbGlzdFwiXFx4M2V7aXRlbXN9XFx4M2MvdWxcXHgzZScpLGY9Q0tFRElUT1IuYWRkVGVtcGxhdGUoXCJwYW5lbC1saXN0LWl0ZW1cIiwnXFx4M2NsaSBpZFxceDNkXCJ7aWR9XCIgY2xhc3NcXHgzZFwiY2tlX3BhbmVsX2xpc3RJdGVtXCIgcm9sZVxceDNkcHJlc2VudGF0aW9uXFx4M2VcXHgzY2EgaWRcXHgzZFwie2lkfV9vcHRpb25cIiBfY2tlX2ZvY3VzXFx4M2QxIGhpZGVmb2N1c1xceDNkdHJ1ZSB0aXRsZVxceDNkXCJ7dGl0bGV9XCIgaHJlZlxceDNkXCJqYXZhc2NyaXB0OnZvaWQoXFwne3ZhbH1cXCcpXCIgIHtvbmNsaWNrfVxceDNkXCJDS0VESVRPUi50b29scy5jYWxsRnVuY3Rpb24oe2NsaWNrRm59LFxcJ3t2YWx9XFwnKTsgcmV0dXJuIGZhbHNlO1wiIHJvbGVcXHgzZFwib3B0aW9uXCJcXHgzZXt0ZXh0fVxceDNjL2FcXHgzZVxceDNjL2xpXFx4M2UnKSxcbmI9Q0tFRElUT1IuYWRkVGVtcGxhdGUoXCJwYW5lbC1saXN0LWdyb3VwXCIsJ1xceDNjaDEgaWRcXHgzZFwie2lkfVwiIGNsYXNzXFx4M2RcImNrZV9wYW5lbF9ncm91cHRpdGxlXCIgcm9sZVxceDNkXCJwcmVzZW50YXRpb25cIiBcXHgzZXtsYWJlbH1cXHgzYy9oMVxceDNlJyksYz0vXFwnL2c7Q0tFRElUT1IudWkucGFuZWwucHJvdG90eXBlLmFkZExpc3RCbG9jaz1mdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLmFkZEJsb2NrKGEsbmV3IENLRURJVE9SLnVpLmxpc3RCbG9jayh0aGlzLmdldEhvbGRlckVsZW1lbnQoKSxiKSl9O0NLRURJVE9SLnVpLmxpc3RCbG9jaz1DS0VESVRPUi50b29scy5jcmVhdGVDbGFzcyh7YmFzZTpDS0VESVRPUi51aS5wYW5lbC5ibG9jaywkOmZ1bmN0aW9uKGEsYil7Yj1ifHx7fTt2YXIgYz1iLmF0dHJpYnV0ZXN8fChiLmF0dHJpYnV0ZXM9e30pOyh0aGlzLm11bHRpU2VsZWN0PSEhYi5tdWx0aVNlbGVjdCkmJihjW1wiYXJpYS1tdWx0aXNlbGVjdGFibGVcIl09ITApOyFjLnJvbGUmJlxuKGMucm9sZT1cImxpc3Rib3hcIik7dGhpcy5iYXNlLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt0aGlzLmVsZW1lbnQuc2V0QXR0cmlidXRlKFwicm9sZVwiLGMucm9sZSk7Yz10aGlzLmtleXM7Y1s0MF09XCJuZXh0XCI7Y1s5XT1cIm5leHRcIjtjWzM4XT1cInByZXZcIjtjW0NLRURJVE9SLlNISUZUKzldPVwicHJldlwiO2NbMzJdPUNLRURJVE9SLmVudi5pZT9cIm1vdXNldXBcIjpcImNsaWNrXCI7Q0tFRElUT1IuZW52LmllJiYoY1sxM109XCJtb3VzZXVwXCIpO3RoaXMuXy5wZW5kaW5nSHRtbD1bXTt0aGlzLl8ucGVuZGluZ0xpc3Q9W107dGhpcy5fLml0ZW1zPXt9O3RoaXMuXy5ncm91cHM9e319LF86e2Nsb3NlOmZ1bmN0aW9uKCl7aWYodGhpcy5fLnN0YXJ0ZWQpe3ZhciBiPWEub3V0cHV0KHtpdGVtczp0aGlzLl8ucGVuZGluZ0xpc3Quam9pbihcIlwiKX0pO3RoaXMuXy5wZW5kaW5nTGlzdD1bXTt0aGlzLl8ucGVuZGluZ0h0bWwucHVzaChiKTtkZWxldGUgdGhpcy5fLnN0YXJ0ZWR9fSxnZXRDbGljazpmdW5jdGlvbigpe3RoaXMuXy5jbGlja3x8XG4odGhpcy5fLmNsaWNrPUNLRURJVE9SLnRvb2xzLmFkZEZ1bmN0aW9uKGZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMudG9nZ2xlKGEpO2lmKHRoaXMub25DbGljayl0aGlzLm9uQ2xpY2soYSxiKX0sdGhpcykpO3JldHVybiB0aGlzLl8uY2xpY2t9fSxwcm90bzp7YWRkOmZ1bmN0aW9uKGEsYixsKXt2YXIgZD1DS0VESVRPUi50b29scy5nZXROZXh0SWQoKTt0aGlzLl8uc3RhcnRlZHx8KHRoaXMuXy5zdGFydGVkPTEsdGhpcy5fLnNpemU9dGhpcy5fLnNpemV8fDApO3RoaXMuXy5pdGVtc1thXT1kO3ZhciBoO2g9Q0tFRElUT1IudG9vbHMuaHRtbEVuY29kZUF0dHIoYSkucmVwbGFjZShjLFwiXFxcXCdcIik7YT17aWQ6ZCx2YWw6aCxvbmNsaWNrOkNLRURJVE9SLmVudi5pZT8nb25jbGlja1xceDNkXCJyZXR1cm4gZmFsc2U7XCIgb25tb3VzZXVwJzpcIm9uY2xpY2tcIixjbGlja0ZuOnRoaXMuXy5nZXRDbGljaygpLHRpdGxlOkNLRURJVE9SLnRvb2xzLmh0bWxFbmNvZGVBdHRyKGx8fGEpLHRleHQ6Ynx8YX07XG50aGlzLl8ucGVuZGluZ0xpc3QucHVzaChmLm91dHB1dChhKSl9LHN0YXJ0R3JvdXA6ZnVuY3Rpb24oYSl7dGhpcy5fLmNsb3NlKCk7dmFyIGM9Q0tFRElUT1IudG9vbHMuZ2V0TmV4dElkKCk7dGhpcy5fLmdyb3Vwc1thXT1jO3RoaXMuXy5wZW5kaW5nSHRtbC5wdXNoKGIub3V0cHV0KHtpZDpjLGxhYmVsOmF9KSl9LGNvbW1pdDpmdW5jdGlvbigpe3RoaXMuXy5jbG9zZSgpO3RoaXMuZWxlbWVudC5hcHBlbmRIdG1sKHRoaXMuXy5wZW5kaW5nSHRtbC5qb2luKFwiXCIpKTtkZWxldGUgdGhpcy5fLnNpemU7dGhpcy5fLnBlbmRpbmdIdG1sPVtdfSx0b2dnbGU6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5pc01hcmtlZChhKTtiP3RoaXMudW5tYXJrKGEpOnRoaXMubWFyayhhKTtyZXR1cm4hYn0saGlkZUdyb3VwOmZ1bmN0aW9uKGEpe3ZhciBiPShhPXRoaXMuZWxlbWVudC5nZXREb2N1bWVudCgpLmdldEJ5SWQodGhpcy5fLmdyb3Vwc1thXSkpJiZhLmdldE5leHQoKTthJiYoYS5zZXRTdHlsZShcImRpc3BsYXlcIixcblwibm9uZVwiKSxiJiZcInVsXCI9PWIuZ2V0TmFtZSgpJiZiLnNldFN0eWxlKFwiZGlzcGxheVwiLFwibm9uZVwiKSl9LGhpZGVJdGVtOmZ1bmN0aW9uKGEpe3RoaXMuZWxlbWVudC5nZXREb2N1bWVudCgpLmdldEJ5SWQodGhpcy5fLml0ZW1zW2FdKS5zZXRTdHlsZShcImRpc3BsYXlcIixcIm5vbmVcIil9LHNob3dBbGw6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLl8uaXRlbXMsYj10aGlzLl8uZ3JvdXBzLGM9dGhpcy5lbGVtZW50LmdldERvY3VtZW50KCksZDtmb3IoZCBpbiBhKWMuZ2V0QnlJZChhW2RdKS5zZXRTdHlsZShcImRpc3BsYXlcIixcIlwiKTtmb3IodmFyIGYgaW4gYilhPWMuZ2V0QnlJZChiW2ZdKSxkPWEuZ2V0TmV4dCgpLGEuc2V0U3R5bGUoXCJkaXNwbGF5XCIsXCJcIiksZCYmXCJ1bFwiPT1kLmdldE5hbWUoKSYmZC5zZXRTdHlsZShcImRpc3BsYXlcIixcIlwiKX0sbWFyazpmdW5jdGlvbihhKXt0aGlzLm11bHRpU2VsZWN0fHx0aGlzLnVubWFya0FsbCgpO2E9dGhpcy5fLml0ZW1zW2FdO3ZhciBiPXRoaXMuZWxlbWVudC5nZXREb2N1bWVudCgpLmdldEJ5SWQoYSk7XG5iLmFkZENsYXNzKFwiY2tlX3NlbGVjdGVkXCIpO3RoaXMuZWxlbWVudC5nZXREb2N1bWVudCgpLmdldEJ5SWQoYStcIl9vcHRpb25cIikuc2V0QXR0cmlidXRlKFwiYXJpYS1zZWxlY3RlZFwiLCEwKTt0aGlzLm9uTWFyayYmdGhpcy5vbk1hcmsoYil9LHVubWFyazpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmVsZW1lbnQuZ2V0RG9jdW1lbnQoKTthPXRoaXMuXy5pdGVtc1thXTt2YXIgYz1iLmdldEJ5SWQoYSk7Yy5yZW1vdmVDbGFzcyhcImNrZV9zZWxlY3RlZFwiKTtiLmdldEJ5SWQoYStcIl9vcHRpb25cIikucmVtb3ZlQXR0cmlidXRlKFwiYXJpYS1zZWxlY3RlZFwiKTt0aGlzLm9uVW5tYXJrJiZ0aGlzLm9uVW5tYXJrKGMpfSx1bm1hcmtBbGw6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLl8uaXRlbXMsYj10aGlzLmVsZW1lbnQuZ2V0RG9jdW1lbnQoKSxjO2ZvcihjIGluIGEpe3ZhciBkPWFbY107Yi5nZXRCeUlkKGQpLnJlbW92ZUNsYXNzKFwiY2tlX3NlbGVjdGVkXCIpO2IuZ2V0QnlJZChkK1wiX29wdGlvblwiKS5yZW1vdmVBdHRyaWJ1dGUoXCJhcmlhLXNlbGVjdGVkXCIpfXRoaXMub25Vbm1hcmsmJlxudGhpcy5vblVubWFyaygpfSxpc01hcmtlZDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5lbGVtZW50LmdldERvY3VtZW50KCkuZ2V0QnlJZCh0aGlzLl8uaXRlbXNbYV0pLmhhc0NsYXNzKFwiY2tlX3NlbGVjdGVkXCIpfSxmb2N1czpmdW5jdGlvbihhKXt0aGlzLl8uZm9jdXNJbmRleD0tMTt2YXIgYj10aGlzLmVsZW1lbnQuZ2V0RWxlbWVudHNCeVRhZyhcImFcIiksYyxkPS0xO2lmKGEpZm9yKGM9dGhpcy5lbGVtZW50LmdldERvY3VtZW50KCkuZ2V0QnlJZCh0aGlzLl8uaXRlbXNbYV0pLmdldEZpcnN0KCk7YT1iLmdldEl0ZW0oKytkKTspe2lmKGEuZXF1YWxzKGMpKXt0aGlzLl8uZm9jdXNJbmRleD1kO2JyZWFrfX1lbHNlIHRoaXMuZWxlbWVudC5mb2N1cygpO2MmJnNldFRpbWVvdXQoZnVuY3Rpb24oKXtjLmZvY3VzKCl9LDApfX19KX19KSxmdW5jdGlvbigpe3ZhciBhPSdcXHgzY2EgaWRcXHgzZFwie2lkfVwiIGNsYXNzXFx4M2RcImNrZV9idXR0b24gY2tlX2J1dHRvbl9fe25hbWV9IGNrZV9idXR0b25fe3N0YXRlfSB7Y2xzfVwiJytcbihDS0VESVRPUi5lbnYuZ2Vja28mJiFDS0VESVRPUi5lbnYuaGM/XCJcIjpcIiBocmVmXFx4M2RcXFwiamF2YXNjcmlwdDp2b2lkKCd7dGl0bGVKc30nKVxcXCJcIikrJyB0aXRsZVxceDNkXCJ7dGl0bGV9XCIgdGFiaW5kZXhcXHgzZFwiLTFcIiBoaWRlZm9jdXNcXHgzZFwidHJ1ZVwiIHJvbGVcXHgzZFwiYnV0dG9uXCIgYXJpYS1sYWJlbGxlZGJ5XFx4M2RcIntpZH1fbGFiZWxcIiBhcmlhLWRlc2NyaWJlZGJ5XFx4M2RcIntpZH1fZGVzY3JpcHRpb25cIiBhcmlhLWhhc3BvcHVwXFx4M2RcIntoYXNBcnJvd31cIiBhcmlhLWRpc2FibGVkXFx4M2RcInthcmlhRGlzYWJsZWR9XCInO0NLRURJVE9SLmVudi5nZWNrbyYmQ0tFRElUT1IuZW52Lm1hYyYmKGErPScgb25rZXlwcmVzc1xceDNkXCJyZXR1cm4gZmFsc2U7XCInKTtDS0VESVRPUi5lbnYuZ2Vja28mJihhKz0nIG9uYmx1clxceDNkXCJ0aGlzLnN0eWxlLmNzc1RleHQgXFx4M2QgdGhpcy5zdHlsZS5jc3NUZXh0O1wiJyk7dmFyIGE9YSsoJyBvbmtleWRvd25cXHgzZFwicmV0dXJuIENLRURJVE9SLnRvb2xzLmNhbGxGdW5jdGlvbih7a2V5ZG93bkZufSxldmVudCk7XCIgb25mb2N1c1xceDNkXCJyZXR1cm4gQ0tFRElUT1IudG9vbHMuY2FsbEZ1bmN0aW9uKHtmb2N1c0ZufSxldmVudCk7XCIgJytcbihDS0VESVRPUi5lbnYuaWU/J29uY2xpY2tcXHgzZFwicmV0dXJuIGZhbHNlO1wiIG9ubW91c2V1cCc6XCJvbmNsaWNrXCIpKydcXHgzZFwiQ0tFRElUT1IudG9vbHMuY2FsbEZ1bmN0aW9uKHtjbGlja0ZufSx0aGlzKTtyZXR1cm4gZmFsc2U7XCJcXHgzZVxceDNjc3BhbiBjbGFzc1xceDNkXCJja2VfYnV0dG9uX2ljb24gY2tlX2J1dHRvbl9fe2ljb25OYW1lfV9pY29uXCIgc3R5bGVcXHgzZFwie3N0eWxlfVwiJyksYT1hKydcXHgzZVxceDI2bmJzcDtcXHgzYy9zcGFuXFx4M2VcXHgzY3NwYW4gaWRcXHgzZFwie2lkfV9sYWJlbFwiIGNsYXNzXFx4M2RcImNrZV9idXR0b25fbGFiZWwgY2tlX2J1dHRvbl9fe25hbWV9X2xhYmVsXCIgYXJpYS1oaWRkZW5cXHgzZFwiZmFsc2VcIlxceDNle2xhYmVsfVxceDNjL3NwYW5cXHgzZVxceDNjc3BhbiBpZFxceDNkXCJ7aWR9X2Rlc2NyaXB0aW9uXCIgY2xhc3NcXHgzZFwiY2tlX2J1dHRvbl9sYWJlbFwiIGFyaWEtaGlkZGVuXFx4M2RcImZhbHNlXCJcXHgzZXthcmlhU2hvcnRjdXR9XFx4M2Mvc3BhblxceDNle2Fycm93SHRtbH1cXHgzYy9hXFx4M2UnLFxuZj1DS0VESVRPUi5hZGRUZW1wbGF0ZShcImJ1dHRvbkFycm93XCIsJ1xceDNjc3BhbiBjbGFzc1xceDNkXCJja2VfYnV0dG9uX2Fycm93XCJcXHgzZScrKENLRURJVE9SLmVudi5oYz9cIlxceDI2Izk2NjA7XCI6XCJcIikrXCJcXHgzYy9zcGFuXFx4M2VcIiksYj1DS0VESVRPUi5hZGRUZW1wbGF0ZShcImJ1dHRvblwiLGEpO0NLRURJVE9SLnBsdWdpbnMuYWRkKFwiYnV0dG9uXCIse2JlZm9yZUluaXQ6ZnVuY3Rpb24oYSl7YS51aS5hZGRIYW5kbGVyKENLRURJVE9SLlVJX0JVVFRPTixDS0VESVRPUi51aS5idXR0b24uaGFuZGxlcil9fSk7Q0tFRElUT1IuVUlfQlVUVE9OPVwiYnV0dG9uXCI7Q0tFRElUT1IudWkuYnV0dG9uPWZ1bmN0aW9uKGEpe0NLRURJVE9SLnRvb2xzLmV4dGVuZCh0aGlzLGEse3RpdGxlOmEubGFiZWwsY2xpY2s6YS5jbGlja3x8ZnVuY3Rpb24oYil7Yi5leGVjQ29tbWFuZChhLmNvbW1hbmQpfX0pO3RoaXMuXz17fX07Q0tFRElUT1IudWkuYnV0dG9uLmhhbmRsZXI9e2NyZWF0ZTpmdW5jdGlvbihhKXtyZXR1cm4gbmV3IENLRURJVE9SLnVpLmJ1dHRvbihhKX19O1xuQ0tFRElUT1IudWkuYnV0dG9uLnByb3RvdHlwZT17cmVuZGVyOmZ1bmN0aW9uKGEsZSl7ZnVuY3Rpb24gbSgpe3ZhciBiPWEubW9kZTtiJiYoYj10aGlzLm1vZGVzW2JdP3ZvaWQgMCE9PXVbYl0/dVtiXTpDS0VESVRPUi5UUklTVEFURV9PRkY6Q0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUQsYj1hLnJlYWRPbmx5JiYhdGhpcy5yZWFkT25seT9DS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRDpiLHRoaXMuc2V0U3RhdGUoYiksdGhpcy5yZWZyZXNoJiZ0aGlzLnJlZnJlc2goKSl9dmFyIGw9Q0tFRElUT1IuZW52LGQ9dGhpcy5fLmlkPUNLRURJVE9SLnRvb2xzLmdldE5leHRJZCgpLGg9XCJcIixrPXRoaXMuY29tbWFuZCxnLG4scTt0aGlzLl8uZWRpdG9yPWE7dmFyIHA9e2lkOmQsYnV0dG9uOnRoaXMsZWRpdG9yOmEsZm9jdXM6ZnVuY3Rpb24oKXtDS0VESVRPUi5kb2N1bWVudC5nZXRCeUlkKGQpLmZvY3VzKCl9LGV4ZWN1dGU6ZnVuY3Rpb24oKXt0aGlzLmJ1dHRvbi5jbGljayhhKX0sYXR0YWNoOmZ1bmN0aW9uKGEpe3RoaXMuYnV0dG9uLmF0dGFjaChhKX19LFxudD1DS0VESVRPUi50b29scy5hZGRGdW5jdGlvbihmdW5jdGlvbihhKXtpZihwLm9ua2V5KXJldHVybiBhPW5ldyBDS0VESVRPUi5kb20uZXZlbnQoYSksITEhPT1wLm9ua2V5KHAsYS5nZXRLZXlzdHJva2UoKSl9KSx2PUNLRURJVE9SLnRvb2xzLmFkZEZ1bmN0aW9uKGZ1bmN0aW9uKGEpe3ZhciBiO3Aub25mb2N1cyYmKGI9ITEhPT1wLm9uZm9jdXMocCxuZXcgQ0tFRElUT1IuZG9tLmV2ZW50KGEpKSk7cmV0dXJuIGJ9KSxyPTA7cC5jbGlja0ZuPWc9Q0tFRElUT1IudG9vbHMuYWRkRnVuY3Rpb24oZnVuY3Rpb24oKXtyJiYoYS51bmxvY2tTZWxlY3Rpb24oMSkscj0wKTtwLmV4ZWN1dGUoKTtsLmlPUyYmYS5mb2N1cygpfSk7aWYodGhpcy5tb2Rlcyl7dmFyIHU9e307YS5vbihcImJlZm9yZU1vZGVVbmxvYWRcIixmdW5jdGlvbigpe2EubW9kZSYmdGhpcy5fLnN0YXRlIT1DS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRCYmKHVbYS5tb2RlXT10aGlzLl8uc3RhdGUpfSx0aGlzKTthLm9uKFwiYWN0aXZlRmlsdGVyQ2hhbmdlXCIsXG5tLHRoaXMpO2Eub24oXCJtb2RlXCIsbSx0aGlzKTshdGhpcy5yZWFkT25seSYmYS5vbihcInJlYWRPbmx5XCIsbSx0aGlzKX1lbHNlIGsmJihrPWEuZ2V0Q29tbWFuZChrKSkmJihrLm9uKFwic3RhdGVcIixmdW5jdGlvbigpe3RoaXMuc2V0U3RhdGUoay5zdGF0ZSl9LHRoaXMpLGgrPWsuc3RhdGU9PUNLRURJVE9SLlRSSVNUQVRFX09OP1wib25cIjprLnN0YXRlPT1DS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRD9cImRpc2FibGVkXCI6XCJvZmZcIik7aWYodGhpcy5kaXJlY3Rpb25hbClhLm9uKFwiY29udGVudERpckNoYW5nZWRcIixmdW5jdGlvbihiKXt2YXIgZD1DS0VESVRPUi5kb2N1bWVudC5nZXRCeUlkKHRoaXMuXy5pZCksZT1kLmdldEZpcnN0KCk7Yj1iLmRhdGE7YiE9YS5sYW5nLmRpcj9kLmFkZENsYXNzKFwiY2tlX1wiK2IpOmQucmVtb3ZlQ2xhc3MoXCJja2VfbHRyXCIpLnJlbW92ZUNsYXNzKFwiY2tlX3J0bFwiKTtlLnNldEF0dHJpYnV0ZShcInN0eWxlXCIsQ0tFRElUT1Iuc2tpbi5nZXRJY29uU3R5bGUoQixcblwicnRsXCI9PWIsdGhpcy5pY29uLHRoaXMuaWNvbk9mZnNldCkpfSx0aGlzKTtrPyhuPWEuZ2V0Q29tbWFuZEtleXN0cm9rZShrKSkmJihxPUNLRURJVE9SLnRvb2xzLmtleXN0cm9rZVRvU3RyaW5nKGEubGFuZy5jb21tb24ua2V5Ym9hcmQsbikpOmgrPVwib2ZmXCI7dmFyIEI9bj10aGlzLm5hbWV8fHRoaXMuY29tbWFuZDt0aGlzLmljb24mJiEvXFwuLy50ZXN0KHRoaXMuaWNvbikmJihCPXRoaXMuaWNvbix0aGlzLmljb249bnVsbCk7aD17aWQ6ZCxuYW1lOm4saWNvbk5hbWU6QixsYWJlbDp0aGlzLmxhYmVsLGNsczp0aGlzLmNsYXNzTmFtZXx8XCJcIixzdGF0ZTpoLGFyaWFEaXNhYmxlZDpcImRpc2FibGVkXCI9PWg/XCJ0cnVlXCI6XCJmYWxzZVwiLHRpdGxlOnRoaXMudGl0bGUrKHE/XCIgKFwiK3EuZGlzcGxheStcIilcIjpcIlwiKSxhcmlhU2hvcnRjdXQ6cT9hLmxhbmcuY29tbW9uLmtleWJvYXJkU2hvcnRjdXQrXCIgXCIrcS5hcmlhOlwiXCIsdGl0bGVKczpsLmdlY2tvJiYhbC5oYz9cIlwiOih0aGlzLnRpdGxlfHxcblwiXCIpLnJlcGxhY2UoXCInXCIsXCJcIiksaGFzQXJyb3c6dGhpcy5oYXNBcnJvdz9cInRydWVcIjpcImZhbHNlXCIsa2V5ZG93bkZuOnQsZm9jdXNGbjp2LGNsaWNrRm46ZyxzdHlsZTpDS0VESVRPUi5za2luLmdldEljb25TdHlsZShCLFwicnRsXCI9PWEubGFuZy5kaXIsdGhpcy5pY29uLHRoaXMuaWNvbk9mZnNldCksYXJyb3dIdG1sOnRoaXMuaGFzQXJyb3c/Zi5vdXRwdXQoKTpcIlwifTtiLm91dHB1dChoLGUpO2lmKHRoaXMub25SZW5kZXIpdGhpcy5vblJlbmRlcigpO3JldHVybiBwfSxzZXRTdGF0ZTpmdW5jdGlvbihhKXtpZih0aGlzLl8uc3RhdGU9PWEpcmV0dXJuITE7dGhpcy5fLnN0YXRlPWE7dmFyIGI9Q0tFRElUT1IuZG9jdW1lbnQuZ2V0QnlJZCh0aGlzLl8uaWQpO3JldHVybiBiPyhiLnNldFN0YXRlKGEsXCJja2VfYnV0dG9uXCIpLGE9PUNLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVEP2Iuc2V0QXR0cmlidXRlKFwiYXJpYS1kaXNhYmxlZFwiLCEwKTpiLnJlbW92ZUF0dHJpYnV0ZShcImFyaWEtZGlzYWJsZWRcIiksXG50aGlzLmhhc0Fycm93PyhhPWE9PUNLRURJVE9SLlRSSVNUQVRFX09OP3RoaXMuXy5lZGl0b3IubGFuZy5idXR0b24uc2VsZWN0ZWRMYWJlbC5yZXBsYWNlKC8lMS9nLHRoaXMubGFiZWwpOnRoaXMubGFiZWwsQ0tFRElUT1IuZG9jdW1lbnQuZ2V0QnlJZCh0aGlzLl8uaWQrXCJfbGFiZWxcIikuc2V0VGV4dChhKSk6YT09Q0tFRElUT1IuVFJJU1RBVEVfT04/Yi5zZXRBdHRyaWJ1dGUoXCJhcmlhLXByZXNzZWRcIiwhMCk6Yi5yZW1vdmVBdHRyaWJ1dGUoXCJhcmlhLXByZXNzZWRcIiksITApOiExfSxnZXRTdGF0ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl8uc3RhdGV9LHRvRmVhdHVyZTpmdW5jdGlvbihhKXtpZih0aGlzLl8uZmVhdHVyZSlyZXR1cm4gdGhpcy5fLmZlYXR1cmU7dmFyIGI9dGhpczt0aGlzLmFsbG93ZWRDb250ZW50fHx0aGlzLnJlcXVpcmVkQ29udGVudHx8IXRoaXMuY29tbWFuZHx8KGI9YS5nZXRDb21tYW5kKHRoaXMuY29tbWFuZCl8fGIpO3JldHVybiB0aGlzLl8uZmVhdHVyZT1cbmJ9fTtDS0VESVRPUi51aS5wcm90b3R5cGUuYWRkQnV0dG9uPWZ1bmN0aW9uKGEsYil7dGhpcy5hZGQoYSxDS0VESVRPUi5VSV9CVVRUT04sYil9fSgpLENLRURJVE9SLnBsdWdpbnMuYWRkKFwicmljaGNvbWJvXCIse3JlcXVpcmVzOlwiZmxvYXRwYW5lbCxsaXN0YmxvY2ssYnV0dG9uXCIsYmVmb3JlSW5pdDpmdW5jdGlvbihhKXthLnVpLmFkZEhhbmRsZXIoQ0tFRElUT1IuVUlfUklDSENPTUJPLENLRURJVE9SLnVpLnJpY2hDb21iby5oYW5kbGVyKX19KSxmdW5jdGlvbigpe3ZhciBhPSdcXHgzY3NwYW4gaWRcXHgzZFwie2lkfVwiIGNsYXNzXFx4M2RcImNrZV9jb21ibyBja2VfY29tYm9fX3tuYW1lfSB7Y2xzfVwiIHJvbGVcXHgzZFwicHJlc2VudGF0aW9uXCJcXHgzZVxceDNjc3BhbiBpZFxceDNkXCJ7aWR9X2xhYmVsXCIgY2xhc3NcXHgzZFwiY2tlX2NvbWJvX2xhYmVsXCJcXHgzZXtsYWJlbH1cXHgzYy9zcGFuXFx4M2VcXHgzY2EgY2xhc3NcXHgzZFwiY2tlX2NvbWJvX2J1dHRvblwiIHRpdGxlXFx4M2RcInt0aXRsZX1cIiB0YWJpbmRleFxceDNkXCItMVwiJytcbihDS0VESVRPUi5lbnYuZ2Vja28mJiFDS0VESVRPUi5lbnYuaGM/XCJcIjpcIiBocmVmXFx4M2RcXFwiamF2YXNjcmlwdDp2b2lkKCd7dGl0bGVKc30nKVxcXCJcIikrJyBoaWRlZm9jdXNcXHgzZFwidHJ1ZVwiIHJvbGVcXHgzZFwiYnV0dG9uXCIgYXJpYS1sYWJlbGxlZGJ5XFx4M2RcIntpZH1fbGFiZWxcIiBhcmlhLWhhc3BvcHVwXFx4M2RcInRydWVcIic7Q0tFRElUT1IuZW52LmdlY2tvJiZDS0VESVRPUi5lbnYubWFjJiYoYSs9JyBvbmtleXByZXNzXFx4M2RcInJldHVybiBmYWxzZTtcIicpO0NLRURJVE9SLmVudi5nZWNrbyYmKGErPScgb25ibHVyXFx4M2RcInRoaXMuc3R5bGUuY3NzVGV4dCBcXHgzZCB0aGlzLnN0eWxlLmNzc1RleHQ7XCInKTt2YXIgYT1hKygnIG9ua2V5ZG93blxceDNkXCJyZXR1cm4gQ0tFRElUT1IudG9vbHMuY2FsbEZ1bmN0aW9uKHtrZXlkb3duRm59LGV2ZW50LHRoaXMpO1wiIG9uZm9jdXNcXHgzZFwicmV0dXJuIENLRURJVE9SLnRvb2xzLmNhbGxGdW5jdGlvbih7Zm9jdXNGbn0sZXZlbnQpO1wiICcrKENLRURJVE9SLmVudi5pZT9cbidvbmNsaWNrXFx4M2RcInJldHVybiBmYWxzZTtcIiBvbm1vdXNldXAnOlwib25jbGlja1wiKSsnXFx4M2RcIkNLRURJVE9SLnRvb2xzLmNhbGxGdW5jdGlvbih7Y2xpY2tGbn0sdGhpcyk7cmV0dXJuIGZhbHNlO1wiXFx4M2VcXHgzY3NwYW4gaWRcXHgzZFwie2lkfV90ZXh0XCIgY2xhc3NcXHgzZFwiY2tlX2NvbWJvX3RleHQgY2tlX2NvbWJvX2lubGluZWxhYmVsXCJcXHgzZXtsYWJlbH1cXHgzYy9zcGFuXFx4M2VcXHgzY3NwYW4gY2xhc3NcXHgzZFwiY2tlX2NvbWJvX29wZW5cIlxceDNlXFx4M2NzcGFuIGNsYXNzXFx4M2RcImNrZV9jb21ib19hcnJvd1wiXFx4M2UnKyhDS0VESVRPUi5lbnYuaGM/XCJcXHgyNiM5NjYwO1wiOkNLRURJVE9SLmVudi5haXI/XCJcXHgyNm5ic3A7XCI6XCJcIikrXCJcXHgzYy9zcGFuXFx4M2VcXHgzYy9zcGFuXFx4M2VcXHgzYy9hXFx4M2VcXHgzYy9zcGFuXFx4M2VcIiksZj1DS0VESVRPUi5hZGRUZW1wbGF0ZShcImNvbWJvXCIsYSk7Q0tFRElUT1IuVUlfUklDSENPTUJPPVwicmljaGNvbWJvXCI7Q0tFRElUT1IudWkucmljaENvbWJvPVxuQ0tFRElUT1IudG9vbHMuY3JlYXRlQ2xhc3MoeyQ6ZnVuY3Rpb24oYSl7Q0tFRElUT1IudG9vbHMuZXh0ZW5kKHRoaXMsYSx7Y2FuR3JvdXA6ITEsdGl0bGU6YS5sYWJlbCxtb2Rlczp7d3lzaXd5ZzoxfSxlZGl0b3JGb2N1czoxfSk7YT10aGlzLnBhbmVsfHx7fTtkZWxldGUgdGhpcy5wYW5lbDt0aGlzLmlkPUNLRURJVE9SLnRvb2xzLmdldE5leHROdW1iZXIoKTt0aGlzLmRvY3VtZW50PWEucGFyZW50JiZhLnBhcmVudC5nZXREb2N1bWVudCgpfHxDS0VESVRPUi5kb2N1bWVudDthLmNsYXNzTmFtZT1cImNrZV9jb21ib3BhbmVsXCI7YS5ibG9jaz17bXVsdGlTZWxlY3Q6YS5tdWx0aVNlbGVjdCxhdHRyaWJ1dGVzOmEuYXR0cmlidXRlc307YS50b29sYmFyUmVsYXRlZD0hMDt0aGlzLl89e3BhbmVsRGVmaW5pdGlvbjphLGl0ZW1zOnt9fX0scHJvdG86e3JlbmRlckh0bWw6ZnVuY3Rpb24oYSl7dmFyIGM9W107dGhpcy5yZW5kZXIoYSxjKTtyZXR1cm4gYy5qb2luKFwiXCIpfSxyZW5kZXI6ZnVuY3Rpb24oYSxcbmMpe2Z1bmN0aW9uIGUoKXtpZih0aGlzLmdldFN0YXRlKCkhPUNLRURJVE9SLlRSSVNUQVRFX09OKXt2YXIgYz10aGlzLm1vZGVzW2EubW9kZV0/Q0tFRElUT1IuVFJJU1RBVEVfT0ZGOkNLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVEO2EucmVhZE9ubHkmJiF0aGlzLnJlYWRPbmx5JiYoYz1DS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRCk7dGhpcy5zZXRTdGF0ZShjKTt0aGlzLnNldFZhbHVlKFwiXCIpO2MhPUNLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVEJiZ0aGlzLnJlZnJlc2gmJnRoaXMucmVmcmVzaCgpfX12YXIgbT1DS0VESVRPUi5lbnYsbD1cImNrZV9cIit0aGlzLmlkLGQ9Q0tFRElUT1IudG9vbHMuYWRkRnVuY3Rpb24oZnVuY3Rpb24oYyl7cSYmKGEudW5sb2NrU2VsZWN0aW9uKDEpLHE9MCk7ay5leGVjdXRlKGMpfSx0aGlzKSxoPXRoaXMsaz17aWQ6bCxjb21ibzp0aGlzLGZvY3VzOmZ1bmN0aW9uKCl7Q0tFRElUT1IuZG9jdW1lbnQuZ2V0QnlJZChsKS5nZXRDaGlsZCgxKS5mb2N1cygpfSxcbmV4ZWN1dGU6ZnVuY3Rpb24oYyl7dmFyIGQ9aC5fO2lmKGQuc3RhdGUhPUNLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVEKWlmKGguY3JlYXRlUGFuZWwoYSksZC5vbilkLnBhbmVsLmhpZGUoKTtlbHNle2guY29tbWl0KCk7dmFyIGU9aC5nZXRWYWx1ZSgpO2U/ZC5saXN0Lm1hcmsoZSk6ZC5saXN0LnVubWFya0FsbCgpO2QucGFuZWwuc2hvd0Jsb2NrKGguaWQsbmV3IENLRURJVE9SLmRvbS5lbGVtZW50KGMpLDQpfX0sY2xpY2tGbjpkfTthLm9uKFwiYWN0aXZlRmlsdGVyQ2hhbmdlXCIsZSx0aGlzKTthLm9uKFwibW9kZVwiLGUsdGhpcyk7YS5vbihcInNlbGVjdGlvbkNoYW5nZVwiLGUsdGhpcyk7IXRoaXMucmVhZE9ubHkmJmEub24oXCJyZWFkT25seVwiLGUsdGhpcyk7dmFyIGc9Q0tFRElUT1IudG9vbHMuYWRkRnVuY3Rpb24oZnVuY3Rpb24oYyxlKXtjPW5ldyBDS0VESVRPUi5kb20uZXZlbnQoYyk7dmFyIGY9Yy5nZXRLZXlzdHJva2UoKTtpZig0MD09ZilhLm9uY2UoXCJwYW5lbFNob3dcIixmdW5jdGlvbihhKXthLmRhdGEuXy5wYW5lbC5fLmN1cnJlbnRCbG9jay5vbktleURvd24oNDApfSk7XG5zd2l0Y2goZil7Y2FzZSAxMzpjYXNlIDMyOmNhc2UgNDA6Q0tFRElUT1IudG9vbHMuY2FsbEZ1bmN0aW9uKGQsZSk7YnJlYWs7ZGVmYXVsdDprLm9ua2V5KGssZil9Yy5wcmV2ZW50RGVmYXVsdCgpfSksbj1DS0VESVRPUi50b29scy5hZGRGdW5jdGlvbihmdW5jdGlvbigpe2sub25mb2N1cyYmay5vbmZvY3VzKCl9KSxxPTA7ay5rZXlEb3duRm49ZzttPXtpZDpsLG5hbWU6dGhpcy5uYW1lfHx0aGlzLmNvbW1hbmQsbGFiZWw6dGhpcy5sYWJlbCx0aXRsZTp0aGlzLnRpdGxlLGNsczp0aGlzLmNsYXNzTmFtZXx8XCJcIix0aXRsZUpzOm0uZ2Vja28mJiFtLmhjP1wiXCI6KHRoaXMudGl0bGV8fFwiXCIpLnJlcGxhY2UoXCInXCIsXCJcIiksa2V5ZG93bkZuOmcsZm9jdXNGbjpuLGNsaWNrRm46ZH07Zi5vdXRwdXQobSxjKTtpZih0aGlzLm9uUmVuZGVyKXRoaXMub25SZW5kZXIoKTtyZXR1cm4ga30sY3JlYXRlUGFuZWw6ZnVuY3Rpb24oYSl7aWYoIXRoaXMuXy5wYW5lbCl7dmFyIGM9dGhpcy5fLnBhbmVsRGVmaW5pdGlvbixcbmU9dGhpcy5fLnBhbmVsRGVmaW5pdGlvbi5ibG9jayxmPWMucGFyZW50fHxDS0VESVRPUi5kb2N1bWVudC5nZXRCb2R5KCksbD1cImNrZV9jb21ib3BhbmVsX19cIit0aGlzLm5hbWUsZD1uZXcgQ0tFRElUT1IudWkuZmxvYXRQYW5lbChhLGYsYyksaD1kLmFkZExpc3RCbG9jayh0aGlzLmlkLGUpLGs9dGhpcztkLm9uU2hvdz1mdW5jdGlvbigpe3RoaXMuZWxlbWVudC5hZGRDbGFzcyhsKTtrLnNldFN0YXRlKENLRURJVE9SLlRSSVNUQVRFX09OKTtrLl8ub249MTtrLmVkaXRvckZvY3VzJiYhYS5mb2N1c01hbmFnZXIuaGFzRm9jdXMmJmEuZm9jdXMoKTtpZihrLm9uT3BlbilrLm9uT3BlbigpO2Eub25jZShcInBhbmVsU2hvd1wiLGZ1bmN0aW9uKCl7aC5mb2N1cyghaC5tdWx0aVNlbGVjdCYmay5nZXRWYWx1ZSgpKX0pfTtkLm9uSGlkZT1mdW5jdGlvbihjKXt0aGlzLmVsZW1lbnQucmVtb3ZlQ2xhc3MobCk7ay5zZXRTdGF0ZShrLm1vZGVzJiZrLm1vZGVzW2EubW9kZV0/Q0tFRElUT1IuVFJJU1RBVEVfT0ZGOlxuQ0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUQpO2suXy5vbj0wO2lmKCFjJiZrLm9uQ2xvc2Upay5vbkNsb3NlKCl9O2Qub25Fc2NhcGU9ZnVuY3Rpb24oKXtkLmhpZGUoMSl9O2gub25DbGljaz1mdW5jdGlvbihhLGIpe2sub25DbGljayYmay5vbkNsaWNrLmNhbGwoayxhLGIpO2QuaGlkZSgpfTt0aGlzLl8ucGFuZWw9ZDt0aGlzLl8ubGlzdD1oO2QuZ2V0QmxvY2sodGhpcy5pZCkub25IaWRlPWZ1bmN0aW9uKCl7ay5fLm9uPTA7ay5zZXRTdGF0ZShDS0VESVRPUi5UUklTVEFURV9PRkYpfTt0aGlzLmluaXQmJnRoaXMuaW5pdCgpfX0sc2V0VmFsdWU6ZnVuY3Rpb24oYSxjKXt0aGlzLl8udmFsdWU9YTt2YXIgZT10aGlzLmRvY3VtZW50LmdldEJ5SWQoXCJja2VfXCIrdGhpcy5pZCtcIl90ZXh0XCIpO2UmJihhfHxjP2UucmVtb3ZlQ2xhc3MoXCJja2VfY29tYm9faW5saW5lbGFiZWxcIik6KGM9dGhpcy5sYWJlbCxlLmFkZENsYXNzKFwiY2tlX2NvbWJvX2lubGluZWxhYmVsXCIpKSxlLnNldFRleHQoXCJ1bmRlZmluZWRcIiE9XG50eXBlb2YgYz9jOmEpKX0sZ2V0VmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fLnZhbHVlfHxcIlwifSx1bm1hcmtBbGw6ZnVuY3Rpb24oKXt0aGlzLl8ubGlzdC51bm1hcmtBbGwoKX0sbWFyazpmdW5jdGlvbihhKXt0aGlzLl8ubGlzdC5tYXJrKGEpfSxoaWRlSXRlbTpmdW5jdGlvbihhKXt0aGlzLl8ubGlzdC5oaWRlSXRlbShhKX0saGlkZUdyb3VwOmZ1bmN0aW9uKGEpe3RoaXMuXy5saXN0LmhpZGVHcm91cChhKX0sc2hvd0FsbDpmdW5jdGlvbigpe3RoaXMuXy5saXN0LnNob3dBbGwoKX0sYWRkOmZ1bmN0aW9uKGEsYyxlKXt0aGlzLl8uaXRlbXNbYV09ZXx8YTt0aGlzLl8ubGlzdC5hZGQoYSxjLGUpfSxzdGFydEdyb3VwOmZ1bmN0aW9uKGEpe3RoaXMuXy5saXN0LnN0YXJ0R3JvdXAoYSl9LGNvbW1pdDpmdW5jdGlvbigpe3RoaXMuXy5jb21taXR0ZWR8fCh0aGlzLl8ubGlzdC5jb21taXQoKSx0aGlzLl8uY29tbWl0dGVkPTEsQ0tFRElUT1IudWkuZmlyZShcInJlYWR5XCIsdGhpcykpO1xudGhpcy5fLmNvbW1pdHRlZD0xfSxzZXRTdGF0ZTpmdW5jdGlvbihhKXtpZih0aGlzLl8uc3RhdGUhPWEpe3ZhciBjPXRoaXMuZG9jdW1lbnQuZ2V0QnlJZChcImNrZV9cIit0aGlzLmlkKTtjLnNldFN0YXRlKGEsXCJja2VfY29tYm9cIik7YT09Q0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUQ/Yy5zZXRBdHRyaWJ1dGUoXCJhcmlhLWRpc2FibGVkXCIsITApOmMucmVtb3ZlQXR0cmlidXRlKFwiYXJpYS1kaXNhYmxlZFwiKTt0aGlzLl8uc3RhdGU9YX19LGdldFN0YXRlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuXy5zdGF0ZX0sZW5hYmxlOmZ1bmN0aW9uKCl7dGhpcy5fLnN0YXRlPT1DS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRCYmdGhpcy5zZXRTdGF0ZSh0aGlzLl8ubGFzdFN0YXRlKX0sZGlzYWJsZTpmdW5jdGlvbigpe3RoaXMuXy5zdGF0ZSE9Q0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUQmJih0aGlzLl8ubGFzdFN0YXRlPXRoaXMuXy5zdGF0ZSx0aGlzLnNldFN0YXRlKENLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVEKSl9fSxcbnN0YXRpY3M6e2hhbmRsZXI6e2NyZWF0ZTpmdW5jdGlvbihhKXtyZXR1cm4gbmV3IENLRURJVE9SLnVpLnJpY2hDb21ibyhhKX19fX0pO0NLRURJVE9SLnVpLnByb3RvdHlwZS5hZGRSaWNoQ29tYm89ZnVuY3Rpb24oYSxjKXt0aGlzLmFkZChhLENLRURJVE9SLlVJX1JJQ0hDT01CTyxjKX19KCksQ0tFRElUT1IucGx1Z2lucy5hZGQoXCJmb3JtYXRcIix7cmVxdWlyZXM6XCJyaWNoY29tYm9cIixpbml0OmZ1bmN0aW9uKGEpe2lmKCFhLmJsb2NrbGVzcyl7Zm9yKHZhciBmPWEuY29uZmlnLGI9YS5sYW5nLmZvcm1hdCxjPWYuZm9ybWF0X3RhZ3Muc3BsaXQoXCI7XCIpLGU9e30sbT0wLGw9W10sZD0wO2Q8Yy5sZW5ndGg7ZCsrKXt2YXIgaD1jW2RdLGs9bmV3IENLRURJVE9SLnN0eWxlKGZbXCJmb3JtYXRfXCIraF0pO2lmKCFhLmZpbHRlci5jdXN0b21Db25maWd8fGEuZmlsdGVyLmNoZWNrKGspKW0rKyxlW2hdPWssZVtoXS5fLmVudGVyTW9kZT1hLmNvbmZpZy5lbnRlck1vZGUsbC5wdXNoKGspfTAhPT1cbm0mJmEudWkuYWRkUmljaENvbWJvKFwiRm9ybWF0XCIse2xhYmVsOmIubGFiZWwsdGl0bGU6Yi5wYW5lbFRpdGxlLHRvb2xiYXI6XCJzdHlsZXMsMjBcIixhbGxvd2VkQ29udGVudDpsLHBhbmVsOntjc3M6W0NLRURJVE9SLnNraW4uZ2V0UGF0aChcImVkaXRvclwiKV0uY29uY2F0KGYuY29udGVudHNDc3MpLG11bHRpU2VsZWN0OiExLGF0dHJpYnV0ZXM6e1wiYXJpYS1sYWJlbFwiOmIucGFuZWxUaXRsZX19LGluaXQ6ZnVuY3Rpb24oKXt0aGlzLnN0YXJ0R3JvdXAoYi5wYW5lbFRpdGxlKTtmb3IodmFyIGEgaW4gZSl7dmFyIGM9YltcInRhZ19cIithXTt0aGlzLmFkZChhLGVbYV0uYnVpbGRQcmV2aWV3KGMpLGMpfX0sb25DbGljazpmdW5jdGlvbihiKXthLmZvY3VzKCk7YS5maXJlKFwic2F2ZVNuYXBzaG90XCIpO2I9ZVtiXTt2YXIgYz1hLmVsZW1lbnRQYXRoKCk7YVtiLmNoZWNrQWN0aXZlKGMsYSk/XCJyZW1vdmVTdHlsZVwiOlwiYXBwbHlTdHlsZVwiXShiKTtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YS5maXJlKFwic2F2ZVNuYXBzaG90XCIpfSxcbjApfSxvblJlbmRlcjpmdW5jdGlvbigpe2Eub24oXCJzZWxlY3Rpb25DaGFuZ2VcIixmdW5jdGlvbihiKXt2YXIgYz10aGlzLmdldFZhbHVlKCk7Yj1iLmRhdGEucGF0aDt0aGlzLnJlZnJlc2goKTtmb3IodmFyIGQgaW4gZSlpZihlW2RdLmNoZWNrQWN0aXZlKGIsYSkpe2QhPWMmJnRoaXMuc2V0VmFsdWUoZCxhLmxhbmcuZm9ybWF0W1widGFnX1wiK2RdKTtyZXR1cm59dGhpcy5zZXRWYWx1ZShcIlwiKX0sdGhpcyl9LG9uT3BlbjpmdW5jdGlvbigpe3RoaXMuc2hvd0FsbCgpO2Zvcih2YXIgYiBpbiBlKWEuYWN0aXZlRmlsdGVyLmNoZWNrKGVbYl0pfHx0aGlzLmhpZGVJdGVtKGIpfSxyZWZyZXNoOmZ1bmN0aW9uKCl7dmFyIGI9YS5lbGVtZW50UGF0aCgpO2lmKGIpe2lmKGIuaXNDb250ZXh0Rm9yKFwicFwiKSlmb3IodmFyIGMgaW4gZSlpZihhLmFjdGl2ZUZpbHRlci5jaGVjayhlW2NdKSlyZXR1cm47dGhpcy5zZXRTdGF0ZShDS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRCl9fX0pfX19KSxDS0VESVRPUi5jb25maWcuZm9ybWF0X3RhZ3M9XG5cInA7aDE7aDI7aDM7aDQ7aDU7aDY7cHJlO2FkZHJlc3M7ZGl2XCIsQ0tFRElUT1IuY29uZmlnLmZvcm1hdF9wPXtlbGVtZW50OlwicFwifSxDS0VESVRPUi5jb25maWcuZm9ybWF0X2Rpdj17ZWxlbWVudDpcImRpdlwifSxDS0VESVRPUi5jb25maWcuZm9ybWF0X3ByZT17ZWxlbWVudDpcInByZVwifSxDS0VESVRPUi5jb25maWcuZm9ybWF0X2FkZHJlc3M9e2VsZW1lbnQ6XCJhZGRyZXNzXCJ9LENLRURJVE9SLmNvbmZpZy5mb3JtYXRfaDE9e2VsZW1lbnQ6XCJoMVwifSxDS0VESVRPUi5jb25maWcuZm9ybWF0X2gyPXtlbGVtZW50OlwiaDJcIn0sQ0tFRElUT1IuY29uZmlnLmZvcm1hdF9oMz17ZWxlbWVudDpcImgzXCJ9LENLRURJVE9SLmNvbmZpZy5mb3JtYXRfaDQ9e2VsZW1lbnQ6XCJoNFwifSxDS0VESVRPUi5jb25maWcuZm9ybWF0X2g1PXtlbGVtZW50OlwiaDVcIn0sQ0tFRElUT1IuY29uZmlnLmZvcm1hdF9oNj17ZWxlbWVudDpcImg2XCJ9LGZ1bmN0aW9uKCl7dmFyIGE9e2NhblVuZG86ITEsZXhlYzpmdW5jdGlvbihhKXt2YXIgYj1cbmEuZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImhyXCIpO2EuaW5zZXJ0RWxlbWVudChiKX0sYWxsb3dlZENvbnRlbnQ6XCJoclwiLHJlcXVpcmVkQ29udGVudDpcImhyXCJ9O0NLRURJVE9SLnBsdWdpbnMuYWRkKFwiaG9yaXpvbnRhbHJ1bGVcIix7aW5pdDpmdW5jdGlvbihmKXtmLmJsb2NrbGVzc3x8KGYuYWRkQ29tbWFuZChcImhvcml6b250YWxydWxlXCIsYSksZi51aS5hZGRCdXR0b24mJmYudWkuYWRkQnV0dG9uKFwiSG9yaXpvbnRhbFJ1bGVcIix7bGFiZWw6Zi5sYW5nLmhvcml6b250YWxydWxlLnRvb2xiYXIsY29tbWFuZDpcImhvcml6b250YWxydWxlXCIsdG9vbGJhcjpcImluc2VydCw0MFwifSkpfX0pfSgpLENLRURJVE9SLnBsdWdpbnMuYWRkKFwiaHRtbHdyaXRlclwiLHtpbml0OmZ1bmN0aW9uKGEpe3ZhciBmPW5ldyBDS0VESVRPUi5odG1sV3JpdGVyO2YuZm9yY2VTaW1wbGVBbXBlcnNhbmQ9YS5jb25maWcuZm9yY2VTaW1wbGVBbXBlcnNhbmQ7Zi5pbmRlbnRhdGlvbkNoYXJzPWEuY29uZmlnLmRhdGFJbmRlbnRhdGlvbkNoYXJzfHxcblwiXFx0XCI7YS5kYXRhUHJvY2Vzc29yLndyaXRlcj1mfX0pLENLRURJVE9SLmh0bWxXcml0ZXI9Q0tFRElUT1IudG9vbHMuY3JlYXRlQ2xhc3Moe2Jhc2U6Q0tFRElUT1IuaHRtbFBhcnNlci5iYXNpY1dyaXRlciwkOmZ1bmN0aW9uKCl7dGhpcy5iYXNlKCk7dGhpcy5pbmRlbnRhdGlvbkNoYXJzPVwiXFx0XCI7dGhpcy5zZWxmQ2xvc2luZ0VuZD1cIiAvXFx4M2VcIjt0aGlzLmxpbmVCcmVha0NoYXJzPVwiXFxuXCI7dGhpcy5zb3J0QXR0cmlidXRlcz0xO3RoaXMuXy5pbmRlbnQ9MDt0aGlzLl8uaW5kZW50YXRpb249XCJcIjt0aGlzLl8uaW5QcmU9MDt0aGlzLl8ucnVsZXM9e307dmFyIGE9Q0tFRElUT1IuZHRkLGY7Zm9yKGYgaW4gQ0tFRElUT1IudG9vbHMuZXh0ZW5kKHt9LGEuJG5vbkJvZHlDb250ZW50LGEuJGJsb2NrLGEuJGxpc3RJdGVtLGEuJHRhYmxlQ29udGVudCkpdGhpcy5zZXRSdWxlcyhmLHtpbmRlbnQ6IWFbZl1bXCIjXCJdLGJyZWFrQmVmb3JlT3BlbjoxLGJyZWFrQmVmb3JlQ2xvc2U6IWFbZl1bXCIjXCJdLFxuYnJlYWtBZnRlckNsb3NlOjEsbmVlZHNTcGFjZTpmIGluIGEuJGJsb2NrJiYhKGYgaW57bGk6MSxkdDoxLGRkOjF9KX0pO3RoaXMuc2V0UnVsZXMoXCJiclwiLHticmVha0FmdGVyT3BlbjoxfSk7dGhpcy5zZXRSdWxlcyhcInRpdGxlXCIse2luZGVudDowLGJyZWFrQWZ0ZXJPcGVuOjB9KTt0aGlzLnNldFJ1bGVzKFwic3R5bGVcIix7aW5kZW50OjAsYnJlYWtCZWZvcmVDbG9zZToxfSk7dGhpcy5zZXRSdWxlcyhcInByZVwiLHticmVha0FmdGVyT3BlbjoxLGluZGVudDowfSl9LHByb3RvOntvcGVuVGFnOmZ1bmN0aW9uKGEpe3ZhciBmPXRoaXMuXy5ydWxlc1thXTt0aGlzLl8uYWZ0ZXJDbG9zZXImJmYmJmYubmVlZHNTcGFjZSYmdGhpcy5fLm5lZWRzU3BhY2UmJnRoaXMuXy5vdXRwdXQucHVzaChcIlxcblwiKTt0aGlzLl8uaW5kZW50P3RoaXMuaW5kZW50YXRpb24oKTpmJiZmLmJyZWFrQmVmb3JlT3BlbiYmKHRoaXMubGluZUJyZWFrKCksdGhpcy5pbmRlbnRhdGlvbigpKTt0aGlzLl8ub3V0cHV0LnB1c2goXCJcXHgzY1wiLFxuYSk7dGhpcy5fLmFmdGVyQ2xvc2VyPTB9LG9wZW5UYWdDbG9zZTpmdW5jdGlvbihhLGYpe3ZhciBiPXRoaXMuXy5ydWxlc1thXTtmPyh0aGlzLl8ub3V0cHV0LnB1c2godGhpcy5zZWxmQ2xvc2luZ0VuZCksYiYmYi5icmVha0FmdGVyQ2xvc2UmJih0aGlzLl8ubmVlZHNTcGFjZT1iLm5lZWRzU3BhY2UpKToodGhpcy5fLm91dHB1dC5wdXNoKFwiXFx4M2VcIiksYiYmYi5pbmRlbnQmJih0aGlzLl8uaW5kZW50YXRpb24rPXRoaXMuaW5kZW50YXRpb25DaGFycykpO2ImJmIuYnJlYWtBZnRlck9wZW4mJnRoaXMubGluZUJyZWFrKCk7XCJwcmVcIj09YSYmKHRoaXMuXy5pblByZT0xKX0sYXR0cmlidXRlOmZ1bmN0aW9uKGEsZil7XCJzdHJpbmdcIj09dHlwZW9mIGYmJih0aGlzLmZvcmNlU2ltcGxlQW1wZXJzYW5kJiYoZj1mLnJlcGxhY2UoLyZhbXA7L2csXCJcXHgyNlwiKSksZj1DS0VESVRPUi50b29scy5odG1sRW5jb2RlQXR0cihmKSk7dGhpcy5fLm91dHB1dC5wdXNoKFwiIFwiLGEsJ1xceDNkXCInLGYsJ1wiJyl9LFxuY2xvc2VUYWc6ZnVuY3Rpb24oYSl7dmFyIGY9dGhpcy5fLnJ1bGVzW2FdO2YmJmYuaW5kZW50JiYodGhpcy5fLmluZGVudGF0aW9uPXRoaXMuXy5pbmRlbnRhdGlvbi5zdWJzdHIodGhpcy5pbmRlbnRhdGlvbkNoYXJzLmxlbmd0aCkpO3RoaXMuXy5pbmRlbnQ/dGhpcy5pbmRlbnRhdGlvbigpOmYmJmYuYnJlYWtCZWZvcmVDbG9zZSYmKHRoaXMubGluZUJyZWFrKCksdGhpcy5pbmRlbnRhdGlvbigpKTt0aGlzLl8ub3V0cHV0LnB1c2goXCJcXHgzYy9cIixhLFwiXFx4M2VcIik7XCJwcmVcIj09YSYmKHRoaXMuXy5pblByZT0wKTtmJiZmLmJyZWFrQWZ0ZXJDbG9zZSYmKHRoaXMubGluZUJyZWFrKCksdGhpcy5fLm5lZWRzU3BhY2U9Zi5uZWVkc1NwYWNlKTt0aGlzLl8uYWZ0ZXJDbG9zZXI9MX0sdGV4dDpmdW5jdGlvbihhKXt0aGlzLl8uaW5kZW50JiYodGhpcy5pbmRlbnRhdGlvbigpLCF0aGlzLl8uaW5QcmUmJihhPUNLRURJVE9SLnRvb2xzLmx0cmltKGEpKSk7dGhpcy5fLm91dHB1dC5wdXNoKGEpfSxcbmNvbW1lbnQ6ZnVuY3Rpb24oYSl7dGhpcy5fLmluZGVudCYmdGhpcy5pbmRlbnRhdGlvbigpO3RoaXMuXy5vdXRwdXQucHVzaChcIlxceDNjIS0tXCIsYSxcIi0tXFx4M2VcIil9LGxpbmVCcmVhazpmdW5jdGlvbigpeyF0aGlzLl8uaW5QcmUmJjA8dGhpcy5fLm91dHB1dC5sZW5ndGgmJnRoaXMuXy5vdXRwdXQucHVzaCh0aGlzLmxpbmVCcmVha0NoYXJzKTt0aGlzLl8uaW5kZW50PTF9LGluZGVudGF0aW9uOmZ1bmN0aW9uKCl7IXRoaXMuXy5pblByZSYmdGhpcy5fLmluZGVudGF0aW9uJiZ0aGlzLl8ub3V0cHV0LnB1c2godGhpcy5fLmluZGVudGF0aW9uKTt0aGlzLl8uaW5kZW50PTB9LHJlc2V0OmZ1bmN0aW9uKCl7dGhpcy5fLm91dHB1dD1bXTt0aGlzLl8uaW5kZW50PTA7dGhpcy5fLmluZGVudGF0aW9uPVwiXCI7dGhpcy5fLmFmdGVyQ2xvc2VyPTA7dGhpcy5fLmluUHJlPTA7dGhpcy5fLm5lZWRzU3BhY2U9MH0sc2V0UnVsZXM6ZnVuY3Rpb24oYSxmKXt2YXIgYj10aGlzLl8ucnVsZXNbYV07XG5iP0NLRURJVE9SLnRvb2xzLmV4dGVuZChiLGYsITApOnRoaXMuXy5ydWxlc1thXT1mfX19KSxmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSxjKXtjfHwoYz1hLmdldFNlbGVjdGlvbigpLmdldFNlbGVjdGVkRWxlbWVudCgpKTtpZihjJiZjLmlzKFwiaW1nXCIpJiYhYy5kYXRhKFwiY2tlLXJlYWxlbGVtZW50XCIpJiYhYy5pc1JlYWRPbmx5KCkpcmV0dXJuIGN9ZnVuY3Rpb24gZihhKXt2YXIgYz1hLmdldFN0eWxlKFwiZmxvYXRcIik7aWYoXCJpbmhlcml0XCI9PWN8fFwibm9uZVwiPT1jKWM9MDtjfHwoYz1hLmdldEF0dHJpYnV0ZShcImFsaWduXCIpKTtyZXR1cm4gY31DS0VESVRPUi5wbHVnaW5zLmFkZChcImltYWdlXCIse3JlcXVpcmVzOlwiZGlhbG9nXCIsaW5pdDpmdW5jdGlvbihiKXtpZighYi5wbHVnaW5zLmltYWdlMil7Q0tFRElUT1IuZGlhbG9nLmFkZChcImltYWdlXCIsdGhpcy5wYXRoK1wiZGlhbG9ncy9pbWFnZS5qc1wiKTt2YXIgYz1cImltZ1thbHQsIXNyY117Ym9yZGVyLXN0eWxlLGJvcmRlci13aWR0aCxmbG9hdCxoZWlnaHQsbWFyZ2luLG1hcmdpbi1ib3R0b20sbWFyZ2luLWxlZnQsbWFyZ2luLXJpZ2h0LG1hcmdpbi10b3Asd2lkdGh9XCI7XG5DS0VESVRPUi5kaWFsb2cuaXNUYWJFbmFibGVkKGIsXCJpbWFnZVwiLFwiYWR2YW5jZWRcIikmJihjPVwiaW1nW2FsdCxkaXIsaWQsbGFuZyxsb25nZGVzYywhc3JjLHRpdGxlXXsqfSgqKVwiKTtiLmFkZENvbW1hbmQoXCJpbWFnZVwiLG5ldyBDS0VESVRPUi5kaWFsb2dDb21tYW5kKFwiaW1hZ2VcIix7YWxsb3dlZENvbnRlbnQ6YyxyZXF1aXJlZENvbnRlbnQ6XCJpbWdbYWx0LHNyY11cIixjb250ZW50VHJhbnNmb3JtYXRpb25zOltbXCJpbWd7d2lkdGh9OiBzaXplVG9TdHlsZVwiLFwiaW1nW3dpZHRoXTogc2l6ZVRvQXR0cmlidXRlXCJdLFtcImltZ3tmbG9hdH06IGFsaWdubWVudFRvU3R5bGVcIixcImltZ1thbGlnbl06IGFsaWdubWVudFRvQXR0cmlidXRlXCJdXX0pKTtiLnVpLmFkZEJ1dHRvbiYmYi51aS5hZGRCdXR0b24oXCJJbWFnZVwiLHtsYWJlbDpiLmxhbmcuY29tbW9uLmltYWdlLGNvbW1hbmQ6XCJpbWFnZVwiLHRvb2xiYXI6XCJpbnNlcnQsMTBcIn0pO2Iub24oXCJkb3VibGVjbGlja1wiLGZ1bmN0aW9uKGEpe3ZhciBiPVxuYS5kYXRhLmVsZW1lbnQ7IWIuaXMoXCJpbWdcIil8fGIuZGF0YShcImNrZS1yZWFsZWxlbWVudFwiKXx8Yi5pc1JlYWRPbmx5KCl8fChhLmRhdGEuZGlhbG9nPVwiaW1hZ2VcIil9KTtiLmFkZE1lbnVJdGVtcyYmYi5hZGRNZW51SXRlbXMoe2ltYWdlOntsYWJlbDpiLmxhbmcuaW1hZ2UubWVudSxjb21tYW5kOlwiaW1hZ2VcIixncm91cDpcImltYWdlXCJ9fSk7Yi5jb250ZXh0TWVudSYmYi5jb250ZXh0TWVudS5hZGRMaXN0ZW5lcihmdW5jdGlvbihjKXtpZihhKGIsYykpcmV0dXJue2ltYWdlOkNLRURJVE9SLlRSSVNUQVRFX09GRn19KX19LGFmdGVySW5pdDpmdW5jdGlvbihiKXtmdW5jdGlvbiBjKGMpe3ZhciBtPWIuZ2V0Q29tbWFuZChcImp1c3RpZnlcIitjKTtpZihtKXtpZihcImxlZnRcIj09Y3x8XCJyaWdodFwiPT1jKW0ub24oXCJleGVjXCIsZnVuY3Rpb24obCl7dmFyIGQ9YShiKSxoO2QmJihoPWYoZCksaD09Yz8oZC5yZW1vdmVTdHlsZShcImZsb2F0XCIpLGM9PWYoZCkmJmQucmVtb3ZlQXR0cmlidXRlKFwiYWxpZ25cIikpOlxuZC5zZXRTdHlsZShcImZsb2F0XCIsYyksbC5jYW5jZWwoKSl9KTttLm9uKFwicmVmcmVzaFwiLGZ1bmN0aW9uKGwpe3ZhciBkPWEoYik7ZCYmKGQ9ZihkKSx0aGlzLnNldFN0YXRlKGQ9PWM/Q0tFRElUT1IuVFJJU1RBVEVfT046XCJyaWdodFwiPT1jfHxcImxlZnRcIj09Yz9DS0VESVRPUi5UUklTVEFURV9PRkY6Q0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUQpLGwuY2FuY2VsKCkpfSl9fWIucGx1Z2lucy5pbWFnZTJ8fChjKFwibGVmdFwiKSxjKFwicmlnaHRcIiksYyhcImNlbnRlclwiKSxjKFwiYmxvY2tcIikpfX0pfSgpLENLRURJVE9SLmNvbmZpZy5pbWFnZV9yZW1vdmVMaW5rQnlFbXB0eVVSTD0hMCxmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSxiKXt2YXIgZD1jLmV4ZWMoYSksZT1jLmV4ZWMoYik7aWYoZCl7aWYoIWRbMl0mJlwicHhcIj09ZVsyXSlyZXR1cm4gZVsxXTtpZihcInB4XCI9PWRbMl0mJiFlWzJdKXJldHVybiBlWzFdK1wicHhcIn1yZXR1cm4gYn12YXIgZj1DS0VESVRPUi5odG1sUGFyc2VyLmNzc1N0eWxlLFxuYj1DS0VESVRPUi50b29scy5jc3NMZW5ndGgsYz0vXigoPzpcXGQqKD86XFwuXFxkKykpfCg/OlxcZCspKSguKik/JC9pLGU9e2VsZW1lbnRzOnskOmZ1bmN0aW9uKGIpe3ZhciBjPWIuYXR0cmlidXRlcztpZigoYz0oYz0oYz1jJiZjW1wiZGF0YS1ja2UtcmVhbGVsZW1lbnRcIl0pJiZuZXcgQ0tFRElUT1IuaHRtbFBhcnNlci5mcmFnbWVudC5mcm9tSHRtbChkZWNvZGVVUklDb21wb25lbnQoYykpKSYmYy5jaGlsZHJlblswXSkmJmIuYXR0cmlidXRlc1tcImRhdGEtY2tlLXJlc2l6YWJsZVwiXSl7dmFyIGQ9KG5ldyBmKGIpKS5ydWxlcztiPWMuYXR0cmlidXRlczt2YXIgZT1kLndpZHRoLGQ9ZC5oZWlnaHQ7ZSYmKGIud2lkdGg9YShiLndpZHRoLGUpKTtkJiYoYi5oZWlnaHQ9YShiLmhlaWdodCxkKSl9cmV0dXJuIGN9fX07Q0tFRElUT1IucGx1Z2lucy5hZGQoXCJmYWtlb2JqZWN0c1wiLHtpbml0OmZ1bmN0aW9uKGEpe2EuZmlsdGVyLmFsbG93KFwiaW1nWyFkYXRhLWNrZS1yZWFsZWxlbWVudCxzcmMsYWx0LHRpdGxlXSgqKXsqfVwiLFxuXCJmYWtlb2JqZWN0c1wiKX0sYWZ0ZXJJbml0OmZ1bmN0aW9uKGEpeyhhPShhPWEuZGF0YVByb2Nlc3NvcikmJmEuaHRtbEZpbHRlcikmJmEuYWRkUnVsZXMoZSx7YXBwbHlUb0FsbDohMH0pfX0pO0NLRURJVE9SLmVkaXRvci5wcm90b3R5cGUuY3JlYXRlRmFrZUVsZW1lbnQ9ZnVuY3Rpb24oYSxjLGQsZSl7dmFyIGs9dGhpcy5sYW5nLmZha2VvYmplY3RzLGs9a1tkXXx8ay51bmtub3duO2M9e1wiY2xhc3NcIjpjLFwiZGF0YS1ja2UtcmVhbGVsZW1lbnRcIjplbmNvZGVVUklDb21wb25lbnQoYS5nZXRPdXRlckh0bWwoKSksXCJkYXRhLWNrZS1yZWFsLW5vZGUtdHlwZVwiOmEudHlwZSxhbHQ6ayx0aXRsZTprLGFsaWduOmEuZ2V0QXR0cmlidXRlKFwiYWxpZ25cIil8fFwiXCJ9O0NLRURJVE9SLmVudi5oY3x8KGMuc3JjPUNLRURJVE9SLnRvb2xzLnRyYW5zcGFyZW50SW1hZ2VEYXRhKTtkJiYoY1tcImRhdGEtY2tlLXJlYWwtZWxlbWVudC10eXBlXCJdPWQpO2UmJihjW1wiZGF0YS1ja2UtcmVzaXphYmxlXCJdPVxuZSxkPW5ldyBmLGU9YS5nZXRBdHRyaWJ1dGUoXCJ3aWR0aFwiKSxhPWEuZ2V0QXR0cmlidXRlKFwiaGVpZ2h0XCIpLGUmJihkLnJ1bGVzLndpZHRoPWIoZSkpLGEmJihkLnJ1bGVzLmhlaWdodD1iKGEpKSxkLnBvcHVsYXRlKGMpKTtyZXR1cm4gdGhpcy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW1nXCIse2F0dHJpYnV0ZXM6Y30pfTtDS0VESVRPUi5lZGl0b3IucHJvdG90eXBlLmNyZWF0ZUZha2VQYXJzZXJFbGVtZW50PWZ1bmN0aW9uKGEsYyxkLGUpe3ZhciBrPXRoaXMubGFuZy5mYWtlb2JqZWN0cyxrPWtbZF18fGsudW5rbm93bixnO2c9bmV3IENLRURJVE9SLmh0bWxQYXJzZXIuYmFzaWNXcml0ZXI7YS53cml0ZUh0bWwoZyk7Zz1nLmdldEh0bWwoKTtjPXtcImNsYXNzXCI6YyxcImRhdGEtY2tlLXJlYWxlbGVtZW50XCI6ZW5jb2RlVVJJQ29tcG9uZW50KGcpLFwiZGF0YS1ja2UtcmVhbC1ub2RlLXR5cGVcIjphLnR5cGUsYWx0OmssdGl0bGU6ayxhbGlnbjphLmF0dHJpYnV0ZXMuYWxpZ258fFwiXCJ9O1xuQ0tFRElUT1IuZW52LmhjfHwoYy5zcmM9Q0tFRElUT1IudG9vbHMudHJhbnNwYXJlbnRJbWFnZURhdGEpO2QmJihjW1wiZGF0YS1ja2UtcmVhbC1lbGVtZW50LXR5cGVcIl09ZCk7ZSYmKGNbXCJkYXRhLWNrZS1yZXNpemFibGVcIl09ZSxlPWEuYXR0cmlidXRlcyxhPW5ldyBmLGQ9ZS53aWR0aCxlPWUuaGVpZ2h0LHZvaWQgMCE9PWQmJihhLnJ1bGVzLndpZHRoPWIoZCkpLHZvaWQgMCE9PWUmJihhLnJ1bGVzLmhlaWdodD1iKGUpKSxhLnBvcHVsYXRlKGMpKTtyZXR1cm4gbmV3IENLRURJVE9SLmh0bWxQYXJzZXIuZWxlbWVudChcImltZ1wiLGMpfTtDS0VESVRPUi5lZGl0b3IucHJvdG90eXBlLnJlc3RvcmVSZWFsRWxlbWVudD1mdW5jdGlvbihiKXtpZihiLmRhdGEoXCJja2UtcmVhbC1ub2RlLXR5cGVcIikhPUNLRURJVE9SLk5PREVfRUxFTUVOVClyZXR1cm4gbnVsbDt2YXIgYz1DS0VESVRPUi5kb20uZWxlbWVudC5jcmVhdGVGcm9tSHRtbChkZWNvZGVVUklDb21wb25lbnQoYi5kYXRhKFwiY2tlLXJlYWxlbGVtZW50XCIpKSxcbnRoaXMuZG9jdW1lbnQpO2lmKGIuZGF0YShcImNrZS1yZXNpemFibGVcIikpe3ZhciBkPWIuZ2V0U3R5bGUoXCJ3aWR0aFwiKTtiPWIuZ2V0U3R5bGUoXCJoZWlnaHRcIik7ZCYmYy5zZXRBdHRyaWJ1dGUoXCJ3aWR0aFwiLGEoYy5nZXRBdHRyaWJ1dGUoXCJ3aWR0aFwiKSxkKSk7YiYmYy5zZXRBdHRyaWJ1dGUoXCJoZWlnaHRcIixhKGMuZ2V0QXR0cmlidXRlKFwiaGVpZ2h0XCIpLGIpKX1yZXR1cm4gY319KCksXCJ1c2Ugc3RyaWN0XCIsZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEpe3JldHVybiBhLnJlcGxhY2UoLycvZyxcIlxcXFwkXFx4MjZcIil9ZnVuY3Rpb24gZihhKXtmb3IodmFyIGIsYz1hLmxlbmd0aCxkPVtdLGU9MDtlPGM7ZSsrKWI9YS5jaGFyQ29kZUF0KGUpLGQucHVzaChiKTtyZXR1cm5cIlN0cmluZy5mcm9tQ2hhckNvZGUoXCIrZC5qb2luKFwiLFwiKStcIilcIn1mdW5jdGlvbiBiKGIsYyl7dmFyIGQ9Yi5wbHVnaW5zLmxpbmssZT1kLmNvbXBpbGVkUHJvdGVjdGlvbkZ1bmN0aW9uLnBhcmFtcyxmLGc7Zz1bZC5jb21waWxlZFByb3RlY3Rpb25GdW5jdGlvbi5uYW1lLFxuXCIoXCJdO2Zvcih2YXIgaD0wO2g8ZS5sZW5ndGg7aCsrKWQ9ZVtoXS50b0xvd2VyQ2FzZSgpLGY9Y1tkXSwwPGgmJmcucHVzaChcIixcIiksZy5wdXNoKFwiJ1wiLGY/YShlbmNvZGVVUklDb21wb25lbnQoY1tkXSkpOlwiXCIsXCInXCIpO2cucHVzaChcIilcIik7cmV0dXJuIGcuam9pbihcIlwiKX1mdW5jdGlvbiBjKGEpe2E9YS5jb25maWcuZW1haWxQcm90ZWN0aW9ufHxcIlwiO3ZhciBiO2EmJlwiZW5jb2RlXCIhPWEmJihiPXt9LGEucmVwbGFjZSgvXihbXihdKylcXCgoW14pXSspXFwpJC8sZnVuY3Rpb24oYSxjLGQpe2IubmFtZT1jO2IucGFyYW1zPVtdO2QucmVwbGFjZSgvW14sXFxzXSsvZyxmdW5jdGlvbihhKXtiLnBhcmFtcy5wdXNoKGEpfSl9KSk7cmV0dXJuIGJ9Q0tFRElUT1IucGx1Z2lucy5hZGQoXCJsaW5rXCIse3JlcXVpcmVzOlwiZGlhbG9nLGZha2VvYmplY3RzXCIsb25Mb2FkOmZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShiKXtyZXR1cm4gYy5yZXBsYWNlKC8lMS9nLFwicnRsXCI9PWI/XCJyaWdodFwiOlwibGVmdFwiKS5yZXBsYWNlKC8lMi9nLFxuXCJja2VfY29udGVudHNfXCIrYil9dmFyIGI9XCJiYWNrZ3JvdW5kOnVybChcIitDS0VESVRPUi5nZXRVcmwodGhpcy5wYXRoK1wiaW1hZ2VzXCIrKENLRURJVE9SLmVudi5oaWRwaT9cIi9oaWRwaVwiOlwiXCIpK1wiL2FuY2hvci5wbmdcIikrXCIpIG5vLXJlcGVhdCAlMSBjZW50ZXI7Ym9yZGVyOjFweCBkb3R0ZWQgIzAwZjtiYWNrZ3JvdW5kLXNpemU6MTZweDtcIixjPVwiLiUyIGEuY2tlX2FuY2hvciwuJTIgYS5ja2VfYW5jaG9yX2VtcHR5LC5ja2VfZWRpdGFibGUuJTIgYVtuYW1lXSwuY2tlX2VkaXRhYmxlLiUyIGFbZGF0YS1ja2Utc2F2ZWQtbmFtZV17XCIrYitcInBhZGRpbmctJTE6MThweDtjdXJzb3I6YXV0bzt9LiUyIGltZy5ja2VfYW5jaG9ye1wiK2IrXCJ3aWR0aDoxNnB4O21pbi1oZWlnaHQ6MTVweDtoZWlnaHQ6MS4xNWVtO3ZlcnRpY2FsLWFsaWduOnRleHQtYm90dG9tO31cIjtDS0VESVRPUi5hZGRDc3MoYShcImx0clwiKSthKFwicnRsXCIpKX0saW5pdDpmdW5jdGlvbihhKXt2YXIgYj1cImFbIWhyZWZdXCI7XG5DS0VESVRPUi5kaWFsb2cuaXNUYWJFbmFibGVkKGEsXCJsaW5rXCIsXCJhZHZhbmNlZFwiKSYmKGI9Yi5yZXBsYWNlKFwiXVwiLFwiLGFjY2Vzc2tleSxjaGFyc2V0LGRpcixpZCxsYW5nLG5hbWUscmVsLHRhYmluZGV4LHRpdGxlLHR5cGUsZG93bmxvYWRdeyp9KCopXCIpKTtDS0VESVRPUi5kaWFsb2cuaXNUYWJFbmFibGVkKGEsXCJsaW5rXCIsXCJ0YXJnZXRcIikmJihiPWIucmVwbGFjZShcIl1cIixcIix0YXJnZXQsb25jbGlja11cIikpO2EuYWRkQ29tbWFuZChcImxpbmtcIixuZXcgQ0tFRElUT1IuZGlhbG9nQ29tbWFuZChcImxpbmtcIix7YWxsb3dlZENvbnRlbnQ6YixyZXF1aXJlZENvbnRlbnQ6XCJhW2hyZWZdXCJ9KSk7YS5hZGRDb21tYW5kKFwiYW5jaG9yXCIsbmV3IENLRURJVE9SLmRpYWxvZ0NvbW1hbmQoXCJhbmNob3JcIix7YWxsb3dlZENvbnRlbnQ6XCJhWyFuYW1lLGlkXVwiLHJlcXVpcmVkQ29udGVudDpcImFbbmFtZV1cIn0pKTthLmFkZENvbW1hbmQoXCJ1bmxpbmtcIixuZXcgQ0tFRElUT1IudW5saW5rQ29tbWFuZCk7XG5hLmFkZENvbW1hbmQoXCJyZW1vdmVBbmNob3JcIixuZXcgQ0tFRElUT1IucmVtb3ZlQW5jaG9yQ29tbWFuZCk7YS5zZXRLZXlzdHJva2UoQ0tFRElUT1IuQ1RSTCs3NixcImxpbmtcIik7YS51aS5hZGRCdXR0b24mJihhLnVpLmFkZEJ1dHRvbihcIkxpbmtcIix7bGFiZWw6YS5sYW5nLmxpbmsudG9vbGJhcixjb21tYW5kOlwibGlua1wiLHRvb2xiYXI6XCJsaW5rcywxMFwifSksYS51aS5hZGRCdXR0b24oXCJVbmxpbmtcIix7bGFiZWw6YS5sYW5nLmxpbmsudW5saW5rLGNvbW1hbmQ6XCJ1bmxpbmtcIix0b29sYmFyOlwibGlua3MsMjBcIn0pLGEudWkuYWRkQnV0dG9uKFwiQW5jaG9yXCIse2xhYmVsOmEubGFuZy5saW5rLmFuY2hvci50b29sYmFyLGNvbW1hbmQ6XCJhbmNob3JcIix0b29sYmFyOlwibGlua3MsMzBcIn0pKTtDS0VESVRPUi5kaWFsb2cuYWRkKFwibGlua1wiLHRoaXMucGF0aCtcImRpYWxvZ3MvbGluay5qc1wiKTtDS0VESVRPUi5kaWFsb2cuYWRkKFwiYW5jaG9yXCIsdGhpcy5wYXRoK1wiZGlhbG9ncy9hbmNob3IuanNcIik7XG5hLm9uKFwiZG91YmxlY2xpY2tcIixmdW5jdGlvbihiKXt2YXIgYz1DS0VESVRPUi5wbHVnaW5zLmxpbmsuZ2V0U2VsZWN0ZWRMaW5rKGEpfHxiLmRhdGEuZWxlbWVudDtjLmlzUmVhZE9ubHkoKXx8KGMuaXMoXCJhXCIpPyhiLmRhdGEuZGlhbG9nPSFjLmdldEF0dHJpYnV0ZShcIm5hbWVcIil8fGMuZ2V0QXR0cmlidXRlKFwiaHJlZlwiKSYmYy5nZXRDaGlsZENvdW50KCk/XCJsaW5rXCI6XCJhbmNob3JcIixiLmRhdGEubGluaz1jKTpDS0VESVRPUi5wbHVnaW5zLmxpbmsudHJ5UmVzdG9yZUZha2VBbmNob3IoYSxjKSYmKGIuZGF0YS5kaWFsb2c9XCJhbmNob3JcIikpfSxudWxsLG51bGwsMCk7YS5vbihcImRvdWJsZWNsaWNrXCIsZnVuY3Rpb24oYil7Yi5kYXRhLmRpYWxvZyBpbntsaW5rOjEsYW5jaG9yOjF9JiZiLmRhdGEubGluayYmYS5nZXRTZWxlY3Rpb24oKS5zZWxlY3RFbGVtZW50KGIuZGF0YS5saW5rKX0sbnVsbCxudWxsLDIwKTthLmFkZE1lbnVJdGVtcyYmYS5hZGRNZW51SXRlbXMoe2FuY2hvcjp7bGFiZWw6YS5sYW5nLmxpbmsuYW5jaG9yLm1lbnUsXG5jb21tYW5kOlwiYW5jaG9yXCIsZ3JvdXA6XCJhbmNob3JcIixvcmRlcjoxfSxyZW1vdmVBbmNob3I6e2xhYmVsOmEubGFuZy5saW5rLmFuY2hvci5yZW1vdmUsY29tbWFuZDpcInJlbW92ZUFuY2hvclwiLGdyb3VwOlwiYW5jaG9yXCIsb3JkZXI6NX0sbGluazp7bGFiZWw6YS5sYW5nLmxpbmsubWVudSxjb21tYW5kOlwibGlua1wiLGdyb3VwOlwibGlua1wiLG9yZGVyOjF9LHVubGluazp7bGFiZWw6YS5sYW5nLmxpbmsudW5saW5rLGNvbW1hbmQ6XCJ1bmxpbmtcIixncm91cDpcImxpbmtcIixvcmRlcjo1fX0pO2EuY29udGV4dE1lbnUmJmEuY29udGV4dE1lbnUuYWRkTGlzdGVuZXIoZnVuY3Rpb24oYil7aWYoIWJ8fGIuaXNSZWFkT25seSgpKXJldHVybiBudWxsO2I9Q0tFRElUT1IucGx1Z2lucy5saW5rLnRyeVJlc3RvcmVGYWtlQW5jaG9yKGEsYik7aWYoIWImJiEoYj1DS0VESVRPUi5wbHVnaW5zLmxpbmsuZ2V0U2VsZWN0ZWRMaW5rKGEpKSlyZXR1cm4gbnVsbDt2YXIgYz17fTtiLmdldEF0dHJpYnV0ZShcImhyZWZcIikmJlxuYi5nZXRDaGlsZENvdW50KCkmJihjPXtsaW5rOkNLRURJVE9SLlRSSVNUQVRFX09GRix1bmxpbms6Q0tFRElUT1IuVFJJU1RBVEVfT0ZGfSk7YiYmYi5oYXNBdHRyaWJ1dGUoXCJuYW1lXCIpJiYoYy5hbmNob3I9Yy5yZW1vdmVBbmNob3I9Q0tFRElUT1IuVFJJU1RBVEVfT0ZGKTtyZXR1cm4gY30pO3RoaXMuY29tcGlsZWRQcm90ZWN0aW9uRnVuY3Rpb249YyhhKX0sYWZ0ZXJJbml0OmZ1bmN0aW9uKGEpe2EuZGF0YVByb2Nlc3Nvci5kYXRhRmlsdGVyLmFkZFJ1bGVzKHtlbGVtZW50czp7YTpmdW5jdGlvbihiKXtyZXR1cm4gYi5hdHRyaWJ1dGVzLm5hbWU/Yi5jaGlsZHJlbi5sZW5ndGg/bnVsbDphLmNyZWF0ZUZha2VQYXJzZXJFbGVtZW50KGIsXCJja2VfYW5jaG9yXCIsXCJhbmNob3JcIik6bnVsbH19fSk7dmFyIGI9YS5fLmVsZW1lbnRzUGF0aCYmYS5fLmVsZW1lbnRzUGF0aC5maWx0ZXJzO2ImJmIucHVzaChmdW5jdGlvbihiLGMpe2lmKFwiYVwiPT1jJiYoQ0tFRElUT1IucGx1Z2lucy5saW5rLnRyeVJlc3RvcmVGYWtlQW5jaG9yKGEsXG5iKXx8Yi5nZXRBdHRyaWJ1dGUoXCJuYW1lXCIpJiYoIWIuZ2V0QXR0cmlidXRlKFwiaHJlZlwiKXx8IWIuZ2V0Q2hpbGRDb3VudCgpKSkpcmV0dXJuXCJhbmNob3JcIn0pfX0pO3ZhciBlPS9eamF2YXNjcmlwdDovLG09L15tYWlsdG86KFteP10rKSg/OlxcPyguKykpPyQvLGw9L3N1YmplY3Q9KFteOz86QCY9JCxcXC9dKikvaSxkPS9ib2R5PShbXjs/OkAmPSQsXFwvXSopL2ksaD0vXiMoLiopJC8saz0vXigoPzpodHRwfGh0dHBzfGZ0cHxuZXdzKTpcXC9cXC8pPyguKikkLyxnPS9eKF8oPzpzZWxmfHRvcHxwYXJlbnR8YmxhbmspKSQvLG49L15qYXZhc2NyaXB0OnZvaWRcXChsb2NhdGlvblxcLmhyZWY9J21haWx0bzonXFwrU3RyaW5nXFwuZnJvbUNoYXJDb2RlXFwoKFteKV0rKVxcKSg/OlxcKycoLiopJyk/XFwpJC8scT0vXmphdmFzY3JpcHQ6KFteKF0rKVxcKChbXildKylcXCkkLyxwPS9cXHMqd2luZG93Lm9wZW5cXChcXHMqdGhpc1xcLmhyZWZcXHMqLFxccyooPzonKFteJ10qKSd8bnVsbClcXHMqLFxccyonKFteJ10qKSdcXHMqXFwpXFxzKjtcXHMqcmV0dXJuXFxzKmZhbHNlOypcXHMqLyxcbnQ9Lyg/Ol58LCkoW149XSspPShcXGQrfHllc3xubykvZ2ksdj17aWQ6XCJhZHZJZFwiLGRpcjpcImFkdkxhbmdEaXJcIixhY2Nlc3NLZXk6XCJhZHZBY2Nlc3NLZXlcIixuYW1lOlwiYWR2TmFtZVwiLGxhbmc6XCJhZHZMYW5nQ29kZVwiLHRhYmluZGV4OlwiYWR2VGFiSW5kZXhcIix0aXRsZTpcImFkdlRpdGxlXCIsdHlwZTpcImFkdkNvbnRlbnRUeXBlXCIsXCJjbGFzc1wiOlwiYWR2Q1NTQ2xhc3Nlc1wiLGNoYXJzZXQ6XCJhZHZDaGFyc2V0XCIsc3R5bGU6XCJhZHZTdHlsZXNcIixyZWw6XCJhZHZSZWxcIn07Q0tFRElUT1IucGx1Z2lucy5saW5rPXtnZXRTZWxlY3RlZExpbms6ZnVuY3Rpb24oYSl7dmFyIGI9YS5nZXRTZWxlY3Rpb24oKSxjPWIuZ2V0U2VsZWN0ZWRFbGVtZW50KCk7cmV0dXJuIGMmJmMuaXMoXCJhXCIpP2M6KGI9Yi5nZXRSYW5nZXMoKVswXSk/KGIuc2hyaW5rKENLRURJVE9SLlNIUklOS19URVhUKSxhLmVsZW1lbnRQYXRoKGIuZ2V0Q29tbW9uQW5jZXN0b3IoKSkuY29udGFpbnMoXCJhXCIsMSkpOm51bGx9LGdldEVkaXRvckFuY2hvcnM6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPVxuYS5lZGl0YWJsZSgpLGM9Yi5pc0lubGluZSgpJiYhYS5wbHVnaW5zLmRpdmFyZWE/YS5kb2N1bWVudDpiLGI9Yy5nZXRFbGVtZW50c0J5VGFnKFwiYVwiKSxjPWMuZ2V0RWxlbWVudHNCeVRhZyhcImltZ1wiKSxkPVtdLGU9MCxmO2Y9Yi5nZXRJdGVtKGUrKyk7KShmLmRhdGEoXCJja2Utc2F2ZWQtbmFtZVwiKXx8Zi5oYXNBdHRyaWJ1dGUoXCJuYW1lXCIpKSYmZC5wdXNoKHtuYW1lOmYuZGF0YShcImNrZS1zYXZlZC1uYW1lXCIpfHxmLmdldEF0dHJpYnV0ZShcIm5hbWVcIiksaWQ6Zi5nZXRBdHRyaWJ1dGUoXCJpZFwiKX0pO2ZvcihlPTA7Zj1jLmdldEl0ZW0oZSsrKTspKGY9dGhpcy50cnlSZXN0b3JlRmFrZUFuY2hvcihhLGYpKSYmZC5wdXNoKHtuYW1lOmYuZ2V0QXR0cmlidXRlKFwibmFtZVwiKSxpZDpmLmdldEF0dHJpYnV0ZShcImlkXCIpfSk7cmV0dXJuIGR9LGZha2VBbmNob3I6ITAsdHJ5UmVzdG9yZUZha2VBbmNob3I6ZnVuY3Rpb24oYSxiKXtpZihiJiZiLmRhdGEoXCJja2UtcmVhbC1lbGVtZW50LXR5cGVcIikmJlxuXCJhbmNob3JcIj09Yi5kYXRhKFwiY2tlLXJlYWwtZWxlbWVudC10eXBlXCIpKXt2YXIgYz1hLnJlc3RvcmVSZWFsRWxlbWVudChiKTtpZihjLmRhdGEoXCJja2Utc2F2ZWQtbmFtZVwiKSlyZXR1cm4gY319LHBhcnNlTGlua0F0dHJpYnV0ZXM6ZnVuY3Rpb24oYSxiKXt2YXIgYz1iJiYoYi5kYXRhKFwiY2tlLXNhdmVkLWhyZWZcIil8fGIuZ2V0QXR0cmlidXRlKFwiaHJlZlwiKSl8fFwiXCIsZj1hLnBsdWdpbnMubGluay5jb21waWxlZFByb3RlY3Rpb25GdW5jdGlvbix3PWEuY29uZmlnLmVtYWlsUHJvdGVjdGlvbix6LEQ9e307Yy5tYXRjaChlKSYmKFwiZW5jb2RlXCI9PXc/Yz1jLnJlcGxhY2UobixmdW5jdGlvbihhLGIsYyl7Yz1jfHxcIlwiO3JldHVyblwibWFpbHRvOlwiK1N0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkoU3RyaW5nLGIuc3BsaXQoXCIsXCIpKStjLnJlcGxhY2UoL1xcXFwnL2csXCInXCIpfSk6dyYmYy5yZXBsYWNlKHEsZnVuY3Rpb24oYSxiLGMpe2lmKGI9PWYubmFtZSl7RC50eXBlPVwiZW1haWxcIjthPUQuZW1haWw9XG57fTtiPS8oXicpfCgnJCkvZztjPWMubWF0Y2goL1teLFxcc10rL2cpO2Zvcih2YXIgZD1jLmxlbmd0aCxlLGcsaD0wO2g8ZDtoKyspZT1kZWNvZGVVUklDb21wb25lbnQsZz1jW2hdLnJlcGxhY2UoYixcIlwiKS5yZXBsYWNlKC9cXFxcJy9nLFwiJ1wiKSxnPWUoZyksZT1mLnBhcmFtc1toXS50b0xvd2VyQ2FzZSgpLGFbZV09ZzthLmFkZHJlc3M9W2EubmFtZSxhLmRvbWFpbl0uam9pbihcIkBcIil9fSkpO2lmKCFELnR5cGUpaWYodz1jLm1hdGNoKGgpKUQudHlwZT1cImFuY2hvclwiLEQuYW5jaG9yPXt9LEQuYW5jaG9yLm5hbWU9RC5hbmNob3IuaWQ9d1sxXTtlbHNlIGlmKHc9Yy5tYXRjaChtKSl7ej1jLm1hdGNoKGwpO2M9Yy5tYXRjaChkKTtELnR5cGU9XCJlbWFpbFwiO3ZhciB5PUQuZW1haWw9e307eS5hZGRyZXNzPXdbMV07eiYmKHkuc3ViamVjdD1kZWNvZGVVUklDb21wb25lbnQoelsxXSkpO2MmJih5LmJvZHk9ZGVjb2RlVVJJQ29tcG9uZW50KGNbMV0pKX1lbHNlIGMmJih6PWMubWF0Y2goaykpJiZcbihELnR5cGU9XCJ1cmxcIixELnVybD17fSxELnVybC5wcm90b2NvbD16WzFdLEQudXJsLnVybD16WzJdKTtpZihiKXtpZihjPWIuZ2V0QXR0cmlidXRlKFwidGFyZ2V0XCIpKUQudGFyZ2V0PXt0eXBlOmMubWF0Y2goZyk/YzpcImZyYW1lXCIsbmFtZTpjfTtlbHNlIGlmKGM9KGM9Yi5kYXRhKFwiY2tlLXBhLW9uY2xpY2tcIil8fGIuZ2V0QXR0cmlidXRlKFwib25jbGlja1wiKSkmJmMubWF0Y2gocCkpZm9yKEQudGFyZ2V0PXt0eXBlOlwicG9wdXBcIixuYW1lOmNbMV19O3c9dC5leGVjKGNbMl0pOylcInllc1wiIT13WzJdJiZcIjFcIiE9d1syXXx8d1sxXWlue2hlaWdodDoxLHdpZHRoOjEsdG9wOjEsbGVmdDoxfT9pc0Zpbml0ZSh3WzJdKSYmKEQudGFyZ2V0W3dbMV1dPXdbMl0pOkQudGFyZ2V0W3dbMV1dPSEwO251bGwhPT1iLmdldEF0dHJpYnV0ZShcImRvd25sb2FkXCIpJiYoRC5kb3dubG9hZD0hMCk7dmFyIGM9e30sQTtmb3IoQSBpbiB2KSh3PWIuZ2V0QXR0cmlidXRlKEEpKSYmKGNbdltBXV09dyk7aWYoQT1cbmIuZGF0YShcImNrZS1zYXZlZC1uYW1lXCIpfHxjLmFkdk5hbWUpYy5hZHZOYW1lPUE7Q0tFRElUT1IudG9vbHMuaXNFbXB0eShjKXx8KEQuYWR2YW5jZWQ9Yyl9cmV0dXJuIER9LGdldExpbmtBdHRyaWJ1dGVzOmZ1bmN0aW9uKGMsZCl7dmFyIGU9Yy5jb25maWcuZW1haWxQcm90ZWN0aW9ufHxcIlwiLGc9e307c3dpdGNoKGQudHlwZSl7Y2FzZSBcInVybFwiOnZhciBlPWQudXJsJiZ2b2lkIDAhPT1kLnVybC5wcm90b2NvbD9kLnVybC5wcm90b2NvbDpcImh0dHA6Ly9cIixoPWQudXJsJiZDS0VESVRPUi50b29scy50cmltKGQudXJsLnVybCl8fFwiXCI7Z1tcImRhdGEtY2tlLXNhdmVkLWhyZWZcIl09MD09PWguaW5kZXhPZihcIi9cIik/aDplK2g7YnJlYWs7Y2FzZSBcImFuY2hvclwiOmU9ZC5hbmNob3ImJmQuYW5jaG9yLmlkO2dbXCJkYXRhLWNrZS1zYXZlZC1ocmVmXCJdPVwiI1wiKyhkLmFuY2hvciYmZC5hbmNob3IubmFtZXx8ZXx8XCJcIik7YnJlYWs7Y2FzZSBcImVtYWlsXCI6dmFyIGs9ZC5lbWFpbCxoPWsuYWRkcmVzcztcbnN3aXRjaChlKXtjYXNlIFwiXCI6Y2FzZSBcImVuY29kZVwiOnZhciBsPWVuY29kZVVSSUNvbXBvbmVudChrLnN1YmplY3R8fFwiXCIpLG09ZW5jb2RlVVJJQ29tcG9uZW50KGsuYm9keXx8XCJcIiksaz1bXTtsJiZrLnB1c2goXCJzdWJqZWN0XFx4M2RcIitsKTttJiZrLnB1c2goXCJib2R5XFx4M2RcIittKTtrPWsubGVuZ3RoP1wiP1wiK2suam9pbihcIlxceDI2XCIpOlwiXCI7XCJlbmNvZGVcIj09ZT8oZT1bXCJqYXZhc2NyaXB0OnZvaWQobG9jYXRpb24uaHJlZlxceDNkJ21haWx0bzonK1wiLGYoaCldLGsmJmUucHVzaChcIisnXCIsYShrKSxcIidcIiksZS5wdXNoKFwiKVwiKSk6ZT1bXCJtYWlsdG86XCIsaCxrXTticmVhaztkZWZhdWx0OmU9aC5zcGxpdChcIkBcIiwyKSxrLm5hbWU9ZVswXSxrLmRvbWFpbj1lWzFdLGU9W1wiamF2YXNjcmlwdDpcIixiKGMsayldfWdbXCJkYXRhLWNrZS1zYXZlZC1ocmVmXCJdPWUuam9pbihcIlwiKX1pZihkLnRhcmdldClpZihcInBvcHVwXCI9PWQudGFyZ2V0LnR5cGUpe2Zvcih2YXIgZT1bXCJ3aW5kb3cub3Blbih0aGlzLmhyZWYsICdcIixcbmQudGFyZ2V0Lm5hbWV8fFwiXCIsXCInLCAnXCJdLG49XCJyZXNpemFibGUgc3RhdHVzIGxvY2F0aW9uIHRvb2xiYXIgbWVudWJhciBmdWxsc2NyZWVuIHNjcm9sbGJhcnMgZGVwZW5kZW50XCIuc3BsaXQoXCIgXCIpLGg9bi5sZW5ndGgsbD1mdW5jdGlvbihhKXtkLnRhcmdldFthXSYmbi5wdXNoKGErXCJcXHgzZFwiK2QudGFyZ2V0W2FdKX0saz0wO2s8aDtrKyspbltrXSs9ZC50YXJnZXRbbltrXV0/XCJcXHgzZHllc1wiOlwiXFx4M2Rub1wiO2woXCJ3aWR0aFwiKTtsKFwibGVmdFwiKTtsKFwiaGVpZ2h0XCIpO2woXCJ0b3BcIik7ZS5wdXNoKG4uam9pbihcIixcIiksXCInKTsgcmV0dXJuIGZhbHNlO1wiKTtnW1wiZGF0YS1ja2UtcGEtb25jbGlja1wiXT1lLmpvaW4oXCJcIil9ZWxzZVwibm90U2V0XCIhPWQudGFyZ2V0LnR5cGUmJmQudGFyZ2V0Lm5hbWUmJihnLnRhcmdldD1kLnRhcmdldC5uYW1lKTtkLmRvd25sb2FkJiYoZy5kb3dubG9hZD1cIlwiKTtpZihkLmFkdmFuY2VkKXtmb3IodmFyIHQgaW4gdikoZT1kLmFkdmFuY2VkW3ZbdF1dKSYmXG4oZ1t0XT1lKTtnLm5hbWUmJihnW1wiZGF0YS1ja2Utc2F2ZWQtbmFtZVwiXT1nLm5hbWUpfWdbXCJkYXRhLWNrZS1zYXZlZC1ocmVmXCJdJiYoZy5ocmVmPWdbXCJkYXRhLWNrZS1zYXZlZC1ocmVmXCJdKTt0PXt0YXJnZXQ6MSxvbmNsaWNrOjEsXCJkYXRhLWNrZS1wYS1vbmNsaWNrXCI6MSxcImRhdGEtY2tlLXNhdmVkLW5hbWVcIjoxLGRvd25sb2FkOjF9O2QuYWR2YW5jZWQmJkNLRURJVE9SLnRvb2xzLmV4dGVuZCh0LHYpO2Zvcih2YXIgcCBpbiBnKWRlbGV0ZSB0W3BdO3JldHVybntzZXQ6ZyxyZW1vdmVkOkNLRURJVE9SLnRvb2xzLm9iamVjdEtleXModCl9fSxzaG93RGlzcGxheVRleHRGb3JFbGVtZW50OmZ1bmN0aW9uKGEsYil7dmFyIGM9e2ltZzoxLHRhYmxlOjEsdGJvZHk6MSx0aGVhZDoxLHRmb290OjEsaW5wdXQ6MSxzZWxlY3Q6MSx0ZXh0YXJlYToxfTtyZXR1cm4gYi53aWRnZXRzJiZiLndpZGdldHMuZm9jdXNlZD8hMTohYXx8IWEuZ2V0TmFtZXx8IWEuaXMoYyl9fTtDS0VESVRPUi51bmxpbmtDb21tYW5kPVxuZnVuY3Rpb24oKXt9O0NLRURJVE9SLnVubGlua0NvbW1hbmQucHJvdG90eXBlPXtleGVjOmZ1bmN0aW9uKGEpe3ZhciBiPW5ldyBDS0VESVRPUi5zdHlsZSh7ZWxlbWVudDpcImFcIix0eXBlOkNLRURJVE9SLlNUWUxFX0lOTElORSxhbHdheXNSZW1vdmVFbGVtZW50OjF9KTthLnJlbW92ZVN0eWxlKGIpfSxyZWZyZXNoOmZ1bmN0aW9uKGEsYil7dmFyIGM9Yi5sYXN0RWxlbWVudCYmYi5sYXN0RWxlbWVudC5nZXRBc2NlbmRhbnQoXCJhXCIsITApO2MmJlwiYVwiPT1jLmdldE5hbWUoKSYmYy5nZXRBdHRyaWJ1dGUoXCJocmVmXCIpJiZjLmdldENoaWxkQ291bnQoKT90aGlzLnNldFN0YXRlKENLRURJVE9SLlRSSVNUQVRFX09GRik6dGhpcy5zZXRTdGF0ZShDS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRCl9LGNvbnRleHRTZW5zaXRpdmU6MSxzdGFydERpc2FibGVkOjEscmVxdWlyZWRDb250ZW50OlwiYVtocmVmXVwifTtDS0VESVRPUi5yZW1vdmVBbmNob3JDb21tYW5kPWZ1bmN0aW9uKCl7fTtDS0VESVRPUi5yZW1vdmVBbmNob3JDb21tYW5kLnByb3RvdHlwZT1cbntleGVjOmZ1bmN0aW9uKGEpe3ZhciBiPWEuZ2V0U2VsZWN0aW9uKCksYz1iLmNyZWF0ZUJvb2ttYXJrcygpLGQ7aWYoYiYmKGQ9Yi5nZXRTZWxlY3RlZEVsZW1lbnQoKSkmJihkLmdldENoaWxkQ291bnQoKT9kLmlzKFwiYVwiKTpDS0VESVRPUi5wbHVnaW5zLmxpbmsudHJ5UmVzdG9yZUZha2VBbmNob3IoYSxkKSkpZC5yZW1vdmUoMSk7ZWxzZSBpZihkPUNLRURJVE9SLnBsdWdpbnMubGluay5nZXRTZWxlY3RlZExpbmsoYSkpZC5oYXNBdHRyaWJ1dGUoXCJocmVmXCIpPyhkLnJlbW92ZUF0dHJpYnV0ZXMoe25hbWU6MSxcImRhdGEtY2tlLXNhdmVkLW5hbWVcIjoxfSksZC5yZW1vdmVDbGFzcyhcImNrZV9hbmNob3JcIikpOmQucmVtb3ZlKDEpO2Iuc2VsZWN0Qm9va21hcmtzKGMpfSxyZXF1aXJlZENvbnRlbnQ6XCJhW25hbWVdXCJ9O0NLRURJVE9SLnRvb2xzLmV4dGVuZChDS0VESVRPUi5jb25maWcse2xpbmtTaG93QWR2YW5jZWRUYWI6ITAsbGlua1Nob3dUYXJnZXRUYWI6ITB9KX0oKSxcInVzZSBzdHJpY3RcIixcbmZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhLGIsYyl7cmV0dXJuIG4oYikmJm4oYykmJmMuZXF1YWxzKGIuZ2V0TmV4dChmdW5jdGlvbihhKXtyZXR1cm4hKFooYSl8fFgoYSl8fHEoYSkpfSkpfWZ1bmN0aW9uIGYoYSl7dGhpcy51cHBlcj1hWzBdO3RoaXMubG93ZXI9YVsxXTt0aGlzLnNldC5hcHBseSh0aGlzLGEuc2xpY2UoMikpfWZ1bmN0aW9uIGIoYSl7dmFyIGI9YS5lbGVtZW50O2lmKGImJm4oYikmJihiPWIuZ2V0QXNjZW5kYW50KGEudHJpZ2dlcnMsITApKSYmYS5lZGl0YWJsZS5jb250YWlucyhiKSl7dmFyIGM9bChiKTtpZihcInRydWVcIj09Yy5nZXRBdHRyaWJ1dGUoXCJjb250ZW50ZWRpdGFibGVcIikpcmV0dXJuIGI7aWYoYy5pcyhhLnRyaWdnZXJzKSlyZXR1cm4gY31yZXR1cm4gbnVsbH1mdW5jdGlvbiBjKGEsYixjKXt3KGEsYik7dyhhLGMpO2E9Yi5zaXplLmJvdHRvbTtjPWMuc2l6ZS50b3A7cmV0dXJuIGEmJmM/MHwoYStjKS8yOmF8fGN9ZnVuY3Rpb24gZShhLGIsYyl7cmV0dXJuIGI9XG5iW2M/XCJnZXRQcmV2aW91c1wiOlwiZ2V0TmV4dFwiXShmdW5jdGlvbihiKXtyZXR1cm4gYiYmYi50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFQmJiFaKGIpfHxuKGIpJiYhcShiKSYmIWcoYSxiKX0pfWZ1bmN0aW9uIG0oYSxiLGMpe3JldHVybiBhPmImJmE8Y31mdW5jdGlvbiBsKGEsYil7aWYoYS5kYXRhKFwiY2tlLWVkaXRhYmxlXCIpKXJldHVybiBudWxsO2ZvcihifHwoYT1hLmdldFBhcmVudCgpKTthJiYhYS5kYXRhKFwiY2tlLWVkaXRhYmxlXCIpOyl7aWYoYS5oYXNBdHRyaWJ1dGUoXCJjb250ZW50ZWRpdGFibGVcIikpcmV0dXJuIGE7YT1hLmdldFBhcmVudCgpfXJldHVybiBudWxsfWZ1bmN0aW9uIGQoYSl7dmFyIGI9YS5kb2MsYz1GKCdcXHgzY3NwYW4gY29udGVudGVkaXRhYmxlXFx4M2RcImZhbHNlXCIgc3R5bGVcXHgzZFwiJytRK1wicG9zaXRpb246YWJzb2x1dGU7Ym9yZGVyLXRvcDoxcHggZGFzaGVkIFwiK2EuYm94Q29sb3IrJ1wiXFx4M2VcXHgzYy9zcGFuXFx4M2UnLGIpLGQ9Q0tFRElUT1IuZ2V0VXJsKHRoaXMucGF0aCtcblwiaW1hZ2VzL1wiKyhFLmhpZHBpP1wiaGlkcGkvXCI6XCJcIikrXCJpY29uXCIrKGEucnRsP1wiLXJ0bFwiOlwiXCIpK1wiLnBuZ1wiKTtBKGMse2F0dGFjaDpmdW5jdGlvbigpe3RoaXMud3JhcC5nZXRQYXJlbnQoKXx8dGhpcy53cmFwLmFwcGVuZFRvKGEuZWRpdGFibGUsITApO3JldHVybiB0aGlzfSxsaW5lQ2hpbGRyZW46W0EoRignXFx4M2NzcGFuIHRpdGxlXFx4M2RcIicrYS5lZGl0b3IubGFuZy5tYWdpY2xpbmUudGl0bGUrJ1wiIGNvbnRlbnRlZGl0YWJsZVxceDNkXCJmYWxzZVwiXFx4M2VcXHgyNiM4NjI5O1xceDNjL3NwYW5cXHgzZScsYikse2Jhc2U6UStcImhlaWdodDoxN3B4O3dpZHRoOjE3cHg7XCIrKGEucnRsP1wibGVmdFwiOlwicmlnaHRcIikrXCI6MTdweDtiYWNrZ3JvdW5kOnVybChcIitkK1wiKSBjZW50ZXIgbm8tcmVwZWF0IFwiK2EuYm94Q29sb3IrXCI7Y3Vyc29yOnBvaW50ZXI7XCIrKEUuaGM/XCJmb250LXNpemU6IDE1cHg7bGluZS1oZWlnaHQ6MTRweDtib3JkZXI6MXB4IHNvbGlkICNmZmY7dGV4dC1hbGlnbjpjZW50ZXI7XCI6XG5cIlwiKSsoRS5oaWRwaT9cImJhY2tncm91bmQtc2l6ZTogOXB4IDEwcHg7XCI6XCJcIiksbG9va3M6W1widG9wOi04cHg7IGJvcmRlci1yYWRpdXM6IDJweDtcIixcInRvcDotMTdweDsgYm9yZGVyLXJhZGl1czogMnB4IDJweCAwcHggMHB4O1wiLFwidG9wOi0xcHg7IGJvcmRlci1yYWRpdXM6IDBweCAwcHggMnB4IDJweDtcIl19KSxBKEYoVixiKSx7YmFzZTpZK1wibGVmdDowcHg7Ym9yZGVyLWxlZnQtY29sb3I6XCIrYS5ib3hDb2xvcitcIjtcIixsb29rczpbXCJib3JkZXItd2lkdGg6OHB4IDAgOHB4IDhweDt0b3A6LThweFwiLFwiYm9yZGVyLXdpZHRoOjhweCAwIDAgOHB4O3RvcDotOHB4XCIsXCJib3JkZXItd2lkdGg6MCAwIDhweCA4cHg7dG9wOjBweFwiXX0pLEEoRihWLGIpLHtiYXNlOlkrXCJyaWdodDowcHg7Ym9yZGVyLXJpZ2h0LWNvbG9yOlwiK2EuYm94Q29sb3IrXCI7XCIsbG9va3M6W1wiYm9yZGVyLXdpZHRoOjhweCA4cHggOHB4IDA7dG9wOi04cHhcIixcImJvcmRlci13aWR0aDo4cHggOHB4IDAgMDt0b3A6LThweFwiLFxuXCJib3JkZXItd2lkdGg6MCA4cHggOHB4IDA7dG9wOjBweFwiXX0pXSxkZXRhY2g6ZnVuY3Rpb24oKXt0aGlzLndyYXAuZ2V0UGFyZW50KCkmJnRoaXMud3JhcC5yZW1vdmUoKTtyZXR1cm4gdGhpc30sbW91c2VOZWFyOmZ1bmN0aW9uKCl7dyhhLHRoaXMpO3ZhciBiPWEuaG9sZERpc3RhbmNlLGM9dGhpcy5zaXplO3JldHVybiBjJiZtKGEubW91c2UueSxjLnRvcC1iLGMuYm90dG9tK2IpJiZtKGEubW91c2UueCxjLmxlZnQtYixjLnJpZ2h0K2IpPyEwOiExfSxwbGFjZTpmdW5jdGlvbigpe3ZhciBiPWEudmlldyxjPWEuZWRpdGFibGUsZD1hLnRyaWdnZXIsZT1kLnVwcGVyLGY9ZC5sb3dlcixnPWV8fGYsaD1nLmdldFBhcmVudCgpLGs9e307dGhpcy50cmlnZ2VyPWQ7ZSYmdyhhLGUsITApO2YmJncoYSxmLCEwKTt3KGEsaCwhMCk7YS5pbklubGluZU1vZGUmJnooYSwhMCk7aC5lcXVhbHMoYyk/KGsubGVmdD1iLnNjcm9sbC54LGsucmlnaHQ9LWIuc2Nyb2xsLngsay53aWR0aD1cIlwiKTooay5sZWZ0PVxuZy5zaXplLmxlZnQtZy5zaXplLm1hcmdpbi5sZWZ0K2Iuc2Nyb2xsLngtKGEuaW5JbmxpbmVNb2RlP2IuZWRpdGFibGUubGVmdCtiLmVkaXRhYmxlLmJvcmRlci5sZWZ0OjApLGsud2lkdGg9Zy5zaXplLm91dGVyV2lkdGgrZy5zaXplLm1hcmdpbi5sZWZ0K2cuc2l6ZS5tYXJnaW4ucmlnaHQrYi5zY3JvbGwueCxrLnJpZ2h0PVwiXCIpO2UmJmY/ay50b3A9ZS5zaXplLm1hcmdpbi5ib3R0b209PT1mLnNpemUubWFyZ2luLnRvcD8wfGUuc2l6ZS5ib3R0b20rZS5zaXplLm1hcmdpbi5ib3R0b20vMjplLnNpemUubWFyZ2luLmJvdHRvbTxmLnNpemUubWFyZ2luLnRvcD9lLnNpemUuYm90dG9tK2Uuc2l6ZS5tYXJnaW4uYm90dG9tOmUuc2l6ZS5ib3R0b20rZS5zaXplLm1hcmdpbi5ib3R0b20tZi5zaXplLm1hcmdpbi50b3A6ZT9mfHwoay50b3A9ZS5zaXplLmJvdHRvbStlLnNpemUubWFyZ2luLmJvdHRvbSk6ay50b3A9Zi5zaXplLnRvcC1mLnNpemUubWFyZ2luLnRvcDtkLmlzKFQpfHxtKGsudG9wLFxuYi5zY3JvbGwueS0xNSxiLnNjcm9sbC55KzUpPyhrLnRvcD1hLmluSW5saW5lTW9kZT8wOmIuc2Nyb2xsLnksdGhpcy5sb29rKFQpKTpkLmlzKE8pfHxtKGsudG9wLGIucGFuZS5ib3R0b20tNSxiLnBhbmUuYm90dG9tKzE1KT8oay50b3A9YS5pbklubGluZU1vZGU/Yi5lZGl0YWJsZS5oZWlnaHQrYi5lZGl0YWJsZS5wYWRkaW5nLnRvcCtiLmVkaXRhYmxlLnBhZGRpbmcuYm90dG9tOmIucGFuZS5ib3R0b20tMSx0aGlzLmxvb2soTykpOihhLmluSW5saW5lTW9kZSYmKGsudG9wLT1iLmVkaXRhYmxlLnRvcCtiLmVkaXRhYmxlLmJvcmRlci50b3ApLHRoaXMubG9vayhLKSk7YS5pbklubGluZU1vZGUmJihrLnRvcC0tLGsudG9wKz1iLmVkaXRhYmxlLnNjcm9sbC50b3Asay5sZWZ0Kz1iLmVkaXRhYmxlLnNjcm9sbC5sZWZ0KTtmb3IodmFyIGwgaW4gaylrW2xdPUNLRURJVE9SLnRvb2xzLmNzc0xlbmd0aChrW2xdKTt0aGlzLnNldFN0eWxlcyhrKX0sbG9vazpmdW5jdGlvbihhKXtpZih0aGlzLm9sZExvb2shPVxuYSl7Zm9yKHZhciBiPXRoaXMubGluZUNoaWxkcmVuLmxlbmd0aCxjO2ItLTspKGM9dGhpcy5saW5lQ2hpbGRyZW5bYl0pLnNldEF0dHJpYnV0ZShcInN0eWxlXCIsYy5iYXNlK2MubG9va3NbMHxhLzJdKTt0aGlzLm9sZExvb2s9YX19LHdyYXA6bmV3IEMoXCJzcGFuXCIsYS5kb2MpfSk7Zm9yKGI9Yy5saW5lQ2hpbGRyZW4ubGVuZ3RoO2ItLTspYy5saW5lQ2hpbGRyZW5bYl0uYXBwZW5kVG8oYyk7Yy5sb29rKEspO2MuYXBwZW5kVG8oYy53cmFwKTtjLnVuc2VsZWN0YWJsZSgpO2MubGluZUNoaWxkcmVuWzBdLm9uKFwibW91c2V1cFwiLGZ1bmN0aW9uKGIpe2MuZGV0YWNoKCk7aChhLGZ1bmN0aW9uKGIpe3ZhciBjPWEubGluZS50cmlnZ2VyO2JbYy5pcyhJKT9cImluc2VydEJlZm9yZVwiOlwiaW5zZXJ0QWZ0ZXJcIl0oYy5pcyhJKT9jLmxvd2VyOmMudXBwZXIpfSwhMCk7YS5lZGl0b3IuZm9jdXMoKTtFLmllfHxhLmVudGVyTW9kZT09Q0tFRElUT1IuRU5URVJfQlJ8fGEuaG90Tm9kZS5zY3JvbGxJbnRvVmlldygpO1xuYi5kYXRhLnByZXZlbnREZWZhdWx0KCEwKX0pO2Mub24oXCJtb3VzZWRvd25cIixmdW5jdGlvbihhKXthLmRhdGEucHJldmVudERlZmF1bHQoITApfSk7YS5saW5lPWN9ZnVuY3Rpb24gaChhLGIsYyl7dmFyIGQ9bmV3IENLRURJVE9SLmRvbS5yYW5nZShhLmRvYyksZT1hLmVkaXRvcixmO0UuaWUmJmEuZW50ZXJNb2RlPT1DS0VESVRPUi5FTlRFUl9CUj9mPWEuZG9jLmNyZWF0ZVRleHQoY2EpOihmPShmPWwoYS5lbGVtZW50LCEwKSkmJmYuZGF0YShcImNrZS1lbnRlci1tb2RlXCIpfHxhLmVudGVyTW9kZSxmPW5ldyBDKE1bZl0sYS5kb2MpLGYuaXMoXCJiclwiKXx8YS5kb2MuY3JlYXRlVGV4dChjYSkuYXBwZW5kVG8oZikpO2MmJmUuZmlyZShcInNhdmVTbmFwc2hvdFwiKTtiKGYpO2QubW92ZVRvUG9zaXRpb24oZixDS0VESVRPUi5QT1NJVElPTl9BRlRFUl9TVEFSVCk7ZS5nZXRTZWxlY3Rpb24oKS5zZWxlY3RSYW5nZXMoW2RdKTthLmhvdE5vZGU9ZjtjJiZlLmZpcmUoXCJzYXZlU25hcHNob3RcIil9XG5mdW5jdGlvbiBrKGEsYyl7cmV0dXJue2NhblVuZG86ITAsbW9kZXM6e3d5c2l3eWc6MX0sZXhlYzpmdW5jdGlvbigpe2Z1bmN0aW9uIGQoYil7dmFyIGU9RS5pZSYmOT5FLnZlcnNpb24/XCIgXCI6Y2EsZj1hLmhvdE5vZGUmJmEuaG90Tm9kZS5nZXRUZXh0KCk9PWUmJmEuZWxlbWVudC5lcXVhbHMoYS5ob3ROb2RlKSYmYS5sYXN0Q21kRGlyZWN0aW9uPT09ISFjO2goYSxmdW5jdGlvbihkKXtmJiZhLmhvdE5vZGUmJmEuaG90Tm9kZS5yZW1vdmUoKTtkW2M/XCJpbnNlcnRBZnRlclwiOlwiaW5zZXJ0QmVmb3JlXCJdKGIpO2Quc2V0QXR0cmlidXRlcyh7XCJkYXRhLWNrZS1tYWdpY2xpbmUtaG90XCI6MSxcImRhdGEtY2tlLW1hZ2ljbGluZS1kaXJcIjohIWN9KTthLmxhc3RDbWREaXJlY3Rpb249ISFjfSk7RS5pZXx8YS5lbnRlck1vZGU9PUNLRURJVE9SLkVOVEVSX0JSfHxhLmhvdE5vZGUuc2Nyb2xsSW50b1ZpZXcoKTthLmxpbmUuZGV0YWNoKCl9cmV0dXJuIGZ1bmN0aW9uKGYpe2Y9Zi5nZXRTZWxlY3Rpb24oKS5nZXRTdGFydEVsZW1lbnQoKTtcbnZhciBnO2Y9Zi5nZXRBc2NlbmRhbnQoTiwxKTtpZighdihhLGYpJiZmJiYhZi5lcXVhbHMoYS5lZGl0YWJsZSkmJiFmLmNvbnRhaW5zKGEuZWRpdGFibGUpKXsoZz1sKGYpKSYmXCJmYWxzZVwiPT1nLmdldEF0dHJpYnV0ZShcImNvbnRlbnRlZGl0YWJsZVwiKSYmKGY9Zyk7YS5lbGVtZW50PWY7Zz1lKGEsZiwhYyk7dmFyIGg7bihnKSYmZy5pcyhhLnRyaWdnZXJzKSYmZy5pcyhMKSYmKCFlKGEsZywhYyl8fChoPWUoYSxnLCFjKSkmJm4oaCkmJmguaXMoYS50cmlnZ2VycykpP2QoZyk6KGg9YihhLGYpLG4oaCkmJihlKGEsaCwhYyk/KGY9ZShhLGgsIWMpKSYmbihmKSYmZi5pcyhhLnRyaWdnZXJzKSYmZChoKTpkKGgpKSl9fX0oKX19ZnVuY3Rpb24gZyhhLGIpe2lmKCFifHxiLnR5cGUhPUNLRURJVE9SLk5PREVfRUxFTUVOVHx8IWIuJClyZXR1cm4hMTt2YXIgYz1hLmxpbmU7cmV0dXJuIGMud3JhcC5lcXVhbHMoYil8fGMud3JhcC5jb250YWlucyhiKX1mdW5jdGlvbiBuKGEpe3JldHVybiBhJiZcbmEudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZhLiR9ZnVuY3Rpb24gcShhKXtpZighbihhKSlyZXR1cm4hMTt2YXIgYjsoYj1wKGEpKXx8KG4oYSk/KGI9e2xlZnQ6MSxyaWdodDoxLGNlbnRlcjoxfSxiPSEoIWJbYS5nZXRDb21wdXRlZFN0eWxlKFwiZmxvYXRcIildJiYhYlthLmdldEF0dHJpYnV0ZShcImFsaWduXCIpXSkpOmI9ITEpO3JldHVybiBifWZ1bmN0aW9uIHAoYSl7cmV0dXJuISF7YWJzb2x1dGU6MSxmaXhlZDoxfVthLmdldENvbXB1dGVkU3R5bGUoXCJwb3NpdGlvblwiKV19ZnVuY3Rpb24gdChhLGIpe3JldHVybiBuKGIpP2IuaXMoYS50cmlnZ2Vycyk6bnVsbH1mdW5jdGlvbiB2KGEsYil7aWYoIWIpcmV0dXJuITE7Zm9yKHZhciBjPWIuZ2V0UGFyZW50cygxKSxkPWMubGVuZ3RoO2QtLTspZm9yKHZhciBlPWEudGFidUxpc3QubGVuZ3RoO2UtLTspaWYoY1tkXS5oYXNBdHRyaWJ1dGUoYS50YWJ1TGlzdFtlXSkpcmV0dXJuITA7cmV0dXJuITF9ZnVuY3Rpb24gcihhLGIsYyl7Yj1cbmJbYz9cImdldExhc3RcIjpcImdldEZpcnN0XCJdKGZ1bmN0aW9uKGIpe3JldHVybiBhLmlzUmVsZXZhbnQoYikmJiFiLmlzKFUpfSk7aWYoIWIpcmV0dXJuITE7dyhhLGIpO3JldHVybiBjP2Iuc2l6ZS50b3A+YS5tb3VzZS55OmIuc2l6ZS5ib3R0b208YS5tb3VzZS55fWZ1bmN0aW9uIHUoYSl7dmFyIGI9YS5lZGl0YWJsZSxjPWEubW91c2UsZD1hLnZpZXcsZT1hLnRyaWdnZXJPZmZzZXQ7eihhKTt2YXIgaD1jLnk+KGEuaW5JbmxpbmVNb2RlP2QuZWRpdGFibGUudG9wK2QuZWRpdGFibGUuaGVpZ2h0LzI6TWF0aC5taW4oZC5lZGl0YWJsZS5oZWlnaHQsZC5wYW5lLmhlaWdodCkvMiksYj1iW2g/XCJnZXRMYXN0XCI6XCJnZXRGaXJzdFwiXShmdW5jdGlvbihhKXtyZXR1cm4hKFooYSl8fFgoYSkpfSk7aWYoIWIpcmV0dXJuIG51bGw7ZyhhLGIpJiYoYj1hLmxpbmUud3JhcFtoP1wiZ2V0UHJldmlvdXNcIjpcImdldE5leHRcIl0oZnVuY3Rpb24oYSl7cmV0dXJuIShaKGEpfHxYKGEpKX0pKTtpZighbihiKXx8XG5xKGIpfHwhdChhLGIpKXJldHVybiBudWxsO3coYSxiKTtyZXR1cm4haCYmMDw9Yi5zaXplLnRvcCYmbShjLnksMCxiLnNpemUudG9wK2UpPyhhPWEuaW5JbmxpbmVNb2RlfHwwPT09ZC5zY3JvbGwueT9UOkssbmV3IGYoW251bGwsYixJLFAsYV0pKTpoJiZiLnNpemUuYm90dG9tPD1kLnBhbmUuaGVpZ2h0JiZtKGMueSxiLnNpemUuYm90dG9tLWUsZC5wYW5lLmhlaWdodCk/KGE9YS5pbklubGluZU1vZGV8fG0oYi5zaXplLmJvdHRvbSxkLnBhbmUuaGVpZ2h0LWUsZC5wYW5lLmhlaWdodCk/TzpLLG5ldyBmKFtiLG51bGwsSCxQLGFdKSk6bnVsbH1mdW5jdGlvbiBCKGEpe3ZhciBjPWEubW91c2UsZD1hLnZpZXcsZz1hLnRyaWdnZXJPZmZzZXQsaD1iKGEpO2lmKCFoKXJldHVybiBudWxsO3coYSxoKTt2YXIgZz1NYXRoLm1pbihnLDB8aC5zaXplLm91dGVySGVpZ2h0LzIpLGs9W10sbCxwO2lmKG0oYy55LGguc2l6ZS50b3AtMSxoLnNpemUudG9wK2cpKXA9ITE7ZWxzZSBpZihtKGMueSxcbmguc2l6ZS5ib3R0b20tZyxoLnNpemUuYm90dG9tKzEpKXA9ITA7ZWxzZSByZXR1cm4gbnVsbDtpZihxKGgpfHxyKGEsaCxwKXx8aC5nZXRQYXJlbnQoKS5pcyhXKSlyZXR1cm4gbnVsbDt2YXIgdT1lKGEsaCwhcCk7aWYodSl7aWYodSYmdS50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFQpcmV0dXJuIG51bGw7aWYobih1KSl7aWYocSh1KXx8IXQoYSx1KXx8dS5nZXRQYXJlbnQoKS5pcyhXKSlyZXR1cm4gbnVsbDtrPVt1LGhdW3A/XCJyZXZlcnNlXCI6XCJjb25jYXRcIl0oKS5jb25jYXQoW1IsUF0pfX1lbHNlIGguZXF1YWxzKGEuZWRpdGFibGVbcD9cImdldExhc3RcIjpcImdldEZpcnN0XCJdKGEuaXNSZWxldmFudCkpPyh6KGEpLHAmJm0oYy55LGguc2l6ZS5ib3R0b20tZyxkLnBhbmUuaGVpZ2h0KSYmbShoLnNpemUuYm90dG9tLGQucGFuZS5oZWlnaHQtZyxkLnBhbmUuaGVpZ2h0KT9sPU86bShjLnksMCxoLnNpemUudG9wK2cpJiYobD1UKSk6bD1LLGs9W251bGwsaF1bcD9cInJldmVyc2VcIjpcImNvbmNhdFwiXSgpLmNvbmNhdChbcD9cbkg6SSxQLGwsaC5lcXVhbHMoYS5lZGl0YWJsZVtwP1wiZ2V0TGFzdFwiOlwiZ2V0Rmlyc3RcIl0oYS5pc1JlbGV2YW50KSk/cD9POlQ6S10pO3JldHVybiAwIGluIGs/bmV3IGYoayk6bnVsbH1mdW5jdGlvbiB4KGEsYixjLGQpe2Zvcih2YXIgZT1iLmdldERvY3VtZW50UG9zaXRpb24oKSxmPXt9LGc9e30saD17fSxrPXt9LGw9YmEubGVuZ3RoO2wtLTspZltiYVtsXV09cGFyc2VJbnQoYi5nZXRDb21wdXRlZFN0eWxlLmNhbGwoYixcImJvcmRlci1cIitiYVtsXStcIi13aWR0aFwiKSwxMCl8fDAsaFtiYVtsXV09cGFyc2VJbnQoYi5nZXRDb21wdXRlZFN0eWxlLmNhbGwoYixcInBhZGRpbmctXCIrYmFbbF0pLDEwKXx8MCxnW2JhW2xdXT1wYXJzZUludChiLmdldENvbXB1dGVkU3R5bGUuY2FsbChiLFwibWFyZ2luLVwiK2JhW2xdKSwxMCl8fDA7YyYmIWR8fEQoYSxkKTtrLnRvcD1lLnktKGM/MDphLnZpZXcuc2Nyb2xsLnkpO2subGVmdD1lLngtKGM/MDphLnZpZXcuc2Nyb2xsLngpO2sub3V0ZXJXaWR0aD1cbmIuJC5vZmZzZXRXaWR0aDtrLm91dGVySGVpZ2h0PWIuJC5vZmZzZXRIZWlnaHQ7ay5oZWlnaHQ9ay5vdXRlckhlaWdodC0oaC50b3AraC5ib3R0b20rZi50b3ArZi5ib3R0b20pO2sud2lkdGg9ay5vdXRlcldpZHRoLShoLmxlZnQraC5yaWdodCtmLmxlZnQrZi5yaWdodCk7ay5ib3R0b209ay50b3Aray5vdXRlckhlaWdodDtrLnJpZ2h0PWsubGVmdCtrLm91dGVyV2lkdGg7YS5pbklubGluZU1vZGUmJihrLnNjcm9sbD17dG9wOmIuJC5zY3JvbGxUb3AsbGVmdDpiLiQuc2Nyb2xsTGVmdH0pO3JldHVybiBBKHtib3JkZXI6ZixwYWRkaW5nOmgsbWFyZ2luOmcsaWdub3JlU2Nyb2xsOmN9LGssITApfWZ1bmN0aW9uIHcoYSxiLGMpe2lmKCFuKGIpKXJldHVybiBiLnNpemU9bnVsbDtpZighYi5zaXplKWIuc2l6ZT17fTtlbHNlIGlmKGIuc2l6ZS5pZ25vcmVTY3JvbGw9PWMmJmIuc2l6ZS5kYXRlPm5ldyBEYXRlLVMpcmV0dXJuIG51bGw7cmV0dXJuIEEoYi5zaXplLHgoYSxiLGMpLHtkYXRlOituZXcgRGF0ZX0sXG4hMCl9ZnVuY3Rpb24geihhLGIpe2Eudmlldy5lZGl0YWJsZT14KGEsYS5lZGl0YWJsZSxiLCEwKX1mdW5jdGlvbiBEKGEsYil7YS52aWV3fHwoYS52aWV3PXt9KTt2YXIgYz1hLnZpZXc7aWYoISghYiYmYyYmYy5kYXRlPm5ldyBEYXRlLVMpKXt2YXIgZD1hLndpbixjPWQuZ2V0U2Nyb2xsUG9zaXRpb24oKSxkPWQuZ2V0Vmlld1BhbmVTaXplKCk7QShhLnZpZXcse3Njcm9sbDp7eDpjLngseTpjLnksd2lkdGg6YS5kb2MuJC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsV2lkdGgtZC53aWR0aCxoZWlnaHQ6YS5kb2MuJC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsSGVpZ2h0LWQuaGVpZ2h0fSxwYW5lOnt3aWR0aDpkLndpZHRoLGhlaWdodDpkLmhlaWdodCxib3R0b206ZC5oZWlnaHQrYy55fSxkYXRlOituZXcgRGF0ZX0sITApfX1mdW5jdGlvbiB5KGEsYixjLGQpe2Zvcih2YXIgZT1kLGc9ZCxoPTAsaz0hMSxsPSExLG09YS52aWV3LnBhbmUuaGVpZ2h0LG49YS5tb3VzZTtuLnkraDxtJiYwPG4ueS1cbmg7KXtrfHwoaz1iKGUsZCkpO2x8fChsPWIoZyxkKSk7IWsmJjA8bi55LWgmJihlPWMoYSx7eDpuLngseTpuLnktaH0pKTshbCYmbi55K2g8bSYmKGc9YyhhLHt4Om4ueCx5Om4ueStofSkpO2lmKGsmJmwpYnJlYWs7aCs9Mn1yZXR1cm4gbmV3IGYoW2UsZyxudWxsLG51bGxdKX1DS0VESVRPUi5wbHVnaW5zLmFkZChcIm1hZ2ljbGluZVwiLHtpbml0OmZ1bmN0aW9uKGEpe3ZhciBjPWEuY29uZmlnLGw9Yy5tYWdpY2xpbmVfdHJpZ2dlck9mZnNldHx8MzAsbT17ZWRpdG9yOmEsZW50ZXJNb2RlOmMuZW50ZXJNb2RlLHRyaWdnZXJPZmZzZXQ6bCxob2xkRGlzdGFuY2U6MHxsKihjLm1hZ2ljbGluZV9ob2xkRGlzdGFuY2V8fC41KSxib3hDb2xvcjpjLm1hZ2ljbGluZV9jb2xvcnx8XCIjZmYwMDAwXCIscnRsOlwicnRsXCI9PWMuY29udGVudHNMYW5nRGlyZWN0aW9uLHRhYnVMaXN0OltcImRhdGEtY2tlLWhpZGRlbi1zZWxcIl0uY29uY2F0KGMubWFnaWNsaW5lX3RhYnVMaXN0fHxbXSksdHJpZ2dlcnM6Yy5tYWdpY2xpbmVfZXZlcnl3aGVyZT9cbk46e3RhYmxlOjEsaHI6MSxkaXY6MSx1bDoxLG9sOjEsZGw6MSxmb3JtOjEsYmxvY2txdW90ZToxfX0sdCxyLHc7bS5pc1JlbGV2YW50PWZ1bmN0aW9uKGEpe3JldHVybiBuKGEpJiYhZyhtLGEpJiYhcShhKX07YS5vbihcImNvbnRlbnREb21cIixmdW5jdGlvbigpe3ZhciBsPWEuZWRpdGFibGUoKSxuPWEuZG9jdW1lbnQscT1hLndpbmRvdztBKG0se2VkaXRhYmxlOmwsaW5JbmxpbmVNb2RlOmwuaXNJbmxpbmUoKSxkb2M6bix3aW46cSxob3ROb2RlOm51bGx9LCEwKTttLmJvdW5kYXJ5PW0uaW5JbmxpbmVNb2RlP20uZWRpdGFibGU6bS5kb2MuZ2V0RG9jdW1lbnRFbGVtZW50KCk7bC5pcyhHLiRpbmxpbmUpfHwobS5pbklubGluZU1vZGUmJiFwKGwpJiZsLnNldFN0eWxlcyh7cG9zaXRpb246XCJyZWxhdGl2ZVwiLHRvcDpudWxsLGxlZnQ6bnVsbH0pLGQuY2FsbCh0aGlzLG0pLEQobSksbC5hdHRhY2hMaXN0ZW5lcihhLFwiYmVmb3JlVW5kb0ltYWdlXCIsZnVuY3Rpb24oKXttLmxpbmUuZGV0YWNoKCl9KSxcbmwuYXR0YWNoTGlzdGVuZXIoYSxcImJlZm9yZUdldERhdGFcIixmdW5jdGlvbigpe20ubGluZS53cmFwLmdldFBhcmVudCgpJiYobS5saW5lLmRldGFjaCgpLGEub25jZShcImdldERhdGFcIixmdW5jdGlvbigpe20ubGluZS5hdHRhY2goKX0sbnVsbCxudWxsLDFFMykpfSxudWxsLG51bGwsMCksbC5hdHRhY2hMaXN0ZW5lcihtLmluSW5saW5lTW9kZT9uOm4uZ2V0V2luZG93KCkuZ2V0RnJhbWUoKSxcIm1vdXNlb3V0XCIsZnVuY3Rpb24oYil7aWYoXCJ3eXNpd3lnXCI9PWEubW9kZSlpZihtLmluSW5saW5lTW9kZSl7dmFyIGM9Yi5kYXRhLiQuY2xpZW50WDtiPWIuZGF0YS4kLmNsaWVudFk7RChtKTt6KG0sITApO3ZhciBkPW0udmlldy5lZGl0YWJsZSxlPW0udmlldy5zY3JvbGw7Yz5kLmxlZnQtZS54JiZjPGQucmlnaHQtZS54JiZiPmQudG9wLWUueSYmYjxkLmJvdHRvbS1lLnl8fChjbGVhclRpbWVvdXQodyksdz1udWxsLG0ubGluZS5kZXRhY2goKSl9ZWxzZSBjbGVhclRpbWVvdXQodyksdz1udWxsLFxubS5saW5lLmRldGFjaCgpfSksbC5hdHRhY2hMaXN0ZW5lcihsLFwia2V5dXBcIixmdW5jdGlvbigpe20uaGlkZGVuTW9kZT0wfSksbC5hdHRhY2hMaXN0ZW5lcihsLFwia2V5ZG93blwiLGZ1bmN0aW9uKGIpe2lmKFwid3lzaXd5Z1wiPT1hLm1vZGUpc3dpdGNoKGIuZGF0YS5nZXRLZXlzdHJva2UoKSl7Y2FzZSAyMjI4MjQwOmNhc2UgMTY6bS5oaWRkZW5Nb2RlPTEsbS5saW5lLmRldGFjaCgpfX0pLGwuYXR0YWNoTGlzdGVuZXIobS5pbklubGluZU1vZGU/bDpuLFwibW91c2Vtb3ZlXCIsZnVuY3Rpb24oYil7cj0hMDtpZihcInd5c2l3eWdcIj09YS5tb2RlJiYhYS5yZWFkT25seSYmIXcpe3ZhciBjPXt4OmIuZGF0YS4kLmNsaWVudFgseTpiLmRhdGEuJC5jbGllbnRZfTt3PXNldFRpbWVvdXQoZnVuY3Rpb24oKXttLm1vdXNlPWM7dz1tLnRyaWdnZXI9bnVsbDtEKG0pO3ImJiFtLmhpZGRlbk1vZGUmJmEuZm9jdXNNYW5hZ2VyLmhhc0ZvY3VzJiYhbS5saW5lLm1vdXNlTmVhcigpJiYobS5lbGVtZW50PVxuZGEobSwhMCkpJiYoKG0udHJpZ2dlcj11KG0pfHxCKG0pfHxmYShtKSkmJiF2KG0sbS50cmlnZ2VyLnVwcGVyfHxtLnRyaWdnZXIubG93ZXIpP20ubGluZS5hdHRhY2goKS5wbGFjZSgpOihtLnRyaWdnZXI9bnVsbCxtLmxpbmUuZGV0YWNoKCkpLHI9ITEpfSwzMCl9fSksbC5hdHRhY2hMaXN0ZW5lcihxLFwic2Nyb2xsXCIsZnVuY3Rpb24oKXtcInd5c2l3eWdcIj09YS5tb2RlJiYobS5saW5lLmRldGFjaCgpLEUud2Via2l0JiYobS5oaWRkZW5Nb2RlPTEsY2xlYXJUaW1lb3V0KHQpLHQ9c2V0VGltZW91dChmdW5jdGlvbigpe20ubW91c2VEb3dufHwobS5oaWRkZW5Nb2RlPTApfSw1MCkpKX0pLGwuYXR0YWNoTGlzdGVuZXIoSj9uOnEsXCJtb3VzZWRvd25cIixmdW5jdGlvbigpe1wid3lzaXd5Z1wiPT1hLm1vZGUmJihtLmxpbmUuZGV0YWNoKCksbS5oaWRkZW5Nb2RlPTEsbS5tb3VzZURvd249MSl9KSxsLmF0dGFjaExpc3RlbmVyKEo/bjpxLFwibW91c2V1cFwiLGZ1bmN0aW9uKCl7bS5oaWRkZW5Nb2RlPVxuMDttLm1vdXNlRG93bj0wfSksYS5hZGRDb21tYW5kKFwiYWNjZXNzUHJldmlvdXNTcGFjZVwiLGsobSkpLGEuYWRkQ29tbWFuZChcImFjY2Vzc05leHRTcGFjZVwiLGsobSwhMCkpLGEuc2V0S2V5c3Ryb2tlKFtbYy5tYWdpY2xpbmVfa2V5c3Ryb2tlUHJldmlvdXMsXCJhY2Nlc3NQcmV2aW91c1NwYWNlXCJdLFtjLm1hZ2ljbGluZV9rZXlzdHJva2VOZXh0LFwiYWNjZXNzTmV4dFNwYWNlXCJdXSksYS5vbihcImxvYWRTbmFwc2hvdFwiLGZ1bmN0aW9uKCl7dmFyIGIsYyxkLGU7Zm9yKGUgaW57cDoxLGJyOjEsZGl2OjF9KWZvcihiPWEuZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZyhlKSxkPWIuY291bnQoKTtkLS07KWlmKChjPWIuZ2V0SXRlbShkKSkuZGF0YShcImNrZS1tYWdpY2xpbmUtaG90XCIpKXttLmhvdE5vZGU9YzttLmxhc3RDbWREaXJlY3Rpb249XCJ0cnVlXCI9PT1jLmRhdGEoXCJja2UtbWFnaWNsaW5lLWRpclwiKT8hMDohMTtyZXR1cm59fSksdGhpcy5iYWNrZG9vcj17YWNjZXNzRm9jdXNTcGFjZTpoLFxuYm94VHJpZ2dlcjpmLGlzTGluZTpnLGdldEFzY2VuZGFudFRyaWdnZXI6YixnZXROb25FbXB0eU5laWdoYm91cjplLGdldFNpemU6eCx0aGF0Om0sdHJpZ2dlckVkZ2U6Qix0cmlnZ2VyRWRpdGFibGU6dSx0cmlnZ2VyRXhwYW5kOmZhfSl9LHRoaXMpfX0pO3ZhciBBPUNLRURJVE9SLnRvb2xzLmV4dGVuZCxDPUNLRURJVE9SLmRvbS5lbGVtZW50LEY9Qy5jcmVhdGVGcm9tSHRtbCxFPUNLRURJVE9SLmVudixKPUNLRURJVE9SLmVudi5pZSYmOT5DS0VESVRPUi5lbnYudmVyc2lvbixHPUNLRURJVE9SLmR0ZCxNPXt9LEk9MTI4LEg9NjQsUj0zMixQPTE2LFQ9NCxPPTIsSz0xLGNhPVwiwqBcIixXPUcuJGxpc3RJdGVtLFU9Ry4kdGFibGVDb250ZW50LEw9QSh7fSxHLiRub25FZGl0YWJsZSxHLiRlbXB0eSksTj1HLiRibG9jayxTPTEwMCxRPVwid2lkdGg6MHB4O2hlaWdodDowcHg7cGFkZGluZzowcHg7bWFyZ2luOjBweDtkaXNwbGF5OmJsb2NrO3otaW5kZXg6OTk5OTtjb2xvcjojZmZmO3Bvc2l0aW9uOmFic29sdXRlO2ZvbnQtc2l6ZTogMHB4O2xpbmUtaGVpZ2h0OjBweDtcIixcblk9UStcImJvcmRlci1jb2xvcjp0cmFuc3BhcmVudDtkaXNwbGF5OmJsb2NrO2JvcmRlci1zdHlsZTpzb2xpZDtcIixWPVwiXFx4M2NzcGFuXFx4M2VcIitjYStcIlxceDNjL3NwYW5cXHgzZVwiO01bQ0tFRElUT1IuRU5URVJfQlJdPVwiYnJcIjtNW0NLRURJVE9SLkVOVEVSX1BdPVwicFwiO01bQ0tFRElUT1IuRU5URVJfRElWXT1cImRpdlwiO2YucHJvdG90eXBlPXtzZXQ6ZnVuY3Rpb24oYSxiLGMpe3RoaXMucHJvcGVydGllcz1hK2IrKGN8fEspO3JldHVybiB0aGlzfSxpczpmdW5jdGlvbihhKXtyZXR1cm4odGhpcy5wcm9wZXJ0aWVzJmEpPT1hfX07dmFyIGRhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShiLGMpe3ZhciBkPWIuJC5lbGVtZW50RnJvbVBvaW50KGMueCxjLnkpO3JldHVybiBkJiZkLm5vZGVUeXBlP25ldyBDS0VESVRPUi5kb20uZWxlbWVudChkKTpudWxsfXJldHVybiBmdW5jdGlvbihiLGMsZCl7aWYoIWIubW91c2UpcmV0dXJuIG51bGw7dmFyIGU9Yi5kb2MsZj1iLmxpbmUud3JhcDtkPWR8fGIubW91c2U7XG52YXIgaD1hKGUsZCk7YyYmZyhiLGgpJiYoZi5oaWRlKCksaD1hKGUsZCksZi5zaG93KCkpO3JldHVybiFofHxoLnR5cGUhPUNLRURJVE9SLk5PREVfRUxFTUVOVHx8IWguJHx8RS5pZSYmOT5FLnZlcnNpb24mJiFiLmJvdW5kYXJ5LmVxdWFscyhoKSYmIWIuYm91bmRhcnkuY29udGFpbnMoaCk/bnVsbDpofX0oKSxaPUNLRURJVE9SLmRvbS53YWxrZXIud2hpdGVzcGFjZXMoKSxYPUNLRURJVE9SLmRvbS53YWxrZXIubm9kZVR5cGUoQ0tFRElUT1IuTk9ERV9DT01NRU5UKSxmYT1mdW5jdGlvbigpe2Z1bmN0aW9uIGIoZSl7dmFyIGY9ZS5lbGVtZW50LGcsaCxrO2lmKCFuKGYpfHxmLmNvbnRhaW5zKGUuZWRpdGFibGUpfHxmLmlzUmVhZE9ubHkoKSlyZXR1cm4gbnVsbDtrPXkoZSxmdW5jdGlvbihhLGIpe3JldHVybiFiLmVxdWFscyhhKX0sZnVuY3Rpb24oYSxiKXtyZXR1cm4gZGEoYSwhMCxiKX0sZik7Zz1rLnVwcGVyO2g9ay5sb3dlcjtpZihhKGUsZyxoKSlyZXR1cm4gay5zZXQoUixcbjgpO2lmKGcmJmYuY29udGFpbnMoZykpZm9yKDshZy5nZXRQYXJlbnQoKS5lcXVhbHMoZik7KWc9Zy5nZXRQYXJlbnQoKTtlbHNlIGc9Zi5nZXRGaXJzdChmdW5jdGlvbihhKXtyZXR1cm4gZChlLGEpfSk7aWYoaCYmZi5jb250YWlucyhoKSlmb3IoOyFoLmdldFBhcmVudCgpLmVxdWFscyhmKTspaD1oLmdldFBhcmVudCgpO2Vsc2UgaD1mLmdldExhc3QoZnVuY3Rpb24oYSl7cmV0dXJuIGQoZSxhKX0pO2lmKCFnfHwhaClyZXR1cm4gbnVsbDt3KGUsZyk7dyhlLGgpO2lmKCFtKGUubW91c2UueSxnLnNpemUudG9wLGguc2l6ZS5ib3R0b20pKXJldHVybiBudWxsO2Zvcih2YXIgZj1OdW1iZXIuTUFYX1ZBTFVFLGwscCx0LHU7aCYmIWguZXF1YWxzKGcpJiYocD1nLmdldE5leHQoZS5pc1JlbGV2YW50KSk7KWw9TWF0aC5hYnMoYyhlLGcscCktZS5tb3VzZS55KSxsPGYmJihmPWwsdD1nLHU9cCksZz1wLHcoZSxnKTtpZighdHx8IXV8fCFtKGUubW91c2UueSx0LnNpemUudG9wLHUuc2l6ZS5ib3R0b20pKXJldHVybiBudWxsO1xuay51cHBlcj10O2subG93ZXI9dTtyZXR1cm4gay5zZXQoUiw4KX1mdW5jdGlvbiBkKGEsYil7cmV0dXJuIShiJiZiLnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVHx8WChiKXx8cShiKXx8ZyhhLGIpfHxiLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmYi4kJiZiLmlzKFwiYnJcIikpfXJldHVybiBmdW5jdGlvbihjKXt2YXIgZD1iKGMpLGU7aWYoZT1kKXtlPWQudXBwZXI7dmFyIGY9ZC5sb3dlcjtlPSFlfHwhZnx8cShmKXx8cShlKXx8Zi5lcXVhbHMoZSl8fGUuZXF1YWxzKGYpfHxmLmNvbnRhaW5zKGUpfHxlLmNvbnRhaW5zKGYpPyExOnQoYyxlKSYmdChjLGYpJiZhKGMsZSxmKT8hMDohMX1yZXR1cm4gZT9kOm51bGx9fSgpLGJhPVtcInRvcFwiLFwibGVmdFwiLFwicmlnaHRcIixcImJvdHRvbVwiXX0oKSxDS0VESVRPUi5jb25maWcubWFnaWNsaW5lX2tleXN0cm9rZVByZXZpb3VzPUNLRURJVE9SLkNUUkwrQ0tFRElUT1IuU0hJRlQrNTEsQ0tFRElUT1IuY29uZmlnLm1hZ2ljbGluZV9rZXlzdHJva2VOZXh0PVxuQ0tFRElUT1IuQ1RSTCtDS0VESVRPUi5TSElGVCs1MixmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSl7aWYoIWF8fGEudHlwZSE9Q0tFRElUT1IuTk9ERV9FTEVNRU5UfHxcImZvcm1cIiE9YS5nZXROYW1lKCkpcmV0dXJuW107Zm9yKHZhciBiPVtdLGM9W1wic3R5bGVcIixcImNsYXNzTmFtZVwiXSxlPTA7ZTxjLmxlbmd0aDtlKyspe3ZhciBmPWEuJC5lbGVtZW50cy5uYW1lZEl0ZW0oY1tlXSk7ZiYmKGY9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KGYpLGIucHVzaChbZixmLm5leHRTaWJsaW5nXSksZi5yZW1vdmUoKSl9cmV0dXJuIGJ9ZnVuY3Rpb24gZihhLGIpe2lmKGEmJmEudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZcImZvcm1cIj09YS5nZXROYW1lKCkmJjA8Yi5sZW5ndGgpZm9yKHZhciBjPWIubGVuZ3RoLTE7MDw9YztjLS0pe3ZhciBlPWJbY11bMF0sZj1iW2NdWzFdO2Y/ZS5pbnNlcnRCZWZvcmUoZik6ZS5hcHBlbmRUbyhhKX19ZnVuY3Rpb24gYihiLGMpe3ZhciBkPWEoYiksZT1cbnt9LGs9Yi4kO2N8fChlW1wiY2xhc3NcIl09ay5jbGFzc05hbWV8fFwiXCIsay5jbGFzc05hbWU9XCJcIik7ZS5pbmxpbmU9ay5zdHlsZS5jc3NUZXh0fHxcIlwiO2N8fChrLnN0eWxlLmNzc1RleHQ9XCJwb3NpdGlvbjogc3RhdGljOyBvdmVyZmxvdzogdmlzaWJsZVwiKTtmKGQpO3JldHVybiBlfWZ1bmN0aW9uIGMoYixjKXt2YXIgZD1hKGIpLGU9Yi4kO1wiY2xhc3NcImluIGMmJihlLmNsYXNzTmFtZT1jW1wiY2xhc3NcIl0pO1wiaW5saW5lXCJpbiBjJiYoZS5zdHlsZS5jc3NUZXh0PWMuaW5saW5lKTtmKGQpfWZ1bmN0aW9uIGUoYSl7aWYoIWEuZWRpdGFibGUoKS5pc0lubGluZSgpKXt2YXIgYj1DS0VESVRPUi5pbnN0YW5jZXMsYztmb3IoYyBpbiBiKXt2YXIgZT1iW2NdO1wid3lzaXd5Z1wiIT1lLm1vZGV8fGUucmVhZE9ubHl8fChlPWUuZG9jdW1lbnQuZ2V0Qm9keSgpLGUuc2V0QXR0cmlidXRlKFwiY29udGVudEVkaXRhYmxlXCIsITEpLGUuc2V0QXR0cmlidXRlKFwiY29udGVudEVkaXRhYmxlXCIsITApKX1hLmVkaXRhYmxlKCkuaGFzRm9jdXMmJlxuKGEudG9vbGJveC5mb2N1cygpLGEuZm9jdXMoKSl9fUNLRURJVE9SLnBsdWdpbnMuYWRkKFwibWF4aW1pemVcIix7aW5pdDpmdW5jdGlvbihhKXtmdW5jdGlvbiBmKCl7dmFyIGI9ay5nZXRWaWV3UGFuZVNpemUoKTthLnJlc2l6ZShiLndpZHRoLGIuaGVpZ2h0LG51bGwsITApfWlmKGEuZWxlbWVudE1vZGUhPUNLRURJVE9SLkVMRU1FTlRfTU9ERV9JTkxJTkUpe3ZhciBkPWEubGFuZyxoPUNLRURJVE9SLmRvY3VtZW50LGs9aC5nZXRXaW5kb3coKSxnLG4scSxwPUNLRURJVE9SLlRSSVNUQVRFX09GRjthLmFkZENvbW1hbmQoXCJtYXhpbWl6ZVwiLHttb2Rlczp7d3lzaXd5ZzohQ0tFRElUT1IuZW52LmlPUyxzb3VyY2U6IUNLRURJVE9SLmVudi5pT1N9LHJlYWRPbmx5OjEsZWRpdG9yRm9jdXM6ITEsZXhlYzpmdW5jdGlvbigpe3ZhciB0PWEuY29udGFpbmVyLmdldEZpcnN0KGZ1bmN0aW9uKGEpe3JldHVybiBhLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmYS5oYXNDbGFzcyhcImNrZV9pbm5lclwiKX0pLFxudj1hLnVpLnNwYWNlKFwiY29udGVudHNcIik7aWYoXCJ3eXNpd3lnXCI9PWEubW9kZSl7dmFyIHI9YS5nZXRTZWxlY3Rpb24oKTtnPXImJnIuZ2V0UmFuZ2VzKCk7bj1rLmdldFNjcm9sbFBvc2l0aW9uKCl9ZWxzZXt2YXIgdT1hLmVkaXRhYmxlKCkuJDtnPSFDS0VESVRPUi5lbnYuaWUmJlt1LnNlbGVjdGlvblN0YXJ0LHUuc2VsZWN0aW9uRW5kXTtuPVt1LnNjcm9sbExlZnQsdS5zY3JvbGxUb3BdfWlmKHRoaXMuc3RhdGU9PUNLRURJVE9SLlRSSVNUQVRFX09GRil7ay5vbihcInJlc2l6ZVwiLGYpO3E9ay5nZXRTY3JvbGxQb3NpdGlvbigpO2ZvcihyPWEuY29udGFpbmVyO3I9ci5nZXRQYXJlbnQoKTspci5zZXRDdXN0b21EYXRhKFwibWF4aW1pemVfc2F2ZWRfc3R5bGVzXCIsYihyKSksci5zZXRTdHlsZShcInotaW5kZXhcIixhLmNvbmZpZy5iYXNlRmxvYXRaSW5kZXgtNSk7di5zZXRDdXN0b21EYXRhKFwibWF4aW1pemVfc2F2ZWRfc3R5bGVzXCIsYih2LCEwKSk7dC5zZXRDdXN0b21EYXRhKFwibWF4aW1pemVfc2F2ZWRfc3R5bGVzXCIsXG5iKHQsITApKTt2PXtvdmVyZmxvdzpDS0VESVRPUi5lbnYud2Via2l0P1wiXCI6XCJoaWRkZW5cIix3aWR0aDowLGhlaWdodDowfTtoLmdldERvY3VtZW50RWxlbWVudCgpLnNldFN0eWxlcyh2KTshQ0tFRElUT1IuZW52LmdlY2tvJiZoLmdldERvY3VtZW50RWxlbWVudCgpLnNldFN0eWxlKFwicG9zaXRpb25cIixcImZpeGVkXCIpO0NLRURJVE9SLmVudi5nZWNrbyYmQ0tFRElUT1IuZW52LnF1aXJrc3x8aC5nZXRCb2R5KCkuc2V0U3R5bGVzKHYpO0NLRURJVE9SLmVudi5pZT9zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ay4kLnNjcm9sbFRvKDAsMCl9LDApOmsuJC5zY3JvbGxUbygwLDApO3Quc2V0U3R5bGUoXCJwb3NpdGlvblwiLENLRURJVE9SLmVudi5nZWNrbyYmQ0tFRElUT1IuZW52LnF1aXJrcz9cImZpeGVkXCI6XCJhYnNvbHV0ZVwiKTt0LiQub2Zmc2V0TGVmdDt0LnNldFN0eWxlcyh7XCJ6LWluZGV4XCI6YS5jb25maWcuYmFzZUZsb2F0WkluZGV4LTUsbGVmdDpcIjBweFwiLHRvcDpcIjBweFwifSk7dC5hZGRDbGFzcyhcImNrZV9tYXhpbWl6ZWRcIik7XG5mKCk7dj10LmdldERvY3VtZW50UG9zaXRpb24oKTt0LnNldFN0eWxlcyh7bGVmdDotMSp2LngrXCJweFwiLHRvcDotMSp2LnkrXCJweFwifSk7Q0tFRElUT1IuZW52LmdlY2tvJiZlKGEpfWVsc2UgaWYodGhpcy5zdGF0ZT09Q0tFRElUT1IuVFJJU1RBVEVfT04pe2sucmVtb3ZlTGlzdGVuZXIoXCJyZXNpemVcIixmKTtmb3IodmFyIHI9W3YsdF0sQj0wO0I8ci5sZW5ndGg7QisrKWMocltCXSxyW0JdLmdldEN1c3RvbURhdGEoXCJtYXhpbWl6ZV9zYXZlZF9zdHlsZXNcIikpLHJbQl0ucmVtb3ZlQ3VzdG9tRGF0YShcIm1heGltaXplX3NhdmVkX3N0eWxlc1wiKTtmb3Iocj1hLmNvbnRhaW5lcjtyPXIuZ2V0UGFyZW50KCk7KWMocixyLmdldEN1c3RvbURhdGEoXCJtYXhpbWl6ZV9zYXZlZF9zdHlsZXNcIikpLHIucmVtb3ZlQ3VzdG9tRGF0YShcIm1heGltaXplX3NhdmVkX3N0eWxlc1wiKTtDS0VESVRPUi5lbnYuaWU/c2V0VGltZW91dChmdW5jdGlvbigpe2suJC5zY3JvbGxUbyhxLngscS55KX0sMCk6ay4kLnNjcm9sbFRvKHEueCxcbnEueSk7dC5yZW1vdmVDbGFzcyhcImNrZV9tYXhpbWl6ZWRcIik7Q0tFRElUT1IuZW52LndlYmtpdCYmKHQuc2V0U3R5bGUoXCJkaXNwbGF5XCIsXCJpbmxpbmVcIiksc2V0VGltZW91dChmdW5jdGlvbigpe3Quc2V0U3R5bGUoXCJkaXNwbGF5XCIsXCJibG9ja1wiKX0sMCkpO2EuZmlyZShcInJlc2l6ZVwiLHtvdXRlckhlaWdodDphLmNvbnRhaW5lci4kLm9mZnNldEhlaWdodCxjb250ZW50c0hlaWdodDp2LiQub2Zmc2V0SGVpZ2h0LG91dGVyV2lkdGg6YS5jb250YWluZXIuJC5vZmZzZXRXaWR0aH0pfXRoaXMudG9nZ2xlU3RhdGUoKTtpZihyPXRoaXMudWlJdGVtc1swXSl2PXRoaXMuc3RhdGU9PUNLRURJVE9SLlRSSVNUQVRFX09GRj9kLm1heGltaXplLm1heGltaXplOmQubWF4aW1pemUubWluaW1pemUscj1DS0VESVRPUi5kb2N1bWVudC5nZXRCeUlkKHIuXy5pZCksci5nZXRDaGlsZCgxKS5zZXRIdG1sKHYpLHIuc2V0QXR0cmlidXRlKFwidGl0bGVcIix2KSxyLnNldEF0dHJpYnV0ZShcImhyZWZcIiwnamF2YXNjcmlwdDp2b2lkKFwiJytcbnYrJ1wiKTsnKTtcInd5c2l3eWdcIj09YS5tb2RlP2c/KENLRURJVE9SLmVudi5nZWNrbyYmZShhKSxhLmdldFNlbGVjdGlvbigpLnNlbGVjdFJhbmdlcyhnKSwodT1hLmdldFNlbGVjdGlvbigpLmdldFN0YXJ0RWxlbWVudCgpKSYmdS5zY3JvbGxJbnRvVmlldyghMCkpOmsuJC5zY3JvbGxUbyhuLngsbi55KTooZyYmKHUuc2VsZWN0aW9uU3RhcnQ9Z1swXSx1LnNlbGVjdGlvbkVuZD1nWzFdKSx1LnNjcm9sbExlZnQ9blswXSx1LnNjcm9sbFRvcD1uWzFdKTtnPW49bnVsbDtwPXRoaXMuc3RhdGU7YS5maXJlKFwibWF4aW1pemVcIix0aGlzLnN0YXRlKX0sY2FuVW5kbzohMX0pO2EudWkuYWRkQnV0dG9uJiZhLnVpLmFkZEJ1dHRvbihcIk1heGltaXplXCIse2xhYmVsOmQubWF4aW1pemUubWF4aW1pemUsY29tbWFuZDpcIm1heGltaXplXCIsdG9vbGJhcjpcInRvb2xzLDEwXCJ9KTthLm9uKFwibW9kZVwiLGZ1bmN0aW9uKCl7dmFyIGI9YS5nZXRDb21tYW5kKFwibWF4aW1pemVcIik7Yi5zZXRTdGF0ZShiLnN0YXRlPT1cbkNLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVEP0NLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVEOnApfSxudWxsLG51bGwsMTAwKX19fSl9KCksZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEsYyxlKXt2YXIgZj1DS0VESVRPUi5jbGVhbldvcmQ7Zj9lKCk6KGE9Q0tFRElUT1IuZ2V0VXJsKGEuY29uZmlnLnBhc3RlRnJvbVdvcmRDbGVhbnVwRmlsZXx8YytcImZpbHRlci9kZWZhdWx0LmpzXCIpLENLRURJVE9SLnNjcmlwdExvYWRlci5sb2FkKGEsZSxudWxsLCEwKSk7cmV0dXJuIWZ9ZnVuY3Rpb24gZihhKXthLmRhdGEudHlwZT1cImh0bWxcIn1DS0VESVRPUi5wbHVnaW5zLmFkZChcInBhc3RlZnJvbXdvcmRcIix7cmVxdWlyZXM6XCJjbGlwYm9hcmRcIixpbml0OmZ1bmN0aW9uKGIpe3ZhciBjPTAsZT10aGlzLnBhdGg7Yi5hZGRDb21tYW5kKFwicGFzdGVmcm9td29yZFwiLHtjYW5VbmRvOiExLGFzeW5jOiEwLGV4ZWM6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcztjPTE7YS5vbmNlKFwiYmVmb3JlUGFzdGVcIixmKTtcbmEuZ2V0Q2xpcGJvYXJkRGF0YSh7dGl0bGU6YS5sYW5nLnBhc3RlZnJvbXdvcmQudGl0bGV9LGZ1bmN0aW9uKGMpe2MmJmEuZmlyZShcInBhc3RlXCIse3R5cGU6XCJodG1sXCIsZGF0YVZhbHVlOmMuZGF0YVZhbHVlLG1ldGhvZDpcInBhc3RlXCIsZGF0YVRyYW5zZmVyOkNLRURJVE9SLnBsdWdpbnMuY2xpcGJvYXJkLmluaXRQYXN0ZURhdGFUcmFuc2ZlcigpfSk7YS5maXJlKFwiYWZ0ZXJDb21tYW5kRXhlY1wiLHtuYW1lOlwicGFzdGVmcm9td29yZFwiLGNvbW1hbmQ6YixyZXR1cm5WYWx1ZTohIWN9KX0pfX0pO2IudWkuYWRkQnV0dG9uJiZiLnVpLmFkZEJ1dHRvbihcIlBhc3RlRnJvbVdvcmRcIix7bGFiZWw6Yi5sYW5nLnBhc3RlZnJvbXdvcmQudG9vbGJhcixjb21tYW5kOlwicGFzdGVmcm9td29yZFwiLHRvb2xiYXI6XCJjbGlwYm9hcmQsNTBcIn0pO2Iub24oXCJwYXN0ZVN0YXRlXCIsZnVuY3Rpb24oYSl7Yi5nZXRDb21tYW5kKFwicGFzdGVmcm9td29yZFwiKS5zZXRTdGF0ZShhLmRhdGEpfSk7Yi5vbihcInBhc3RlXCIsXG5mdW5jdGlvbihmKXt2YXIgbD1mLmRhdGEsZD1sLmRhdGFWYWx1ZSxoPS8oY2xhc3M9XFxcIj9Nc298c3R5bGU9XFxcIlteXFxcIl0qXFxibXNvXFwtfHc6V29yZERvY3VtZW50fDxvOlxcdys+fDxcXC9mb250PikvLGs9e2RhdGFWYWx1ZTpkfTtpZihkJiYoY3x8aC50ZXN0KGQpKSYmKCExIT09Yi5maXJlKFwicGFzdGVGcm9tV29yZFwiLGspfHxjKSl7bC5kb250RmlsdGVyPSEwO3ZhciBnPWEoYixlLGZ1bmN0aW9uKCl7aWYoZyliLmZpcmUoXCJwYXN0ZVwiLGwpO2Vsc2UgaWYoIWIuY29uZmlnLnBhc3RlRnJvbVdvcmRQcm9tcHRDbGVhbnVwfHxjfHxjb25maXJtKGIubGFuZy5wYXN0ZWZyb213b3JkLmNvbmZpcm1DbGVhbnVwKSlrLmRhdGFWYWx1ZT1DS0VESVRPUi5jbGVhbldvcmQoay5kYXRhVmFsdWUsYiksYi5maXJlKFwiYWZ0ZXJQYXN0ZUZyb21Xb3JkXCIsayksbC5kYXRhVmFsdWU9ay5kYXRhVmFsdWU7Yz0wfSk7ZyYmZi5jYW5jZWwoKX19LG51bGwsbnVsbCwzKX19KX0oKSxmdW5jdGlvbigpe3ZhciBhPVxue2NhblVuZG86ITEsYXN5bmM6ITAsZXhlYzpmdW5jdGlvbihmKXtmLmdldENsaXBib2FyZERhdGEoe3RpdGxlOmYubGFuZy5wYXN0ZXRleHQudGl0bGV9LGZ1bmN0aW9uKGIpe2ImJmYuZmlyZShcInBhc3RlXCIse3R5cGU6XCJ0ZXh0XCIsZGF0YVZhbHVlOmIuZGF0YVZhbHVlLG1ldGhvZDpcInBhc3RlXCIsZGF0YVRyYW5zZmVyOkNLRURJVE9SLnBsdWdpbnMuY2xpcGJvYXJkLmluaXRQYXN0ZURhdGFUcmFuc2ZlcigpfSk7Zi5maXJlKFwiYWZ0ZXJDb21tYW5kRXhlY1wiLHtuYW1lOlwicGFzdGV0ZXh0XCIsY29tbWFuZDphLHJldHVyblZhbHVlOiEhYn0pfSl9fTtDS0VESVRPUi5wbHVnaW5zLmFkZChcInBhc3RldGV4dFwiLHtyZXF1aXJlczpcImNsaXBib2FyZFwiLGluaXQ6ZnVuY3Rpb24oZil7Zi5hZGRDb21tYW5kKFwicGFzdGV0ZXh0XCIsYSk7Zi51aS5hZGRCdXR0b24mJmYudWkuYWRkQnV0dG9uKFwiUGFzdGVUZXh0XCIse2xhYmVsOmYubGFuZy5wYXN0ZXRleHQuYnV0dG9uLGNvbW1hbmQ6XCJwYXN0ZXRleHRcIixcbnRvb2xiYXI6XCJjbGlwYm9hcmQsNDBcIn0pO2lmKGYuY29uZmlnLmZvcmNlUGFzdGVBc1BsYWluVGV4dClmLm9uKFwiYmVmb3JlUGFzdGVcIixmdW5jdGlvbihhKXtcImh0bWxcIiE9YS5kYXRhLnR5cGUmJihhLmRhdGEudHlwZT1cInRleHRcIil9KTtmLm9uKFwicGFzdGVTdGF0ZVwiLGZ1bmN0aW9uKGEpe2YuZ2V0Q29tbWFuZChcInBhc3RldGV4dFwiKS5zZXRTdGF0ZShhLmRhdGEpfSl9fSl9KCksQ0tFRElUT1IucGx1Z2lucy5hZGQoXCJyZW1vdmVmb3JtYXRcIix7aW5pdDpmdW5jdGlvbihhKXthLmFkZENvbW1hbmQoXCJyZW1vdmVGb3JtYXRcIixDS0VESVRPUi5wbHVnaW5zLnJlbW92ZWZvcm1hdC5jb21tYW5kcy5yZW1vdmVmb3JtYXQpO2EudWkuYWRkQnV0dG9uJiZhLnVpLmFkZEJ1dHRvbihcIlJlbW92ZUZvcm1hdFwiLHtsYWJlbDphLmxhbmcucmVtb3ZlZm9ybWF0LnRvb2xiYXIsY29tbWFuZDpcInJlbW92ZUZvcm1hdFwiLHRvb2xiYXI6XCJjbGVhbnVwLDEwXCJ9KX19KSxDS0VESVRPUi5wbHVnaW5zLnJlbW92ZWZvcm1hdD1cbntjb21tYW5kczp7cmVtb3ZlZm9ybWF0OntleGVjOmZ1bmN0aW9uKGEpe2Zvcih2YXIgZj1hLl8ucmVtb3ZlRm9ybWF0UmVnZXh8fChhLl8ucmVtb3ZlRm9ybWF0UmVnZXg9bmV3IFJlZ0V4cChcIl4oPzpcIithLmNvbmZpZy5yZW1vdmVGb3JtYXRUYWdzLnJlcGxhY2UoLywvZyxcInxcIikrXCIpJFwiLFwiaVwiKSksYj1hLl8ucmVtb3ZlQXR0cmlidXRlc3x8KGEuXy5yZW1vdmVBdHRyaWJ1dGVzPWEuY29uZmlnLnJlbW92ZUZvcm1hdEF0dHJpYnV0ZXMuc3BsaXQoXCIsXCIpKSxjPUNLRURJVE9SLnBsdWdpbnMucmVtb3ZlZm9ybWF0LmZpbHRlcixlPWEuZ2V0U2VsZWN0aW9uKCkuZ2V0UmFuZ2VzKCksbT1lLmNyZWF0ZUl0ZXJhdG9yKCksbD1mdW5jdGlvbihhKXtyZXR1cm4gYS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlR9LGQ7ZD1tLmdldE5leHRSYW5nZSgpOyl7ZC5jb2xsYXBzZWR8fGQuZW5sYXJnZShDS0VESVRPUi5FTkxBUkdFX0VMRU1FTlQpO3ZhciBoPWQuY3JlYXRlQm9va21hcmsoKSxcbms9aC5zdGFydE5vZGUsZz1oLmVuZE5vZGUsbj1mdW5jdGlvbihiKXtmb3IodmFyIGQ9YS5lbGVtZW50UGF0aChiKSxlPWQuZWxlbWVudHMsZz0xLGg7KGg9ZVtnXSkmJiFoLmVxdWFscyhkLmJsb2NrKSYmIWguZXF1YWxzKGQuYmxvY2tMaW1pdCk7ZysrKWYudGVzdChoLmdldE5hbWUoKSkmJmMoYSxoKSYmYi5icmVha1BhcmVudChoKX07bihrKTtpZihnKWZvcihuKGcpLGs9ay5nZXROZXh0U291cmNlTm9kZSghMCxDS0VESVRPUi5OT0RFX0VMRU1FTlQpO2smJiFrLmVxdWFscyhnKTspaWYoay5pc1JlYWRPbmx5KCkpe2lmKGsuZ2V0UG9zaXRpb24oZykmQ0tFRElUT1IuUE9TSVRJT05fQ09OVEFJTlMpYnJlYWs7az1rLmdldE5leHQobCl9ZWxzZSBuPWsuZ2V0TmV4dFNvdXJjZU5vZGUoITEsQ0tFRElUT1IuTk9ERV9FTEVNRU5UKSxcImltZ1wiPT1rLmdldE5hbWUoKSYmay5kYXRhKFwiY2tlLXJlYWxlbGVtZW50XCIpfHwhYyhhLGspfHwoZi50ZXN0KGsuZ2V0TmFtZSgpKT9rLnJlbW92ZSgxKTpcbihrLnJlbW92ZUF0dHJpYnV0ZXMoYiksYS5maXJlKFwicmVtb3ZlRm9ybWF0Q2xlYW51cFwiLGspKSksaz1uO2QubW92ZVRvQm9va21hcmsoaCl9YS5mb3JjZU5leHRTZWxlY3Rpb25DaGVjaygpO2EuZ2V0U2VsZWN0aW9uKCkuc2VsZWN0UmFuZ2VzKGUpfX19LGZpbHRlcjpmdW5jdGlvbihhLGYpe2Zvcih2YXIgYj1hLl8ucmVtb3ZlRm9ybWF0RmlsdGVyc3x8W10sYz0wO2M8Yi5sZW5ndGg7YysrKWlmKCExPT09YltjXShmKSlyZXR1cm4hMTtyZXR1cm4hMH19LENLRURJVE9SLmVkaXRvci5wcm90b3R5cGUuYWRkUmVtb3ZlRm9ybWF0RmlsdGVyPWZ1bmN0aW9uKGEpe3RoaXMuXy5yZW1vdmVGb3JtYXRGaWx0ZXJzfHwodGhpcy5fLnJlbW92ZUZvcm1hdEZpbHRlcnM9W10pO3RoaXMuXy5yZW1vdmVGb3JtYXRGaWx0ZXJzLnB1c2goYSl9LENLRURJVE9SLmNvbmZpZy5yZW1vdmVGb3JtYXRUYWdzPVwiYixiaWcsY2l0ZSxjb2RlLGRlbCxkZm4sZW0sZm9udCxpLGlucyxrYmQscSxzLHNhbXAsc21hbGwsc3BhbixzdHJpa2Usc3Ryb25nLHN1YixzdXAsdHQsdSx2YXJcIixcbkNLRURJVE9SLmNvbmZpZy5yZW1vdmVGb3JtYXRBdHRyaWJ1dGVzPVwiY2xhc3Msc3R5bGUsbGFuZyx3aWR0aCxoZWlnaHQsYWxpZ24saHNwYWNlLHZhbGlnblwiLENLRURJVE9SLnBsdWdpbnMuYWRkKFwicmVzaXplXCIse2luaXQ6ZnVuY3Rpb24oYSl7ZnVuY3Rpb24gZihiKXt2YXIgZT1oLndpZHRoLGY9aC5oZWlnaHQsbD1lKyhiLmRhdGEuJC5zY3JlZW5YLWQueCkqKFwicnRsXCI9PW0/LTE6MSk7Yj1mKyhiLmRhdGEuJC5zY3JlZW5ZLWQueSk7ayYmKGU9TWF0aC5tYXgoYy5yZXNpemVfbWluV2lkdGgsTWF0aC5taW4obCxjLnJlc2l6ZV9tYXhXaWR0aCkpKTtnJiYoZj1NYXRoLm1heChjLnJlc2l6ZV9taW5IZWlnaHQsTWF0aC5taW4oYixjLnJlc2l6ZV9tYXhIZWlnaHQpKSk7YS5yZXNpemUoaz9lOm51bGwsZil9ZnVuY3Rpb24gYigpe0NLRURJVE9SLmRvY3VtZW50LnJlbW92ZUxpc3RlbmVyKFwibW91c2Vtb3ZlXCIsZik7Q0tFRElUT1IuZG9jdW1lbnQucmVtb3ZlTGlzdGVuZXIoXCJtb3VzZXVwXCIsXG5iKTthLmRvY3VtZW50JiYoYS5kb2N1bWVudC5yZW1vdmVMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLGYpLGEuZG9jdW1lbnQucmVtb3ZlTGlzdGVuZXIoXCJtb3VzZXVwXCIsYikpfXZhciBjPWEuY29uZmlnLGU9YS51aS5zcGFjZUlkKFwicmVzaXplclwiKSxtPWEuZWxlbWVudD9hLmVsZW1lbnQuZ2V0RGlyZWN0aW9uKDEpOlwibHRyXCI7IWMucmVzaXplX2RpciYmKGMucmVzaXplX2Rpcj1cInZlcnRpY2FsXCIpO3ZvaWQgMD09PWMucmVzaXplX21heFdpZHRoJiYoYy5yZXNpemVfbWF4V2lkdGg9M0UzKTt2b2lkIDA9PT1jLnJlc2l6ZV9tYXhIZWlnaHQmJihjLnJlc2l6ZV9tYXhIZWlnaHQ9M0UzKTt2b2lkIDA9PT1jLnJlc2l6ZV9taW5XaWR0aCYmKGMucmVzaXplX21pbldpZHRoPTc1MCk7dm9pZCAwPT09Yy5yZXNpemVfbWluSGVpZ2h0JiYoYy5yZXNpemVfbWluSGVpZ2h0PTI1MCk7aWYoITEhPT1jLnJlc2l6ZV9lbmFibGVkKXt2YXIgbD1udWxsLGQsaCxrPShcImJvdGhcIj09Yy5yZXNpemVfZGlyfHxcblwiaG9yaXpvbnRhbFwiPT1jLnJlc2l6ZV9kaXIpJiZjLnJlc2l6ZV9taW5XaWR0aCE9Yy5yZXNpemVfbWF4V2lkdGgsZz0oXCJib3RoXCI9PWMucmVzaXplX2Rpcnx8XCJ2ZXJ0aWNhbFwiPT1jLnJlc2l6ZV9kaXIpJiZjLnJlc2l6ZV9taW5IZWlnaHQhPWMucmVzaXplX21heEhlaWdodCxuPUNLRURJVE9SLnRvb2xzLmFkZEZ1bmN0aW9uKGZ1bmN0aW9uKGUpe2x8fChsPWEuZ2V0UmVzaXphYmxlKCkpO2g9e3dpZHRoOmwuJC5vZmZzZXRXaWR0aHx8MCxoZWlnaHQ6bC4kLm9mZnNldEhlaWdodHx8MH07ZD17eDplLnNjcmVlblgseTplLnNjcmVlbll9O2MucmVzaXplX21pbldpZHRoPmgud2lkdGgmJihjLnJlc2l6ZV9taW5XaWR0aD1oLndpZHRoKTtjLnJlc2l6ZV9taW5IZWlnaHQ+aC5oZWlnaHQmJihjLnJlc2l6ZV9taW5IZWlnaHQ9aC5oZWlnaHQpO0NLRURJVE9SLmRvY3VtZW50Lm9uKFwibW91c2Vtb3ZlXCIsZik7Q0tFRElUT1IuZG9jdW1lbnQub24oXCJtb3VzZXVwXCIsYik7YS5kb2N1bWVudCYmXG4oYS5kb2N1bWVudC5vbihcIm1vdXNlbW92ZVwiLGYpLGEuZG9jdW1lbnQub24oXCJtb3VzZXVwXCIsYikpO2UucHJldmVudERlZmF1bHQmJmUucHJldmVudERlZmF1bHQoKX0pO2Eub24oXCJkZXN0cm95XCIsZnVuY3Rpb24oKXtDS0VESVRPUi50b29scy5yZW1vdmVGdW5jdGlvbihuKX0pO2Eub24oXCJ1aVNwYWNlXCIsZnVuY3Rpb24oYil7aWYoXCJib3R0b21cIj09Yi5kYXRhLnNwYWNlKXt2YXIgYz1cIlwiO2smJiFnJiYoYz1cIiBja2VfcmVzaXplcl9ob3Jpem9udGFsXCIpOyFrJiZnJiYoYz1cIiBja2VfcmVzaXplcl92ZXJ0aWNhbFwiKTt2YXIgZD0nXFx4M2NzcGFuIGlkXFx4M2RcIicrZSsnXCIgY2xhc3NcXHgzZFwiY2tlX3Jlc2l6ZXInK2MrXCIgY2tlX3Jlc2l6ZXJfXCIrbSsnXCIgdGl0bGVcXHgzZFwiJytDS0VESVRPUi50b29scy5odG1sRW5jb2RlKGEubGFuZy5jb21tb24ucmVzaXplKSsnXCIgb25tb3VzZWRvd25cXHgzZFwiQ0tFRElUT1IudG9vbHMuY2FsbEZ1bmN0aW9uKCcrbisnLCBldmVudClcIlxceDNlJysoXCJsdHJcIj09XG5tP1wi4peiXCI6XCLil6NcIikrXCJcXHgzYy9zcGFuXFx4M2VcIjtcImx0clwiPT1tJiZcImx0clwiPT1jP2IuZGF0YS5odG1sKz1kOmIuZGF0YS5odG1sPWQrYi5kYXRhLmh0bWx9fSxhLG51bGwsMTAwKTthLm9uKFwibWF4aW1pemVcIixmdW5jdGlvbihiKXthLnVpLnNwYWNlKFwicmVzaXplclwiKVtiLmRhdGE9PUNLRURJVE9SLlRSSVNUQVRFX09OP1wiaGlkZVwiOlwic2hvd1wiXSgpfSl9fX0pLENLRURJVE9SLnBsdWdpbnMuYWRkKFwibWVudWJ1dHRvblwiLHtyZXF1aXJlczpcImJ1dHRvbixtZW51XCIsb25Mb2FkOmZ1bmN0aW9uKCl7dmFyIGE9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5fLGM9Yi5tZW51O2Iuc3RhdGUhPT1DS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRCYmKGIub24mJmM/Yy5oaWRlKCk6KGIucHJldmlvdXNTdGF0ZT1iLnN0YXRlLGN8fChjPWIubWVudT1uZXcgQ0tFRElUT1IubWVudShhLHtwYW5lbDp7Y2xhc3NOYW1lOlwiY2tlX21lbnVfcGFuZWxcIixhdHRyaWJ1dGVzOntcImFyaWEtbGFiZWxcIjphLmxhbmcuY29tbW9uLm9wdGlvbnN9fX0pLFxuYy5vbkhpZGU9Q0tFRElUT1IudG9vbHMuYmluZChmdW5jdGlvbigpe3ZhciBjPXRoaXMuY29tbWFuZD9hLmdldENvbW1hbmQodGhpcy5jb21tYW5kKS5tb2Rlczp0aGlzLm1vZGVzO3RoaXMuc2V0U3RhdGUoIWN8fGNbYS5tb2RlXT9iLnByZXZpb3VzU3RhdGU6Q0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUQpO2Iub249MH0sdGhpcyksdGhpcy5vbk1lbnUmJmMuYWRkTGlzdGVuZXIodGhpcy5vbk1lbnUpKSx0aGlzLnNldFN0YXRlKENLRURJVE9SLlRSSVNUQVRFX09OKSxiLm9uPTEsc2V0VGltZW91dChmdW5jdGlvbigpe2Muc2hvdyhDS0VESVRPUi5kb2N1bWVudC5nZXRCeUlkKGIuaWQpLDQpfSwwKSkpfTtDS0VESVRPUi51aS5tZW51QnV0dG9uPUNLRURJVE9SLnRvb2xzLmNyZWF0ZUNsYXNzKHtiYXNlOkNLRURJVE9SLnVpLmJ1dHRvbiwkOmZ1bmN0aW9uKGYpe2RlbGV0ZSBmLnBhbmVsO3RoaXMuYmFzZShmKTt0aGlzLmhhc0Fycm93PSEwO3RoaXMuY2xpY2s9YX0sc3RhdGljczp7aGFuZGxlcjp7Y3JlYXRlOmZ1bmN0aW9uKGEpe3JldHVybiBuZXcgQ0tFRElUT1IudWkubWVudUJ1dHRvbihhKX19fX0pfSxcbmJlZm9yZUluaXQ6ZnVuY3Rpb24oYSl7YS51aS5hZGRIYW5kbGVyKENLRURJVE9SLlVJX01FTlVCVVRUT04sQ0tFRElUT1IudWkubWVudUJ1dHRvbi5oYW5kbGVyKX19KSxDS0VESVRPUi5VSV9NRU5VQlVUVE9OPVwibWVudWJ1dHRvblwiLFwidXNlIHN0cmljdFwiLENLRURJVE9SLnBsdWdpbnMuYWRkKFwic2NheXRcIix7cmVxdWlyZXM6XCJtZW51YnV0dG9uLGRpYWxvZ1wiLHRhYlRvT3BlbjpudWxsLGRpYWxvZ05hbWU6XCJzY2F5dERpYWxvZ1wiLG9uTG9hZDpmdW5jdGlvbihhKXtDS0VESVRPUi5wbHVnaW5zLnNjYXl0Lm9uTG9hZFRpbWVzdGFtcD0obmV3IERhdGUpLmdldFRpbWUoKTtcIm1vb25vLWxpc2FcIj09KENLRURJVE9SLnNraW5OYW1lfHxhLmNvbmZpZy5za2luKSYmQ0tFRElUT1IuZG9jdW1lbnQuYXBwZW5kU3R5bGVTaGVldCh0aGlzLnBhdGgrXCJza2lucy9cIitDS0VESVRPUi5za2luLm5hbWUrXCIvc2NheXQuY3NzXCIpfSxpbml0OmZ1bmN0aW9uKGEpe3ZhciBmPXRoaXMsYj1DS0VESVRPUi5wbHVnaW5zLnNjYXl0O1xudGhpcy5iaW5kRXZlbnRzKGEpO3RoaXMucGFyc2VDb25maWcoYSk7dGhpcy5hZGRSdWxlKGEpO0NLRURJVE9SLmRpYWxvZy5hZGQodGhpcy5kaWFsb2dOYW1lLENLRURJVE9SLmdldFVybCh0aGlzLnBhdGgrXCJkaWFsb2dzL29wdGlvbnMuanNcIikpO3RoaXMuYWRkTWVudUl0ZW1zKGEpO3ZhciBjPWEubGFuZy5zY2F5dCxlPUNLRURJVE9SLmVudjthLnVpLmFkZChcIlNjYXl0XCIsQ0tFRElUT1IuVUlfTUVOVUJVVFRPTix7bGFiZWw6Yy50ZXh0X3RpdGxlLHRpdGxlOmEucGx1Z2lucy53c2M/YS5sYW5nLndzYy50aXRsZTpjLnRleHRfdGl0bGUsbW9kZXM6e3d5c2l3eWc6IShlLmllJiYoOD5lLnZlcnNpb258fGUucXVpcmtzKSl9LHRvb2xiYXI6XCJzcGVsbGNoZWNrZXIsMjBcIixyZWZyZXNoOmZ1bmN0aW9uKCl7dmFyIGM9YS51aS5pbnN0YW5jZXMuU2NheXQuZ2V0U3RhdGUoKTthLnNjYXl0JiYoYz1iLnN0YXRlLnNjYXl0W2EubmFtZV0/Q0tFRElUT1IuVFJJU1RBVEVfT046Q0tFRElUT1IuVFJJU1RBVEVfT0ZGKTtcbmEuZmlyZShcInNjYXl0QnV0dG9uU3RhdGVcIixjKX0sb25SZW5kZXI6ZnVuY3Rpb24oKXt2YXIgYj10aGlzO2Eub24oXCJzY2F5dEJ1dHRvblN0YXRlXCIsZnVuY3Rpb24oYSl7dm9pZCAwIT09dHlwZW9mIGEuZGF0YSYmYi5zZXRTdGF0ZShhLmRhdGEpfSl9LG9uTWVudTpmdW5jdGlvbigpe3ZhciBjPWEuc2NheXQ7YS5nZXRNZW51SXRlbShcInNjYXl0VG9nZ2xlXCIpLmxhYmVsPWEubGFuZy5zY2F5dFtjJiZiLnN0YXRlLnNjYXl0W2EubmFtZV0/XCJidG5fZGlzYWJsZVwiOlwiYnRuX2VuYWJsZVwiXTtjPXtzY2F5dFRvZ2dsZTpDS0VESVRPUi5UUklTVEFURV9PRkYsc2NheXRPcHRpb25zOmM/Q0tFRElUT1IuVFJJU1RBVEVfT0ZGOkNLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVELHNjYXl0TGFuZ3M6Yz9DS0VESVRPUi5UUklTVEFURV9PRkY6Q0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUQsc2NheXREaWN0OmM/Q0tFRElUT1IuVFJJU1RBVEVfT0ZGOkNLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVELHNjYXl0QWJvdXQ6Yz9cbkNLRURJVE9SLlRSSVNUQVRFX09GRjpDS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRCxXU0M6YS5wbHVnaW5zLndzYz9DS0VESVRPUi5UUklTVEFURV9PRkY6Q0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUR9O2EuY29uZmlnLnNjYXl0X3VpVGFic1swXXx8ZGVsZXRlIGMuc2NheXRPcHRpb25zO2EuY29uZmlnLnNjYXl0X3VpVGFic1sxXXx8ZGVsZXRlIGMuc2NheXRMYW5nczthLmNvbmZpZy5zY2F5dF91aVRhYnNbMl18fGRlbGV0ZSBjLnNjYXl0RGljdDtyZXR1cm4gY319KTthLmNvbnRleHRNZW51JiZhLmFkZE1lbnVJdGVtcyYmKGEuY29udGV4dE1lbnUuYWRkTGlzdGVuZXIoZnVuY3Rpb24oYixjKXt2YXIgZD1hLnNjYXl0LGUsaztkJiYoaz1kLmdldFNlbGVjdGlvbk5vZGUoKSkmJihlPWYubWVudUdlbmVyYXRvcihhLGspLGQuc2hvd0Jhbm5lcihcIi5cIithLmNvbnRleHRNZW51Ll8uZGVmaW5pdGlvbi5wYW5lbC5jbGFzc05hbWUuc3BsaXQoXCIgXCIpLmpvaW4oXCIgLlwiKSkpO3JldHVybiBlfSksXG5hLmNvbnRleHRNZW51Ll8ub25IaWRlPUNLRURJVE9SLnRvb2xzLm92ZXJyaWRlKGEuY29udGV4dE1lbnUuXy5vbkhpZGUsZnVuY3Rpb24oYil7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGM9YS5zY2F5dDtjJiZjLmhpZGVCYW5uZXIoKTtyZXR1cm4gYi5hcHBseSh0aGlzKX19KSl9LGFkZE1lbnVJdGVtczpmdW5jdGlvbihhKXt2YXIgZj10aGlzLGI9Q0tFRElUT1IucGx1Z2lucy5zY2F5dDthLmFkZE1lbnVHcm91cChcInNjYXl0QnV0dG9uXCIpO2Zvcih2YXIgYz1hLmNvbmZpZy5zY2F5dF9jb250ZXh0TWVudUl0ZW1zT3JkZXIuc3BsaXQoXCJ8XCIpLGU9MDtlPGMubGVuZ3RoO2UrKyljW2VdPVwic2NheXRfXCIrY1tlXTtpZigoYz1bXCJncmF5dF9kZXNjcmlwdGlvblwiLFwiZ3JheXRfc3VnZ2VzdFwiLFwiZ3JheXRfY29udHJvbFwiXS5jb25jYXQoYykpJiZjLmxlbmd0aClmb3IoZT0wO2U8Yy5sZW5ndGg7ZSsrKWEuYWRkTWVudUdyb3VwKGNbZV0sZS0xMCk7YS5hZGRDb21tYW5kKFwic2NheXRUb2dnbGVcIixcbntleGVjOmZ1bmN0aW9uKGEpe3ZhciBjPWEuc2NheXQ7Yi5zdGF0ZS5zY2F5dFthLm5hbWVdPSFiLnN0YXRlLnNjYXl0W2EubmFtZV07ITA9PT1iLnN0YXRlLnNjYXl0W2EubmFtZV0/Y3x8Yi5jcmVhdGVTY2F5dChhKTpjJiZiLmRlc3Ryb3koYSl9fSk7YS5hZGRDb21tYW5kKFwic2NheXRBYm91dFwiLHtleGVjOmZ1bmN0aW9uKGEpe2Euc2NheXQudGFiVG9PcGVuPVwiYWJvdXRcIjthLmxvY2tTZWxlY3Rpb24oKTthLm9wZW5EaWFsb2coZi5kaWFsb2dOYW1lKX19KTthLmFkZENvbW1hbmQoXCJzY2F5dE9wdGlvbnNcIix7ZXhlYzpmdW5jdGlvbihhKXthLnNjYXl0LnRhYlRvT3Blbj1cIm9wdGlvbnNcIjthLmxvY2tTZWxlY3Rpb24oKTthLm9wZW5EaWFsb2coZi5kaWFsb2dOYW1lKX19KTthLmFkZENvbW1hbmQoXCJzY2F5dExhbmdzXCIse2V4ZWM6ZnVuY3Rpb24oYSl7YS5zY2F5dC50YWJUb09wZW49XCJsYW5nc1wiO2EubG9ja1NlbGVjdGlvbigpO2Eub3BlbkRpYWxvZyhmLmRpYWxvZ05hbWUpfX0pO1xuYS5hZGRDb21tYW5kKFwic2NheXREaWN0XCIse2V4ZWM6ZnVuY3Rpb24oYSl7YS5zY2F5dC50YWJUb09wZW49XCJkaWN0aW9uYXJpZXNcIjthLmxvY2tTZWxlY3Rpb24oKTthLm9wZW5EaWFsb2coZi5kaWFsb2dOYW1lKX19KTtjPXtzY2F5dFRvZ2dsZTp7bGFiZWw6YS5sYW5nLnNjYXl0LmJ0bl9lbmFibGUsZ3JvdXA6XCJzY2F5dEJ1dHRvblwiLGNvbW1hbmQ6XCJzY2F5dFRvZ2dsZVwifSxzY2F5dEFib3V0OntsYWJlbDphLmxhbmcuc2NheXQuYnRuX2Fib3V0LGdyb3VwOlwic2NheXRCdXR0b25cIixjb21tYW5kOlwic2NheXRBYm91dFwifSxzY2F5dE9wdGlvbnM6e2xhYmVsOmEubGFuZy5zY2F5dC5idG5fb3B0aW9ucyxncm91cDpcInNjYXl0QnV0dG9uXCIsY29tbWFuZDpcInNjYXl0T3B0aW9uc1wifSxzY2F5dExhbmdzOntsYWJlbDphLmxhbmcuc2NheXQuYnRuX2xhbmdzLGdyb3VwOlwic2NheXRCdXR0b25cIixjb21tYW5kOlwic2NheXRMYW5nc1wifSxzY2F5dERpY3Q6e2xhYmVsOmEubGFuZy5zY2F5dC5idG5fZGljdGlvbmFyaWVzLFxuZ3JvdXA6XCJzY2F5dEJ1dHRvblwiLGNvbW1hbmQ6XCJzY2F5dERpY3RcIn19O2EucGx1Z2lucy53c2MmJihjLldTQz17bGFiZWw6YS5sYW5nLndzYy50b29sYmFyLGdyb3VwOlwic2NheXRCdXR0b25cIixvbkNsaWNrOmZ1bmN0aW9uKCl7dmFyIGI9Q0tFRElUT1IucGx1Z2lucy5zY2F5dCxjPWEuc2NheXQsZD1hLmVsZW1lbnRNb2RlPT1DS0VESVRPUi5FTEVNRU5UX01PREVfSU5MSU5FP2EuY29udGFpbmVyLmdldFRleHQoKTphLmRvY3VtZW50LmdldEJvZHkoKS5nZXRUZXh0KCk7KGQ9ZC5yZXBsYWNlKC9cXHMvZyxcIlwiKSk/KGMmJmIuc3RhdGUuc2NheXRbYS5uYW1lXSYmYy5zZXRNYXJrdXBQYXVzZWQmJmMuc2V0TWFya3VwUGF1c2VkKCEwKSxhLmxvY2tTZWxlY3Rpb24oKSxhLmV4ZWNDb21tYW5kKFwiY2hlY2tzcGVsbFwiKSk6YWxlcnQoXCJOb3RoaW5nIHRvIGNoZWNrIVwiKX19KTthLmFkZE1lbnVJdGVtcyhjKX0sYmluZEV2ZW50czpmdW5jdGlvbihhKXt2YXIgZj1DS0VESVRPUi5wbHVnaW5zLnNjYXl0LFxuYj1hLmVsZW1lbnRNb2RlPT1DS0VESVRPUi5FTEVNRU5UX01PREVfSU5MSU5FLGM9ZnVuY3Rpb24oKXtmLmRlc3Ryb3koYSl9LGU9ZnVuY3Rpb24oKXshZi5zdGF0ZS5zY2F5dFthLm5hbWVdfHxhLnJlYWRPbmx5fHxhLnNjYXl0fHxmLmNyZWF0ZVNjYXl0KGEpfSxtPWZ1bmN0aW9uKCl7dmFyIGM9YS5lZGl0YWJsZSgpO2MuYXR0YWNoTGlzdGVuZXIoYyxcImZvY3VzXCIsZnVuY3Rpb24oYyl7Q0tFRElUT1IucGx1Z2lucy5zY2F5dCYmIWEuc2NheXQmJnNldFRpbWVvdXQoZSwwKTtjPUNLRURJVE9SLnBsdWdpbnMuc2NheXQmJkNLRURJVE9SLnBsdWdpbnMuc2NheXQuc3RhdGUuc2NheXRbYS5uYW1lXSYmYS5zY2F5dDt2YXIgZCxmO2lmKChifHxjKSYmYS5fLnNhdmVkU2VsZWN0aW9uKXtjPWEuXy5zYXZlZFNlbGVjdGlvbi5nZXRTZWxlY3RlZEVsZW1lbnQoKTtjPSFjJiZhLl8uc2F2ZWRTZWxlY3Rpb24uZ2V0UmFuZ2VzKCk7Zm9yKHZhciBsPTA7bDxjLmxlbmd0aDtsKyspZj1jW2xdLFwic3RyaW5nXCI9PT1cbnR5cGVvZiBmLnN0YXJ0Q29udGFpbmVyLiQubm9kZVZhbHVlJiYoZD1mLnN0YXJ0Q29udGFpbmVyLmdldFRleHQoKS5sZW5ndGgsKGQ8Zi5zdGFydE9mZnNldHx8ZDxmLmVuZE9mZnNldCkmJmEudW5sb2NrU2VsZWN0aW9uKCExKSl9fSx0aGlzLG51bGwsLTEwKX0sbD1mdW5jdGlvbigpe2I/YS5jb25maWcuc2NheXRfaW5saW5lTW9kZUltbWVkaWF0ZU1hcmt1cD9lKCk6KGEub24oXCJibHVyXCIsZnVuY3Rpb24oKXtzZXRUaW1lb3V0KGMsMCl9KSxhLm9uKFwiZm9jdXNcIixlKSxhLmZvY3VzTWFuYWdlci5oYXNGb2N1cyYmZSgpKTplKCk7bSgpO3ZhciBkPWEuZWRpdGFibGUoKTtkLmF0dGFjaExpc3RlbmVyKGQsXCJtb3VzZWRvd25cIixmdW5jdGlvbihiKXtiPWIuZGF0YS5nZXRUYXJnZXQoKTt2YXIgYz1hLndpZGdldHMmJmEud2lkZ2V0cy5nZXRCeUVsZW1lbnQoYik7YyYmKGMud3JhcHBlcj1iLmdldEFzY2VuZGFudChmdW5jdGlvbihhKXtyZXR1cm4gYS5oYXNBdHRyaWJ1dGUoXCJkYXRhLWNrZS13aWRnZXQtd3JhcHBlclwiKX0sXG4hMCkpfSx0aGlzLG51bGwsLTEwKX07YS5vbihcImNvbnRlbnREb21cIixsKTthLm9uKFwiYmVmb3JlQ29tbWFuZEV4ZWNcIixmdW5jdGlvbihiKXt2YXIgYz1hLnNjYXl0LGU9bnVsbCxnPSExLGw9ITA7Yi5kYXRhLm5hbWUgaW4gZi5vcHRpb25zLmRpc2FibGluZ0NvbW1hbmRFeGVjJiZcInd5c2l3eWdcIj09YS5tb2RlP2MmJihmLmRlc3Ryb3koYSksYS5maXJlKFwic2NheXRCdXR0b25TdGF0ZVwiLENLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVEKSk6XCJib2xkXCIhPT1iLmRhdGEubmFtZSYmXCJpdGFsaWNcIiE9PWIuZGF0YS5uYW1lJiZcInVuZGVybGluZVwiIT09Yi5kYXRhLm5hbWUmJlwic3RyaWtlXCIhPT1iLmRhdGEubmFtZSYmXCJzdWJzY3JpcHRcIiE9PWIuZGF0YS5uYW1lJiZcInN1cGVyc2NyaXB0XCIhPT1iLmRhdGEubmFtZSYmXCJlbnRlclwiIT09Yi5kYXRhLm5hbWUmJlwiY3V0XCIhPT1iLmRhdGEubmFtZSYmXCJsYW5ndWFnZVwiIT09Yi5kYXRhLm5hbWV8fCFjfHwoXCJjdXRcIj09PWIuZGF0YS5uYW1lJiYobD0hMSxcbmc9ITApLFwibGFuZ3VhZ2VcIj09PWIuZGF0YS5uYW1lJiYoZT0oZT1hLnBsdWdpbnMubGFuZ3VhZ2UuZ2V0Q3VycmVudExhbmdFbGVtZW50KGEpKSYmZS4kLGc9ITApLGEuZmlyZShcInJlbG9hZE1hcmt1cFNjYXl0XCIse3JlbW92ZU9wdGlvbnM6e3JlbW92ZUluc2lkZTpsLGZvcmNlQm9va21hcms6ZyxzZWxlY3Rpb25Ob2RlOmV9LHRpbWVvdXQ6MH0pKX0pO2Eub24oXCJiZWZvcmVTZXRNb2RlXCIsZnVuY3Rpb24oYil7aWYoXCJzb3VyY2VcIj09Yi5kYXRhKXtpZihiPWEuc2NheXQpZi5kZXN0cm95KGEpLGEuZmlyZShcInNjYXl0QnV0dG9uU3RhdGVcIixDS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRCk7YS5kb2N1bWVudCYmYS5kb2N1bWVudC5nZXRCb2R5KCkucmVtb3ZlQXR0cmlidXRlKFwiX2pxdWlkXCIpfX0pO2Eub24oXCJhZnRlckNvbW1hbmRFeGVjXCIsZnVuY3Rpb24oYil7XCJ3eXNpd3lnXCIhPWEubW9kZXx8XCJ1bmRvXCIhPWIuZGF0YS5uYW1lJiZcInJlZG9cIiE9Yi5kYXRhLm5hbWV8fHNldFRpbWVvdXQoZnVuY3Rpb24oKXtmLnJlbG9hZE1hcmt1cChhLnNjYXl0KX0sXG4yNTApfSk7YS5vbihcInJlYWRPbmx5XCIsZnVuY3Rpb24oYil7dmFyIGM7YiYmKGM9YS5zY2F5dCwhMD09PWIuZWRpdG9yLnJlYWRPbmx5P2MmJmMuZmlyZShcInJlbW92ZU1hcmt1cEluRG9jdW1lbnRcIix7fSk6Yz9mLnJlbG9hZE1hcmt1cChjKTpcInd5c2l3eWdcIj09Yi5lZGl0b3IubW9kZSYmITA9PT1mLnN0YXRlLnNjYXl0W2IuZWRpdG9yLm5hbWVdJiYoZi5jcmVhdGVTY2F5dChhKSxiLmVkaXRvci5maXJlKFwic2NheXRCdXR0b25TdGF0ZVwiLENLRURJVE9SLlRSSVNUQVRFX09OKSkpfSk7YS5vbihcImJlZm9yZURlc3Ryb3lcIixjKTthLm9uKFwic2V0RGF0YVwiLGZ1bmN0aW9uKCl7YygpOyhhLmVsZW1lbnRNb2RlPT1DS0VESVRPUi5FTEVNRU5UX01PREVfSU5MSU5FfHxhLnBsdWdpbnMuZGl2YXJlYSkmJmwoKX0sdGhpcyxudWxsLDUwKTthLm9uKFwicmVsb2FkTWFya3VwU2NheXRcIixmdW5jdGlvbihiKXt2YXIgYz1iLmRhdGEmJmIuZGF0YS5yZW1vdmVPcHRpb25zO2I9Yi5kYXRhJiZiLmRhdGEudGltZW91dDtcbnZhciBlPWEuc2NheXQ7ZSYmc2V0VGltZW91dChmdW5jdGlvbigpe2UucmVtb3ZlTWFya3VwSW5TZWxlY3Rpb25Ob2RlKGMpO2YucmVsb2FkTWFya3VwKGUpfSxifHwwKX0pO2Eub24oXCJpbnNlcnRFbGVtZW50XCIsZnVuY3Rpb24oKXthLmZpcmUoXCJyZWxvYWRNYXJrdXBTY2F5dFwiLHtyZW1vdmVPcHRpb25zOntmb3JjZUJvb2ttYXJrOiEwfX0pfSx0aGlzLG51bGwsNTApO2Eub24oXCJpbnNlcnRIdG1sXCIsZnVuY3Rpb24oKXthLmZpcmUoXCJyZWxvYWRNYXJrdXBTY2F5dFwiKX0sdGhpcyxudWxsLDUwKTthLm9uKFwiaW5zZXJ0VGV4dFwiLGZ1bmN0aW9uKCl7YS5maXJlKFwicmVsb2FkTWFya3VwU2NheXRcIil9LHRoaXMsbnVsbCw1MCk7YS5vbihcInNjYXl0RGlhbG9nU2hvd25cIixmdW5jdGlvbihiKXtiLmRhdGEuc2VsZWN0UGFnZShhLnNjYXl0LnRhYlRvT3Blbil9KX0scGFyc2VDb25maWc6ZnVuY3Rpb24oYSl7dmFyIGY9Q0tFRElUT1IucGx1Z2lucy5zY2F5dDtmLnJlcGxhY2VPbGRPcHRpb25zTmFtZXMoYS5jb25maWcpO1xuXCJib29sZWFuXCIhPT10eXBlb2YgYS5jb25maWcuc2NheXRfYXV0b1N0YXJ0dXAmJihhLmNvbmZpZy5zY2F5dF9hdXRvU3RhcnR1cD0hMSk7Zi5zdGF0ZS5zY2F5dFthLm5hbWVdPWEuY29uZmlnLnNjYXl0X2F1dG9TdGFydHVwO1wiYm9vbGVhblwiIT09dHlwZW9mIGEuY29uZmlnLmdyYXl0X2F1dG9TdGFydHVwJiYoYS5jb25maWcuZ3JheXRfYXV0b1N0YXJ0dXA9ITEpO1wiYm9vbGVhblwiIT09dHlwZW9mIGEuY29uZmlnLnNjYXl0X2lubGluZU1vZGVJbW1lZGlhdGVNYXJrdXAmJihhLmNvbmZpZy5zY2F5dF9pbmxpbmVNb2RlSW1tZWRpYXRlTWFya3VwPSExKTtmLnN0YXRlLmdyYXl0W2EubmFtZV09YS5jb25maWcuZ3JheXRfYXV0b1N0YXJ0dXA7YS5jb25maWcuc2NheXRfY29udGV4dENvbW1hbmRzfHwoYS5jb25maWcuc2NheXRfY29udGV4dENvbW1hbmRzPVwiaWdub3JlfGlnbm9yZWFsbHxhZGRcIik7YS5jb25maWcuc2NheXRfY29udGV4dE1lbnVJdGVtc09yZGVyfHwoYS5jb25maWcuc2NheXRfY29udGV4dE1lbnVJdGVtc09yZGVyPVxuXCJzdWdnZXN0fG1vcmVzdWdnZXN0fGNvbnRyb2xcIik7YS5jb25maWcuc2NheXRfc0xhbmd8fChhLmNvbmZpZy5zY2F5dF9zTGFuZz1cImVuX1VTXCIpO2lmKHZvaWQgMD09PWEuY29uZmlnLnNjYXl0X21heFN1Z2dlc3Rpb25zfHxcIm51bWJlclwiIT10eXBlb2YgYS5jb25maWcuc2NheXRfbWF4U3VnZ2VzdGlvbnN8fDA+YS5jb25maWcuc2NheXRfbWF4U3VnZ2VzdGlvbnMpYS5jb25maWcuc2NheXRfbWF4U3VnZ2VzdGlvbnM9NTtpZih2b2lkIDA9PT1hLmNvbmZpZy5zY2F5dF9taW5Xb3JkTGVuZ3RofHxcIm51bWJlclwiIT10eXBlb2YgYS5jb25maWcuc2NheXRfbWluV29yZExlbmd0aHx8MT5hLmNvbmZpZy5zY2F5dF9taW5Xb3JkTGVuZ3RoKWEuY29uZmlnLnNjYXl0X21pbldvcmRMZW5ndGg9NDtpZih2b2lkIDA9PT1hLmNvbmZpZy5zY2F5dF9jdXN0b21EaWN0aW9uYXJ5SWRzfHxcInN0cmluZ1wiIT09dHlwZW9mIGEuY29uZmlnLnNjYXl0X2N1c3RvbURpY3Rpb25hcnlJZHMpYS5jb25maWcuc2NheXRfY3VzdG9tRGljdGlvbmFyeUlkcz1cblwiXCI7aWYodm9pZCAwPT09YS5jb25maWcuc2NheXRfdXNlckRpY3Rpb25hcnlOYW1lfHxcInN0cmluZ1wiIT09dHlwZW9mIGEuY29uZmlnLnNjYXl0X3VzZXJEaWN0aW9uYXJ5TmFtZSlhLmNvbmZpZy5zY2F5dF91c2VyRGljdGlvbmFyeU5hbWU9bnVsbDtpZihcInN0cmluZ1wiPT09dHlwZW9mIGEuY29uZmlnLnNjYXl0X3VpVGFicyYmMz09PWEuY29uZmlnLnNjYXl0X3VpVGFicy5zcGxpdChcIixcIikubGVuZ3RoKXt2YXIgYj1bXSxjPVtdO2EuY29uZmlnLnNjYXl0X3VpVGFicz1hLmNvbmZpZy5zY2F5dF91aVRhYnMuc3BsaXQoXCIsXCIpO0NLRURJVE9SLnRvb2xzLnNlYXJjaChhLmNvbmZpZy5zY2F5dF91aVRhYnMsZnVuY3Rpb24oYSl7MT09PU51bWJlcihhKXx8MD09PU51bWJlcihhKT8oYy5wdXNoKCEwKSxiLnB1c2goTnVtYmVyKGEpKSk6Yy5wdXNoKCExKX0pO251bGw9PT1DS0VESVRPUi50b29scy5zZWFyY2goYywhMSk/YS5jb25maWcuc2NheXRfdWlUYWJzPWI6YS5jb25maWcuc2NheXRfdWlUYWJzPVxuWzEsMSwxXX1lbHNlIGEuY29uZmlnLnNjYXl0X3VpVGFicz1bMSwxLDFdO1wic3RyaW5nXCIhPXR5cGVvZiBhLmNvbmZpZy5zY2F5dF9zZXJ2aWNlUHJvdG9jb2wmJihhLmNvbmZpZy5zY2F5dF9zZXJ2aWNlUHJvdG9jb2w9bnVsbCk7XCJzdHJpbmdcIiE9dHlwZW9mIGEuY29uZmlnLnNjYXl0X3NlcnZpY2VIb3N0JiYoYS5jb25maWcuc2NheXRfc2VydmljZUhvc3Q9bnVsbCk7XCJzdHJpbmdcIiE9dHlwZW9mIGEuY29uZmlnLnNjYXl0X3NlcnZpY2VQb3J0JiYoYS5jb25maWcuc2NheXRfc2VydmljZVBvcnQ9bnVsbCk7XCJzdHJpbmdcIiE9dHlwZW9mIGEuY29uZmlnLnNjYXl0X3NlcnZpY2VQYXRoJiYoYS5jb25maWcuc2NheXRfc2VydmljZVBhdGg9bnVsbCk7YS5jb25maWcuc2NheXRfbW9yZVN1Z2dlc3Rpb25zfHwoYS5jb25maWcuc2NheXRfbW9yZVN1Z2dlc3Rpb25zPVwib25cIik7XCJzdHJpbmdcIiE9PXR5cGVvZiBhLmNvbmZpZy5zY2F5dF9jdXN0b21lcklkJiYoYS5jb25maWcuc2NheXRfY3VzdG9tZXJJZD1cblwiMTpXdkYwRDQtVXRQcU4xLTQzbmtENC1OS3ZVbTItZGFRcWszLUxtTmlJLXo3WXNiNC1td3J5MjQtVDhZclMzLVEydHBxMlwiKTtcInN0cmluZ1wiIT09dHlwZW9mIGEuY29uZmlnLnNjYXl0X3NyY1VybCYmKGY9ZG9jdW1lbnQubG9jYXRpb24ucHJvdG9jb2wsZj0tMSE9Zi5zZWFyY2goL2h0dHBzPzovKT9mOlwiaHR0cDpcIixhLmNvbmZpZy5zY2F5dF9zcmNVcmw9ZitcIi8vc3ZjLndlYnNwZWxsY2hlY2tlci5uZXQvc3BlbGxjaGVjazMxL2xmL3NjYXl0My9ja3NjYXl0L2Nrc2NheXQuanNcIik7XCJib29sZWFuXCIhPT10eXBlb2YgQ0tFRElUT1IuY29uZmlnLnNjYXl0X2hhbmRsZUNoZWNrRGlydHkmJihDS0VESVRPUi5jb25maWcuc2NheXRfaGFuZGxlQ2hlY2tEaXJ0eT0hMCk7XCJib29sZWFuXCIhPT10eXBlb2YgQ0tFRElUT1IuY29uZmlnLnNjYXl0X2hhbmRsZVVuZG9SZWRvJiYoQ0tFRElUT1IuY29uZmlnLnNjYXl0X2hhbmRsZVVuZG9SZWRvPSEwKTtDS0VESVRPUi5jb25maWcuc2NheXRfaGFuZGxlVW5kb1JlZG89XG5DS0VESVRPUi5wbHVnaW5zLnVuZG8/Q0tFRElUT1IuY29uZmlnLnNjYXl0X2hhbmRsZVVuZG9SZWRvOiExO1wiYm9vbGVhblwiIT09dHlwZW9mIGEuY29uZmlnLnNjYXl0X211bHRpTGFuZ3VhZ2VNb2RlJiYoYS5jb25maWcuc2NheXRfbXVsdGlMYW5ndWFnZU1vZGU9ITEpO1wib2JqZWN0XCIhPT10eXBlb2YgYS5jb25maWcuc2NheXRfbXVsdGlMYW5ndWFnZVN0eWxlcyYmKGEuY29uZmlnLnNjYXl0X211bHRpTGFuZ3VhZ2VTdHlsZXM9e30pO2EuY29uZmlnLnNjYXl0X2lnbm9yZUFsbENhcHNXb3JkcyYmXCJib29sZWFuXCIhPT10eXBlb2YgYS5jb25maWcuc2NheXRfaWdub3JlQWxsQ2Fwc1dvcmRzJiYoYS5jb25maWcuc2NheXRfaWdub3JlQWxsQ2Fwc1dvcmRzPSExKTthLmNvbmZpZy5zY2F5dF9pZ25vcmVEb21haW5OYW1lcyYmXCJib29sZWFuXCIhPT10eXBlb2YgYS5jb25maWcuc2NheXRfaWdub3JlRG9tYWluTmFtZXMmJihhLmNvbmZpZy5zY2F5dF9pZ25vcmVEb21haW5OYW1lcz0hMSk7YS5jb25maWcuc2NheXRfaWdub3JlV29yZHNXaXRoTWl4ZWRDYXNlcyYmXG5cImJvb2xlYW5cIiE9PXR5cGVvZiBhLmNvbmZpZy5zY2F5dF9pZ25vcmVXb3Jkc1dpdGhNaXhlZENhc2VzJiYoYS5jb25maWcuc2NheXRfaWdub3JlV29yZHNXaXRoTWl4ZWRDYXNlcz0hMSk7YS5jb25maWcuc2NheXRfaWdub3JlV29yZHNXaXRoTnVtYmVycyYmXCJib29sZWFuXCIhPT10eXBlb2YgYS5jb25maWcuc2NheXRfaWdub3JlV29yZHNXaXRoTnVtYmVycyYmKGEuY29uZmlnLnNjYXl0X2lnbm9yZVdvcmRzV2l0aE51bWJlcnM9ITEpO2lmKGEuY29uZmlnLnNjYXl0X2Rpc2FibGVPcHRpb25zU3RvcmFnZSl7dmFyIGY9Q0tFRElUT1IudG9vbHMuaXNBcnJheShhLmNvbmZpZy5zY2F5dF9kaXNhYmxlT3B0aW9uc1N0b3JhZ2UpP2EuY29uZmlnLnNjYXl0X2Rpc2FibGVPcHRpb25zU3RvcmFnZTpcInN0cmluZ1wiPT09dHlwZW9mIGEuY29uZmlnLnNjYXl0X2Rpc2FibGVPcHRpb25zU3RvcmFnZT9bYS5jb25maWcuc2NheXRfZGlzYWJsZU9wdGlvbnNTdG9yYWdlXTp2b2lkIDAsZT1cImFsbCBvcHRpb25zIGxhbmcgaWdub3JlLWFsbC1jYXBzLXdvcmRzIGlnbm9yZS1kb21haW4tbmFtZXMgaWdub3JlLXdvcmRzLXdpdGgtbWl4ZWQtY2FzZXMgaWdub3JlLXdvcmRzLXdpdGgtbnVtYmVyc1wiLnNwbGl0KFwiIFwiKSxcbm09W1wibGFuZ1wiLFwiaWdub3JlLWFsbC1jYXBzLXdvcmRzXCIsXCJpZ25vcmUtZG9tYWluLW5hbWVzXCIsXCJpZ25vcmUtd29yZHMtd2l0aC1taXhlZC1jYXNlc1wiLFwiaWdub3JlLXdvcmRzLXdpdGgtbnVtYmVyc1wiXSxsPUNLRURJVE9SLnRvb2xzLnNlYXJjaCxkPUNLRURJVE9SLnRvb2xzLmluZGV4T2Y7YS5jb25maWcuc2NheXRfZGlzYWJsZU9wdGlvbnNTdG9yYWdlPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1bXSxjPTA7YzxhLmxlbmd0aDtjKyspe3ZhciBmPWFbY10scT0hIWwoYSxcIm9wdGlvbnNcIik7aWYoIWwoZSxmKXx8cSYmbChtLGZ1bmN0aW9uKGEpe2lmKFwibGFuZ1wiPT09YSlyZXR1cm4hMX0pKXJldHVybjtsKG0sZikmJm0uc3BsaWNlKGQobSxmKSwxKTtpZihcImFsbFwiPT09Znx8cSYmbChhLFwibGFuZ1wiKSlyZXR1cm5bXTtcIm9wdGlvbnNcIj09PWYmJihtPVtcImxhbmdcIl0pfXJldHVybiBiPWIuY29uY2F0KG0pfShmKX19LGFkZFJ1bGU6ZnVuY3Rpb24oYSl7dmFyIGY9Q0tFRElUT1IucGx1Z2lucy5zY2F5dCxcbmI9YS5kYXRhUHJvY2Vzc29yLGM9YiYmYi5odG1sRmlsdGVyLGU9YS5fLmVsZW1lbnRzUGF0aCYmYS5fLmVsZW1lbnRzUGF0aC5maWx0ZXJzLGI9YiYmYi5kYXRhRmlsdGVyLG09YS5hZGRSZW1vdmVGb3JtYXRGaWx0ZXIsbD1mdW5jdGlvbihiKXtpZihhLnNjYXl0JiYoYi5oYXNBdHRyaWJ1dGUoZi5vcHRpb25zLmRhdGFfYXR0cmlidXRlX25hbWUpfHxiLmhhc0F0dHJpYnV0ZShmLm9wdGlvbnMucHJvYmxlbV9ncmFtbWFyX2RhdGFfYXR0cmlidXRlKSkpcmV0dXJuITF9LGQ9ZnVuY3Rpb24oYil7dmFyIGM9ITA7YS5zY2F5dCYmKGIuaGFzQXR0cmlidXRlKGYub3B0aW9ucy5kYXRhX2F0dHJpYnV0ZV9uYW1lKXx8Yi5oYXNBdHRyaWJ1dGUoZi5vcHRpb25zLnByb2JsZW1fZ3JhbW1hcl9kYXRhX2F0dHJpYnV0ZSkpJiYoYz0hMSk7cmV0dXJuIGN9O2UmJmUucHVzaChsKTtiJiZiLmFkZFJ1bGVzKHtlbGVtZW50czp7c3BhbjpmdW5jdGlvbihhKXt2YXIgYj1hLmhhc0NsYXNzKGYub3B0aW9ucy5taXNzcGVsbGVkX3dvcmRfY2xhc3MpJiZcbmEuYXR0cmlidXRlc1tmLm9wdGlvbnMuZGF0YV9hdHRyaWJ1dGVfbmFtZV0sYz1hLmhhc0NsYXNzKGYub3B0aW9ucy5wcm9ibGVtX2dyYW1tYXJfY2xhc3MpJiZhLmF0dHJpYnV0ZXNbZi5vcHRpb25zLnByb2JsZW1fZ3JhbW1hcl9kYXRhX2F0dHJpYnV0ZV07ZiYmKGJ8fGMpJiZkZWxldGUgYS5uYW1lO3JldHVybiBhfX19KTtjJiZjLmFkZFJ1bGVzKHtlbGVtZW50czp7c3BhbjpmdW5jdGlvbihhKXt2YXIgYj1hLmhhc0NsYXNzKGYub3B0aW9ucy5taXNzcGVsbGVkX3dvcmRfY2xhc3MpJiZhLmF0dHJpYnV0ZXNbZi5vcHRpb25zLmRhdGFfYXR0cmlidXRlX25hbWVdLGM9YS5oYXNDbGFzcyhmLm9wdGlvbnMucHJvYmxlbV9ncmFtbWFyX2NsYXNzKSYmYS5hdHRyaWJ1dGVzW2Yub3B0aW9ucy5wcm9ibGVtX2dyYW1tYXJfZGF0YV9hdHRyaWJ1dGVdO2YmJihifHxjKSYmZGVsZXRlIGEubmFtZTtyZXR1cm4gYX19fSk7bSYmbS5jYWxsKGEsZCl9LHNjYXl0TWVudURlZmluaXRpb246ZnVuY3Rpb24oYSl7dmFyIGY9XG50aGlzO2E9YS5zY2F5dDtyZXR1cm57c2NheXQ6e3NjYXl0X2lnbm9yZTp7bGFiZWw6YS5nZXRMb2NhbChcImJ0bl9pZ25vcmVcIiksZ3JvdXA6XCJzY2F5dF9jb250cm9sXCIsb3JkZXI6MSxleGVjOmZ1bmN0aW9uKGEpe2Euc2NheXQuaWdub3JlV29yZCgpfX0sc2NheXRfaWdub3JlYWxsOntsYWJlbDphLmdldExvY2FsKFwiYnRuX2lnbm9yZUFsbFwiKSxncm91cDpcInNjYXl0X2NvbnRyb2xcIixvcmRlcjoyLGV4ZWM6ZnVuY3Rpb24oYSl7YS5zY2F5dC5pZ25vcmVBbGxXb3JkcygpfX0sc2NheXRfYWRkOntsYWJlbDphLmdldExvY2FsKFwiYnRuX2FkZFdvcmRcIiksZ3JvdXA6XCJzY2F5dF9jb250cm9sXCIsb3JkZXI6MyxleGVjOmZ1bmN0aW9uKGEpe3ZhciBjPWEuc2NheXQ7c2V0VGltZW91dChmdW5jdGlvbigpe2MuYWRkV29yZFRvVXNlckRpY3Rpb25hcnkoKX0sMTApfX0sc2NheXRfb3B0aW9uOntsYWJlbDphLmdldExvY2FsKFwiYnRuX29wdGlvbnNcIiksZ3JvdXA6XCJzY2F5dF9jb250cm9sXCIsb3JkZXI6NCxcbmV4ZWM6ZnVuY3Rpb24oYSl7YS5zY2F5dC50YWJUb09wZW49XCJvcHRpb25zXCI7YS5sb2NrU2VsZWN0aW9uKCk7YS5vcGVuRGlhbG9nKGYuZGlhbG9nTmFtZSl9LHZlcmlmaWNhdGlvbjpmdW5jdGlvbihhKXtyZXR1cm4gMT09YS5jb25maWcuc2NheXRfdWlUYWJzWzBdPyEwOiExfX0sc2NheXRfbGFuZ3VhZ2U6e2xhYmVsOmEuZ2V0TG9jYWwoXCJidG5fbGFuZ3NcIiksZ3JvdXA6XCJzY2F5dF9jb250cm9sXCIsb3JkZXI6NSxleGVjOmZ1bmN0aW9uKGEpe2Euc2NheXQudGFiVG9PcGVuPVwibGFuZ3NcIjthLmxvY2tTZWxlY3Rpb24oKTthLm9wZW5EaWFsb2coZi5kaWFsb2dOYW1lKX0sdmVyaWZpY2F0aW9uOmZ1bmN0aW9uKGEpe3JldHVybiAxPT1hLmNvbmZpZy5zY2F5dF91aVRhYnNbMV0/ITA6ITF9fSxzY2F5dF9kaWN0aW9uYXJ5OntsYWJlbDphLmdldExvY2FsKFwiYnRuX2RpY3Rpb25hcmllc1wiKSxncm91cDpcInNjYXl0X2NvbnRyb2xcIixvcmRlcjo2LGV4ZWM6ZnVuY3Rpb24oYSl7YS5zY2F5dC50YWJUb09wZW49XG5cImRpY3Rpb25hcmllc1wiO2EubG9ja1NlbGVjdGlvbigpO2Eub3BlbkRpYWxvZyhmLmRpYWxvZ05hbWUpfSx2ZXJpZmljYXRpb246ZnVuY3Rpb24oYSl7cmV0dXJuIDE9PWEuY29uZmlnLnNjYXl0X3VpVGFic1syXT8hMDohMX19LHNjYXl0X2Fib3V0OntsYWJlbDphLmdldExvY2FsKFwiYnRuX2Fib3V0XCIpLGdyb3VwOlwic2NheXRfY29udHJvbFwiLG9yZGVyOjcsZXhlYzpmdW5jdGlvbihhKXthLnNjYXl0LnRhYlRvT3Blbj1cImFib3V0XCI7YS5sb2NrU2VsZWN0aW9uKCk7YS5vcGVuRGlhbG9nKGYuZGlhbG9nTmFtZSl9fX0sZ3JheXQ6e2dyYXl0X3Byb2JsZW1kZXNjcmlwdGlvbjp7bGFiZWw6XCJHcmFtbWFyIHByb2JsZW0gZGVzY3JpcHRpb25cIixncm91cDpcImdyYXl0X2Rlc2NyaXB0aW9uXCIsb3JkZXI6MSxzdGF0ZTpDS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRCxleGVjOmZ1bmN0aW9uKGEpe319LGdyYXl0X2lnbm9yZTp7bGFiZWw6YS5nZXRMb2NhbChcImJ0bl9pZ25vcmVcIiksZ3JvdXA6XCJncmF5dF9jb250cm9sXCIsXG5vcmRlcjoyLGV4ZWM6ZnVuY3Rpb24oYSl7YS5zY2F5dC5pZ25vcmVQaHJhc2UoKX19fX19LGJ1aWxkU3VnZ2VzdGlvbk1lbnVJdGVtczpmdW5jdGlvbihhLGYsYil7dmFyIGM9e30sZT17fSxtPWI/XCJ3b3JkXCI6XCJwaHJhc2VcIixsPWI/XCJzdGFydEdyYW1tYXJDaGVja1wiOlwic3RhcnRTcGVsbENoZWNrXCIsZD1hLnNjYXl0O2lmKDA8Zi5sZW5ndGgmJlwibm9fYW55X3N1Z2dlc3Rpb25zXCIhPT1mWzBdKWlmKGIpZm9yKGI9MDtiPGYubGVuZ3RoO2IrKyl7dmFyIGg9XCJzY2F5dF9zdWdnZXN0X1wiK0NLRURJVE9SLnBsdWdpbnMuc2NheXQuc3VnZ2VzdGlvbnNbYl0ucmVwbGFjZShcIiBcIixcIl9cIik7YS5hZGRDb21tYW5kKGgsdGhpcy5jcmVhdGVDb21tYW5kKENLRURJVE9SLnBsdWdpbnMuc2NheXQuc3VnZ2VzdGlvbnNbYl0sbSxsKSk7YjxhLmNvbmZpZy5zY2F5dF9tYXhTdWdnZXN0aW9ucz8oYS5hZGRNZW51SXRlbShoLHtsYWJlbDpmW2JdLGNvbW1hbmQ6aCxncm91cDpcInNjYXl0X3N1Z2dlc3RcIixcbm9yZGVyOmIrMX0pLGNbaF09Q0tFRElUT1IuVFJJU1RBVEVfT0ZGKTooYS5hZGRNZW51SXRlbShoLHtsYWJlbDpmW2JdLGNvbW1hbmQ6aCxncm91cDpcInNjYXl0X21vcmVzdWdnZXN0XCIsb3JkZXI6YisxfSksZVtoXT1DS0VESVRPUi5UUklTVEFURV9PRkYsXCJvblwiPT09YS5jb25maWcuc2NheXRfbW9yZVN1Z2dlc3Rpb25zJiYoYS5hZGRNZW51SXRlbShcInNjYXl0X21vcmVzdWdnZXN0XCIse2xhYmVsOmQuZ2V0TG9jYWwoXCJidG5fbW9yZVN1Z2dlc3Rpb25zXCIpLGdyb3VwOlwic2NheXRfbW9yZXN1Z2dlc3RcIixvcmRlcjoxMCxnZXRJdGVtczpmdW5jdGlvbigpe3JldHVybiBlfX0pLGMuc2NheXRfbW9yZXN1Z2dlc3Q9Q0tFRElUT1IuVFJJU1RBVEVfT0ZGKSl9ZWxzZSBmb3IoYj0wO2I8Zi5sZW5ndGg7YisrKWg9XCJncmF5dF9zdWdnZXN0X1wiK0NLRURJVE9SLnBsdWdpbnMuc2NheXQuc3VnZ2VzdGlvbnNbYl0ucmVwbGFjZShcIiBcIixcIl9cIiksYS5hZGRDb21tYW5kKGgsdGhpcy5jcmVhdGVDb21tYW5kKENLRURJVE9SLnBsdWdpbnMuc2NheXQuc3VnZ2VzdGlvbnNbYl0sXG5tLGwpKSxhLmFkZE1lbnVJdGVtKGgse2xhYmVsOmZbYl0sY29tbWFuZDpoLGdyb3VwOlwiZ3JheXRfc3VnZ2VzdFwiLG9yZGVyOmIrMX0pLGNbaF09Q0tFRElUT1IuVFJJU1RBVEVfT0ZGO2Vsc2UgYy5ub19zY2F5dF9zdWdnZXN0PUNLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVELGEuYWRkQ29tbWFuZChcIm5vX3NjYXl0X3N1Z2dlc3RcIix7ZXhlYzpmdW5jdGlvbigpe319KSxhLmFkZE1lbnVJdGVtKFwibm9fc2NheXRfc3VnZ2VzdFwiLHtsYWJlbDpkLmdldExvY2FsKFwiYnRuX25vU3VnZ2VzdGlvbnNcIil8fFwibm9fc2NheXRfc3VnZ2VzdFwiLGNvbW1hbmQ6XCJub19zY2F5dF9zdWdnZXN0XCIsZ3JvdXA6XCJzY2F5dF9zdWdnZXN0XCIsb3JkZXI6MH0pO3JldHVybiBjfSxtZW51R2VuZXJhdG9yOmZ1bmN0aW9uKGEsZil7dmFyIGI9YS5zY2F5dCxjPXRoaXMuc2NheXRNZW51RGVmaW5pdGlvbihhKSxlPXt9LG09YS5jb25maWcuc2NheXRfY29udGV4dENvbW1hbmRzLnNwbGl0KFwifFwiKSxsPWYuZ2V0QXR0cmlidXRlKGIuZ2V0TGFuZ0F0dHJpYnV0ZSgpKXx8XG5iLmdldExhbmcoKSxkLGg7ZD1iLmlzU2NheXROb2RlKGYpO2g9Yi5pc0dyYXl0Tm9kZShmKTtkPyhjPWMuc2NheXQsZT1mLmdldEF0dHJpYnV0ZShiLmdldFNjYXl0Tm9kZUF0dHJpYnV0ZU5hbWUoKSksYi5maXJlKFwiZ2V0U3VnZ2VzdGlvbnNMaXN0XCIse2xhbmc6bCx3b3JkOmV9KSxlPXRoaXMuYnVpbGRTdWdnZXN0aW9uTWVudUl0ZW1zKGEsQ0tFRElUT1IucGx1Z2lucy5zY2F5dC5zdWdnZXN0aW9ucyxkKSk6aCYmKGM9Yy5ncmF5dCxlPWYuZ2V0QXR0cmlidXRlKGIuZ2V0R3JheXROb2RlQXR0cmlidXRlTmFtZSgpKSxoPWIuZ2V0UHJvYmxlbURlc2NyaXB0aW9uVGV4dChlLGwpLGMuZ3JheXRfcHJvYmxlbWRlc2NyaXB0aW9uJiZoJiYoYy5ncmF5dF9wcm9ibGVtZGVzY3JpcHRpb24ubGFiZWw9aCksYi5maXJlKFwiZ2V0R3JhbW1hclN1Z2dlc3Rpb25zTGlzdFwiLHtsYW5nOmwscGhyYXNlOmV9KSxlPXRoaXMuYnVpbGRTdWdnZXN0aW9uTWVudUl0ZW1zKGEsQ0tFRElUT1IucGx1Z2lucy5zY2F5dC5zdWdnZXN0aW9ucyxcbmQpKTtpZihkJiZcIm9mZlwiPT1hLmNvbmZpZy5zY2F5dF9jb250ZXh0Q29tbWFuZHMpcmV0dXJuIGU7Zm9yKHZhciBrIGluIGMpZCYmLTE9PUNLRURJVE9SLnRvb2xzLmluZGV4T2YobSxrLnJlcGxhY2UoXCJzY2F5dF9cIixcIlwiKSkmJlwiYWxsXCIhPWEuY29uZmlnLnNjYXl0X2NvbnRleHRDb21tYW5kc3x8KGVba109XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGNba10uc3RhdGU/Y1trXS5zdGF0ZTpDS0VESVRPUi5UUklTVEFURV9PRkYsXCJmdW5jdGlvblwiIT09dHlwZW9mIGNba10udmVyaWZpY2F0aW9ufHxjW2tdLnZlcmlmaWNhdGlvbihhKXx8ZGVsZXRlIGVba10sYS5hZGRDb21tYW5kKGsse2V4ZWM6Y1trXS5leGVjfSksYS5hZGRNZW51SXRlbShrLHtsYWJlbDphLmxhbmcuc2NheXRbY1trXS5sYWJlbF18fGNba10ubGFiZWwsY29tbWFuZDprLGdyb3VwOmNba10uZ3JvdXAsb3JkZXI6Y1trXS5vcmRlcn0pKTtyZXR1cm4gZX0sY3JlYXRlQ29tbWFuZDpmdW5jdGlvbihhLGYsYil7cmV0dXJue2V4ZWM6ZnVuY3Rpb24oYyl7Yz1cbmMuc2NheXQ7dmFyIGU9e307ZVtmXT1hO2MucmVwbGFjZVNlbGVjdGlvbk5vZGUoZSk7XCJzdGFydEdyYW1tYXJDaGVja1wiPT09YiYmYy5yZW1vdmVNYXJrdXBJblNlbGVjdGlvbk5vZGUoe2dyYW1tYXJPbmx5OiEwfSk7Yy5maXJlKGIpfX19fSksQ0tFRElUT1IucGx1Z2lucy5zY2F5dD17Y2hhcnNUb09ic2VydmU6W3tjaGFyTmFtZTpcImNrZS1maWxsaW5nQ2hhclwiLGNoYXJDb2RlOmZ1bmN0aW9uKCl7dmFyIGE9Q0tFRElUT1IudmVyc2lvbi5tYXRjaCgvXlxcZChcXC5cXGQqKSovKSxhPWEmJmFbMF0sZjtpZihhKXtmPVwiNC41LjdcIjt2YXIgYixhPWEucmVwbGFjZSgvXFwuL2csXCJcIik7Zj1mLnJlcGxhY2UoL1xcLi9nLFwiXCIpO2I9YS5sZW5ndGgtZi5sZW5ndGg7Yj0wPD1iP2I6MDtmPXBhcnNlSW50KGEpPj1wYXJzZUludChmKSpNYXRoLnBvdygxMCxiKX1yZXR1cm4gZj9BcnJheSg3KS5qb2luKFN0cmluZy5mcm9tQ2hhckNvZGUoODIwMykpOlN0cmluZy5mcm9tQ2hhckNvZGUoODIwMyl9KCl9XSxcbm9uTG9hZFRpbWVzdGFtcDpcIlwiLHN0YXRlOntzY2F5dDp7fSxncmF5dDp7fX0sd2FybmluZ0NvdW50ZXI6MCxzdWdnZXN0aW9uczpbXSxvcHRpb25zOntkaXNhYmxpbmdDb21tYW5kRXhlYzp7c291cmNlOiEwLG5ld3BhZ2U6ITAsdGVtcGxhdGVzOiEwfSxkYXRhX2F0dHJpYnV0ZV9uYW1lOlwiZGF0YS1zY2F5dC13b3JkXCIsbWlzc3BlbGxlZF93b3JkX2NsYXNzOlwic2NheXQtbWlzc3BlbGwtd29yZFwiLHByb2JsZW1fZ3JhbW1hcl9kYXRhX2F0dHJpYnV0ZTpcImRhdGEtZ3JheXQtcGhyYXNlXCIscHJvYmxlbV9ncmFtbWFyX2NsYXNzOlwiZ3JhbW0tcHJvYmxlbVwifSxiYWNrQ29tcGF0aWJpbGl0eU1hcDp7c2NheXRfc2VydmljZV9wcm90b2NvbDpcInNjYXl0X3NlcnZpY2VQcm90b2NvbFwiLHNjYXl0X3NlcnZpY2VfaG9zdDpcInNjYXl0X3NlcnZpY2VIb3N0XCIsc2NheXRfc2VydmljZV9wb3J0Olwic2NheXRfc2VydmljZVBvcnRcIixzY2F5dF9zZXJ2aWNlX3BhdGg6XCJzY2F5dF9zZXJ2aWNlUGF0aFwiLFxuc2NheXRfY3VzdG9tZXJpZDpcInNjYXl0X2N1c3RvbWVySWRcIn0sYWxhcm1Db21wYXRpYmlsaXR5TWVzc2FnZTpmdW5jdGlvbigpezU+dGhpcy53YXJuaW5nQ291bnRlciYmKGNvbnNvbGUud2FybihcIk5vdGU6IFlvdSBhcmUgdXNpbmcgbGF0ZXN0IHZlcnNpb24gb2YgU0NBWVQgcGx1Zy1pbi4gSXQgaXMgcmVjb21tZW5kZWQgdG8gdXBncmFkZSBXZWJTcGVsbENoZWNrZXIubmV0IGFwcGxpY2F0aW9uIHRvIHZlcnNpb24gdjQuOC4zLkNvbnRhY3QgdXMgYnkgZS1tYWlsIGF0IHN1cHBvcnRAd2Vic3BlbGxjaGVja2VyLm5ldC5cIiksdGhpcy53YXJuaW5nQ291bnRlcis9MSl9LHJlbG9hZE1hcmt1cDpmdW5jdGlvbihhKXt2YXIgZjthJiYoZj1hLmdldFNjYXl0TGFuZ0xpc3QoKSxhLnJlbG9hZE1hcmt1cD9hLnJlbG9hZE1hcmt1cCgpOih0aGlzLmFsYXJtQ29tcGF0aWJpbGl0eU1lc3NhZ2UoKSxmJiZmLmx0ciYmZi5ydGwmJmEuZmlyZShcInN0YXJ0U3BlbGxDaGVjaywgc3RhcnRHcmFtbWFyQ2hlY2tcIikpKX0sXG5yZXBsYWNlT2xkT3B0aW9uc05hbWVzOmZ1bmN0aW9uKGEpe2Zvcih2YXIgZiBpbiBhKWYgaW4gdGhpcy5iYWNrQ29tcGF0aWJpbGl0eU1hcCYmKGFbdGhpcy5iYWNrQ29tcGF0aWJpbGl0eU1hcFtmXV09YVtmXSxkZWxldGUgYVtmXSl9LGNyZWF0ZVNjYXl0OmZ1bmN0aW9uKGEpe3ZhciBmPXRoaXMsYj1DS0VESVRPUi5wbHVnaW5zLnNjYXl0O3RoaXMubG9hZFNjYXl0TGlicmFyeShhLGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGUoYSl7cmV0dXJuIG5ldyBTQ0FZVC5DS1NDQVlUKGEsZnVuY3Rpb24oKXt9LGZ1bmN0aW9uKCl7fSl9dmFyIG09YS53aW5kb3cmJmEud2luZG93LmdldEZyYW1lKCl8fGEuZWRpdGFibGUoKTtpZihtKXttPXtsYW5nOmEuY29uZmlnLnNjYXl0X3NMYW5nLGNvbnRhaW5lcjptLiQsY3VzdG9tRGljdGlvbmFyeTphLmNvbmZpZy5zY2F5dF9jdXN0b21EaWN0aW9uYXJ5SWRzLHVzZXJEaWN0aW9uYXJ5TmFtZTphLmNvbmZpZy5zY2F5dF91c2VyRGljdGlvbmFyeU5hbWUsXG5sb2NhbGl6YXRpb246YS5sYW5nQ29kZSxjdXN0b21lcl9pZDphLmNvbmZpZy5zY2F5dF9jdXN0b21lcklkLGRlYnVnOmEuY29uZmlnLnNjYXl0X2RlYnVnLGRhdGFfYXR0cmlidXRlX25hbWU6Zi5vcHRpb25zLmRhdGFfYXR0cmlidXRlX25hbWUsbWlzc3BlbGxlZF93b3JkX2NsYXNzOmYub3B0aW9ucy5taXNzcGVsbGVkX3dvcmRfY2xhc3MscHJvYmxlbV9ncmFtbWFyX2RhdGFfYXR0cmlidXRlOmYub3B0aW9ucy5wcm9ibGVtX2dyYW1tYXJfZGF0YV9hdHRyaWJ1dGUscHJvYmxlbV9ncmFtbWFyX2NsYXNzOmYub3B0aW9ucy5wcm9ibGVtX2dyYW1tYXJfY2xhc3MsXCJvcHRpb25zLXRvLXJlc3RvcmVcIjphLmNvbmZpZy5zY2F5dF9kaXNhYmxlT3B0aW9uc1N0b3JhZ2UsZm9jdXNlZDphLmVkaXRhYmxlKCkuaGFzRm9jdXMsaWdub3JlRWxlbWVudHNSZWdleDphLmNvbmZpZy5zY2F5dF9lbGVtZW50c1RvSWdub3JlLG1pbldvcmRMZW5ndGg6YS5jb25maWcuc2NheXRfbWluV29yZExlbmd0aCxcbm11bHRpTGFuZ3VhZ2VNb2RlOmEuY29uZmlnLnNjYXl0X211bHRpTGFuZ3VhZ2VNb2RlLG11bHRpTGFuZ3VhZ2VTdHlsZXM6YS5jb25maWcuc2NheXRfbXVsdGlMYW5ndWFnZVN0eWxlcyxncmF5dEF1dG9TdGFydHVwOmIuc3RhdGUuZ3JheXRbYS5uYW1lXSxjaGFyc1RvT2JzZXJ2ZTpiLmNoYXJzVG9PYnNlcnZlfTthLmNvbmZpZy5zY2F5dF9zZXJ2aWNlUHJvdG9jb2wmJihtLnNlcnZpY2VfcHJvdG9jb2w9YS5jb25maWcuc2NheXRfc2VydmljZVByb3RvY29sKTthLmNvbmZpZy5zY2F5dF9zZXJ2aWNlSG9zdCYmKG0uc2VydmljZV9ob3N0PWEuY29uZmlnLnNjYXl0X3NlcnZpY2VIb3N0KTthLmNvbmZpZy5zY2F5dF9zZXJ2aWNlUG9ydCYmKG0uc2VydmljZV9wb3J0PWEuY29uZmlnLnNjYXl0X3NlcnZpY2VQb3J0KTthLmNvbmZpZy5zY2F5dF9zZXJ2aWNlUGF0aCYmKG0uc2VydmljZV9wYXRoPWEuY29uZmlnLnNjYXl0X3NlcnZpY2VQYXRoKTtcImJvb2xlYW5cIj09PXR5cGVvZiBhLmNvbmZpZy5zY2F5dF9pZ25vcmVBbGxDYXBzV29yZHMmJlxuKG1bXCJpZ25vcmUtYWxsLWNhcHMtd29yZHNcIl09YS5jb25maWcuc2NheXRfaWdub3JlQWxsQ2Fwc1dvcmRzKTtcImJvb2xlYW5cIj09PXR5cGVvZiBhLmNvbmZpZy5zY2F5dF9pZ25vcmVEb21haW5OYW1lcyYmKG1bXCJpZ25vcmUtZG9tYWluLW5hbWVzXCJdPWEuY29uZmlnLnNjYXl0X2lnbm9yZURvbWFpbk5hbWVzKTtcImJvb2xlYW5cIj09PXR5cGVvZiBhLmNvbmZpZy5zY2F5dF9pZ25vcmVXb3Jkc1dpdGhNaXhlZENhc2VzJiYobVtcImlnbm9yZS13b3Jkcy13aXRoLW1peGVkLWNhc2VzXCJdPWEuY29uZmlnLnNjYXl0X2lnbm9yZVdvcmRzV2l0aE1peGVkQ2FzZXMpO1wiYm9vbGVhblwiPT09dHlwZW9mIGEuY29uZmlnLnNjYXl0X2lnbm9yZVdvcmRzV2l0aE51bWJlcnMmJihtW1wiaWdub3JlLXdvcmRzLXdpdGgtbnVtYmVyc1wiXT1hLmNvbmZpZy5zY2F5dF9pZ25vcmVXb3Jkc1dpdGhOdW1iZXJzKTt2YXIgbDt0cnl7bD1lKG0pfWNhdGNoKGQpe2YuYWxhcm1Db21wYXRpYmlsaXR5TWVzc2FnZSgpLGRlbGV0ZSBtLmNoYXJzVG9PYnNlcnZlLFxubD1lKG0pfWwuc3Vic2NyaWJlKFwic3VnZ2VzdGlvbkxpc3RTZW5kXCIsZnVuY3Rpb24oYSl7Zm9yKHZhciBiPXt9LGM9W10sZD0wO2Q8YS5zdWdnZXN0aW9uTGlzdC5sZW5ndGg7ZCsrKWJbXCJ3b3JkX1wiK2Euc3VnZ2VzdGlvbkxpc3RbZF1dfHwoYltcIndvcmRfXCIrYS5zdWdnZXN0aW9uTGlzdFtkXV09YS5zdWdnZXN0aW9uTGlzdFtkXSxjLnB1c2goYS5zdWdnZXN0aW9uTGlzdFtkXSkpO0NLRURJVE9SLnBsdWdpbnMuc2NheXQuc3VnZ2VzdGlvbnM9Y30pO2wuc3Vic2NyaWJlKFwic2VsZWN0aW9uSXNDaGFuZ2VkXCIsZnVuY3Rpb24oYil7YS5nZXRTZWxlY3Rpb24oKS5pc0xvY2tlZCYmYS5sb2NrU2VsZWN0aW9uKCl9KTtsLnN1YnNjcmliZShcImdyYXl0U3RhdGVDaGFuZ2VkXCIsZnVuY3Rpb24oZCl7Yi5zdGF0ZS5ncmF5dFthLm5hbWVdPWQuc3RhdGV9KTtsLmFkZE1hcmt1cEhhbmRsZXImJmwuYWRkTWFya3VwSGFuZGxlcihmdW5jdGlvbihiKXt2YXIgZD1hLmVkaXRhYmxlKCksZT1kLmdldEN1c3RvbURhdGEoYi5jaGFyTmFtZSk7XG5lJiYoZS4kPWIubm9kZSxkLnNldEN1c3RvbURhdGEoYi5jaGFyTmFtZSxlKSl9KTthLnNjYXl0PWw7YS5maXJlKFwic2NheXRCdXR0b25TdGF0ZVwiLGEucmVhZE9ubHk/Q0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUQ6Q0tFRElUT1IuVFJJU1RBVEVfT04pfWVsc2UgYi5zdGF0ZS5zY2F5dFthLm5hbWVdPSExfSl9LGRlc3Ryb3k6ZnVuY3Rpb24oYSl7YS5zY2F5dCYmYS5zY2F5dC5kZXN0cm95KCk7ZGVsZXRlIGEuc2NheXQ7YS5maXJlKFwic2NheXRCdXR0b25TdGF0ZVwiLENLRURJVE9SLlRSSVNUQVRFX09GRil9LGxvYWRTY2F5dExpYnJhcnk6ZnVuY3Rpb24oYSxmKXt2YXIgYixjPWZ1bmN0aW9uKCl7Q0tFRElUT1IuZmlyZU9uY2UoXCJzY2F5dFJlYWR5XCIpO2Euc2NheXR8fFwiZnVuY3Rpb25cIj09PXR5cGVvZiBmJiZmKGEpfTtcInVuZGVmaW5lZFwiPT09dHlwZW9mIHdpbmRvdy5TQ0FZVHx8XCJmdW5jdGlvblwiIT09dHlwZW9mIHdpbmRvdy5TQ0FZVC5DS1NDQVlUPyhiPWEuY29uZmlnLnNjYXl0X3NyY1VybCtcblwiP1wiK3RoaXMub25Mb2FkVGltZXN0YW1wLENLRURJVE9SLnNjcmlwdExvYWRlci5sb2FkKGIsZnVuY3Rpb24oYSl7YSYmYygpfSkpOndpbmRvdy5TQ0FZVCYmXCJmdW5jdGlvblwiPT09dHlwZW9mIHdpbmRvdy5TQ0FZVC5DS1NDQVlUJiZjKCl9fSxDS0VESVRPUi5vbihcImRpYWxvZ0RlZmluaXRpb25cIixmdW5jdGlvbihhKXt2YXIgZj1hLmRhdGEubmFtZTthPWEuZGF0YS5kZWZpbml0aW9uLmRpYWxvZztpZihcInNjYXl0RGlhbG9nXCI9PT1mKWEub24oXCJjYW5jZWxcIixmdW5jdGlvbihhKXtyZXR1cm4hMX0sdGhpcyxudWxsLC0xKTtpZihcImNoZWNrc3BlbGxcIj09PWYpYS5vbihcImNhbmNlbFwiLGZ1bmN0aW9uKGEpe2E9YS5zZW5kZXImJmEuc2VuZGVyLmdldFBhcmVudEVkaXRvcigpO3ZhciBjPUNLRURJVE9SLnBsdWdpbnMuc2NheXQsZT1hLnNjYXl0O2UmJmMuc3RhdGUuc2NheXRbYS5uYW1lXSYmZS5zZXRNYXJrdXBQYXVzZWQmJmUuc2V0TWFya3VwUGF1c2VkKCExKTthLnVubG9ja1NlbGVjdGlvbigpfSxcbnRoaXMsbnVsbCwtMik7aWYoXCJsaW5rXCI9PT1mKWEub24oXCJva1wiLGZ1bmN0aW9uKGEpe3ZhciBjPWEuc2VuZGVyJiZhLnNlbmRlci5nZXRQYXJlbnRFZGl0b3IoKTtjJiZzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Yy5maXJlKFwicmVsb2FkTWFya3VwU2NheXRcIix7cmVtb3ZlT3B0aW9uczp7cmVtb3ZlSW5zaWRlOiEwLGZvcmNlQm9va21hcms6ITB9LHRpbWVvdXQ6MH0pfSwwKX0pfSksQ0tFRElUT1Iub24oXCJzY2F5dFJlYWR5XCIsZnVuY3Rpb24oKXtpZighMD09PUNLRURJVE9SLmNvbmZpZy5zY2F5dF9oYW5kbGVDaGVja0RpcnR5KXt2YXIgYT1DS0VESVRPUi5lZGl0b3IucHJvdG90eXBlO2EuY2hlY2tEaXJ0eT1DS0VESVRPUi50b29scy5vdmVycmlkZShhLmNoZWNrRGlydHksZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGM9bnVsbCxlPXRoaXMuc2NheXQ7aWYoQ0tFRElUT1IucGx1Z2lucy5zY2F5dCYmQ0tFRElUT1IucGx1Z2lucy5zY2F5dC5zdGF0ZS5zY2F5dFt0aGlzLm5hbWVdJiZcbnRoaXMuc2NheXQpe2lmKGM9XCJyZWFkeVwiPT10aGlzLnN0YXR1cyl2YXIgZj1lLnJlbW92ZU1hcmt1cEZyb21TdHJpbmcodGhpcy5nZXRTbmFwc2hvdCgpKSxlPWUucmVtb3ZlTWFya3VwRnJvbVN0cmluZyh0aGlzLl8ucHJldmlvdXNWYWx1ZSksYz1jJiZlIT09Zn1lbHNlIGM9YS5jYWxsKHRoaXMpO3JldHVybiBjfX0pO2EucmVzZXREaXJ0eT1DS0VESVRPUi50b29scy5vdmVycmlkZShhLnJlc2V0RGlydHksZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGM9dGhpcy5zY2F5dDtDS0VESVRPUi5wbHVnaW5zLnNjYXl0JiZDS0VESVRPUi5wbHVnaW5zLnNjYXl0LnN0YXRlLnNjYXl0W3RoaXMubmFtZV0mJnRoaXMuc2NheXQ/dGhpcy5fLnByZXZpb3VzVmFsdWU9Yy5yZW1vdmVNYXJrdXBGcm9tU3RyaW5nKHRoaXMuZ2V0U25hcHNob3QoKSk6YS5jYWxsKHRoaXMpfX0pfWlmKCEwPT09Q0tFRElUT1IuY29uZmlnLnNjYXl0X2hhbmRsZVVuZG9SZWRvKXt2YXIgYT1DS0VESVRPUi5wbHVnaW5zLnVuZG8uSW1hZ2UucHJvdG90eXBlLFxuZj1cImZ1bmN0aW9uXCI9PXR5cGVvZiBhLmVxdWFsc0NvbnRlbnQ/XCJlcXVhbHNDb250ZW50XCI6XCJlcXVhbHNcIjthW2ZdPUNLRURJVE9SLnRvb2xzLm92ZXJyaWRlKGFbZl0sZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKGMpe3ZhciBlPWMuZWRpdG9yLnNjYXl0LGY9dGhpcy5jb250ZW50cyxsPWMuY29udGVudHMsZD1udWxsO0NLRURJVE9SLnBsdWdpbnMuc2NheXQmJkNLRURJVE9SLnBsdWdpbnMuc2NheXQuc3RhdGUuc2NheXRbYy5lZGl0b3IubmFtZV0mJmMuZWRpdG9yLnNjYXl0JiYodGhpcy5jb250ZW50cz1lLnJlbW92ZU1hcmt1cEZyb21TdHJpbmcoZil8fFwiXCIsYy5jb250ZW50cz1lLnJlbW92ZU1hcmt1cEZyb21TdHJpbmcobCl8fFwiXCIpO2Q9YS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhpcy5jb250ZW50cz1mO2MuY29udGVudHM9bDtyZXR1cm4gZH19KX19KSxmdW5jdGlvbigpe3ZhciBhPXtwcmVzZXJ2ZVN0YXRlOiEwLGVkaXRvckZvY3VzOiExLHJlYWRPbmx5OjEsZXhlYzpmdW5jdGlvbihhKXt0aGlzLnRvZ2dsZVN0YXRlKCk7XG50aGlzLnJlZnJlc2goYSl9LHJlZnJlc2g6ZnVuY3Rpb24oYSl7aWYoYS5kb2N1bWVudCl7dmFyIGI9dGhpcy5zdGF0ZT09Q0tFRElUT1IuVFJJU1RBVEVfT04/XCJhdHRhY2hDbGFzc1wiOlwicmVtb3ZlQ2xhc3NcIjthLmVkaXRhYmxlKClbYl0oXCJja2Vfc2hvd19ib3JkZXJzXCIpfX19O0NLRURJVE9SLnBsdWdpbnMuYWRkKFwic2hvd2JvcmRlcnNcIix7bW9kZXM6e3d5c2l3eWc6MX0sb25Mb2FkOmZ1bmN0aW9uKCl7dmFyIGE7YT0oQ0tFRElUT1IuZW52LmllNkNvbXBhdD9bXCIuJTEgdGFibGUuJTIsXCIsXCIuJTEgdGFibGUuJTIgdGQsIC4lMSB0YWJsZS4lMiB0aFwiLFwie1wiLFwiYm9yZGVyIDogI2QzZDNkMyAxcHggZG90dGVkXCIsXCJ9XCJdOlwiLiUxIHRhYmxlLiUyLDsuJTEgdGFibGUuJTIgXFx4M2UgdHIgXFx4M2UgdGQsIC4lMSB0YWJsZS4lMiBcXHgzZSB0ciBcXHgzZSB0aCw7LiUxIHRhYmxlLiUyIFxceDNlIHRib2R5IFxceDNlIHRyIFxceDNlIHRkLCAuJTEgdGFibGUuJTIgXFx4M2UgdGJvZHkgXFx4M2UgdHIgXFx4M2UgdGgsOy4lMSB0YWJsZS4lMiBcXHgzZSB0aGVhZCBcXHgzZSB0ciBcXHgzZSB0ZCwgLiUxIHRhYmxlLiUyIFxceDNlIHRoZWFkIFxceDNlIHRyIFxceDNlIHRoLDsuJTEgdGFibGUuJTIgXFx4M2UgdGZvb3QgXFx4M2UgdHIgXFx4M2UgdGQsIC4lMSB0YWJsZS4lMiBcXHgzZSB0Zm9vdCBcXHgzZSB0ciBcXHgzZSB0aDt7O2JvcmRlciA6ICNkM2QzZDMgMXB4IGRvdHRlZDt9XCIuc3BsaXQoXCI7XCIpKS5qb2luKFwiXCIpLnJlcGxhY2UoLyUyL2csXG5cImNrZV9zaG93X2JvcmRlclwiKS5yZXBsYWNlKC8lMS9nLFwiY2tlX3Nob3dfYm9yZGVycyBcIik7Q0tFRElUT1IuYWRkQ3NzKGEpfSxpbml0OmZ1bmN0aW9uKGYpe3ZhciBiPWYuYWRkQ29tbWFuZChcInNob3dib3JkZXJzXCIsYSk7Yi5jYW5VbmRvPSExOyExIT09Zi5jb25maWcuc3RhcnR1cFNob3dCb3JkZXJzJiZiLnNldFN0YXRlKENLRURJVE9SLlRSSVNUQVRFX09OKTtmLm9uKFwibW9kZVwiLGZ1bmN0aW9uKCl7Yi5zdGF0ZSE9Q0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUQmJmIucmVmcmVzaChmKX0sbnVsbCxudWxsLDEwMCk7Zi5vbihcImNvbnRlbnREb21cIixmdW5jdGlvbigpe2Iuc3RhdGUhPUNLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVEJiZiLnJlZnJlc2goZil9KTtmLm9uKFwicmVtb3ZlRm9ybWF0Q2xlYW51cFwiLGZ1bmN0aW9uKGEpe2E9YS5kYXRhO2YuZ2V0Q29tbWFuZChcInNob3dib3JkZXJzXCIpLnN0YXRlPT1DS0VESVRPUi5UUklTVEFURV9PTiYmYS5pcyhcInRhYmxlXCIpJiYoIWEuaGFzQXR0cmlidXRlKFwiYm9yZGVyXCIpfHxcbjA+PXBhcnNlSW50KGEuZ2V0QXR0cmlidXRlKFwiYm9yZGVyXCIpLDEwKSkmJmEuYWRkQ2xhc3MoXCJja2Vfc2hvd19ib3JkZXJcIil9KX0sYWZ0ZXJJbml0OmZ1bmN0aW9uKGEpe3ZhciBiPWEuZGF0YVByb2Nlc3NvcjthPWImJmIuZGF0YUZpbHRlcjtiPWImJmIuaHRtbEZpbHRlcjthJiZhLmFkZFJ1bGVzKHtlbGVtZW50czp7dGFibGU6ZnVuY3Rpb24oYSl7YT1hLmF0dHJpYnV0ZXM7dmFyIGI9YVtcImNsYXNzXCJdLGY9cGFyc2VJbnQoYS5ib3JkZXIsMTApO2YmJiEoMD49Zil8fGImJi0xIT1iLmluZGV4T2YoXCJja2Vfc2hvd19ib3JkZXJcIil8fChhW1wiY2xhc3NcIl09KGJ8fFwiXCIpK1wiIGNrZV9zaG93X2JvcmRlclwiKX19fSk7YiYmYi5hZGRSdWxlcyh7ZWxlbWVudHM6e3RhYmxlOmZ1bmN0aW9uKGEpe2E9YS5hdHRyaWJ1dGVzO3ZhciBiPWFbXCJjbGFzc1wiXTtiJiYoYVtcImNsYXNzXCJdPWIucmVwbGFjZShcImNrZV9zaG93X2JvcmRlclwiLFwiXCIpLnJlcGxhY2UoL1xcc3syfS8sXCIgXCIpLnJlcGxhY2UoL15cXHMrfFxccyskLyxcblwiXCIpKX19fSl9fSk7Q0tFRElUT1Iub24oXCJkaWFsb2dEZWZpbml0aW9uXCIsZnVuY3Rpb24oYSl7dmFyIGI9YS5kYXRhLm5hbWU7aWYoXCJ0YWJsZVwiPT1ifHxcInRhYmxlUHJvcGVydGllc1wiPT1iKWlmKGE9YS5kYXRhLmRlZmluaXRpb24sYj1hLmdldENvbnRlbnRzKFwiaW5mb1wiKS5nZXQoXCJ0eHRCb3JkZXJcIiksYi5jb21taXQ9Q0tFRElUT1IudG9vbHMub3ZlcnJpZGUoYi5jb21taXQsZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKGIsZil7YS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dmFyIGw9cGFyc2VJbnQodGhpcy5nZXRWYWx1ZSgpLDEwKTtmWyFsfHwwPj1sP1wiYWRkQ2xhc3NcIjpcInJlbW92ZUNsYXNzXCJdKFwiY2tlX3Nob3dfYm9yZGVyXCIpfX0pLGE9KGE9YS5nZXRDb250ZW50cyhcImFkdmFuY2VkXCIpKSYmYS5nZXQoXCJhZHZDU1NDbGFzc2VzXCIpKWEuc2V0dXA9Q0tFRElUT1IudG9vbHMub3ZlcnJpZGUoYS5zZXR1cCxmdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oKXthLmFwcGx5KHRoaXMsXG5hcmd1bWVudHMpO3RoaXMuc2V0VmFsdWUodGhpcy5nZXRWYWx1ZSgpLnJlcGxhY2UoL2NrZV9zaG93X2JvcmRlci8sXCJcIikpfX0pLGEuY29tbWl0PUNLRURJVE9SLnRvb2xzLm92ZXJyaWRlKGEuY29tbWl0LGZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbihiLGYpe2EuYXBwbHkodGhpcyxhcmd1bWVudHMpO3BhcnNlSW50KGYuZ2V0QXR0cmlidXRlKFwiYm9yZGVyXCIpLDEwKXx8Zi5hZGRDbGFzcyhcImNrZV9zaG93X2JvcmRlclwiKX19KX0pfSgpLGZ1bmN0aW9uKCl7Q0tFRElUT1IucGx1Z2lucy5hZGQoXCJzb3VyY2VhcmVhXCIse2luaXQ6ZnVuY3Rpb24oZil7ZnVuY3Rpb24gYigpe3ZhciBhPWUmJnRoaXMuZXF1YWxzKENLRURJVE9SLmRvY3VtZW50LmdldEFjdGl2ZSgpKTt0aGlzLmhpZGUoKTt0aGlzLnNldFN0eWxlKFwiaGVpZ2h0XCIsdGhpcy5nZXRQYXJlbnQoKS4kLmNsaWVudEhlaWdodCtcInB4XCIpO3RoaXMuc2V0U3R5bGUoXCJ3aWR0aFwiLHRoaXMuZ2V0UGFyZW50KCkuJC5jbGllbnRXaWR0aCtcblwicHhcIik7dGhpcy5zaG93KCk7YSYmdGhpcy5mb2N1cygpfWlmKGYuZWxlbWVudE1vZGUhPUNLRURJVE9SLkVMRU1FTlRfTU9ERV9JTkxJTkUpe3ZhciBjPUNLRURJVE9SLnBsdWdpbnMuc291cmNlYXJlYTtmLmFkZE1vZGUoXCJzb3VyY2VcIixmdW5jdGlvbihjKXt2YXIgZT1mLnVpLnNwYWNlKFwiY29udGVudHNcIikuZ2V0RG9jdW1lbnQoKS5jcmVhdGVFbGVtZW50KFwidGV4dGFyZWFcIik7ZS5zZXRTdHlsZXMoQ0tFRElUT1IudG9vbHMuZXh0ZW5kKHt3aWR0aDpDS0VESVRPUi5lbnYuaWU3Q29tcGF0P1wiOTklXCI6XCIxMDAlXCIsaGVpZ2h0OlwiMTAwJVwiLHJlc2l6ZTpcIm5vbmVcIixvdXRsaW5lOlwibm9uZVwiLFwidGV4dC1hbGlnblwiOlwibGVmdFwifSxDS0VESVRPUi50b29scy5jc3NWZW5kb3JQcmVmaXgoXCJ0YWItc2l6ZVwiLGYuY29uZmlnLnNvdXJjZUFyZWFUYWJTaXplfHw0KSkpO2Uuc2V0QXR0cmlidXRlKFwiZGlyXCIsXCJsdHJcIik7ZS5hZGRDbGFzcyhcImNrZV9zb3VyY2VcIikuYWRkQ2xhc3MoXCJja2VfcmVzZXRcIikuYWRkQ2xhc3MoXCJja2VfZW5hYmxlX2NvbnRleHRfbWVudVwiKTtcbmYudWkuc3BhY2UoXCJjb250ZW50c1wiKS5hcHBlbmQoZSk7ZT1mLmVkaXRhYmxlKG5ldyBhKGYsZSkpO2Uuc2V0RGF0YShmLmdldERhdGEoMSkpO0NLRURJVE9SLmVudi5pZSYmKGUuYXR0YWNoTGlzdGVuZXIoZixcInJlc2l6ZVwiLGIsZSksZS5hdHRhY2hMaXN0ZW5lcihDS0VESVRPUi5kb2N1bWVudC5nZXRXaW5kb3coKSxcInJlc2l6ZVwiLGIsZSksQ0tFRElUT1IudG9vbHMuc2V0VGltZW91dChiLDAsZSkpO2YuZmlyZShcImFyaWFXaWRnZXRcIix0aGlzKTtjKCl9KTtmLmFkZENvbW1hbmQoXCJzb3VyY2VcIixjLmNvbW1hbmRzLnNvdXJjZSk7Zi51aS5hZGRCdXR0b24mJmYudWkuYWRkQnV0dG9uKFwiU291cmNlXCIse2xhYmVsOmYubGFuZy5zb3VyY2VhcmVhLnRvb2xiYXIsY29tbWFuZDpcInNvdXJjZVwiLHRvb2xiYXI6XCJtb2RlLDEwXCJ9KTtmLm9uKFwibW9kZVwiLGZ1bmN0aW9uKCl7Zi5nZXRDb21tYW5kKFwic291cmNlXCIpLnNldFN0YXRlKFwic291cmNlXCI9PWYubW9kZT9DS0VESVRPUi5UUklTVEFURV9PTjpcbkNLRURJVE9SLlRSSVNUQVRFX09GRil9KTt2YXIgZT1DS0VESVRPUi5lbnYuaWUmJjk9PUNLRURJVE9SLmVudi52ZXJzaW9ufX19KTt2YXIgYT1DS0VESVRPUi50b29scy5jcmVhdGVDbGFzcyh7YmFzZTpDS0VESVRPUi5lZGl0YWJsZSxwcm90bzp7c2V0RGF0YTpmdW5jdGlvbihhKXt0aGlzLnNldFZhbHVlKGEpO3RoaXMuc3RhdHVzPVwicmVhZHlcIjt0aGlzLmVkaXRvci5maXJlKFwiZGF0YVJlYWR5XCIpfSxnZXREYXRhOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0VmFsdWUoKX0saW5zZXJ0SHRtbDpmdW5jdGlvbigpe30saW5zZXJ0RWxlbWVudDpmdW5jdGlvbigpe30saW5zZXJ0VGV4dDpmdW5jdGlvbigpe30sc2V0UmVhZE9ubHk6ZnVuY3Rpb24oYSl7dGhpc1soYT9cInNldFwiOlwicmVtb3ZlXCIpK1wiQXR0cmlidXRlXCJdKFwicmVhZE9ubHlcIixcInJlYWRvbmx5XCIpfSxkZXRhY2g6ZnVuY3Rpb24oKXthLmJhc2VQcm90by5kZXRhY2guY2FsbCh0aGlzKTt0aGlzLmNsZWFyQ3VzdG9tRGF0YSgpO1xudGhpcy5yZW1vdmUoKX19fSl9KCksQ0tFRElUT1IucGx1Z2lucy5zb3VyY2VhcmVhPXtjb21tYW5kczp7c291cmNlOnttb2Rlczp7d3lzaXd5ZzoxLHNvdXJjZToxfSxlZGl0b3JGb2N1czohMSxyZWFkT25seToxLGV4ZWM6ZnVuY3Rpb24oYSl7XCJ3eXNpd3lnXCI9PWEubW9kZSYmYS5maXJlKFwic2F2ZVNuYXBzaG90XCIpO2EuZ2V0Q29tbWFuZChcInNvdXJjZVwiKS5zZXRTdGF0ZShDS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRCk7YS5zZXRNb2RlKFwic291cmNlXCI9PWEubW9kZT9cInd5c2l3eWdcIjpcInNvdXJjZVwiKX0sY2FuVW5kbzohMX19fSxDS0VESVRPUi5wbHVnaW5zLmFkZChcInNwZWNpYWxjaGFyXCIse2F2YWlsYWJsZUxhbmdzOnthZjoxLGFyOjEsYmc6MSxjYToxLGNzOjEsY3k6MSxkYToxLGRlOjEsXCJkZS1jaFwiOjEsZWw6MSxlbjoxLFwiZW4tZ2JcIjoxLGVvOjEsZXM6MSxldDoxLGV1OjEsZmE6MSxmaToxLGZyOjEsXCJmci1jYVwiOjEsZ2w6MSxoZToxLGhyOjEsaHU6MSxpZDoxLGl0OjEsamE6MSxcbmttOjEsa286MSxrdToxLGx0OjEsbHY6MSxuYjoxLG5sOjEsbm86MSxwbDoxLHB0OjEsXCJwdC1iclwiOjEscnU6MSxzaToxLHNrOjEsc2w6MSxzcToxLHN2OjEsdGg6MSx0cjoxLHR0OjEsdWc6MSx1azoxLHZpOjEsemg6MSxcInpoLWNuXCI6MX0scmVxdWlyZXM6XCJkaWFsb2dcIixpbml0OmZ1bmN0aW9uKGEpe3ZhciBmPXRoaXM7Q0tFRElUT1IuZGlhbG9nLmFkZChcInNwZWNpYWxjaGFyXCIsdGhpcy5wYXRoK1wiZGlhbG9ncy9zcGVjaWFsY2hhci5qc1wiKTthLmFkZENvbW1hbmQoXCJzcGVjaWFsY2hhclwiLHtleGVjOmZ1bmN0aW9uKCl7dmFyIGI9YS5sYW5nQ29kZSxiPWYuYXZhaWxhYmxlTGFuZ3NbYl0/YjpmLmF2YWlsYWJsZUxhbmdzW2IucmVwbGFjZSgvLS4qLyxcIlwiKV0/Yi5yZXBsYWNlKC8tLiovLFwiXCIpOlwiZW5cIjtDS0VESVRPUi5zY3JpcHRMb2FkZXIubG9hZChDS0VESVRPUi5nZXRVcmwoZi5wYXRoK1wiZGlhbG9ncy9sYW5nL1wiK2IrXCIuanNcIiksZnVuY3Rpb24oKXtDS0VESVRPUi50b29scy5leHRlbmQoYS5sYW5nLnNwZWNpYWxjaGFyLFxuZi5sYW5nRW50cmllc1tiXSk7YS5vcGVuRGlhbG9nKFwic3BlY2lhbGNoYXJcIil9KX0sbW9kZXM6e3d5c2l3eWc6MX0sY2FuVW5kbzohMX0pO2EudWkuYWRkQnV0dG9uJiZhLnVpLmFkZEJ1dHRvbihcIlNwZWNpYWxDaGFyXCIse2xhYmVsOmEubGFuZy5zcGVjaWFsY2hhci50b29sYmFyLGNvbW1hbmQ6XCJzcGVjaWFsY2hhclwiLHRvb2xiYXI6XCJpbnNlcnQsNTBcIn0pfX0pLENLRURJVE9SLmNvbmZpZy5zcGVjaWFsQ2hhcnM9XCIhIFxceDI2cXVvdDsgIyAkICUgXFx4MjZhbXA7ICcgKCApICogKyAtIC4gLyAwIDEgMiAzIDQgNSA2IDcgOCA5IDogOyBcXHgyNmx0OyBcXHgzZCBcXHgyNmd0OyA/IEAgQSBCIEMgRCBFIEYgRyBIIEkgSiBLIEwgTSBOIE8gUCBRIFIgUyBUIFUgViBXIFggWSBaIFsgXSBeIF8gYCBhIGIgYyBkIGUgZiBnIGggaSBqIGsgbCBtIG4gbyBwIHEgciBzIHQgdSB2IHcgeCB5IHogeyB8IH0gfiBcXHgyNmV1cm87IFxceDI2bHNxdW87IFxceDI2cnNxdW87IFxceDI2bGRxdW87IFxceDI2cmRxdW87IFxceDI2bmRhc2g7IFxceDI2bWRhc2g7IFxceDI2aWV4Y2w7IFxceDI2Y2VudDsgXFx4MjZwb3VuZDsgXFx4MjZjdXJyZW47IFxceDI2eWVuOyBcXHgyNmJydmJhcjsgXFx4MjZzZWN0OyBcXHgyNnVtbDsgXFx4MjZjb3B5OyBcXHgyNm9yZGY7IFxceDI2bGFxdW87IFxceDI2bm90OyBcXHgyNnJlZzsgXFx4MjZtYWNyOyBcXHgyNmRlZzsgXFx4MjZzdXAyOyBcXHgyNnN1cDM7IFxceDI2YWN1dGU7IFxceDI2bWljcm87IFxceDI2cGFyYTsgXFx4MjZtaWRkb3Q7IFxceDI2Y2VkaWw7IFxceDI2c3VwMTsgXFx4MjZvcmRtOyBcXHgyNnJhcXVvOyBcXHgyNmZyYWMxNDsgXFx4MjZmcmFjMTI7IFxceDI2ZnJhYzM0OyBcXHgyNmlxdWVzdDsgXFx4MjZBZ3JhdmU7IFxceDI2QWFjdXRlOyBcXHgyNkFjaXJjOyBcXHgyNkF0aWxkZTsgXFx4MjZBdW1sOyBcXHgyNkFyaW5nOyBcXHgyNkFFbGlnOyBcXHgyNkNjZWRpbDsgXFx4MjZFZ3JhdmU7IFxceDI2RWFjdXRlOyBcXHgyNkVjaXJjOyBcXHgyNkV1bWw7IFxceDI2SWdyYXZlOyBcXHgyNklhY3V0ZTsgXFx4MjZJY2lyYzsgXFx4MjZJdW1sOyBcXHgyNkVUSDsgXFx4MjZOdGlsZGU7IFxceDI2T2dyYXZlOyBcXHgyNk9hY3V0ZTsgXFx4MjZPY2lyYzsgXFx4MjZPdGlsZGU7IFxceDI2T3VtbDsgXFx4MjZ0aW1lczsgXFx4MjZPc2xhc2g7IFxceDI2VWdyYXZlOyBcXHgyNlVhY3V0ZTsgXFx4MjZVY2lyYzsgXFx4MjZVdW1sOyBcXHgyNllhY3V0ZTsgXFx4MjZUSE9STjsgXFx4MjZzemxpZzsgXFx4MjZhZ3JhdmU7IFxceDI2YWFjdXRlOyBcXHgyNmFjaXJjOyBcXHgyNmF0aWxkZTsgXFx4MjZhdW1sOyBcXHgyNmFyaW5nOyBcXHgyNmFlbGlnOyBcXHgyNmNjZWRpbDsgXFx4MjZlZ3JhdmU7IFxceDI2ZWFjdXRlOyBcXHgyNmVjaXJjOyBcXHgyNmV1bWw7IFxceDI2aWdyYXZlOyBcXHgyNmlhY3V0ZTsgXFx4MjZpY2lyYzsgXFx4MjZpdW1sOyBcXHgyNmV0aDsgXFx4MjZudGlsZGU7IFxceDI2b2dyYXZlOyBcXHgyNm9hY3V0ZTsgXFx4MjZvY2lyYzsgXFx4MjZvdGlsZGU7IFxceDI2b3VtbDsgXFx4MjZkaXZpZGU7IFxceDI2b3NsYXNoOyBcXHgyNnVncmF2ZTsgXFx4MjZ1YWN1dGU7IFxceDI2dWNpcmM7IFxceDI2dXVtbDsgXFx4MjZ5YWN1dGU7IFxceDI2dGhvcm47IFxceDI2eXVtbDsgXFx4MjZPRWxpZzsgXFx4MjZvZWxpZzsgXFx4MjYjMzcyOyBcXHgyNiMzNzQgXFx4MjYjMzczIFxceDI2IzM3NTsgXFx4MjZzYnF1bzsgXFx4MjYjODIxOTsgXFx4MjZiZHF1bzsgXFx4MjZoZWxsaXA7IFxceDI2dHJhZGU7IFxceDI2Izk2NTg7IFxceDI2YnVsbDsgXFx4MjZyYXJyOyBcXHgyNnJBcnI7IFxceDI2aEFycjsgXFx4MjZkaWFtczsgXFx4MjZhc3ltcDtcIi5zcGxpdChcIiBcIiksXG5mdW5jdGlvbigpe0NLRURJVE9SLnBsdWdpbnMuYWRkKFwic3R5bGVzY29tYm9cIix7cmVxdWlyZXM6XCJyaWNoY29tYm9cIixpbml0OmZ1bmN0aW9uKGEpe3ZhciBmPWEuY29uZmlnLGI9YS5sYW5nLnN0eWxlc2NvbWJvLGM9e30sZT1bXSxtPVtdO2Eub24oXCJzdHlsZXNTZXRcIixmdW5jdGlvbihiKXtpZihiPWIuZGF0YS5zdHlsZXMpe2Zvcih2YXIgZCxoLGssZz0wLG49Yi5sZW5ndGg7ZzxuO2crKykoZD1iW2ddLGEuYmxvY2tsZXNzJiZkLmVsZW1lbnQgaW4gQ0tFRElUT1IuZHRkLiRibG9ja3x8XCJzdHJpbmdcIj09dHlwZW9mIGQudHlwZSYmIUNLRURJVE9SLnN0eWxlLmN1c3RvbUhhbmRsZXJzW2QudHlwZV18fChoPWQubmFtZSxkPW5ldyBDS0VESVRPUi5zdHlsZShkKSxhLmZpbHRlci5jdXN0b21Db25maWcmJiFhLmZpbHRlci5jaGVjayhkKSkpfHwoZC5fbmFtZT1oLGQuXy5lbnRlck1vZGU9Zi5lbnRlck1vZGUsZC5fLnR5cGU9az1kLmFzc2lnbmVkVG98fGQudHlwZSxkLl8ud2VpZ2h0PVxuZysxRTMqKGs9PUNLRURJVE9SLlNUWUxFX09CSkVDVD8xOms9PUNLRURJVE9SLlNUWUxFX0JMT0NLPzI6MyksY1toXT1kLGUucHVzaChkKSxtLnB1c2goZCkpO2Uuc29ydChmdW5jdGlvbihhLGIpe3JldHVybiBhLl8ud2VpZ2h0LWIuXy53ZWlnaHR9KX19KTthLnVpLmFkZFJpY2hDb21ibyhcIlN0eWxlc1wiLHtsYWJlbDpiLmxhYmVsLHRpdGxlOmIucGFuZWxUaXRsZSx0b29sYmFyOlwic3R5bGVzLDEwXCIsYWxsb3dlZENvbnRlbnQ6bSxwYW5lbDp7Y3NzOltDS0VESVRPUi5za2luLmdldFBhdGgoXCJlZGl0b3JcIildLmNvbmNhdChmLmNvbnRlbnRzQ3NzKSxtdWx0aVNlbGVjdDohMCxhdHRyaWJ1dGVzOntcImFyaWEtbGFiZWxcIjpiLnBhbmVsVGl0bGV9fSxpbml0OmZ1bmN0aW9uKCl7dmFyIGEsYyxmLGssZyxtO2c9MDtmb3IobT1lLmxlbmd0aDtnPG07ZysrKWE9ZVtnXSxjPWEuX25hbWUsaz1hLl8udHlwZSxrIT1mJiYodGhpcy5zdGFydEdyb3VwKGJbXCJwYW5lbFRpdGxlXCIrU3RyaW5nKGspXSksXG5mPWspLHRoaXMuYWRkKGMsYS50eXBlPT1DS0VESVRPUi5TVFlMRV9PQkpFQ1Q/YzphLmJ1aWxkUHJldmlldygpLGMpO3RoaXMuY29tbWl0KCl9LG9uQ2xpY2s6ZnVuY3Rpb24oYil7YS5mb2N1cygpO2EuZmlyZShcInNhdmVTbmFwc2hvdFwiKTtiPWNbYl07dmFyIGQ9YS5lbGVtZW50UGF0aCgpO2FbYi5jaGVja0FjdGl2ZShkLGEpP1wicmVtb3ZlU3R5bGVcIjpcImFwcGx5U3R5bGVcIl0oYik7YS5maXJlKFwic2F2ZVNuYXBzaG90XCIpfSxvblJlbmRlcjpmdW5jdGlvbigpe2Eub24oXCJzZWxlY3Rpb25DaGFuZ2VcIixmdW5jdGlvbihiKXt2YXIgZD10aGlzLmdldFZhbHVlKCk7Yj1iLmRhdGEucGF0aC5lbGVtZW50cztmb3IodmFyIGU9MCxmPWIubGVuZ3RoLGc7ZTxmO2UrKyl7Zz1iW2VdO2Zvcih2YXIgbSBpbiBjKWlmKGNbbV0uY2hlY2tFbGVtZW50UmVtb3ZhYmxlKGcsITAsYSkpe20hPWQmJnRoaXMuc2V0VmFsdWUobSk7cmV0dXJufX10aGlzLnNldFZhbHVlKFwiXCIpfSx0aGlzKX0sb25PcGVuOmZ1bmN0aW9uKCl7dmFyIGU9XG5hLmdldFNlbGVjdGlvbigpLmdldFNlbGVjdGVkRWxlbWVudCgpLGU9YS5lbGVtZW50UGF0aChlKSxkPVswLDAsMCwwXTt0aGlzLnNob3dBbGwoKTt0aGlzLnVubWFya0FsbCgpO2Zvcih2YXIgZiBpbiBjKXt2YXIgaz1jW2ZdLGc9ay5fLnR5cGU7ay5jaGVja0FwcGxpY2FibGUoZSxhLGEuYWN0aXZlRmlsdGVyKT9kW2ddKys6dGhpcy5oaWRlSXRlbShmKTtrLmNoZWNrQWN0aXZlKGUsYSkmJnRoaXMubWFyayhmKX1kW0NLRURJVE9SLlNUWUxFX0JMT0NLXXx8dGhpcy5oaWRlR3JvdXAoYltcInBhbmVsVGl0bGVcIitTdHJpbmcoQ0tFRElUT1IuU1RZTEVfQkxPQ0spXSk7ZFtDS0VESVRPUi5TVFlMRV9JTkxJTkVdfHx0aGlzLmhpZGVHcm91cChiW1wicGFuZWxUaXRsZVwiK1N0cmluZyhDS0VESVRPUi5TVFlMRV9JTkxJTkUpXSk7ZFtDS0VESVRPUi5TVFlMRV9PQkpFQ1RdfHx0aGlzLmhpZGVHcm91cChiW1wicGFuZWxUaXRsZVwiK1N0cmluZyhDS0VESVRPUi5TVFlMRV9PQkpFQ1QpXSl9LHJlZnJlc2g6ZnVuY3Rpb24oKXt2YXIgYj1cbmEuZWxlbWVudFBhdGgoKTtpZihiKXtmb3IodmFyIGQgaW4gYylpZihjW2RdLmNoZWNrQXBwbGljYWJsZShiLGEsYS5hY3RpdmVGaWx0ZXIpKXJldHVybjt0aGlzLnNldFN0YXRlKENLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVEKX19LHJlc2V0OmZ1bmN0aW9uKCl7Yz17fTtlPVtdfX0pfX0pfSgpLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhKXtyZXR1cm57ZWRpdG9yRm9jdXM6ITEsY2FuVW5kbzohMSxtb2Rlczp7d3lzaXd5ZzoxfSxleGVjOmZ1bmN0aW9uKGIpe2lmKGIuZWRpdGFibGUoKS5oYXNGb2N1cyl7dmFyIGM9Yi5nZXRTZWxlY3Rpb24oKSxkO2lmKGQ9KG5ldyBDS0VESVRPUi5kb20uZWxlbWVudFBhdGgoYy5nZXRDb21tb25BbmNlc3RvcigpLGMucm9vdCkpLmNvbnRhaW5zKHt0ZDoxLHRoOjF9LDEpKXt2YXIgYz1iLmNyZWF0ZVJhbmdlKCksZj1DS0VESVRPUi50b29scy50cnlUaGVzZShmdW5jdGlvbigpe3ZhciBiPWQuZ2V0UGFyZW50KCkuJC5jZWxsc1tkLiQuY2VsbEluZGV4K1xuKGE/LTE6MSldO2IucGFyZW50Tm9kZS5wYXJlbnROb2RlO3JldHVybiBifSxmdW5jdGlvbigpe3ZhciBiPWQuZ2V0UGFyZW50KCksYj1iLmdldEFzY2VuZGFudChcInRhYmxlXCIpLiQucm93c1tiLiQucm93SW5kZXgrKGE/LTE6MSldO3JldHVybiBiLmNlbGxzW2E/Yi5jZWxscy5sZW5ndGgtMTowXX0pO2lmKGZ8fGEpaWYoZilmPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudChmKSxjLm1vdmVUb0VsZW1lbnRFZGl0U3RhcnQoZiksYy5jaGVja1N0YXJ0T2ZCbG9jaygpJiZjLmNoZWNrRW5kT2ZCbG9jaygpfHxjLnNlbGVjdE5vZGVDb250ZW50cyhmKTtlbHNlIHJldHVybiEwO2Vsc2V7Zm9yKHZhciBrPWQuZ2V0QXNjZW5kYW50KFwidGFibGVcIikuJCxmPWQuZ2V0UGFyZW50KCkuJC5jZWxscyxrPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudChrLmluc2VydFJvdygtMSksYi5kb2N1bWVudCksZz0wLG49Zi5sZW5ndGg7ZzxuO2crKylrLmFwcGVuZCgobmV3IENLRURJVE9SLmRvbS5lbGVtZW50KGZbZ10sXG5iLmRvY3VtZW50KSkuY2xvbmUoITEsITEpKS5hcHBlbmRCb2d1cygpO2MubW92ZVRvRWxlbWVudEVkaXRTdGFydChrKX1jLnNlbGVjdCghMCk7cmV0dXJuITB9fXJldHVybiExfX19dmFyIGY9e2VkaXRvckZvY3VzOiExLG1vZGVzOnt3eXNpd3lnOjEsc291cmNlOjF9fSxiPXtleGVjOmZ1bmN0aW9uKGEpe2EuY29udGFpbmVyLmZvY3VzTmV4dCghMCxhLnRhYkluZGV4KX19LGM9e2V4ZWM6ZnVuY3Rpb24oYSl7YS5jb250YWluZXIuZm9jdXNQcmV2aW91cyghMCxhLnRhYkluZGV4KX19O0NLRURJVE9SLnBsdWdpbnMuYWRkKFwidGFiXCIse2luaXQ6ZnVuY3Rpb24oZSl7Zm9yKHZhciBtPSExIT09ZS5jb25maWcuZW5hYmxlVGFiS2V5VG9vbHMsbD1lLmNvbmZpZy50YWJTcGFjZXN8fDAsZD1cIlwiO2wtLTspZCs9XCLCoFwiO2lmKGQpZS5vbihcImtleVwiLGZ1bmN0aW9uKGEpezk9PWEuZGF0YS5rZXlDb2RlJiYoZS5pbnNlcnRUZXh0KGQpLGEuY2FuY2VsKCkpfSk7aWYobSllLm9uKFwia2V5XCIsZnVuY3Rpb24oYSl7KDk9PVxuYS5kYXRhLmtleUNvZGUmJmUuZXhlY0NvbW1hbmQoXCJzZWxlY3ROZXh0Q2VsbFwiKXx8YS5kYXRhLmtleUNvZGU9PUNLRURJVE9SLlNISUZUKzkmJmUuZXhlY0NvbW1hbmQoXCJzZWxlY3RQcmV2aW91c0NlbGxcIikpJiZhLmNhbmNlbCgpfSk7ZS5hZGRDb21tYW5kKFwiYmx1clwiLENLRURJVE9SLnRvb2xzLmV4dGVuZChiLGYpKTtlLmFkZENvbW1hbmQoXCJibHVyQmFja1wiLENLRURJVE9SLnRvb2xzLmV4dGVuZChjLGYpKTtlLmFkZENvbW1hbmQoXCJzZWxlY3ROZXh0Q2VsbFwiLGEoKSk7ZS5hZGRDb21tYW5kKFwic2VsZWN0UHJldmlvdXNDZWxsXCIsYSghMCkpfX0pfSgpLENLRURJVE9SLmRvbS5lbGVtZW50LnByb3RvdHlwZS5mb2N1c05leHQ9ZnVuY3Rpb24oYSxmKXt2YXIgYj12b2lkIDA9PT1mP3RoaXMuZ2V0VGFiSW5kZXgoKTpmLGMsZSxtLGwsZCxoO2lmKDA+PWIpZm9yKGQ9dGhpcy5nZXROZXh0U291cmNlTm9kZShhLENLRURJVE9SLk5PREVfRUxFTUVOVCk7ZDspe2lmKGQuaXNWaXNpYmxlKCkmJlxuMD09PWQuZ2V0VGFiSW5kZXgoKSl7bT1kO2JyZWFrfWQ9ZC5nZXROZXh0U291cmNlTm9kZSghMSxDS0VESVRPUi5OT0RFX0VMRU1FTlQpfWVsc2UgZm9yKGQ9dGhpcy5nZXREb2N1bWVudCgpLmdldEJvZHkoKS5nZXRGaXJzdCgpO2Q9ZC5nZXROZXh0U291cmNlTm9kZSghMSxDS0VESVRPUi5OT0RFX0VMRU1FTlQpOyl7aWYoIWMpaWYoIWUmJmQuZXF1YWxzKHRoaXMpKXtpZihlPSEwLGEpe2lmKCEoZD1kLmdldE5leHRTb3VyY2VOb2RlKCEwLENLRURJVE9SLk5PREVfRUxFTUVOVCkpKWJyZWFrO2M9MX19ZWxzZSBlJiYhdGhpcy5jb250YWlucyhkKSYmKGM9MSk7aWYoZC5pc1Zpc2libGUoKSYmISgwPihoPWQuZ2V0VGFiSW5kZXgoKSkpKXtpZihjJiZoPT1iKXttPWQ7YnJlYWt9aD5iJiYoIW18fCFsfHxoPGwpPyhtPWQsbD1oKTptfHwwIT09aHx8KG09ZCxsPWgpfX1tJiZtLmZvY3VzKCl9LENLRURJVE9SLmRvbS5lbGVtZW50LnByb3RvdHlwZS5mb2N1c1ByZXZpb3VzPWZ1bmN0aW9uKGEsXG5mKXtmb3IodmFyIGI9dm9pZCAwPT09Zj90aGlzLmdldFRhYkluZGV4KCk6ZixjLGUsbSxsPTAsZCxoPXRoaXMuZ2V0RG9jdW1lbnQoKS5nZXRCb2R5KCkuZ2V0TGFzdCgpO2g9aC5nZXRQcmV2aW91c1NvdXJjZU5vZGUoITEsQ0tFRElUT1IuTk9ERV9FTEVNRU5UKTspe2lmKCFjKWlmKCFlJiZoLmVxdWFscyh0aGlzKSl7aWYoZT0hMCxhKXtpZighKGg9aC5nZXRQcmV2aW91c1NvdXJjZU5vZGUoITAsQ0tFRElUT1IuTk9ERV9FTEVNRU5UKSkpYnJlYWs7Yz0xfX1lbHNlIGUmJiF0aGlzLmNvbnRhaW5zKGgpJiYoYz0xKTtpZihoLmlzVmlzaWJsZSgpJiYhKDA+KGQ9aC5nZXRUYWJJbmRleCgpKSkpaWYoMD49Yil7aWYoYyYmMD09PWQpe209aDticmVha31kPmwmJihtPWgsbD1kKX1lbHNle2lmKGMmJmQ9PWIpe209aDticmVha31kPGImJighbXx8ZD5sKSYmKG09aCxsPWQpfX1tJiZtLmZvY3VzKCl9LENLRURJVE9SLnBsdWdpbnMuYWRkKFwidGFibGVcIix7cmVxdWlyZXM6XCJkaWFsb2dcIixpbml0OmZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGYoYSl7cmV0dXJuIENLRURJVE9SLnRvb2xzLmV4dGVuZChhfHxcbnt9LHtjb250ZXh0U2Vuc2l0aXZlOjEscmVmcmVzaDpmdW5jdGlvbihhLGIpe3RoaXMuc2V0U3RhdGUoYi5jb250YWlucyhcInRhYmxlXCIsMSk/Q0tFRElUT1IuVFJJU1RBVEVfT0ZGOkNLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVEKX19KX1pZighYS5ibG9ja2xlc3Mpe3ZhciBiPWEubGFuZy50YWJsZTthLmFkZENvbW1hbmQoXCJ0YWJsZVwiLG5ldyBDS0VESVRPUi5kaWFsb2dDb21tYW5kKFwidGFibGVcIix7Y29udGV4dDpcInRhYmxlXCIsYWxsb3dlZENvbnRlbnQ6XCJ0YWJsZXt3aWR0aCxoZWlnaHR9W2FsaWduLGJvcmRlcixjZWxscGFkZGluZyxjZWxsc3BhY2luZyxzdW1tYXJ5XTtjYXB0aW9uIHRib2R5IHRoZWFkIHRmb290O3RoIHRkIHRyW3Njb3BlXTtcIisoYS5wbHVnaW5zLmRpYWxvZ2FkdnRhYj9cInRhYmxlXCIrYS5wbHVnaW5zLmRpYWxvZ2FkdnRhYi5hbGxvd2VkQ29udGVudCgpOlwiXCIpLHJlcXVpcmVkQ29udGVudDpcInRhYmxlXCIsY29udGVudFRyYW5zZm9ybWF0aW9uczpbW1widGFibGV7d2lkdGh9OiBzaXplVG9TdHlsZVwiLFxuXCJ0YWJsZVt3aWR0aF06IHNpemVUb0F0dHJpYnV0ZVwiXSxbXCJ0ZDogc3BsaXRCb3JkZXJTaG9ydGhhbmRcIl0sW3tlbGVtZW50OlwidGFibGVcIixyaWdodDpmdW5jdGlvbihhKXthLnN0eWxlcyYmKGEuc3R5bGVzLmJvcmRlciYmYS5zdHlsZXMuYm9yZGVyLm1hdGNoKC9zb2xpZC8pJiYoYS5hdHRyaWJ1dGVzLmJvcmRlcj0xKSxcImNvbGxhcHNlXCI9PWEuc3R5bGVzW1wiYm9yZGVyLWNvbGxhcHNlXCJdJiYoYS5hdHRyaWJ1dGVzLmNlbGxzcGFjaW5nPTApKX19XV19KSk7YS5hZGRDb21tYW5kKFwidGFibGVQcm9wZXJ0aWVzXCIsbmV3IENLRURJVE9SLmRpYWxvZ0NvbW1hbmQoXCJ0YWJsZVByb3BlcnRpZXNcIixmKCkpKTthLmFkZENvbW1hbmQoXCJ0YWJsZURlbGV0ZVwiLGYoe2V4ZWM6ZnVuY3Rpb24oYSl7dmFyIGI9YS5lbGVtZW50UGF0aCgpLmNvbnRhaW5zKFwidGFibGVcIiwxKTtpZihiKXt2YXIgZj1iLmdldFBhcmVudCgpLGw9YS5lZGl0YWJsZSgpOzEhPWYuZ2V0Q2hpbGRDb3VudCgpfHxmLmlzKFwidGRcIixcblwidGhcIil8fGYuZXF1YWxzKGwpfHwoYj1mKTthPWEuY3JlYXRlUmFuZ2UoKTthLm1vdmVUb1Bvc2l0aW9uKGIsQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX1NUQVJUKTtiLnJlbW92ZSgpO2Euc2VsZWN0KCl9fX0pKTthLnVpLmFkZEJ1dHRvbiYmYS51aS5hZGRCdXR0b24oXCJUYWJsZVwiLHtsYWJlbDpiLnRvb2xiYXIsY29tbWFuZDpcInRhYmxlXCIsdG9vbGJhcjpcImluc2VydCwzMFwifSk7Q0tFRElUT1IuZGlhbG9nLmFkZChcInRhYmxlXCIsdGhpcy5wYXRoK1wiZGlhbG9ncy90YWJsZS5qc1wiKTtDS0VESVRPUi5kaWFsb2cuYWRkKFwidGFibGVQcm9wZXJ0aWVzXCIsdGhpcy5wYXRoK1wiZGlhbG9ncy90YWJsZS5qc1wiKTthLmFkZE1lbnVJdGVtcyYmYS5hZGRNZW51SXRlbXMoe3RhYmxlOntsYWJlbDpiLm1lbnUsY29tbWFuZDpcInRhYmxlUHJvcGVydGllc1wiLGdyb3VwOlwidGFibGVcIixvcmRlcjo1fSx0YWJsZWRlbGV0ZTp7bGFiZWw6Yi5kZWxldGVUYWJsZSxjb21tYW5kOlwidGFibGVEZWxldGVcIixncm91cDpcInRhYmxlXCIsXG5vcmRlcjoxfX0pO2Eub24oXCJkb3VibGVjbGlja1wiLGZ1bmN0aW9uKGEpe2EuZGF0YS5lbGVtZW50LmlzKFwidGFibGVcIikmJihhLmRhdGEuZGlhbG9nPVwidGFibGVQcm9wZXJ0aWVzXCIpfSk7YS5jb250ZXh0TWVudSYmYS5jb250ZXh0TWVudS5hZGRMaXN0ZW5lcihmdW5jdGlvbigpe3JldHVybnt0YWJsZWRlbGV0ZTpDS0VESVRPUi5UUklTVEFURV9PRkYsdGFibGU6Q0tFRElUT1IuVFJJU1RBVEVfT0ZGfX0pfX19KSxmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSl7ZnVuY3Rpb24gYihhKXswPGMubGVuZ3RofHxhLnR5cGUhPUNLRURJVE9SLk5PREVfRUxFTUVOVHx8IXEudGVzdChhLmdldE5hbWUoKSl8fGEuZ2V0Q3VzdG9tRGF0YShcInNlbGVjdGVkX2NlbGxcIil8fChDS0VESVRPUi5kb20uZWxlbWVudC5zZXRNYXJrZXIoZCxhLFwic2VsZWN0ZWRfY2VsbFwiLCEwKSxjLnB1c2goYSkpfWE9YS5nZXRSYW5nZXMoKTtmb3IodmFyIGM9W10sZD17fSxlPTA7ZTxhLmxlbmd0aDtlKyspe3ZhciBmPWFbZV07XG5pZihmLmNvbGxhcHNlZClmPWYuZ2V0Q29tbW9uQW5jZXN0b3IoKSwoZj1mLmdldEFzY2VuZGFudChcInRkXCIsITApfHxmLmdldEFzY2VuZGFudChcInRoXCIsITApKSYmYy5wdXNoKGYpO2Vsc2V7dmFyIGY9bmV3IENLRURJVE9SLmRvbS53YWxrZXIoZiksZztmb3IoZi5ndWFyZD1iO2c9Zi5uZXh0KCk7KWcudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZnLmlzKENLRURJVE9SLmR0ZC50YWJsZSl8fChnPWcuZ2V0QXNjZW5kYW50KFwidGRcIiwhMCl8fGcuZ2V0QXNjZW5kYW50KFwidGhcIiwhMCkpJiYhZy5nZXRDdXN0b21EYXRhKFwic2VsZWN0ZWRfY2VsbFwiKSYmKENLRURJVE9SLmRvbS5lbGVtZW50LnNldE1hcmtlcihkLGcsXCJzZWxlY3RlZF9jZWxsXCIsITApLGMucHVzaChnKSl9fUNLRURJVE9SLmRvbS5lbGVtZW50LmNsZWFyQWxsTWFya2VycyhkKTtyZXR1cm4gY31mdW5jdGlvbiBmKGIsYyl7Zm9yKHZhciBkPWEoYiksZT1kWzBdLGY9ZS5nZXRBc2NlbmRhbnQoXCJ0YWJsZVwiKSxlPWUuZ2V0RG9jdW1lbnQoKSxcbmc9ZFswXS5nZXRQYXJlbnQoKSxoPWcuJC5yb3dJbmRleCxkPWRbZC5sZW5ndGgtMV0saz1kLmdldFBhcmVudCgpLiQucm93SW5kZXgrZC4kLnJvd1NwYW4tMSxkPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudChmLiQucm93c1trXSksaD1jP2g6ayxnPWM/ZzpkLGQ9Q0tFRElUT1IudG9vbHMuYnVpbGRUYWJsZU1hcChmKSxmPWRbaF0saD1jP2RbaC0xXTpkW2grMV0sZD1kWzBdLmxlbmd0aCxlPWUuY3JlYXRlRWxlbWVudChcInRyXCIpLGs9MDtmW2tdJiZrPGQ7aysrKXt2YXIgbDsxPGZba10ucm93U3BhbiYmaCYmZltrXT09aFtrXT8obD1mW2tdLGwucm93U3Bhbis9MSk6KGw9KG5ldyBDS0VESVRPUi5kb20uZWxlbWVudChmW2tdKSkuY2xvbmUoKSxsLnJlbW92ZUF0dHJpYnV0ZShcInJvd1NwYW5cIiksbC5hcHBlbmRCb2d1cygpLGUuYXBwZW5kKGwpLGw9bC4kKTtrKz1sLmNvbFNwYW4tMX1jP2UuaW5zZXJ0QmVmb3JlKGcpOmUuaW5zZXJ0QWZ0ZXIoZyl9ZnVuY3Rpb24gYihjKXtpZihjIGluc3RhbmNlb2ZcbkNLRURJVE9SLmRvbS5zZWxlY3Rpb24pe3ZhciBkPWEoYyksZT1kWzBdLmdldEFzY2VuZGFudChcInRhYmxlXCIpLGY9Q0tFRElUT1IudG9vbHMuYnVpbGRUYWJsZU1hcChlKTtjPWRbMF0uZ2V0UGFyZW50KCkuJC5yb3dJbmRleDtmb3IodmFyIGQ9ZFtkLmxlbmd0aC0xXSxnPWQuZ2V0UGFyZW50KCkuJC5yb3dJbmRleCtkLiQucm93U3Bhbi0xLGQ9W10saD1jO2g8PWc7aCsrKXtmb3IodmFyIGs9ZltoXSxsPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudChlLiQucm93c1toXSksbT0wO208ay5sZW5ndGg7bSsrKXt2YXIgbj1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoa1ttXSkscT1uLmdldFBhcmVudCgpLiQucm93SW5kZXg7MT09bi4kLnJvd1NwYW4/bi5yZW1vdmUoKTooLS1uLiQucm93U3BhbixxPT1oJiYocT1mW2grMV0scVttLTFdP24uaW5zZXJ0QWZ0ZXIobmV3IENLRURJVE9SLmRvbS5lbGVtZW50KHFbbS0xXSkpOihuZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoZS4kLnJvd3NbaCsxXSkpLmFwcGVuZChuLFxuMSkpKTttKz1uLiQuY29sU3Bhbi0xfWQucHVzaChsKX1mPWUuJC5yb3dzO2U9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KGZbZysxXXx8KDA8Yz9mW2MtMV06bnVsbCl8fGUuJC5wYXJlbnROb2RlKTtmb3IoaD1kLmxlbmd0aDswPD1oO2gtLSliKGRbaF0pO3JldHVybiBlfWMgaW5zdGFuY2VvZiBDS0VESVRPUi5kb20uZWxlbWVudCYmKGU9Yy5nZXRBc2NlbmRhbnQoXCJ0YWJsZVwiKSwxPT1lLiQucm93cy5sZW5ndGg/ZS5yZW1vdmUoKTpjLnJlbW92ZSgpKTtyZXR1cm4gbnVsbH1mdW5jdGlvbiBjKGEsYil7Zm9yKHZhciBjPWI/SW5maW5pdHk6MCxkPTA7ZDxhLmxlbmd0aDtkKyspe3ZhciBlO2U9YVtkXTtmb3IodmFyIGY9YixnPWUuZ2V0UGFyZW50KCkuJC5jZWxscyxoPTAsaz0wO2s8Zy5sZW5ndGg7aysrKXt2YXIgbD1nW2tdLGg9aCsoZj8xOmwuY29sU3Bhbik7aWYobD09ZS4kKWJyZWFrfWU9aC0xO2lmKGI/ZTxjOmU+YyljPWV9cmV0dXJuIGN9ZnVuY3Rpb24gZShiLGQpe2Zvcih2YXIgZT1cbmEoYiksZj1lWzBdLmdldEFzY2VuZGFudChcInRhYmxlXCIpLGc9YyhlLDEpLGU9YyhlKSxnPWQ/ZzplLGg9Q0tFRElUT1IudG9vbHMuYnVpbGRUYWJsZU1hcChmKSxmPVtdLGU9W10saz1oLmxlbmd0aCxsPTA7bDxrO2wrKylmLnB1c2goaFtsXVtnXSksZS5wdXNoKGQ/aFtsXVtnLTFdOmhbbF1bZysxXSk7Zm9yKGw9MDtsPGs7bCsrKWZbbF0mJigxPGZbbF0uY29sU3BhbiYmZVtsXT09ZltsXT8oZz1mW2xdLGcuY29sU3Bhbis9MSk6KGc9KG5ldyBDS0VESVRPUi5kb20uZWxlbWVudChmW2xdKSkuY2xvbmUoKSxnLnJlbW92ZUF0dHJpYnV0ZShcImNvbFNwYW5cIiksZy5hcHBlbmRCb2d1cygpLGdbZD9cImluc2VydEJlZm9yZVwiOlwiaW5zZXJ0QWZ0ZXJcIl0uY2FsbChnLG5ldyBDS0VESVRPUi5kb20uZWxlbWVudChmW2xdKSksZz1nLiQpLGwrPWcucm93U3Bhbi0xKX1mdW5jdGlvbiBtKGEsYil7dmFyIGM9YS5nZXRTdGFydEVsZW1lbnQoKTtpZihjPWMuZ2V0QXNjZW5kYW50KFwidGRcIiwxKXx8Yy5nZXRBc2NlbmRhbnQoXCJ0aFwiLFxuMSkpe3ZhciBkPWMuY2xvbmUoKTtkLmFwcGVuZEJvZ3VzKCk7Yj9kLmluc2VydEJlZm9yZShjKTpkLmluc2VydEFmdGVyKGMpfX1mdW5jdGlvbiBsKGIpe2lmKGIgaW5zdGFuY2VvZiBDS0VESVRPUi5kb20uc2VsZWN0aW9uKXtiPWEoYik7dmFyIGM9YlswXSYmYlswXS5nZXRBc2NlbmRhbnQoXCJ0YWJsZVwiKSxlO2E6e3ZhciBmPTA7ZT1iLmxlbmd0aC0xO2Zvcih2YXIgZz17fSxoLGs7aD1iW2YrK107KUNLRURJVE9SLmRvbS5lbGVtZW50LnNldE1hcmtlcihnLGgsXCJkZWxldGVfY2VsbFwiLCEwKTtmb3IoZj0wO2g9YltmKytdOylpZigoaz1oLmdldFByZXZpb3VzKCkpJiYhay5nZXRDdXN0b21EYXRhKFwiZGVsZXRlX2NlbGxcIil8fChrPWguZ2V0TmV4dCgpKSYmIWsuZ2V0Q3VzdG9tRGF0YShcImRlbGV0ZV9jZWxsXCIpKXtDS0VESVRPUi5kb20uZWxlbWVudC5jbGVhckFsbE1hcmtlcnMoZyk7ZT1rO2JyZWFrIGF9Q0tFRElUT1IuZG9tLmVsZW1lbnQuY2xlYXJBbGxNYXJrZXJzKGcpO2s9YlswXS5nZXRQYXJlbnQoKTtcbihrPWsuZ2V0UHJldmlvdXMoKSk/ZT1rLmdldExhc3QoKTooaz1iW2VdLmdldFBhcmVudCgpLGU9KGs9ay5nZXROZXh0KCkpP2suZ2V0Q2hpbGQoMCk6bnVsbCl9Zm9yKGs9Yi5sZW5ndGgtMTswPD1rO2stLSlsKGJba10pO2U/ZChlLCEwKTpjJiZjLnJlbW92ZSgpfWVsc2UgYiBpbnN0YW5jZW9mIENLRURJVE9SLmRvbS5lbGVtZW50JiYoYz1iLmdldFBhcmVudCgpLDE9PWMuZ2V0Q2hpbGRDb3VudCgpP2MucmVtb3ZlKCk6Yi5yZW1vdmUoKSl9ZnVuY3Rpb24gZChhLGIpe3ZhciBjPWEuZ2V0RG9jdW1lbnQoKSxkPUNLRURJVE9SLmRvY3VtZW50O0NLRURJVE9SLmVudi5pZSYmMTA9PUNLRURJVE9SLmVudi52ZXJzaW9uJiYoZC5mb2N1cygpLGMuZm9jdXMoKSk7Yz1uZXcgQ0tFRElUT1IuZG9tLnJhbmdlKGMpO2NbXCJtb3ZlVG9FbGVtZW50RWRpdFwiKyhiP1wiRW5kXCI6XCJTdGFydFwiKV0oYSl8fChjLnNlbGVjdE5vZGVDb250ZW50cyhhKSxjLmNvbGxhcHNlKGI/ITE6ITApKTtjLnNlbGVjdCghMCl9XG5mdW5jdGlvbiBoKGEsYixjKXthPWFbYl07aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIGMpcmV0dXJuIGE7Zm9yKGI9MDthJiZiPGEubGVuZ3RoO2IrKyl7aWYoYy5pcyYmYVtiXT09Yy4kKXJldHVybiBiO2lmKGI9PWMpcmV0dXJuIG5ldyBDS0VESVRPUi5kb20uZWxlbWVudChhW2JdKX1yZXR1cm4gYy5pcz8tMTpudWxsfWZ1bmN0aW9uIGsoYixjLGQpe3ZhciBlPWEoYiksZjtpZigoYz8xIT1lLmxlbmd0aDoyPmUubGVuZ3RoKXx8KGY9Yi5nZXRDb21tb25BbmNlc3RvcigpKSYmZi50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmYuaXMoXCJ0YWJsZVwiKSlyZXR1cm4hMTt2YXIgZztiPWVbMF07Zj1iLmdldEFzY2VuZGFudChcInRhYmxlXCIpO3ZhciBrPUNLRURJVE9SLnRvb2xzLmJ1aWxkVGFibGVNYXAoZiksbD1rLmxlbmd0aCxtPWtbMF0ubGVuZ3RoLG49Yi5nZXRQYXJlbnQoKS4kLnJvd0luZGV4LHE9aChrLG4sYik7aWYoYyl7dmFyIEE7dHJ5e3ZhciBDPXBhcnNlSW50KGIuZ2V0QXR0cmlidXRlKFwicm93c3BhblwiKSxcbjEwKXx8MTtnPXBhcnNlSW50KGIuZ2V0QXR0cmlidXRlKFwiY29sc3BhblwiKSwxMCl8fDE7QT1rW1widXBcIj09Yz9uLUM6XCJkb3duXCI9PWM/bitDOm5dW1wibGVmdFwiPT1jP3EtZzpcInJpZ2h0XCI9PWM/cStnOnFdfWNhdGNoKEYpe3JldHVybiExfWlmKCFBfHxiLiQ9PUEpcmV0dXJuITE7ZVtcInVwXCI9PWN8fFwibGVmdFwiPT1jP1widW5zaGlmdFwiOlwicHVzaFwiXShuZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoQSkpfWM9Yi5nZXREb2N1bWVudCgpO3ZhciBFPW4sQz1BPTAsSj0hZCYmbmV3IENLRURJVE9SLmRvbS5kb2N1bWVudEZyYWdtZW50KGMpLEc9MDtmb3IoYz0wO2M8ZS5sZW5ndGg7YysrKXtnPWVbY107dmFyIE09Zy5nZXRQYXJlbnQoKSxJPWcuZ2V0Rmlyc3QoKSxIPWcuJC5jb2xTcGFuLFI9Zy4kLnJvd1NwYW4sTT1NLiQucm93SW5kZXgsUD1oKGssTSxnKSxHPUcrSCpSLEM9TWF0aC5tYXgoQyxQLXErSCk7QT1NYXRoLm1heChBLE0tbitSKTtkfHwoSD1nLChSPUguZ2V0Qm9ndXMoKSkmJlIucmVtb3ZlKCksXG5ILnRyaW0oKSxnLmdldENoaWxkcmVuKCkuY291bnQoKSYmKE09PUV8fCFJfHxJLmlzQmxvY2tCb3VuZGFyeSYmSS5pc0Jsb2NrQm91bmRhcnkoe2JyOjF9KXx8KEU9Si5nZXRMYXN0KENLRURJVE9SLmRvbS53YWxrZXIud2hpdGVzcGFjZXMoITApKSwhRXx8RS5pcyYmRS5pcyhcImJyXCIpfHxKLmFwcGVuZChcImJyXCIpKSxnLm1vdmVDaGlsZHJlbihKKSksYz9nLnJlbW92ZSgpOmcuc2V0SHRtbChcIlwiKSk7RT1NfWlmKGQpcmV0dXJuIEEqQz09RztKLm1vdmVDaGlsZHJlbihiKTtiLmFwcGVuZEJvZ3VzKCk7Qz49bT9iLnJlbW92ZUF0dHJpYnV0ZShcInJvd1NwYW5cIik6Yi4kLnJvd1NwYW49QTtBPj1sP2IucmVtb3ZlQXR0cmlidXRlKFwiY29sU3BhblwiKTpiLiQuY29sU3Bhbj1DO2Q9bmV3IENLRURJVE9SLmRvbS5ub2RlTGlzdChmLiQucm93cyk7ZT1kLmNvdW50KCk7Zm9yKGM9ZS0xOzA8PWM7Yy0tKWY9ZC5nZXRJdGVtKGMpLGYuJC5jZWxscy5sZW5ndGh8fChmLnJlbW92ZSgpLGUrKyk7cmV0dXJuIGJ9XG5mdW5jdGlvbiBnKGIsYyl7dmFyIGQ9YShiKTtpZigxPGQubGVuZ3RoKXJldHVybiExO2lmKGMpcmV0dXJuITA7dmFyIGQ9ZFswXSxlPWQuZ2V0UGFyZW50KCksZj1lLmdldEFzY2VuZGFudChcInRhYmxlXCIpLGc9Q0tFRElUT1IudG9vbHMuYnVpbGRUYWJsZU1hcChmKSxrPWUuJC5yb3dJbmRleCxsPWgoZyxrLGQpLG09ZC4kLnJvd1NwYW4sbjtpZigxPG0pe249TWF0aC5jZWlsKG0vMik7Zm9yKHZhciBtPU1hdGguZmxvb3IobS8yKSxlPWsrbixmPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudChmLiQucm93c1tlXSksZz1oKGcsZSkscSxlPWQuY2xvbmUoKSxrPTA7azxnLmxlbmd0aDtrKyspaWYocT1nW2tdLHEucGFyZW50Tm9kZT09Zi4kJiZrPmwpe2UuaW5zZXJ0QmVmb3JlKG5ldyBDS0VESVRPUi5kb20uZWxlbWVudChxKSk7YnJlYWt9ZWxzZSBxPW51bGw7cXx8Zi5hcHBlbmQoZSl9ZWxzZSBmb3IobT1uPTEsZj1lLmNsb25lKCksZi5pbnNlcnRBZnRlcihlKSxmLmFwcGVuZChlPWQuY2xvbmUoKSksXG5xPWgoZyxrKSxsPTA7bDxxLmxlbmd0aDtsKyspcVtsXS5yb3dTcGFuKys7ZS5hcHBlbmRCb2d1cygpO2QuJC5yb3dTcGFuPW47ZS4kLnJvd1NwYW49bTsxPT1uJiZkLnJlbW92ZUF0dHJpYnV0ZShcInJvd1NwYW5cIik7MT09bSYmZS5yZW1vdmVBdHRyaWJ1dGUoXCJyb3dTcGFuXCIpO3JldHVybiBlfWZ1bmN0aW9uIG4oYixjKXt2YXIgZD1hKGIpO2lmKDE8ZC5sZW5ndGgpcmV0dXJuITE7aWYoYylyZXR1cm4hMDt2YXIgZD1kWzBdLGU9ZC5nZXRQYXJlbnQoKSxmPWUuZ2V0QXNjZW5kYW50KFwidGFibGVcIiksZj1DS0VESVRPUi50b29scy5idWlsZFRhYmxlTWFwKGYpLGc9aChmLGUuJC5yb3dJbmRleCxkKSxrPWQuJC5jb2xTcGFuO2lmKDE8ayllPU1hdGguY2VpbChrLzIpLGs9TWF0aC5mbG9vcihrLzIpO2Vsc2V7Zm9yKHZhciBrPWU9MSxsPVtdLG09MDttPGYubGVuZ3RoO20rKyl7dmFyIG49ZlttXTtsLnB1c2gobltnXSk7MTxuW2ddLnJvd1NwYW4mJihtKz1uW2ddLnJvd1NwYW4tMSl9Zm9yKGY9XG4wO2Y8bC5sZW5ndGg7ZisrKWxbZl0uY29sU3BhbisrfWY9ZC5jbG9uZSgpO2YuaW5zZXJ0QWZ0ZXIoZCk7Zi5hcHBlbmRCb2d1cygpO2QuJC5jb2xTcGFuPWU7Zi4kLmNvbFNwYW49azsxPT1lJiZkLnJlbW92ZUF0dHJpYnV0ZShcImNvbFNwYW5cIik7MT09ayYmZi5yZW1vdmVBdHRyaWJ1dGUoXCJjb2xTcGFuXCIpO3JldHVybiBmfXZhciBxPS9eKD86dGR8dGgpJC87Q0tFRElUT1IucGx1Z2lucy50YWJsZXRvb2xzPXtyZXF1aXJlczpcInRhYmxlLGRpYWxvZyxjb250ZXh0bWVudVwiLGluaXQ6ZnVuY3Rpb24oYyl7ZnVuY3Rpb24gaChhKXtyZXR1cm4gQ0tFRElUT1IudG9vbHMuZXh0ZW5kKGF8fHt9LHtjb250ZXh0U2Vuc2l0aXZlOjEscmVmcmVzaDpmdW5jdGlvbihhLGIpe3RoaXMuc2V0U3RhdGUoYi5jb250YWlucyh7dGQ6MSx0aDoxfSwxKT9DS0VESVRPUi5UUklTVEFURV9PRkY6Q0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUQpfX0pfWZ1bmN0aW9uIHEoYSxiKXt2YXIgZD1jLmFkZENvbW1hbmQoYSxcbmIpO2MuYWRkRmVhdHVyZShkKX12YXIgcj1jLmxhbmcudGFibGU7cShcImNlbGxQcm9wZXJ0aWVzXCIsbmV3IENLRURJVE9SLmRpYWxvZ0NvbW1hbmQoXCJjZWxsUHJvcGVydGllc1wiLGgoe2FsbG93ZWRDb250ZW50OlwidGQgdGh7d2lkdGgsaGVpZ2h0LGJvcmRlci1jb2xvcixiYWNrZ3JvdW5kLWNvbG9yLHdoaXRlLXNwYWNlLHZlcnRpY2FsLWFsaWduLHRleHQtYWxpZ259W2NvbHNwYW4scm93c3Bhbl1cIixyZXF1aXJlZENvbnRlbnQ6XCJ0YWJsZVwiLGNvbnRlbnRUcmFuc2Zvcm1hdGlvbnM6W1t7ZWxlbWVudDpcInRkXCIsbGVmdDpmdW5jdGlvbihhKXtyZXR1cm4gYS5zdHlsZXMuYmFja2dyb3VuZCYmYS5zdHlsZXMuYmFja2dyb3VuZC5tYXRjaCgvXigjW2EtZkEtRjAtOV17Myw2fXxyZ2JcXChbXFxkLCBdK1xcKXxcXHcrKSQvKX0scmlnaHQ6ZnVuY3Rpb24oYSl7YS5zdHlsZXNbXCJiYWNrZ3JvdW5kLWNvbG9yXCJdPWEuc3R5bGVzLmJhY2tncm91bmR9fV1dfSkpKTtDS0VESVRPUi5kaWFsb2cuYWRkKFwiY2VsbFByb3BlcnRpZXNcIixcbnRoaXMucGF0aCtcImRpYWxvZ3MvdGFibGVDZWxsLmpzXCIpO3EoXCJyb3dEZWxldGVcIixoKHtyZXF1aXJlZENvbnRlbnQ6XCJ0YWJsZVwiLGV4ZWM6ZnVuY3Rpb24oYSl7YT1hLmdldFNlbGVjdGlvbigpO2QoYihhKSl9fSkpO3EoXCJyb3dJbnNlcnRCZWZvcmVcIixoKHtyZXF1aXJlZENvbnRlbnQ6XCJ0YWJsZVwiLGV4ZWM6ZnVuY3Rpb24oYSl7YT1hLmdldFNlbGVjdGlvbigpO2YoYSwhMCl9fSkpO3EoXCJyb3dJbnNlcnRBZnRlclwiLGgoe3JlcXVpcmVkQ29udGVudDpcInRhYmxlXCIsZXhlYzpmdW5jdGlvbihhKXthPWEuZ2V0U2VsZWN0aW9uKCk7ZihhKX19KSk7cShcImNvbHVtbkRlbGV0ZVwiLGgoe3JlcXVpcmVkQ29udGVudDpcInRhYmxlXCIsZXhlYzpmdW5jdGlvbihiKXtiPWIuZ2V0U2VsZWN0aW9uKCk7Yj1hKGIpO3ZhciBjPWJbMF0sZT1iW2IubGVuZ3RoLTFdO2I9Yy5nZXRBc2NlbmRhbnQoXCJ0YWJsZVwiKTtmb3IodmFyIGY9Q0tFRElUT1IudG9vbHMuYnVpbGRUYWJsZU1hcChiKSxnLGgsaz1bXSxsPVxuMCxtPWYubGVuZ3RoO2w8bTtsKyspZm9yKHZhciBuPTAscD1mW2xdLmxlbmd0aDtuPHA7bisrKWZbbF1bbl09PWMuJCYmKGc9biksZltsXVtuXT09ZS4kJiYoaD1uKTtmb3IobD1nO2w8PWg7bCsrKWZvcihuPTA7bjxmLmxlbmd0aDtuKyspZT1mW25dLGM9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KGIuJC5yb3dzW25dKSxlPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudChlW2xdKSxlLiQmJigxPT1lLiQuY29sU3Bhbj9lLnJlbW92ZSgpOi0tZS4kLmNvbFNwYW4sbis9ZS4kLnJvd1NwYW4tMSxjLiQuY2VsbHMubGVuZ3RofHxrLnB1c2goYykpO2g9Yi4kLnJvd3NbMF0mJmIuJC5yb3dzWzBdLmNlbGxzO2c9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KGhbZ118fChnP2hbZy0xXTpiLiQucGFyZW50Tm9kZSkpO2subGVuZ3RoPT1tJiZiLnJlbW92ZSgpO2cmJmQoZywhMCl9fSkpO3EoXCJjb2x1bW5JbnNlcnRCZWZvcmVcIixoKHtyZXF1aXJlZENvbnRlbnQ6XCJ0YWJsZVwiLGV4ZWM6ZnVuY3Rpb24oYSl7YT1cbmEuZ2V0U2VsZWN0aW9uKCk7ZShhLCEwKX19KSk7cShcImNvbHVtbkluc2VydEFmdGVyXCIsaCh7cmVxdWlyZWRDb250ZW50OlwidGFibGVcIixleGVjOmZ1bmN0aW9uKGEpe2E9YS5nZXRTZWxlY3Rpb24oKTtlKGEpfX0pKTtxKFwiY2VsbERlbGV0ZVwiLGgoe3JlcXVpcmVkQ29udGVudDpcInRhYmxlXCIsZXhlYzpmdW5jdGlvbihhKXthPWEuZ2V0U2VsZWN0aW9uKCk7bChhKX19KSk7cShcImNlbGxNZXJnZVwiLGgoe2FsbG93ZWRDb250ZW50OlwidGRbY29sc3Bhbixyb3dzcGFuXVwiLHJlcXVpcmVkQ29udGVudDpcInRkW2NvbHNwYW4scm93c3Bhbl1cIixleGVjOmZ1bmN0aW9uKGEpe2QoayhhLmdldFNlbGVjdGlvbigpKSwhMCl9fSkpO3EoXCJjZWxsTWVyZ2VSaWdodFwiLGgoe2FsbG93ZWRDb250ZW50OlwidGRbY29sc3Bhbl1cIixyZXF1aXJlZENvbnRlbnQ6XCJ0ZFtjb2xzcGFuXVwiLGV4ZWM6ZnVuY3Rpb24oYSl7ZChrKGEuZ2V0U2VsZWN0aW9uKCksXCJyaWdodFwiKSwhMCl9fSkpO3EoXCJjZWxsTWVyZ2VEb3duXCIsXG5oKHthbGxvd2VkQ29udGVudDpcInRkW3Jvd3NwYW5dXCIscmVxdWlyZWRDb250ZW50OlwidGRbcm93c3Bhbl1cIixleGVjOmZ1bmN0aW9uKGEpe2QoayhhLmdldFNlbGVjdGlvbigpLFwiZG93blwiKSwhMCl9fSkpO3EoXCJjZWxsVmVydGljYWxTcGxpdFwiLGgoe2FsbG93ZWRDb250ZW50OlwidGRbcm93c3Bhbl1cIixyZXF1aXJlZENvbnRlbnQ6XCJ0ZFtyb3dzcGFuXVwiLGV4ZWM6ZnVuY3Rpb24oYSl7ZChuKGEuZ2V0U2VsZWN0aW9uKCkpKX19KSk7cShcImNlbGxIb3Jpem9udGFsU3BsaXRcIixoKHthbGxvd2VkQ29udGVudDpcInRkW2NvbHNwYW5dXCIscmVxdWlyZWRDb250ZW50OlwidGRbY29sc3Bhbl1cIixleGVjOmZ1bmN0aW9uKGEpe2QoZyhhLmdldFNlbGVjdGlvbigpKSl9fSkpO3EoXCJjZWxsSW5zZXJ0QmVmb3JlXCIsaCh7cmVxdWlyZWRDb250ZW50OlwidGFibGVcIixleGVjOmZ1bmN0aW9uKGEpe2E9YS5nZXRTZWxlY3Rpb24oKTttKGEsITApfX0pKTtxKFwiY2VsbEluc2VydEFmdGVyXCIsaCh7cmVxdWlyZWRDb250ZW50OlwidGFibGVcIixcbmV4ZWM6ZnVuY3Rpb24oYSl7YT1hLmdldFNlbGVjdGlvbigpO20oYSl9fSkpO2MuYWRkTWVudUl0ZW1zJiZjLmFkZE1lbnVJdGVtcyh7dGFibGVjZWxsOntsYWJlbDpyLmNlbGwubWVudSxncm91cDpcInRhYmxlY2VsbFwiLG9yZGVyOjEsZ2V0SXRlbXM6ZnVuY3Rpb24oKXt2YXIgYj1jLmdldFNlbGVjdGlvbigpLGQ9YShiKTtyZXR1cm57dGFibGVjZWxsX2luc2VydEJlZm9yZTpDS0VESVRPUi5UUklTVEFURV9PRkYsdGFibGVjZWxsX2luc2VydEFmdGVyOkNLRURJVE9SLlRSSVNUQVRFX09GRix0YWJsZWNlbGxfZGVsZXRlOkNLRURJVE9SLlRSSVNUQVRFX09GRix0YWJsZWNlbGxfbWVyZ2U6ayhiLG51bGwsITApP0NLRURJVE9SLlRSSVNUQVRFX09GRjpDS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRCx0YWJsZWNlbGxfbWVyZ2VfcmlnaHQ6ayhiLFwicmlnaHRcIiwhMCk/Q0tFRElUT1IuVFJJU1RBVEVfT0ZGOkNLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVELHRhYmxlY2VsbF9tZXJnZV9kb3duOmsoYixcblwiZG93blwiLCEwKT9DS0VESVRPUi5UUklTVEFURV9PRkY6Q0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUQsdGFibGVjZWxsX3NwbGl0X3ZlcnRpY2FsOm4oYiwhMCk/Q0tFRElUT1IuVFJJU1RBVEVfT0ZGOkNLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVELHRhYmxlY2VsbF9zcGxpdF9ob3Jpem9udGFsOmcoYiwhMCk/Q0tFRElUT1IuVFJJU1RBVEVfT0ZGOkNLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVELHRhYmxlY2VsbF9wcm9wZXJ0aWVzOjA8ZC5sZW5ndGg/Q0tFRElUT1IuVFJJU1RBVEVfT0ZGOkNLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVEfX19LHRhYmxlY2VsbF9pbnNlcnRCZWZvcmU6e2xhYmVsOnIuY2VsbC5pbnNlcnRCZWZvcmUsZ3JvdXA6XCJ0YWJsZWNlbGxcIixjb21tYW5kOlwiY2VsbEluc2VydEJlZm9yZVwiLG9yZGVyOjV9LHRhYmxlY2VsbF9pbnNlcnRBZnRlcjp7bGFiZWw6ci5jZWxsLmluc2VydEFmdGVyLGdyb3VwOlwidGFibGVjZWxsXCIsY29tbWFuZDpcImNlbGxJbnNlcnRBZnRlclwiLFxub3JkZXI6MTB9LHRhYmxlY2VsbF9kZWxldGU6e2xhYmVsOnIuY2VsbC5kZWxldGVDZWxsLGdyb3VwOlwidGFibGVjZWxsXCIsY29tbWFuZDpcImNlbGxEZWxldGVcIixvcmRlcjoxNX0sdGFibGVjZWxsX21lcmdlOntsYWJlbDpyLmNlbGwubWVyZ2UsZ3JvdXA6XCJ0YWJsZWNlbGxcIixjb21tYW5kOlwiY2VsbE1lcmdlXCIsb3JkZXI6MTZ9LHRhYmxlY2VsbF9tZXJnZV9yaWdodDp7bGFiZWw6ci5jZWxsLm1lcmdlUmlnaHQsZ3JvdXA6XCJ0YWJsZWNlbGxcIixjb21tYW5kOlwiY2VsbE1lcmdlUmlnaHRcIixvcmRlcjoxN30sdGFibGVjZWxsX21lcmdlX2Rvd246e2xhYmVsOnIuY2VsbC5tZXJnZURvd24sZ3JvdXA6XCJ0YWJsZWNlbGxcIixjb21tYW5kOlwiY2VsbE1lcmdlRG93blwiLG9yZGVyOjE4fSx0YWJsZWNlbGxfc3BsaXRfaG9yaXpvbnRhbDp7bGFiZWw6ci5jZWxsLnNwbGl0SG9yaXpvbnRhbCxncm91cDpcInRhYmxlY2VsbFwiLGNvbW1hbmQ6XCJjZWxsSG9yaXpvbnRhbFNwbGl0XCIsb3JkZXI6MTl9LHRhYmxlY2VsbF9zcGxpdF92ZXJ0aWNhbDp7bGFiZWw6ci5jZWxsLnNwbGl0VmVydGljYWwsXG5ncm91cDpcInRhYmxlY2VsbFwiLGNvbW1hbmQ6XCJjZWxsVmVydGljYWxTcGxpdFwiLG9yZGVyOjIwfSx0YWJsZWNlbGxfcHJvcGVydGllczp7bGFiZWw6ci5jZWxsLnRpdGxlLGdyb3VwOlwidGFibGVjZWxscHJvcGVydGllc1wiLGNvbW1hbmQ6XCJjZWxsUHJvcGVydGllc1wiLG9yZGVyOjIxfSx0YWJsZXJvdzp7bGFiZWw6ci5yb3cubWVudSxncm91cDpcInRhYmxlcm93XCIsb3JkZXI6MSxnZXRJdGVtczpmdW5jdGlvbigpe3JldHVybnt0YWJsZXJvd19pbnNlcnRCZWZvcmU6Q0tFRElUT1IuVFJJU1RBVEVfT0ZGLHRhYmxlcm93X2luc2VydEFmdGVyOkNLRURJVE9SLlRSSVNUQVRFX09GRix0YWJsZXJvd19kZWxldGU6Q0tFRElUT1IuVFJJU1RBVEVfT0ZGfX19LHRhYmxlcm93X2luc2VydEJlZm9yZTp7bGFiZWw6ci5yb3cuaW5zZXJ0QmVmb3JlLGdyb3VwOlwidGFibGVyb3dcIixjb21tYW5kOlwicm93SW5zZXJ0QmVmb3JlXCIsb3JkZXI6NX0sdGFibGVyb3dfaW5zZXJ0QWZ0ZXI6e2xhYmVsOnIucm93Lmluc2VydEFmdGVyLFxuZ3JvdXA6XCJ0YWJsZXJvd1wiLGNvbW1hbmQ6XCJyb3dJbnNlcnRBZnRlclwiLG9yZGVyOjEwfSx0YWJsZXJvd19kZWxldGU6e2xhYmVsOnIucm93LmRlbGV0ZVJvdyxncm91cDpcInRhYmxlcm93XCIsY29tbWFuZDpcInJvd0RlbGV0ZVwiLG9yZGVyOjE1fSx0YWJsZWNvbHVtbjp7bGFiZWw6ci5jb2x1bW4ubWVudSxncm91cDpcInRhYmxlY29sdW1uXCIsb3JkZXI6MSxnZXRJdGVtczpmdW5jdGlvbigpe3JldHVybnt0YWJsZWNvbHVtbl9pbnNlcnRCZWZvcmU6Q0tFRElUT1IuVFJJU1RBVEVfT0ZGLHRhYmxlY29sdW1uX2luc2VydEFmdGVyOkNLRURJVE9SLlRSSVNUQVRFX09GRix0YWJsZWNvbHVtbl9kZWxldGU6Q0tFRElUT1IuVFJJU1RBVEVfT0ZGfX19LHRhYmxlY29sdW1uX2luc2VydEJlZm9yZTp7bGFiZWw6ci5jb2x1bW4uaW5zZXJ0QmVmb3JlLGdyb3VwOlwidGFibGVjb2x1bW5cIixjb21tYW5kOlwiY29sdW1uSW5zZXJ0QmVmb3JlXCIsb3JkZXI6NX0sdGFibGVjb2x1bW5faW5zZXJ0QWZ0ZXI6e2xhYmVsOnIuY29sdW1uLmluc2VydEFmdGVyLFxuZ3JvdXA6XCJ0YWJsZWNvbHVtblwiLGNvbW1hbmQ6XCJjb2x1bW5JbnNlcnRBZnRlclwiLG9yZGVyOjEwfSx0YWJsZWNvbHVtbl9kZWxldGU6e2xhYmVsOnIuY29sdW1uLmRlbGV0ZUNvbHVtbixncm91cDpcInRhYmxlY29sdW1uXCIsY29tbWFuZDpcImNvbHVtbkRlbGV0ZVwiLG9yZGVyOjE1fX0pO2MuY29udGV4dE1lbnUmJmMuY29udGV4dE1lbnUuYWRkTGlzdGVuZXIoZnVuY3Rpb24oYSxiLGMpe3JldHVybihhPWMuY29udGFpbnMoe3RkOjEsdGg6MX0sMSkpJiYhYS5pc1JlYWRPbmx5KCk/e3RhYmxlY2VsbDpDS0VESVRPUi5UUklTVEFURV9PRkYsdGFibGVyb3c6Q0tFRElUT1IuVFJJU1RBVEVfT0ZGLHRhYmxlY29sdW1uOkNLRURJVE9SLlRSSVNUQVRFX09GRn06bnVsbH0pfSxnZXRTZWxlY3RlZENlbGxzOmF9O0NLRURJVE9SLnBsdWdpbnMuYWRkKFwidGFibGV0b29sc1wiLENLRURJVE9SLnBsdWdpbnMudGFibGV0b29scyl9KCksQ0tFRElUT1IudG9vbHMuYnVpbGRUYWJsZU1hcD1mdW5jdGlvbihhKXthPVxuYS4kLnJvd3M7Zm9yKHZhciBmPS0xLGI9W10sYz0wO2M8YS5sZW5ndGg7YysrKXtmKys7IWJbZl0mJihiW2ZdPVtdKTtmb3IodmFyIGU9LTEsbT0wO208YVtjXS5jZWxscy5sZW5ndGg7bSsrKXt2YXIgbD1hW2NdLmNlbGxzW21dO2ZvcihlKys7YltmXVtlXTspZSsrO2Zvcih2YXIgZD1pc05hTihsLmNvbFNwYW4pPzE6bC5jb2xTcGFuLGw9aXNOYU4obC5yb3dTcGFuKT8xOmwucm93U3BhbixoPTA7aDxsO2grKyl7YltmK2hdfHwoYltmK2hdPVtdKTtmb3IodmFyIGs9MDtrPGQ7aysrKWJbZitoXVtlK2tdPWFbY10uY2VsbHNbbV19ZSs9ZC0xfX1yZXR1cm4gYn0sZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEpe2Z1bmN0aW9uIGIoKXtmb3IodmFyIGc9YygpLGg9Q0tFRElUT1IudG9vbHMuY2xvbmUoYS5jb25maWcudG9vbGJhckdyb3Vwcyl8fGYoYSksaz0wO2s8aC5sZW5ndGg7aysrKXt2YXIgbT1oW2tdO2lmKFwiL1wiIT1tKXtcInN0cmluZ1wiPT10eXBlb2YgbSYmKG09aFtrXT17bmFtZTptfSk7XG52YXIgdixyPW0uZ3JvdXBzO2lmKHIpZm9yKHZhciB1PTA7dTxyLmxlbmd0aDt1Kyspdj1yW3VdLCh2PWdbdl0pJiZkKG0sdik7KHY9Z1ttLm5hbWVdKSYmZChtLHYpfX1yZXR1cm4gaH1mdW5jdGlvbiBjKCl7dmFyIGI9e30sZCxmLGc7Zm9yKGQgaW4gYS51aS5pdGVtcylmPWEudWkuaXRlbXNbZF0sZz1mLnRvb2xiYXJ8fFwib3RoZXJzXCIsZz1nLnNwbGl0KFwiLFwiKSxmPWdbMF0sZz1wYXJzZUludChnWzFdfHwtMSwxMCksYltmXXx8KGJbZl09W10pLGJbZl0ucHVzaCh7bmFtZTpkLG9yZGVyOmd9KTtmb3IoZiBpbiBiKWJbZl09YltmXS5zb3J0KGZ1bmN0aW9uKGEsYil7cmV0dXJuIGEub3JkZXI9PWIub3JkZXI/MDowPmIub3JkZXI/LTE6MD5hLm9yZGVyPzE6YS5vcmRlcjxiLm9yZGVyPy0xOjF9KTtyZXR1cm4gYn1mdW5jdGlvbiBkKGIsYyl7aWYoYy5sZW5ndGgpe2IuaXRlbXM/Yi5pdGVtcy5wdXNoKGEudWkuY3JlYXRlKFwiLVwiKSk6Yi5pdGVtcz1bXTtmb3IodmFyIGQ7ZD1jLnNoaWZ0KCk7KWQ9XG5cInN0cmluZ1wiPT10eXBlb2YgZD9kOmQubmFtZSxrJiYtMSE9Q0tFRElUT1IudG9vbHMuaW5kZXhPZihrLGQpfHwoZD1hLnVpLmNyZWF0ZShkKSkmJmEuYWRkRmVhdHVyZShkKSYmYi5pdGVtcy5wdXNoKGQpfX1mdW5jdGlvbiBoKGEpe3ZhciBiPVtdLGMsZSxmO2ZvcihjPTA7YzxhLmxlbmd0aDsrK2MpZT1hW2NdLGY9e30sXCIvXCI9PWU/Yi5wdXNoKGUpOkNLRURJVE9SLnRvb2xzLmlzQXJyYXkoZSk/KGQoZixDS0VESVRPUi50b29scy5jbG9uZShlKSksYi5wdXNoKGYpKTplLml0ZW1zJiYoZChmLENLRURJVE9SLnRvb2xzLmNsb25lKGUuaXRlbXMpKSxmLm5hbWU9ZS5uYW1lLGIucHVzaChmKSk7cmV0dXJuIGJ9dmFyIGs9YS5jb25maWcucmVtb3ZlQnV0dG9ucyxrPWsmJmsuc3BsaXQoXCIsXCIpLGc9YS5jb25maWcudG9vbGJhcjtcInN0cmluZ1wiPT10eXBlb2YgZyYmKGc9YS5jb25maWdbXCJ0b29sYmFyX1wiK2ddKTtyZXR1cm4gYS50b29sYmFyPWc/aChnKTpiKCl9ZnVuY3Rpb24gZihhKXtyZXR1cm4gYS5fLnRvb2xiYXJHcm91cHN8fFxuKGEuXy50b29sYmFyR3JvdXBzPVt7bmFtZTpcImRvY3VtZW50XCIsZ3JvdXBzOltcIm1vZGVcIixcImRvY3VtZW50XCIsXCJkb2N0b29sc1wiXX0se25hbWU6XCJjbGlwYm9hcmRcIixncm91cHM6W1wiY2xpcGJvYXJkXCIsXCJ1bmRvXCJdfSx7bmFtZTpcImVkaXRpbmdcIixncm91cHM6W1wiZmluZFwiLFwic2VsZWN0aW9uXCIsXCJzcGVsbGNoZWNrZXJcIl19LHtuYW1lOlwiZm9ybXNcIn0sXCIvXCIse25hbWU6XCJiYXNpY3N0eWxlc1wiLGdyb3VwczpbXCJiYXNpY3N0eWxlc1wiLFwiY2xlYW51cFwiXX0se25hbWU6XCJwYXJhZ3JhcGhcIixncm91cHM6W1wibGlzdFwiLFwiaW5kZW50XCIsXCJibG9ja3NcIixcImFsaWduXCIsXCJiaWRpXCJdfSx7bmFtZTpcImxpbmtzXCJ9LHtuYW1lOlwiaW5zZXJ0XCJ9LFwiL1wiLHtuYW1lOlwic3R5bGVzXCJ9LHtuYW1lOlwiY29sb3JzXCJ9LHtuYW1lOlwidG9vbHNcIn0se25hbWU6XCJvdGhlcnNcIn0se25hbWU6XCJhYm91dFwifV0pfXZhciBiPWZ1bmN0aW9uKCl7dGhpcy50b29sYmFycz1bXTt0aGlzLmZvY3VzQ29tbWFuZEV4ZWN1dGVkPSExfTtcbmIucHJvdG90eXBlLmZvY3VzPWZ1bmN0aW9uKCl7Zm9yKHZhciBhPTAsYjtiPXRoaXMudG9vbGJhcnNbYSsrXTspZm9yKHZhciBjPTAsZDtkPWIuaXRlbXNbYysrXTspaWYoZC5mb2N1cyl7ZC5mb2N1cygpO3JldHVybn19O3ZhciBjPXttb2Rlczp7d3lzaXd5ZzoxLHNvdXJjZToxfSxyZWFkT25seToxLGV4ZWM6ZnVuY3Rpb24oYSl7YS50b29sYm94JiYoYS50b29sYm94LmZvY3VzQ29tbWFuZEV4ZWN1dGVkPSEwLENLRURJVE9SLmVudi5pZXx8Q0tFRElUT1IuZW52LmFpcj9zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YS50b29sYm94LmZvY3VzKCl9LDEwMCk6YS50b29sYm94LmZvY3VzKCkpfX07Q0tFRElUT1IucGx1Z2lucy5hZGQoXCJ0b29sYmFyXCIse3JlcXVpcmVzOlwiYnV0dG9uXCIsaW5pdDpmdW5jdGlvbihlKXt2YXIgZixsPWZ1bmN0aW9uKGEsYil7dmFyIGMsZz1cInJ0bFwiPT1lLmxhbmcuZGlyLG49ZS5jb25maWcudG9vbGJhckdyb3VwQ3ljbGluZyxxPWc/Mzc6MzksZz1nPzM5OjM3LFxubj12b2lkIDA9PT1ufHxuO3N3aXRjaChiKXtjYXNlIDk6Y2FzZSBDS0VESVRPUi5TSElGVCs5OmZvcig7IWN8fCFjLml0ZW1zLmxlbmd0aDspaWYoYz05PT1iPyhjP2MubmV4dDphLnRvb2xiYXIubmV4dCl8fGUudG9vbGJveC50b29sYmFyc1swXTooYz9jLnByZXZpb3VzOmEudG9vbGJhci5wcmV2aW91cyl8fGUudG9vbGJveC50b29sYmFyc1tlLnRvb2xib3gudG9vbGJhcnMubGVuZ3RoLTFdLGMuaXRlbXMubGVuZ3RoKWZvcihhPWMuaXRlbXNbZj9jLml0ZW1zLmxlbmd0aC0xOjBdO2EmJiFhLmZvY3VzOykoYT1mP2EucHJldmlvdXM6YS5uZXh0KXx8KGM9MCk7YSYmYS5mb2N1cygpO3JldHVybiExO2Nhc2UgcTpjPWE7ZG8gYz1jLm5leHQsIWMmJm4mJihjPWEudG9vbGJhci5pdGVtc1swXSk7d2hpbGUoYyYmIWMuZm9jdXMpO2M/Yy5mb2N1cygpOmwoYSw5KTtyZXR1cm4hMTtjYXNlIDQwOnJldHVybiBhLmJ1dHRvbiYmYS5idXR0b24uaGFzQXJyb3c/KGUub25jZShcInBhbmVsU2hvd1wiLFxuZnVuY3Rpb24oYSl7YS5kYXRhLl8ucGFuZWwuXy5jdXJyZW50QmxvY2sub25LZXlEb3duKDQwKX0pLGEuZXhlY3V0ZSgpKTpsKGEsNDA9PWI/cTpnKSwhMTtjYXNlIGc6Y2FzZSAzODpjPWE7ZG8gYz1jLnByZXZpb3VzLCFjJiZuJiYoYz1hLnRvb2xiYXIuaXRlbXNbYS50b29sYmFyLml0ZW1zLmxlbmd0aC0xXSk7d2hpbGUoYyYmIWMuZm9jdXMpO2M/Yy5mb2N1cygpOihmPTEsbChhLENLRURJVE9SLlNISUZUKzkpLGY9MCk7cmV0dXJuITE7Y2FzZSAyNzpyZXR1cm4gZS5mb2N1cygpLCExO2Nhc2UgMTM6Y2FzZSAzMjpyZXR1cm4gYS5leGVjdXRlKCksITF9cmV0dXJuITB9O2Uub24oXCJ1aVNwYWNlXCIsZnVuY3Rpb24oYyl7aWYoYy5kYXRhLnNwYWNlPT1lLmNvbmZpZy50b29sYmFyTG9jYXRpb24pe2MucmVtb3ZlTGlzdGVuZXIoKTtlLnRvb2xib3g9bmV3IGI7dmFyIGY9Q0tFRElUT1IudG9vbHMuZ2V0TmV4dElkKCksaz1bJ1xceDNjc3BhbiBpZFxceDNkXCInLGYsJ1wiIGNsYXNzXFx4M2RcImNrZV92b2ljZV9sYWJlbFwiXFx4M2UnLFxuZS5sYW5nLnRvb2xiYXIudG9vbGJhcnMsXCJcXHgzYy9zcGFuXFx4M2VcIiwnXFx4M2NzcGFuIGlkXFx4M2RcIicrZS51aS5zcGFjZUlkKFwidG9vbGJveFwiKSsnXCIgY2xhc3NcXHgzZFwiY2tlX3Rvb2xib3hcIiByb2xlXFx4M2RcImdyb3VwXCIgYXJpYS1sYWJlbGxlZGJ5XFx4M2RcIicsZiwnXCIgb25tb3VzZWRvd25cXHgzZFwicmV0dXJuIGZhbHNlO1wiXFx4M2UnXSxmPSExIT09ZS5jb25maWcudG9vbGJhclN0YXJ0dXBFeHBhbmRlZCxnLG07ZS5jb25maWcudG9vbGJhckNhbkNvbGxhcHNlJiZlLmVsZW1lbnRNb2RlIT1DS0VESVRPUi5FTEVNRU5UX01PREVfSU5MSU5FJiZrLnB1c2goJ1xceDNjc3BhbiBjbGFzc1xceDNkXCJja2VfdG9vbGJveF9tYWluXCInKyhmP1wiXFx4M2VcIjonIHN0eWxlXFx4M2RcImRpc3BsYXk6bm9uZVwiXFx4M2UnKSk7Zm9yKHZhciBxPWUudG9vbGJveC50b29sYmFycyxwPWEoZSksdD1wLmxlbmd0aCx2PTA7djx0O3YrKyl7dmFyIHIsdT0wLEIseD1wW3ZdLHc9XCIvXCIhPT14JiYoXCIvXCI9PT1wW3YrMV18fHY9PVxudC0xKSx6O2lmKHgpaWYoZyYmKGsucHVzaChcIlxceDNjL3NwYW5cXHgzZVwiKSxtPWc9MCksXCIvXCI9PT14KWsucHVzaCgnXFx4M2NzcGFuIGNsYXNzXFx4M2RcImNrZV90b29sYmFyX2JyZWFrXCJcXHgzZVxceDNjL3NwYW5cXHgzZScpO2Vsc2V7ej14Lml0ZW1zfHx4O2Zvcih2YXIgRD0wO0Q8ei5sZW5ndGg7RCsrKXt2YXIgeT16W0RdLEE7aWYoeSl7dmFyIEM9ZnVuY3Rpb24oYSl7YT1hLnJlbmRlcihlLGspO0Y9dS5pdGVtcy5wdXNoKGEpLTE7MDxGJiYoYS5wcmV2aW91cz11Lml0ZW1zW0YtMV0sYS5wcmV2aW91cy5uZXh0PWEpO2EudG9vbGJhcj11O2Eub25rZXk9bDthLm9uZm9jdXM9ZnVuY3Rpb24oKXtlLnRvb2xib3guZm9jdXNDb21tYW5kRXhlY3V0ZWR8fGUuZm9jdXMoKX19O2lmKHkudHlwZT09Q0tFRElUT1IuVUlfU0VQQVJBVE9SKW09ZyYmeTtlbHNle0E9ITEhPT15LmNhbkdyb3VwO2lmKCF1KXtyPUNLRURJVE9SLnRvb2xzLmdldE5leHRJZCgpO3U9e2lkOnIsaXRlbXM6W119O0I9eC5uYW1lJiZcbihlLmxhbmcudG9vbGJhci50b29sYmFyR3JvdXBzW3gubmFtZV18fHgubmFtZSk7ay5wdXNoKCdcXHgzY3NwYW4gaWRcXHgzZFwiJyxyLCdcIiBjbGFzc1xceDNkXCJja2VfdG9vbGJhcicrKHc/JyBja2VfdG9vbGJhcl9sYXN0XCInOidcIicpLEI/JyBhcmlhLWxhYmVsbGVkYnlcXHgzZFwiJytyKydfbGFiZWxcIic6XCJcIiwnIHJvbGVcXHgzZFwidG9vbGJhclwiXFx4M2UnKTtCJiZrLnB1c2goJ1xceDNjc3BhbiBpZFxceDNkXCInLHIsJ19sYWJlbFwiIGNsYXNzXFx4M2RcImNrZV92b2ljZV9sYWJlbFwiXFx4M2UnLEIsXCJcXHgzYy9zcGFuXFx4M2VcIik7ay5wdXNoKCdcXHgzY3NwYW4gY2xhc3NcXHgzZFwiY2tlX3Rvb2xiYXJfc3RhcnRcIlxceDNlXFx4M2Mvc3BhblxceDNlJyk7dmFyIEY9cS5wdXNoKHUpLTE7MDxGJiYodS5wcmV2aW91cz1xW0YtMV0sdS5wcmV2aW91cy5uZXh0PXUpfUE/Z3x8KGsucHVzaCgnXFx4M2NzcGFuIGNsYXNzXFx4M2RcImNrZV90b29sZ3JvdXBcIiByb2xlXFx4M2RcInByZXNlbnRhdGlvblwiXFx4M2UnKSxnPTEpOmcmJihrLnB1c2goXCJcXHgzYy9zcGFuXFx4M2VcIiksXG5nPTApO20mJihDKG0pLG09MCk7Qyh5KX19fWcmJihrLnB1c2goXCJcXHgzYy9zcGFuXFx4M2VcIiksbT1nPTApO3UmJmsucHVzaCgnXFx4M2NzcGFuIGNsYXNzXFx4M2RcImNrZV90b29sYmFyX2VuZFwiXFx4M2VcXHgzYy9zcGFuXFx4M2VcXHgzYy9zcGFuXFx4M2UnKX19ZS5jb25maWcudG9vbGJhckNhbkNvbGxhcHNlJiZrLnB1c2goXCJcXHgzYy9zcGFuXFx4M2VcIik7aWYoZS5jb25maWcudG9vbGJhckNhbkNvbGxhcHNlJiZlLmVsZW1lbnRNb2RlIT1DS0VESVRPUi5FTEVNRU5UX01PREVfSU5MSU5FKXt2YXIgRT1DS0VESVRPUi50b29scy5hZGRGdW5jdGlvbihmdW5jdGlvbigpe2UuZXhlY0NvbW1hbmQoXCJ0b29sYmFyQ29sbGFwc2VcIil9KTtlLm9uKFwiZGVzdHJveVwiLGZ1bmN0aW9uKCl7Q0tFRElUT1IudG9vbHMucmVtb3ZlRnVuY3Rpb24oRSl9KTtlLmFkZENvbW1hbmQoXCJ0b29sYmFyQ29sbGFwc2VcIix7cmVhZE9ubHk6MSxleGVjOmZ1bmN0aW9uKGEpe3ZhciBiPWEudWkuc3BhY2UoXCJ0b29sYmFyX2NvbGxhcHNlclwiKSxcbmM9Yi5nZXRQcmV2aW91cygpLGQ9YS51aS5zcGFjZShcImNvbnRlbnRzXCIpLGU9Yy5nZXRQYXJlbnQoKSxmPXBhcnNlSW50KGQuJC5zdHlsZS5oZWlnaHQsMTApLGc9ZS4kLm9mZnNldEhlaWdodCxoPWIuaGFzQ2xhc3MoXCJja2VfdG9vbGJveF9jb2xsYXBzZXJfbWluXCIpO2g/KGMuc2hvdygpLGIucmVtb3ZlQ2xhc3MoXCJja2VfdG9vbGJveF9jb2xsYXBzZXJfbWluXCIpLGIuc2V0QXR0cmlidXRlKFwidGl0bGVcIixhLmxhbmcudG9vbGJhci50b29sYmFyQ29sbGFwc2UpKTooYy5oaWRlKCksYi5hZGRDbGFzcyhcImNrZV90b29sYm94X2NvbGxhcHNlcl9taW5cIiksYi5zZXRBdHRyaWJ1dGUoXCJ0aXRsZVwiLGEubGFuZy50b29sYmFyLnRvb2xiYXJFeHBhbmQpKTtiLmdldEZpcnN0KCkuc2V0VGV4dChoP1wi4payXCI6XCLil4BcIik7ZC5zZXRTdHlsZShcImhlaWdodFwiLGYtKGUuJC5vZmZzZXRIZWlnaHQtZykrXCJweFwiKTthLmZpcmUoXCJyZXNpemVcIix7b3V0ZXJIZWlnaHQ6YS5jb250YWluZXIuJC5vZmZzZXRIZWlnaHQsXG5jb250ZW50c0hlaWdodDpkLiQub2Zmc2V0SGVpZ2h0LG91dGVyV2lkdGg6YS5jb250YWluZXIuJC5vZmZzZXRXaWR0aH0pfSxtb2Rlczp7d3lzaXd5ZzoxLHNvdXJjZToxfX0pO2Uuc2V0S2V5c3Ryb2tlKENLRURJVE9SLkFMVCsoQ0tFRElUT1IuZW52LmllfHxDS0VESVRPUi5lbnYud2Via2l0PzE4OToxMDkpLFwidG9vbGJhckNvbGxhcHNlXCIpO2sucHVzaCgnXFx4M2NhIHRpdGxlXFx4M2RcIicrKGY/ZS5sYW5nLnRvb2xiYXIudG9vbGJhckNvbGxhcHNlOmUubGFuZy50b29sYmFyLnRvb2xiYXJFeHBhbmQpKydcIiBpZFxceDNkXCInK2UudWkuc3BhY2VJZChcInRvb2xiYXJfY29sbGFwc2VyXCIpKydcIiB0YWJJbmRleFxceDNkXCItMVwiIGNsYXNzXFx4M2RcImNrZV90b29sYm94X2NvbGxhcHNlcicpO2Z8fGsucHVzaChcIiBja2VfdG9vbGJveF9jb2xsYXBzZXJfbWluXCIpO2sucHVzaCgnXCIgb25jbGlja1xceDNkXCJDS0VESVRPUi50b29scy5jYWxsRnVuY3Rpb24oJytFKycpXCJcXHgzZScsJ1xceDNjc3BhbiBjbGFzc1xceDNkXCJja2VfYXJyb3dcIlxceDNlXFx4MjYjOTY1MDtcXHgzYy9zcGFuXFx4M2UnLFxuXCJcXHgzYy9hXFx4M2VcIil9ay5wdXNoKFwiXFx4M2Mvc3BhblxceDNlXCIpO2MuZGF0YS5odG1sKz1rLmpvaW4oXCJcIil9fSk7ZS5vbihcImRlc3Ryb3lcIixmdW5jdGlvbigpe2lmKHRoaXMudG9vbGJveCl7dmFyIGEsYj0wLGMsZSxmO2ZvcihhPXRoaXMudG9vbGJveC50b29sYmFycztiPGEubGVuZ3RoO2IrKylmb3IoZT1hW2JdLml0ZW1zLGM9MDtjPGUubGVuZ3RoO2MrKylmPWVbY10sZi5jbGlja0ZuJiZDS0VESVRPUi50b29scy5yZW1vdmVGdW5jdGlvbihmLmNsaWNrRm4pLGYua2V5RG93bkZuJiZDS0VESVRPUi50b29scy5yZW1vdmVGdW5jdGlvbihmLmtleURvd25Gbil9fSk7ZS5vbihcInVpUmVhZHlcIixmdW5jdGlvbigpe3ZhciBhPWUudWkuc3BhY2UoXCJ0b29sYm94XCIpO2EmJmUuZm9jdXNNYW5hZ2VyLmFkZChhLDEpfSk7ZS5hZGRDb21tYW5kKFwidG9vbGJhckZvY3VzXCIsYyk7ZS5zZXRLZXlzdHJva2UoQ0tFRElUT1IuQUxUKzEyMSxcInRvb2xiYXJGb2N1c1wiKTtlLnVpLmFkZChcIi1cIixDS0VESVRPUi5VSV9TRVBBUkFUT1IsXG57fSk7ZS51aS5hZGRIYW5kbGVyKENLRURJVE9SLlVJX1NFUEFSQVRPUix7Y3JlYXRlOmZ1bmN0aW9uKCl7cmV0dXJue3JlbmRlcjpmdW5jdGlvbihhLGIpe2IucHVzaCgnXFx4M2NzcGFuIGNsYXNzXFx4M2RcImNrZV90b29sYmFyX3NlcGFyYXRvclwiIHJvbGVcXHgzZFwic2VwYXJhdG9yXCJcXHgzZVxceDNjL3NwYW5cXHgzZScpO3JldHVybnt9fX19fSl9fSk7Q0tFRElUT1IudWkucHJvdG90eXBlLmFkZFRvb2xiYXJHcm91cD1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9Zih0aGlzLmVkaXRvciksaD0wPT09YixrPXtuYW1lOmF9O2lmKGMpe2lmKGM9Q0tFRElUT1IudG9vbHMuc2VhcmNoKGQsZnVuY3Rpb24oYSl7cmV0dXJuIGEubmFtZT09Y30pKXshYy5ncm91cHMmJihjLmdyb3Vwcz1bXSk7aWYoYiYmKGI9Q0tFRElUT1IudG9vbHMuaW5kZXhPZihjLmdyb3VwcyxiKSwwPD1iKSl7Yy5ncm91cHMuc3BsaWNlKGIrMSwwLGEpO3JldHVybn1oP2MuZ3JvdXBzLnNwbGljZSgwLDAsYSk6Yy5ncm91cHMucHVzaChhKTtcbnJldHVybn1iPW51bGx9YiYmKGI9Q0tFRElUT1IudG9vbHMuaW5kZXhPZihkLGZ1bmN0aW9uKGEpe3JldHVybiBhLm5hbWU9PWJ9KSk7aD9kLnNwbGljZSgwLDAsYSk6XCJudW1iZXJcIj09dHlwZW9mIGI/ZC5zcGxpY2UoYisxLDAsayk6ZC5wdXNoKGEpfX0oKSxDS0VESVRPUi5VSV9TRVBBUkFUT1I9XCJzZXBhcmF0b3JcIixDS0VESVRPUi5jb25maWcudG9vbGJhckxvY2F0aW9uPVwidG9wXCIsXCJ1c2Ugc3RyaWN0XCIsZnVuY3Rpb24oKXt2YXIgYT1bQ0tFRElUT1IuQ1RSTCs5MCxDS0VESVRPUi5DVFJMKzg5LENLRURJVE9SLkNUUkwrQ0tFRElUT1IuU0hJRlQrOTBdLGY9ezg6MSw0NjoxfTtDS0VESVRPUi5wbHVnaW5zLmFkZChcInVuZG9cIix7aW5pdDpmdW5jdGlvbihjKXtmdW5jdGlvbiBlKGEpe2cuZW5hYmxlZCYmITEhPT1hLmRhdGEuY29tbWFuZC5jYW5VbmRvJiZnLnNhdmUoKX1mdW5jdGlvbiBmKCl7Zy5lbmFibGVkPWMucmVhZE9ubHk/ITE6XCJ3eXNpd3lnXCI9PWMubW9kZTtnLm9uQ2hhbmdlKCl9XG52YXIgZz1jLnVuZG9NYW5hZ2VyPW5ldyBiKGMpLGw9Zy5lZGl0aW5nSGFuZGxlcj1uZXcgbShnKSxxPWMuYWRkQ29tbWFuZChcInVuZG9cIix7ZXhlYzpmdW5jdGlvbigpe2cudW5kbygpJiYoYy5zZWxlY3Rpb25DaGFuZ2UoKSx0aGlzLmZpcmUoXCJhZnRlclVuZG9cIikpfSxzdGFydERpc2FibGVkOiEwLGNhblVuZG86ITF9KSxwPWMuYWRkQ29tbWFuZChcInJlZG9cIix7ZXhlYzpmdW5jdGlvbigpe2cucmVkbygpJiYoYy5zZWxlY3Rpb25DaGFuZ2UoKSx0aGlzLmZpcmUoXCJhZnRlclJlZG9cIikpfSxzdGFydERpc2FibGVkOiEwLGNhblVuZG86ITF9KTtjLnNldEtleXN0cm9rZShbW2FbMF0sXCJ1bmRvXCJdLFthWzFdLFwicmVkb1wiXSxbYVsyXSxcInJlZG9cIl1dKTtnLm9uQ2hhbmdlPWZ1bmN0aW9uKCl7cS5zZXRTdGF0ZShnLnVuZG9hYmxlKCk/Q0tFRElUT1IuVFJJU1RBVEVfT0ZGOkNLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVEKTtwLnNldFN0YXRlKGcucmVkb2FibGUoKT9DS0VESVRPUi5UUklTVEFURV9PRkY6XG5DS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRCl9O2Mub24oXCJiZWZvcmVDb21tYW5kRXhlY1wiLGUpO2Mub24oXCJhZnRlckNvbW1hbmRFeGVjXCIsZSk7Yy5vbihcInNhdmVTbmFwc2hvdFwiLGZ1bmN0aW9uKGEpe2cuc2F2ZShhLmRhdGEmJmEuZGF0YS5jb250ZW50T25seSl9KTtjLm9uKFwiY29udGVudERvbVwiLGwuYXR0YWNoTGlzdGVuZXJzLGwpO2Mub24oXCJpbnN0YW5jZVJlYWR5XCIsZnVuY3Rpb24oKXtjLmZpcmUoXCJzYXZlU25hcHNob3RcIil9KTtjLm9uKFwiYmVmb3JlTW9kZVVubG9hZFwiLGZ1bmN0aW9uKCl7XCJ3eXNpd3lnXCI9PWMubW9kZSYmZy5zYXZlKCEwKX0pO2Mub24oXCJtb2RlXCIsZik7Yy5vbihcInJlYWRPbmx5XCIsZik7Yy51aS5hZGRCdXR0b24mJihjLnVpLmFkZEJ1dHRvbihcIlVuZG9cIix7bGFiZWw6Yy5sYW5nLnVuZG8udW5kbyxjb21tYW5kOlwidW5kb1wiLHRvb2xiYXI6XCJ1bmRvLDEwXCJ9KSxjLnVpLmFkZEJ1dHRvbihcIlJlZG9cIix7bGFiZWw6Yy5sYW5nLnVuZG8ucmVkbyxjb21tYW5kOlwicmVkb1wiLFxudG9vbGJhcjpcInVuZG8sMjBcIn0pKTtjLnJlc2V0VW5kbz1mdW5jdGlvbigpe2cucmVzZXQoKTtjLmZpcmUoXCJzYXZlU25hcHNob3RcIil9O2Mub24oXCJ1cGRhdGVTbmFwc2hvdFwiLGZ1bmN0aW9uKCl7Zy5jdXJyZW50SW1hZ2UmJmcudXBkYXRlKCl9KTtjLm9uKFwibG9ja1NuYXBzaG90XCIsZnVuY3Rpb24oYSl7YT1hLmRhdGE7Zy5sb2NrKGEmJmEuZG9udFVwZGF0ZSxhJiZhLmZvcmNlVXBkYXRlKX0pO2Mub24oXCJ1bmxvY2tTbmFwc2hvdFwiLGcudW5sb2NrLGcpfX0pO0NLRURJVE9SLnBsdWdpbnMudW5kbz17fTt2YXIgYj1DS0VESVRPUi5wbHVnaW5zLnVuZG8uVW5kb01hbmFnZXI9ZnVuY3Rpb24oYSl7dGhpcy5zdHJva2VzUmVjb3JkZWQ9WzAsMF07dGhpcy5sb2NrZWQ9bnVsbDt0aGlzLnByZXZpb3VzS2V5R3JvdXA9LTE7dGhpcy5saW1pdD1hLmNvbmZpZy51bmRvU3RhY2tTaXplfHwyMDt0aGlzLnN0cm9rZXNMaW1pdD0yNTt0aGlzLmVkaXRvcj1hO3RoaXMucmVzZXQoKX07Yi5wcm90b3R5cGU9XG57dHlwZTpmdW5jdGlvbihhLGMpe3ZhciBlPWIuZ2V0S2V5R3JvdXAoYSksZj10aGlzLnN0cm9rZXNSZWNvcmRlZFtlXSsxO2M9Y3x8Zj49dGhpcy5zdHJva2VzTGltaXQ7dGhpcy50eXBpbmd8fCh0aGlzLmhhc1VuZG89dGhpcy50eXBpbmc9ITAsdGhpcy5oYXNSZWRvPSExLHRoaXMub25DaGFuZ2UoKSk7Yz8oZj0wLHRoaXMuZWRpdG9yLmZpcmUoXCJzYXZlU25hcHNob3RcIikpOnRoaXMuZWRpdG9yLmZpcmUoXCJjaGFuZ2VcIik7dGhpcy5zdHJva2VzUmVjb3JkZWRbZV09Zjt0aGlzLnByZXZpb3VzS2V5R3JvdXA9ZX0sa2V5R3JvdXBDaGFuZ2VkOmZ1bmN0aW9uKGEpe3JldHVybiBiLmdldEtleUdyb3VwKGEpIT10aGlzLnByZXZpb3VzS2V5R3JvdXB9LHJlc2V0OmZ1bmN0aW9uKCl7dGhpcy5zbmFwc2hvdHM9W107dGhpcy5pbmRleD0tMTt0aGlzLmN1cnJlbnRJbWFnZT1udWxsO3RoaXMuaGFzUmVkbz10aGlzLmhhc1VuZG89ITE7dGhpcy5sb2NrZWQ9bnVsbDt0aGlzLnJlc2V0VHlwZSgpfSxcbnJlc2V0VHlwZTpmdW5jdGlvbigpe3RoaXMuc3Ryb2tlc1JlY29yZGVkPVswLDBdO3RoaXMudHlwaW5nPSExO3RoaXMucHJldmlvdXNLZXlHcm91cD0tMX0scmVmcmVzaFN0YXRlOmZ1bmN0aW9uKCl7dGhpcy5oYXNVbmRvPSEhdGhpcy5nZXROZXh0SW1hZ2UoITApO3RoaXMuaGFzUmVkbz0hIXRoaXMuZ2V0TmV4dEltYWdlKCExKTt0aGlzLnJlc2V0VHlwZSgpO3RoaXMub25DaGFuZ2UoKX0sc2F2ZTpmdW5jdGlvbihhLGIsZSl7dmFyIGY9dGhpcy5lZGl0b3I7aWYodGhpcy5sb2NrZWR8fFwicmVhZHlcIiE9Zi5zdGF0dXN8fFwid3lzaXd5Z1wiIT1mLm1vZGUpcmV0dXJuITE7dmFyIGw9Zi5lZGl0YWJsZSgpO2lmKCFsfHxcInJlYWR5XCIhPWwuc3RhdHVzKXJldHVybiExO2w9dGhpcy5zbmFwc2hvdHM7Ynx8KGI9bmV3IGMoZikpO2lmKCExPT09Yi5jb250ZW50cylyZXR1cm4hMTtpZih0aGlzLmN1cnJlbnRJbWFnZSlpZihiLmVxdWFsc0NvbnRlbnQodGhpcy5jdXJyZW50SW1hZ2UpKXtpZihhfHxcbmIuZXF1YWxzU2VsZWN0aW9uKHRoaXMuY3VycmVudEltYWdlKSlyZXR1cm4hMX1lbHNlITEhPT1lJiZmLmZpcmUoXCJjaGFuZ2VcIik7bC5zcGxpY2UodGhpcy5pbmRleCsxLGwubGVuZ3RoLXRoaXMuaW5kZXgtMSk7bC5sZW5ndGg9PXRoaXMubGltaXQmJmwuc2hpZnQoKTt0aGlzLmluZGV4PWwucHVzaChiKS0xO3RoaXMuY3VycmVudEltYWdlPWI7ITEhPT1lJiZ0aGlzLnJlZnJlc2hTdGF0ZSgpO3JldHVybiEwfSxyZXN0b3JlSW1hZ2U6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5lZGl0b3IsYzthLmJvb2ttYXJrcyYmKGIuZm9jdXMoKSxjPWIuZ2V0U2VsZWN0aW9uKCkpO3RoaXMubG9ja2VkPXtsZXZlbDo5OTl9O3RoaXMuZWRpdG9yLmxvYWRTbmFwc2hvdChhLmNvbnRlbnRzKTthLmJvb2ttYXJrcz9jLnNlbGVjdEJvb2ttYXJrcyhhLmJvb2ttYXJrcyk6Q0tFRElUT1IuZW52LmllJiYoYz10aGlzLmVkaXRvci5kb2N1bWVudC5nZXRCb2R5KCkuJC5jcmVhdGVUZXh0UmFuZ2UoKSxjLmNvbGxhcHNlKCEwKSxcbmMuc2VsZWN0KCkpO3RoaXMubG9ja2VkPW51bGw7dGhpcy5pbmRleD1hLmluZGV4O3RoaXMuY3VycmVudEltYWdlPXRoaXMuc25hcHNob3RzW3RoaXMuaW5kZXhdO3RoaXMudXBkYXRlKCk7dGhpcy5yZWZyZXNoU3RhdGUoKTtiLmZpcmUoXCJjaGFuZ2VcIil9LGdldE5leHRJbWFnZTpmdW5jdGlvbihhKXt2YXIgYj10aGlzLnNuYXBzaG90cyxjPXRoaXMuY3VycmVudEltYWdlLGU7aWYoYylpZihhKWZvcihlPXRoaXMuaW5kZXgtMTswPD1lO2UtLSl7aWYoYT1iW2VdLCFjLmVxdWFsc0NvbnRlbnQoYSkpcmV0dXJuIGEuaW5kZXg9ZSxhfWVsc2UgZm9yKGU9dGhpcy5pbmRleCsxO2U8Yi5sZW5ndGg7ZSsrKWlmKGE9YltlXSwhYy5lcXVhbHNDb250ZW50KGEpKXJldHVybiBhLmluZGV4PWUsYTtyZXR1cm4gbnVsbH0scmVkb2FibGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbmFibGVkJiZ0aGlzLmhhc1JlZG99LHVuZG9hYmxlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZW5hYmxlZCYmdGhpcy5oYXNVbmRvfSxcbnVuZG86ZnVuY3Rpb24oKXtpZih0aGlzLnVuZG9hYmxlKCkpe3RoaXMuc2F2ZSghMCk7dmFyIGE9dGhpcy5nZXROZXh0SW1hZ2UoITApO2lmKGEpcmV0dXJuIHRoaXMucmVzdG9yZUltYWdlKGEpLCEwfXJldHVybiExfSxyZWRvOmZ1bmN0aW9uKCl7aWYodGhpcy5yZWRvYWJsZSgpJiYodGhpcy5zYXZlKCEwKSx0aGlzLnJlZG9hYmxlKCkpKXt2YXIgYT10aGlzLmdldE5leHRJbWFnZSghMSk7aWYoYSlyZXR1cm4gdGhpcy5yZXN0b3JlSW1hZ2UoYSksITB9cmV0dXJuITF9LHVwZGF0ZTpmdW5jdGlvbihhKXtpZighdGhpcy5sb2NrZWQpe2F8fChhPW5ldyBjKHRoaXMuZWRpdG9yKSk7Zm9yKHZhciBiPXRoaXMuaW5kZXgsZT10aGlzLnNuYXBzaG90czswPGImJnRoaXMuY3VycmVudEltYWdlLmVxdWFsc0NvbnRlbnQoZVtiLTFdKTspLS1iO2Uuc3BsaWNlKGIsdGhpcy5pbmRleC1iKzEsYSk7dGhpcy5pbmRleD1iO3RoaXMuY3VycmVudEltYWdlPWF9fSx1cGRhdGVTZWxlY3Rpb246ZnVuY3Rpb24oYSl7aWYoIXRoaXMuc25hcHNob3RzLmxlbmd0aClyZXR1cm4hMTtcbnZhciBiPXRoaXMuc25hcHNob3RzLGM9YltiLmxlbmd0aC0xXTtyZXR1cm4gYy5lcXVhbHNDb250ZW50KGEpJiYhYy5lcXVhbHNTZWxlY3Rpb24oYSk/KHRoaXMuY3VycmVudEltYWdlPWJbYi5sZW5ndGgtMV09YSwhMCk6ITF9LGxvY2s6ZnVuY3Rpb24oYSxiKXtpZih0aGlzLmxvY2tlZCl0aGlzLmxvY2tlZC5sZXZlbCsrO2Vsc2UgaWYoYSl0aGlzLmxvY2tlZD17bGV2ZWw6MX07ZWxzZXt2YXIgZT1udWxsO2lmKGIpZT0hMDtlbHNle3ZhciBmPW5ldyBjKHRoaXMuZWRpdG9yLCEwKTt0aGlzLmN1cnJlbnRJbWFnZSYmdGhpcy5jdXJyZW50SW1hZ2UuZXF1YWxzQ29udGVudChmKSYmKGU9Zil9dGhpcy5sb2NrZWQ9e3VwZGF0ZTplLGxldmVsOjF9fX0sdW5sb2NrOmZ1bmN0aW9uKCl7aWYodGhpcy5sb2NrZWQmJiEtLXRoaXMubG9ja2VkLmxldmVsKXt2YXIgYT10aGlzLmxvY2tlZC51cGRhdGU7dGhpcy5sb2NrZWQ9bnVsbDtpZighMD09PWEpdGhpcy51cGRhdGUoKTtlbHNlIGlmKGEpe3ZhciBiPVxubmV3IGModGhpcy5lZGl0b3IsITApO2EuZXF1YWxzQ29udGVudChiKXx8dGhpcy51cGRhdGUoKX19fX07Yi5uYXZpZ2F0aW9uS2V5Q29kZXM9ezM3OjEsMzg6MSwzOToxLDQwOjEsMzY6MSwzNToxLDMzOjEsMzQ6MX07Yi5rZXlHcm91cHM9e1BSSU5UQUJMRTowLEZVTkNUSU9OQUw6MX07Yi5pc05hdmlnYXRpb25LZXk9ZnVuY3Rpb24oYSl7cmV0dXJuISFiLm5hdmlnYXRpb25LZXlDb2Rlc1thXX07Yi5nZXRLZXlHcm91cD1mdW5jdGlvbihhKXt2YXIgYz1iLmtleUdyb3VwcztyZXR1cm4gZlthXT9jLkZVTkNUSU9OQUw6Yy5QUklOVEFCTEV9O2IuZ2V0T3Bwb3NpdGVLZXlHcm91cD1mdW5jdGlvbihhKXt2YXIgYz1iLmtleUdyb3VwcztyZXR1cm4gYT09Yy5GVU5DVElPTkFMP2MuUFJJTlRBQkxFOmMuRlVOQ1RJT05BTH07Yi5pZUZ1bmN0aW9uYWxLZXlzQnVnPWZ1bmN0aW9uKGEpe3JldHVybiBDS0VESVRPUi5lbnYuaWUmJmIuZ2V0S2V5R3JvdXAoYSk9PWIua2V5R3JvdXBzLkZVTkNUSU9OQUx9O1xudmFyIGM9Q0tFRElUT1IucGx1Z2lucy51bmRvLkltYWdlPWZ1bmN0aW9uKGEsYil7dGhpcy5lZGl0b3I9YTthLmZpcmUoXCJiZWZvcmVVbmRvSW1hZ2VcIik7dmFyIGM9YS5nZXRTbmFwc2hvdCgpO0NLRURJVE9SLmVudi5pZSYmYyYmKGM9Yy5yZXBsYWNlKC9cXHMrZGF0YS1ja2UtZXhwYW5kbz1cIi4qP1wiL2csXCJcIikpO3RoaXMuY29udGVudHM9YztifHwodGhpcy5ib29rbWFya3M9KGM9YyYmYS5nZXRTZWxlY3Rpb24oKSkmJmMuY3JlYXRlQm9va21hcmtzMighMCkpO2EuZmlyZShcImFmdGVyVW5kb0ltYWdlXCIpfSxlPS9cXGIoPzpocmVmfHNyY3xuYW1lKT1cIlteXCJdKj9cIi9naTtjLnByb3RvdHlwZT17ZXF1YWxzQ29udGVudDpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmNvbnRlbnRzO2E9YS5jb250ZW50cztDS0VESVRPUi5lbnYuaWUmJihDS0VESVRPUi5lbnYuaWU3Q29tcGF0fHxDS0VESVRPUi5lbnYucXVpcmtzKSYmKGI9Yi5yZXBsYWNlKGUsXCJcIiksYT1hLnJlcGxhY2UoZSxcIlwiKSk7cmV0dXJuIGIhPVxuYT8hMTohMH0sZXF1YWxzU2VsZWN0aW9uOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuYm9va21hcmtzO2E9YS5ib29rbWFya3M7aWYoYnx8YSl7aWYoIWJ8fCFhfHxiLmxlbmd0aCE9YS5sZW5ndGgpcmV0dXJuITE7Zm9yKHZhciBjPTA7YzxiLmxlbmd0aDtjKyspe3ZhciBlPWJbY10sZj1hW2NdO2lmKGUuc3RhcnRPZmZzZXQhPWYuc3RhcnRPZmZzZXR8fGUuZW5kT2Zmc2V0IT1mLmVuZE9mZnNldHx8IUNLRURJVE9SLnRvb2xzLmFycmF5Q29tcGFyZShlLnN0YXJ0LGYuc3RhcnQpfHwhQ0tFRElUT1IudG9vbHMuYXJyYXlDb21wYXJlKGUuZW5kLGYuZW5kKSlyZXR1cm4hMX19cmV0dXJuITB9fTt2YXIgbT1DS0VESVRPUi5wbHVnaW5zLnVuZG8uTmF0aXZlRWRpdGluZ0hhbmRsZXI9ZnVuY3Rpb24oYSl7dGhpcy51bmRvTWFuYWdlcj1hO3RoaXMuaWdub3JlSW5wdXRFdmVudD0hMTt0aGlzLmtleUV2ZW50c1N0YWNrPW5ldyBsO3RoaXMubGFzdEtleWRvd25JbWFnZT1udWxsfTttLnByb3RvdHlwZT1cbntvbktleWRvd246ZnVuY3Rpb24oZCl7dmFyIGU9ZC5kYXRhLmdldEtleSgpO2lmKDIyOSE9PWUpaWYoLTE8Q0tFRElUT1IudG9vbHMuaW5kZXhPZihhLGQuZGF0YS5nZXRLZXlzdHJva2UoKSkpZC5kYXRhLnByZXZlbnREZWZhdWx0KCk7ZWxzZSBpZih0aGlzLmtleUV2ZW50c1N0YWNrLmNsZWFuVXAoZCksZD10aGlzLnVuZG9NYW5hZ2VyLHRoaXMua2V5RXZlbnRzU3RhY2suZ2V0TGFzdChlKXx8dGhpcy5rZXlFdmVudHNTdGFjay5wdXNoKGUpLHRoaXMubGFzdEtleWRvd25JbWFnZT1uZXcgYyhkLmVkaXRvciksYi5pc05hdmlnYXRpb25LZXkoZSl8fHRoaXMudW5kb01hbmFnZXIua2V5R3JvdXBDaGFuZ2VkKGUpKWlmKGQuc3Ryb2tlc1JlY29yZGVkWzBdfHxkLnN0cm9rZXNSZWNvcmRlZFsxXSlkLnNhdmUoITEsdGhpcy5sYXN0S2V5ZG93bkltYWdlLCExKSxkLnJlc2V0VHlwZSgpfSxvbklucHV0OmZ1bmN0aW9uKCl7aWYodGhpcy5pZ25vcmVJbnB1dEV2ZW50KXRoaXMuaWdub3JlSW5wdXRFdmVudD1cbiExO2Vsc2V7dmFyIGE9dGhpcy5rZXlFdmVudHNTdGFjay5nZXRMYXN0KCk7YXx8KGE9dGhpcy5rZXlFdmVudHNTdGFjay5wdXNoKDApKTt0aGlzLmtleUV2ZW50c1N0YWNrLmluY3JlbWVudChhLmtleUNvZGUpO3RoaXMua2V5RXZlbnRzU3RhY2suZ2V0VG90YWxJbnB1dHMoKT49dGhpcy51bmRvTWFuYWdlci5zdHJva2VzTGltaXQmJih0aGlzLnVuZG9NYW5hZ2VyLnR5cGUoYS5rZXlDb2RlLCEwKSx0aGlzLmtleUV2ZW50c1N0YWNrLnJlc2V0SW5wdXRzKCkpfX0sb25LZXl1cDpmdW5jdGlvbihhKXt2YXIgZT10aGlzLnVuZG9NYW5hZ2VyO2E9YS5kYXRhLmdldEtleSgpO3ZhciBmPXRoaXMua2V5RXZlbnRzU3RhY2suZ2V0VG90YWxJbnB1dHMoKTt0aGlzLmtleUV2ZW50c1N0YWNrLnJlbW92ZShhKTtpZighKGIuaWVGdW5jdGlvbmFsS2V5c0J1ZyhhKSYmdGhpcy5sYXN0S2V5ZG93bkltYWdlJiZ0aGlzLmxhc3RLZXlkb3duSW1hZ2UuZXF1YWxzQ29udGVudChuZXcgYyhlLmVkaXRvcixcbiEwKSkpKWlmKDA8ZillLnR5cGUoYSk7ZWxzZSBpZihiLmlzTmF2aWdhdGlvbktleShhKSl0aGlzLm9uTmF2aWdhdGlvbktleSghMCl9LG9uTmF2aWdhdGlvbktleTpmdW5jdGlvbihhKXt2YXIgYj10aGlzLnVuZG9NYW5hZ2VyOyFhJiZiLnNhdmUoITAsbnVsbCwhMSl8fGIudXBkYXRlU2VsZWN0aW9uKG5ldyBjKGIuZWRpdG9yKSk7Yi5yZXNldFR5cGUoKX0saWdub3JlSW5wdXRFdmVudExpc3RlbmVyOmZ1bmN0aW9uKCl7dGhpcy5pZ25vcmVJbnB1dEV2ZW50PSEwfSxhdHRhY2hMaXN0ZW5lcnM6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnVuZG9NYW5hZ2VyLmVkaXRvcixjPWEuZWRpdGFibGUoKSxlPXRoaXM7Yy5hdHRhY2hMaXN0ZW5lcihjLFwia2V5ZG93blwiLGZ1bmN0aW9uKGEpe2Uub25LZXlkb3duKGEpO2lmKGIuaWVGdW5jdGlvbmFsS2V5c0J1ZyhhLmRhdGEuZ2V0S2V5KCkpKWUub25JbnB1dCgpfSxudWxsLG51bGwsOTk5KTtjLmF0dGFjaExpc3RlbmVyKGMsQ0tFRElUT1IuZW52LmllP1xuXCJrZXlwcmVzc1wiOlwiaW5wdXRcIixlLm9uSW5wdXQsZSxudWxsLDk5OSk7Yy5hdHRhY2hMaXN0ZW5lcihjLFwia2V5dXBcIixlLm9uS2V5dXAsZSxudWxsLDk5OSk7Yy5hdHRhY2hMaXN0ZW5lcihjLFwicGFzdGVcIixlLmlnbm9yZUlucHV0RXZlbnRMaXN0ZW5lcixlLG51bGwsOTk5KTtjLmF0dGFjaExpc3RlbmVyKGMsXCJkcm9wXCIsZS5pZ25vcmVJbnB1dEV2ZW50TGlzdGVuZXIsZSxudWxsLDk5OSk7Yy5hdHRhY2hMaXN0ZW5lcihjLmlzSW5saW5lKCk/YzphLmRvY3VtZW50LmdldERvY3VtZW50RWxlbWVudCgpLFwiY2xpY2tcIixmdW5jdGlvbigpe2Uub25OYXZpZ2F0aW9uS2V5KCl9LG51bGwsbnVsbCw5OTkpO2MuYXR0YWNoTGlzdGVuZXIodGhpcy51bmRvTWFuYWdlci5lZGl0b3IsXCJibHVyXCIsZnVuY3Rpb24oKXtlLmtleUV2ZW50c1N0YWNrLnJlbW92ZSg5KX0sbnVsbCxudWxsLDk5OSl9fTt2YXIgbD1DS0VESVRPUi5wbHVnaW5zLnVuZG8uS2V5RXZlbnRzU3RhY2s9ZnVuY3Rpb24oKXt0aGlzLnN0YWNrPVxuW119O2wucHJvdG90eXBlPXtwdXNoOmZ1bmN0aW9uKGEpe2E9dGhpcy5zdGFjay5wdXNoKHtrZXlDb2RlOmEsaW5wdXRzOjB9KTtyZXR1cm4gdGhpcy5zdGFja1thLTFdfSxnZXRMYXN0SW5kZXg6ZnVuY3Rpb24oYSl7aWYoXCJudW1iZXJcIiE9dHlwZW9mIGEpcmV0dXJuIHRoaXMuc3RhY2subGVuZ3RoLTE7Zm9yKHZhciBiPXRoaXMuc3RhY2subGVuZ3RoO2ItLTspaWYodGhpcy5zdGFja1tiXS5rZXlDb2RlPT1hKXJldHVybiBiO3JldHVybi0xfSxnZXRMYXN0OmZ1bmN0aW9uKGEpe2E9dGhpcy5nZXRMYXN0SW5kZXgoYSk7cmV0dXJuLTEhPWE/dGhpcy5zdGFja1thXTpudWxsfSxpbmNyZW1lbnQ6ZnVuY3Rpb24oYSl7dGhpcy5nZXRMYXN0KGEpLmlucHV0cysrfSxyZW1vdmU6ZnVuY3Rpb24oYSl7YT10aGlzLmdldExhc3RJbmRleChhKTstMSE9YSYmdGhpcy5zdGFjay5zcGxpY2UoYSwxKX0scmVzZXRJbnB1dHM6ZnVuY3Rpb24oYSl7aWYoXCJudW1iZXJcIj09dHlwZW9mIGEpdGhpcy5nZXRMYXN0KGEpLmlucHV0cz1cbjA7ZWxzZSBmb3IoYT10aGlzLnN0YWNrLmxlbmd0aDthLS07KXRoaXMuc3RhY2tbYV0uaW5wdXRzPTB9LGdldFRvdGFsSW5wdXRzOmZ1bmN0aW9uKCl7Zm9yKHZhciBhPXRoaXMuc3RhY2subGVuZ3RoLGI9MDthLS07KWIrPXRoaXMuc3RhY2tbYV0uaW5wdXRzO3JldHVybiBifSxjbGVhblVwOmZ1bmN0aW9uKGEpe2E9YS5kYXRhLiQ7YS5jdHJsS2V5fHxhLm1ldGFLZXl8fHRoaXMucmVtb3ZlKDE3KTthLnNoaWZ0S2V5fHx0aGlzLnJlbW92ZSgxNik7YS5hbHRLZXl8fHRoaXMucmVtb3ZlKDE4KX19fSgpLENLRURJVE9SLnBsdWdpbnMuYWRkKFwid3NjXCIse3JlcXVpcmVzOlwiZGlhbG9nXCIscGFyc2VBcGk6ZnVuY3Rpb24oYSl7YS5jb25maWcud3NjX29uRmluaXNoPVwiZnVuY3Rpb25cIj09PXR5cGVvZiBhLmNvbmZpZy53c2Nfb25GaW5pc2g/YS5jb25maWcud3NjX29uRmluaXNoOmZ1bmN0aW9uKCl7fTthLmNvbmZpZy53c2Nfb25DbG9zZT1cImZ1bmN0aW9uXCI9PT10eXBlb2YgYS5jb25maWcud3NjX29uQ2xvc2U/XG5hLmNvbmZpZy53c2Nfb25DbG9zZTpmdW5jdGlvbigpe319LHBhcnNlQ29uZmlnOmZ1bmN0aW9uKGEpe2EuY29uZmlnLndzY19jdXN0b21lcklkPWEuY29uZmlnLndzY19jdXN0b21lcklkfHxDS0VESVRPUi5jb25maWcud3NjX2N1c3RvbWVySWR8fFwiMTp1YTN4dzEtMlh5R0ozLUdXcnVEMy02T0ZOVDEtb1hjdUIxLW5SNkJwNC1oZ1FIYy1FY1luZzMtc2RSWEczLU5PZkZrXCI7YS5jb25maWcud3NjX2N1c3RvbURpY3Rpb25hcnlJZHM9YS5jb25maWcud3NjX2N1c3RvbURpY3Rpb25hcnlJZHN8fENLRURJVE9SLmNvbmZpZy53c2NfY3VzdG9tRGljdGlvbmFyeUlkc3x8XCJcIjthLmNvbmZpZy53c2NfdXNlckRpY3Rpb25hcnlOYW1lPWEuY29uZmlnLndzY191c2VyRGljdGlvbmFyeU5hbWV8fENLRURJVE9SLmNvbmZpZy53c2NfdXNlckRpY3Rpb25hcnlOYW1lfHxcIlwiO2EuY29uZmlnLndzY19jdXN0b21Mb2FkZXJTY3JpcHQ9YS5jb25maWcud3NjX2N1c3RvbUxvYWRlclNjcmlwdHx8Q0tFRElUT1IuY29uZmlnLndzY19jdXN0b21Mb2FkZXJTY3JpcHQ7XG5hLmNvbmZpZy53c2NfaW50ZXJmYWNlTGFuZz1hLmNvbmZpZy53c2NfaW50ZXJmYWNlTGFuZztDS0VESVRPUi5jb25maWcud3NjX2NtZD1hLmNvbmZpZy53c2NfY21kfHxDS0VESVRPUi5jb25maWcud3NjX2NtZHx8XCJzcGVsbFwiO0NLRURJVE9SLmNvbmZpZy53c2NfdmVyc2lvbj1cInY0LjMuMC1tYXN0ZXItZDc2OTIzM1wiO0NLRURJVE9SLmNvbmZpZy53c2NfcmVtb3ZlR2xvYmFsVmFyaWFibGU9ITB9LG9uTG9hZDpmdW5jdGlvbihhKXtcIm1vb25vLWxpc2FcIj09KENLRURJVE9SLnNraW5OYW1lfHxhLmNvbmZpZy5za2luKSYmQ0tFRElUT1IuZG9jdW1lbnQuYXBwZW5kU3R5bGVTaGVldCh0aGlzLnBhdGgrXCJza2lucy9cIitDS0VESVRPUi5za2luLm5hbWUrXCIvd3NjLmNzc1wiKX0saW5pdDpmdW5jdGlvbihhKXt2YXIgZj1DS0VESVRPUi5lbnY7dGhpcy5wYXJzZUNvbmZpZyhhKTt0aGlzLnBhcnNlQXBpKGEpO2EuYWRkQ29tbWFuZChcImNoZWNrc3BlbGxcIixuZXcgQ0tFRElUT1IuZGlhbG9nQ29tbWFuZChcImNoZWNrc3BlbGxcIikpLm1vZGVzPVxue3d5c2l3eWc6IUNLRURJVE9SLmVudi5vcGVyYSYmIUNLRURJVE9SLmVudi5haXImJmRvY3VtZW50LmRvbWFpbj09d2luZG93LmxvY2F0aW9uLmhvc3RuYW1lJiYhKGYuaWUmJig4PmYudmVyc2lvbnx8Zi5xdWlya3MpKX07XCJ1bmRlZmluZWRcIj09dHlwZW9mIGEucGx1Z2lucy5zY2F5dCYmYS51aS5hZGRCdXR0b24mJmEudWkuYWRkQnV0dG9uKFwiU3BlbGxDaGVja2VyXCIse2xhYmVsOmEubGFuZy53c2MudG9vbGJhcixjbGljazpmdW5jdGlvbihhKXt2YXIgYz1hLmVsZW1lbnRNb2RlPT1DS0VESVRPUi5FTEVNRU5UX01PREVfSU5MSU5FP2EuY29udGFpbmVyLmdldFRleHQoKTphLmRvY3VtZW50LmdldEJvZHkoKS5nZXRUZXh0KCk7KGM9Yy5yZXBsYWNlKC9cXHMvZyxcIlwiKSk/YS5leGVjQ29tbWFuZChcImNoZWNrc3BlbGxcIik6YWxlcnQoXCJOb3RoaW5nIHRvIGNoZWNrIVwiKX0sdG9vbGJhcjpcInNwZWxsY2hlY2tlciwxMFwifSk7Q0tFRElUT1IuZGlhbG9nLmFkZChcImNoZWNrc3BlbGxcIix0aGlzLnBhdGgrXG4oQ0tFRElUT1IuZW52LmllJiY3Pj1DS0VESVRPUi5lbnYudmVyc2lvbj9cImRpYWxvZ3Mvd3NjX2llLmpzXCI6d2luZG93LnBvc3RNZXNzYWdlP1wiZGlhbG9ncy93c2MuanNcIjpcImRpYWxvZ3Mvd3NjX2llLmpzXCIpKX19KSxmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSl7ZnVuY3Rpb24gYihhKXt2YXIgYz0hMTtnLmF0dGFjaExpc3RlbmVyKGcsXCJrZXlkb3duXCIsZnVuY3Rpb24oKXt2YXIgYj1kLmdldEJvZHkoKS5nZXRFbGVtZW50c0J5VGFnKGEpO2lmKCFjKXtmb3IodmFyIGU9MDtlPGIuY291bnQoKTtlKyspYi5nZXRJdGVtKGUpLnNldEN1c3RvbURhdGEoXCJyZXRhaW5cIiwhMCk7Yz0hMH19LG51bGwsbnVsbCwxKTtnLmF0dGFjaExpc3RlbmVyKGcsXCJrZXl1cFwiLGZ1bmN0aW9uKCl7dmFyIGI9ZC5nZXRFbGVtZW50c0J5VGFnKGEpO2MmJigxIT1iLmNvdW50KCl8fGIuZ2V0SXRlbSgwKS5nZXRDdXN0b21EYXRhKFwicmV0YWluXCIpfHxiLmdldEl0ZW0oMCkuaGFzQXR0cmlidXRlKFwiZGF0YS1ja2UtdGVtcFwiKXx8XG5iLmdldEl0ZW0oMCkucmVtb3ZlKDEpLGM9ITEpfSl9dmFyIGM9dGhpcy5lZGl0b3IsZD1hLmRvY3VtZW50LGg9ZC5ib2R5LGs9ZC5nZXRFbGVtZW50QnlJZChcImNrZV9hY3RzY3JwdFwiKTtrJiZrLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoayk7KGs9ZC5nZXRFbGVtZW50QnlJZChcImNrZV9zaGltc2NycHRcIikpJiZrLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoayk7KGs9ZC5nZXRFbGVtZW50QnlJZChcImNrZV9iYXNldGFnc2NycHRcIikpJiZrLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoayk7aC5jb250ZW50RWRpdGFibGU9ITA7Q0tFRElUT1IuZW52LmllJiYoaC5oaWRlRm9jdXM9ITAsaC5kaXNhYmxlZD0hMCxoLnJlbW92ZUF0dHJpYnV0ZShcImRpc2FibGVkXCIpKTtkZWxldGUgdGhpcy5fLmlzTG9hZGluZ0RhdGE7dGhpcy4kPWg7ZD1uZXcgQ0tFRElUT1IuZG9tLmRvY3VtZW50KGQpO3RoaXMuc2V0dXAoKTt0aGlzLmZpeEluaXRpYWxTZWxlY3Rpb24oKTt2YXIgZz10aGlzO0NLRURJVE9SLmVudi5pZSYmXG4hQ0tFRElUT1IuZW52LmVkZ2UmJmQuZ2V0RG9jdW1lbnRFbGVtZW50KCkuYWRkQ2xhc3MoZC4kLmNvbXBhdE1vZGUpO0NLRURJVE9SLmVudi5pZSYmIUNLRURJVE9SLmVudi5lZGdlJiZjLmVudGVyTW9kZSE9Q0tFRElUT1IuRU5URVJfUD9iKFwicFwiKTpDS0VESVRPUi5lbnYuZWRnZSYmYy5lbnRlck1vZGUhPUNLRURJVE9SLkVOVEVSX0RJViYmYihcImRpdlwiKTtpZihDS0VESVRPUi5lbnYud2Via2l0fHxDS0VESVRPUi5lbnYuaWUmJjEwPENLRURJVE9SLmVudi52ZXJzaW9uKWQuZ2V0RG9jdW1lbnRFbGVtZW50KCkub24oXCJtb3VzZWRvd25cIixmdW5jdGlvbihhKXthLmRhdGEuZ2V0VGFyZ2V0KCkuaXMoXCJodG1sXCIpJiZzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Yy5lZGl0YWJsZSgpLmZvY3VzKCl9KX0pO2YoYyk7dHJ5e2MuZG9jdW1lbnQuJC5leGVjQ29tbWFuZChcIjJELXBvc2l0aW9uXCIsITEsITApfWNhdGNoKG4pe30oQ0tFRElUT1IuZW52LmdlY2tvfHxDS0VESVRPUi5lbnYuaWUmJlwiQ1NTMUNvbXBhdFwiPT1cbmMuZG9jdW1lbnQuJC5jb21wYXRNb2RlKSYmdGhpcy5hdHRhY2hMaXN0ZW5lcih0aGlzLFwia2V5ZG93blwiLGZ1bmN0aW9uKGEpe3ZhciBiPWEuZGF0YS5nZXRLZXlzdHJva2UoKTtpZigzMz09Ynx8MzQ9PWIpaWYoQ0tFRElUT1IuZW52LmllKXNldFRpbWVvdXQoZnVuY3Rpb24oKXtjLmdldFNlbGVjdGlvbigpLnNjcm9sbEludG9WaWV3KCl9LDApO2Vsc2UgaWYoYy53aW5kb3cuJC5pbm5lckhlaWdodD50aGlzLiQub2Zmc2V0SGVpZ2h0KXt2YXIgZD1jLmNyZWF0ZVJhbmdlKCk7ZFszMz09Yj9cIm1vdmVUb0VsZW1lbnRFZGl0U3RhcnRcIjpcIm1vdmVUb0VsZW1lbnRFZGl0RW5kXCJdKHRoaXMpO2Quc2VsZWN0KCk7YS5kYXRhLnByZXZlbnREZWZhdWx0KCl9fSk7Q0tFRElUT1IuZW52LmllJiZ0aGlzLmF0dGFjaExpc3RlbmVyKGQsXCJibHVyXCIsZnVuY3Rpb24oKXt0cnl7ZC4kLnNlbGVjdGlvbi5lbXB0eSgpfWNhdGNoKGEpe319KTtDS0VESVRPUi5lbnYuaU9TJiZ0aGlzLmF0dGFjaExpc3RlbmVyKGQsXG5cInRvdWNoZW5kXCIsZnVuY3Rpb24oKXthLmZvY3VzKCl9KTtoPWMuZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZyhcInRpdGxlXCIpLmdldEl0ZW0oMCk7aC5kYXRhKFwiY2tlLXRpdGxlXCIsaC5nZXRUZXh0KCkpO0NLRURJVE9SLmVudi5pZSYmKGMuZG9jdW1lbnQuJC50aXRsZT10aGlzLl8uZG9jVGl0bGUpO0NLRURJVE9SLnRvb2xzLnNldFRpbWVvdXQoZnVuY3Rpb24oKXtcInVubG9hZGVkXCI9PXRoaXMuc3RhdHVzJiYodGhpcy5zdGF0dXM9XCJyZWFkeVwiKTtjLmZpcmUoXCJjb250ZW50RG9tXCIpO3RoaXMuXy5pc1BlbmRpbmdGb2N1cyYmKGMuZm9jdXMoKSx0aGlzLl8uaXNQZW5kaW5nRm9jdXM9ITEpO3NldFRpbWVvdXQoZnVuY3Rpb24oKXtjLmZpcmUoXCJkYXRhUmVhZHlcIil9LDApfSwwLHRoaXMpfWZ1bmN0aW9uIGYoYSl7ZnVuY3Rpb24gYigpe3ZhciBkO2EuZWRpdGFibGUoKS5hdHRhY2hMaXN0ZW5lcihhLFwic2VsZWN0aW9uQ2hhbmdlXCIsZnVuY3Rpb24oKXt2YXIgYj1hLmdldFNlbGVjdGlvbigpLmdldFNlbGVjdGVkRWxlbWVudCgpO1xuYiYmKGQmJihkLmRldGFjaEV2ZW50KFwib25yZXNpemVzdGFydFwiLGMpLGQ9bnVsbCksYi4kLmF0dGFjaEV2ZW50KFwib25yZXNpemVzdGFydFwiLGMpLGQ9Yi4kKX0pfWZ1bmN0aW9uIGMoYSl7YS5yZXR1cm5WYWx1ZT0hMX1pZihDS0VESVRPUi5lbnYuZ2Vja28pdHJ5e3ZhciBkPWEuZG9jdW1lbnQuJDtkLmV4ZWNDb21tYW5kKFwiZW5hYmxlT2JqZWN0UmVzaXppbmdcIiwhMSwhYS5jb25maWcuZGlzYWJsZU9iamVjdFJlc2l6aW5nKTtkLmV4ZWNDb21tYW5kKFwiZW5hYmxlSW5saW5lVGFibGVFZGl0aW5nXCIsITEsIWEuY29uZmlnLmRpc2FibGVOYXRpdmVUYWJsZUhhbmRsZXMpfWNhdGNoKGYpe31lbHNlIENLRURJVE9SLmVudi5pZSYmMTE+Q0tFRElUT1IuZW52LnZlcnNpb24mJmEuY29uZmlnLmRpc2FibGVPYmplY3RSZXNpemluZyYmYihhKX1mdW5jdGlvbiBiKCl7dmFyIGE9W107aWYoODw9Q0tFRElUT1IuZG9jdW1lbnQuJC5kb2N1bWVudE1vZGUpe2EucHVzaChcImh0bWwuQ1NTMUNvbXBhdCBbY29udGVudGVkaXRhYmxlXFx4M2RmYWxzZV17bWluLWhlaWdodDowICFpbXBvcnRhbnR9XCIpO1xudmFyIGI9W10sYztmb3IoYyBpbiBDS0VESVRPUi5kdGQuJHJlbW92ZUVtcHR5KWIucHVzaChcImh0bWwuQ1NTMUNvbXBhdCBcIitjK1wiW2NvbnRlbnRlZGl0YWJsZVxceDNkZmFsc2VdXCIpO2EucHVzaChiLmpvaW4oXCIsXCIpK1wie2Rpc3BsYXk6aW5saW5lLWJsb2NrfVwiKX1lbHNlIENLRURJVE9SLmVudi5nZWNrbyYmKGEucHVzaChcImh0bWx7aGVpZ2h0OjEwMCUgIWltcG9ydGFudH1cIiksYS5wdXNoKFwiaW1nOi1tb3otYnJva2Vuey1tb3otZm9yY2UtYnJva2VuLWltYWdlLWljb246MTttaW4td2lkdGg6MjRweDttaW4taGVpZ2h0OjI0cHh9XCIpKTthLnB1c2goXCJodG1se2N1cnNvcjp0ZXh0OypjdXJzb3I6YXV0b31cIik7YS5wdXNoKFwiaW1nLGlucHV0LHRleHRhcmVhe2N1cnNvcjpkZWZhdWx0fVwiKTtyZXR1cm4gYS5qb2luKFwiXFxuXCIpfXZhciBjO0NLRURJVE9SLnBsdWdpbnMuYWRkKFwid3lzaXd5Z2FyZWFcIix7aW5pdDpmdW5jdGlvbihhKXthLmNvbmZpZy5mdWxsUGFnZSYmYS5hZGRGZWF0dXJlKHthbGxvd2VkQ29udGVudDpcImh0bWwgaGVhZCB0aXRsZTsgc3R5bGUgW21lZGlhLHR5cGVdOyBib2R5ICgqKVtpZF07IG1ldGEgbGluayBbKl1cIixcbnJlcXVpcmVkQ29udGVudDpcImJvZHlcIn0pO2EuYWRkTW9kZShcInd5c2l3eWdcIixmdW5jdGlvbihiKXtmdW5jdGlvbiBmKGQpe2QmJmQucmVtb3ZlTGlzdGVuZXIoKTthLmVkaXRhYmxlKG5ldyBjKGEsaC4kLmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQuYm9keSkpO2Euc2V0RGF0YShhLmdldERhdGEoMSksYil9dmFyIGQ9XCJkb2N1bWVudC5vcGVuKCk7XCIrKENLRURJVE9SLmVudi5pZT9cIihcIitDS0VESVRPUi50b29scy5maXhEb21haW4rXCIpKCk7XCI6XCJcIikrXCJkb2N1bWVudC5jbG9zZSgpO1wiLGQ9Q0tFRElUT1IuZW52LmFpcj9cImphdmFzY3JpcHQ6dm9pZCgwKVwiOkNLRURJVE9SLmVudi5pZSYmIUNLRURJVE9SLmVudi5lZGdlP1wiamF2YXNjcmlwdDp2b2lkKGZ1bmN0aW9uKCl7XCIrZW5jb2RlVVJJQ29tcG9uZW50KGQpK1wifSgpKVwiOlwiXCIsaD1DS0VESVRPUi5kb20uZWxlbWVudC5jcmVhdGVGcm9tSHRtbCgnXFx4M2NpZnJhbWUgc3JjXFx4M2RcIicrZCsnXCIgZnJhbWVCb3JkZXJcXHgzZFwiMFwiXFx4M2VcXHgzYy9pZnJhbWVcXHgzZScpO1xuaC5zZXRTdHlsZXMoe3dpZHRoOlwiMTAwJVwiLGhlaWdodDpcIjEwMCVcIn0pO2guYWRkQ2xhc3MoXCJja2Vfd3lzaXd5Z19mcmFtZVwiKS5hZGRDbGFzcyhcImNrZV9yZXNldFwiKTtkPWEudWkuc3BhY2UoXCJjb250ZW50c1wiKTtkLmFwcGVuZChoKTt2YXIgaz1DS0VESVRPUi5lbnYuaWUmJiFDS0VESVRPUi5lbnYuZWRnZXx8Q0tFRElUT1IuZW52LmdlY2tvO2lmKGspaC5vbihcImxvYWRcIixmKTt2YXIgZz1hLnRpdGxlLG49YS5maXJlKFwiYXJpYUVkaXRvckhlbHBMYWJlbFwiLHt9KS5sYWJlbDtnJiYoQ0tFRElUT1IuZW52LmllJiZuJiYoZys9XCIsIFwiK24pLGguc2V0QXR0cmlidXRlKFwidGl0bGVcIixnKSk7aWYobil7dmFyIGc9Q0tFRElUT1IudG9vbHMuZ2V0TmV4dElkKCkscT1DS0VESVRPUi5kb20uZWxlbWVudC5jcmVhdGVGcm9tSHRtbCgnXFx4M2NzcGFuIGlkXFx4M2RcIicrZysnXCIgY2xhc3NcXHgzZFwiY2tlX3ZvaWNlX2xhYmVsXCJcXHgzZScrbitcIlxceDNjL3NwYW5cXHgzZVwiKTtkLmFwcGVuZChxLDEpO2guc2V0QXR0cmlidXRlKFwiYXJpYS1kZXNjcmliZWRieVwiLFxuZyl9YS5vbihcImJlZm9yZU1vZGVVbmxvYWRcIixmdW5jdGlvbihhKXthLnJlbW92ZUxpc3RlbmVyKCk7cSYmcS5yZW1vdmUoKX0pO2guc2V0QXR0cmlidXRlcyh7dGFiSW5kZXg6YS50YWJJbmRleCxhbGxvd1RyYW5zcGFyZW5jeTpcInRydWVcIn0pOyFrJiZmKCk7YS5maXJlKFwiYXJpYVdpZGdldFwiLGgpfSl9fSk7Q0tFRElUT1IuZWRpdG9yLnByb3RvdHlwZS5hZGRDb250ZW50c0Nzcz1mdW5jdGlvbihhKXt2YXIgYj10aGlzLmNvbmZpZyxjPWIuY29udGVudHNDc3M7Q0tFRElUT1IudG9vbHMuaXNBcnJheShjKXx8KGIuY29udGVudHNDc3M9Yz9bY106W10pO2IuY29udGVudHNDc3MucHVzaChhKX07Yz1DS0VESVRPUi50b29scy5jcmVhdGVDbGFzcyh7JDpmdW5jdGlvbigpe3RoaXMuYmFzZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhpcy5fLmZyYW1lTG9hZGVkSGFuZGxlcj1DS0VESVRPUi50b29scy5hZGRGdW5jdGlvbihmdW5jdGlvbihiKXtDS0VESVRPUi50b29scy5zZXRUaW1lb3V0KGEsXG4wLHRoaXMsYil9LHRoaXMpO3RoaXMuXy5kb2NUaXRsZT10aGlzLmdldFdpbmRvdygpLmdldEZyYW1lKCkuZ2V0QXR0cmlidXRlKFwidGl0bGVcIil9LGJhc2U6Q0tFRElUT1IuZWRpdGFibGUscHJvdG86e3NldERhdGE6ZnVuY3Rpb24oYSxjKXt2YXIgZj10aGlzLmVkaXRvcjtpZihjKXRoaXMuc2V0SHRtbChhKSx0aGlzLmZpeEluaXRpYWxTZWxlY3Rpb24oKSxmLmZpcmUoXCJkYXRhUmVhZHlcIik7ZWxzZXt0aGlzLl8uaXNMb2FkaW5nRGF0YT0hMDtmLl8uZGF0YVN0b3JlPXtpZDoxfTt2YXIgZD1mLmNvbmZpZyxoPWQuZnVsbFBhZ2Usaz1kLmRvY1R5cGUsZz1DS0VESVRPUi50b29scy5idWlsZFN0eWxlSHRtbChiKCkpLnJlcGxhY2UoLzxzdHlsZT4vLCdcXHgzY3N0eWxlIGRhdGEtY2tlLXRlbXBcXHgzZFwiMVwiXFx4M2UnKTtofHwoZys9Q0tFRElUT1IudG9vbHMuYnVpbGRTdHlsZUh0bWwoZi5jb25maWcuY29udGVudHNDc3MpKTt2YXIgbj1kLmJhc2VIcmVmPydcXHgzY2Jhc2UgaHJlZlxceDNkXCInK1xuZC5iYXNlSHJlZisnXCIgZGF0YS1ja2UtdGVtcFxceDNkXCIxXCIgL1xceDNlJzpcIlwiO2gmJihhPWEucmVwbGFjZSgvPCFET0NUWVBFW14+XSo+L2ksZnVuY3Rpb24oYSl7Zi5kb2NUeXBlPWs9YTtyZXR1cm5cIlwifSkucmVwbGFjZSgvPFxcP3htbFxcc1teXFw/XSpcXD8+L2ksZnVuY3Rpb24oYSl7Zi54bWxEZWNsYXJhdGlvbj1hO3JldHVyblwiXCJ9KSk7YT1mLmRhdGFQcm9jZXNzb3IudG9IdG1sKGEpO2g/KC88Ym9keVtcXHN8Pl0vLnRlc3QoYSl8fChhPVwiXFx4M2Nib2R5XFx4M2VcIithKSwvPGh0bWxbXFxzfD5dLy50ZXN0KGEpfHwoYT1cIlxceDNjaHRtbFxceDNlXCIrYStcIlxceDNjL2h0bWxcXHgzZVwiKSwvPGhlYWRbXFxzfD5dLy50ZXN0KGEpPy88dGl0bGVbXFxzfD5dLy50ZXN0KGEpfHwoYT1hLnJlcGxhY2UoLzxoZWFkW14+XSo+LyxcIiRcXHgyNlxceDNjdGl0bGVcXHgzZVxceDNjL3RpdGxlXFx4M2VcIikpOmE9YS5yZXBsYWNlKC88aHRtbFtePl0qPi8sXCIkXFx4MjZcXHgzY2hlYWRcXHgzZVxceDNjdGl0bGVcXHgzZVxceDNjL3RpdGxlXFx4M2VcXHgzYy9oZWFkXFx4M2VcIiksXG5uJiYoYT1hLnJlcGxhY2UoLzxoZWFkW14+XSo/Pi8sXCIkXFx4MjZcIituKSksYT1hLnJlcGxhY2UoLzxcXC9oZWFkXFxzKj4vLGcrXCIkXFx4MjZcIiksYT1rK2EpOmE9ZC5kb2NUeXBlKydcXHgzY2h0bWwgZGlyXFx4M2RcIicrZC5jb250ZW50c0xhbmdEaXJlY3Rpb24rJ1wiIGxhbmdcXHgzZFwiJysoZC5jb250ZW50c0xhbmd1YWdlfHxmLmxhbmdDb2RlKSsnXCJcXHgzZVxceDNjaGVhZFxceDNlXFx4M2N0aXRsZVxceDNlJyt0aGlzLl8uZG9jVGl0bGUrXCJcXHgzYy90aXRsZVxceDNlXCIrbitnK1wiXFx4M2MvaGVhZFxceDNlXFx4M2Nib2R5XCIrKGQuYm9keUlkPycgaWRcXHgzZFwiJytkLmJvZHlJZCsnXCInOlwiXCIpKyhkLmJvZHlDbGFzcz8nIGNsYXNzXFx4M2RcIicrZC5ib2R5Q2xhc3MrJ1wiJzpcIlwiKStcIlxceDNlXCIrYStcIlxceDNjL2JvZHlcXHgzZVxceDNjL2h0bWxcXHgzZVwiO0NLRURJVE9SLmVudi5nZWNrbyYmKGE9YS5yZXBsYWNlKC88Ym9keS8sJ1xceDNjYm9keSBjb250ZW50ZWRpdGFibGVcXHgzZFwidHJ1ZVwiICcpLDJFND5DS0VESVRPUi5lbnYudmVyc2lvbiYmXG4oYT1hLnJlcGxhY2UoLzxib2R5W14+XSo+LyxcIiRcXHgyNlxceDNjIS0tIGNrZS1jb250ZW50LXN0YXJ0IC0tXFx4M2VcIikpKTtkPSdcXHgzY3NjcmlwdCBpZFxceDNkXCJja2VfYWN0c2NycHRcIiB0eXBlXFx4M2RcInRleHQvamF2YXNjcmlwdFwiJysoQ0tFRElUT1IuZW52LmllPycgZGVmZXJcXHgzZFwiZGVmZXJcIiAnOlwiXCIpK1wiXFx4M2V2YXIgd2FzTG9hZGVkXFx4M2QwO2Z1bmN0aW9uIG9ubG9hZCgpe2lmKCF3YXNMb2FkZWQpd2luZG93LnBhcmVudC5DS0VESVRPUi50b29scy5jYWxsRnVuY3Rpb24oXCIrdGhpcy5fLmZyYW1lTG9hZGVkSGFuZGxlcitcIix3aW5kb3cpO3dhc0xvYWRlZFxceDNkMTt9XCIrKENLRURJVE9SLmVudi5pZT9cIm9ubG9hZCgpO1wiOidkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLCBvbmxvYWQsIGZhbHNlICk7JykrXCJcXHgzYy9zY3JpcHRcXHgzZVwiO0NLRURJVE9SLmVudi5pZSYmOT5DS0VESVRPUi5lbnYudmVyc2lvbiYmKGQrPSdcXHgzY3NjcmlwdCBpZFxceDNkXCJja2Vfc2hpbXNjcnB0XCJcXHgzZXdpbmRvdy5wYXJlbnQuQ0tFRElUT1IudG9vbHMuZW5hYmxlSHRtbDVFbGVtZW50cyhkb2N1bWVudClcXHgzYy9zY3JpcHRcXHgzZScpO1xubiYmQ0tFRElUT1IuZW52LmllJiYxMD5DS0VESVRPUi5lbnYudmVyc2lvbiYmKGQrPSdcXHgzY3NjcmlwdCBpZFxceDNkXCJja2VfYmFzZXRhZ3NjcnB0XCJcXHgzZXZhciBiYXNlVGFnIFxceDNkIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIFwiYmFzZVwiICk7YmFzZVRhZy5ocmVmIFxceDNkIGJhc2VUYWcuaHJlZjtcXHgzYy9zY3JpcHRcXHgzZScpO2E9YS5yZXBsYWNlKC8oPz1cXHMqPFxcLyg6P2hlYWQpPikvLGQpO3RoaXMuY2xlYXJDdXN0b21EYXRhKCk7dGhpcy5jbGVhckxpc3RlbmVycygpO2YuZmlyZShcImNvbnRlbnREb21VbmxvYWRcIik7dmFyIHE9dGhpcy5nZXREb2N1bWVudCgpO3RyeXtxLndyaXRlKGEpfWNhdGNoKHApe3NldFRpbWVvdXQoZnVuY3Rpb24oKXtxLndyaXRlKGEpfSwwKX19fSxnZXREYXRhOmZ1bmN0aW9uKGEpe2lmKGEpcmV0dXJuIHRoaXMuZ2V0SHRtbCgpO2E9dGhpcy5lZGl0b3I7dmFyIGI9YS5jb25maWcsYz1iLmZ1bGxQYWdlLGQ9YyYmYS5kb2NUeXBlLGY9YyYmYS54bWxEZWNsYXJhdGlvbixcbms9dGhpcy5nZXREb2N1bWVudCgpLGM9Yz9rLmdldERvY3VtZW50RWxlbWVudCgpLmdldE91dGVySHRtbCgpOmsuZ2V0Qm9keSgpLmdldEh0bWwoKTtDS0VESVRPUi5lbnYuZ2Vja28mJmIuZW50ZXJNb2RlIT1DS0VESVRPUi5FTlRFUl9CUiYmKGM9Yy5yZXBsYWNlKC88YnI+KD89XFxzKig6PyR8PFxcL2JvZHk+KSkvLFwiXCIpKTtjPWEuZGF0YVByb2Nlc3Nvci50b0RhdGFGb3JtYXQoYyk7ZiYmKGM9ZitcIlxcblwiK2MpO2QmJihjPWQrXCJcXG5cIitjKTtyZXR1cm4gY30sZm9jdXM6ZnVuY3Rpb24oKXt0aGlzLl8uaXNMb2FkaW5nRGF0YT90aGlzLl8uaXNQZW5kaW5nRm9jdXM9ITA6Yy5iYXNlUHJvdG8uZm9jdXMuY2FsbCh0aGlzKX0sZGV0YWNoOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5lZGl0b3IsYj1hLmRvY3VtZW50LGY7dHJ5e2Y9YS53aW5kb3cuZ2V0RnJhbWUoKX1jYXRjaChkKXt9Yy5iYXNlUHJvdG8uZGV0YWNoLmNhbGwodGhpcyk7dGhpcy5jbGVhckN1c3RvbURhdGEoKTtiLmdldERvY3VtZW50RWxlbWVudCgpLmNsZWFyQ3VzdG9tRGF0YSgpO1xuQ0tFRElUT1IudG9vbHMucmVtb3ZlRnVuY3Rpb24odGhpcy5fLmZyYW1lTG9hZGVkSGFuZGxlcik7ZiYmZi5nZXRQYXJlbnQoKT8oZi5jbGVhckN1c3RvbURhdGEoKSwoYT1mLnJlbW92ZUN1c3RvbURhdGEoXCJvblJlc2l6ZVwiKSkmJmEucmVtb3ZlTGlzdGVuZXIoKSxmLnJlbW92ZSgpKTpDS0VESVRPUi53YXJuKFwiZWRpdG9yLWRlc3Ryb3ktaWZyYW1lXCIpfX19KX0oKSxDS0VESVRPUi5jb25maWcuZGlzYWJsZU9iamVjdFJlc2l6aW5nPSExLENLRURJVE9SLmNvbmZpZy5kaXNhYmxlTmF0aXZlVGFibGVIYW5kbGVzPSEwLENLRURJVE9SLmNvbmZpZy5kaXNhYmxlTmF0aXZlU3BlbGxDaGVja2VyPSEwLENLRURJVE9SLmNvbmZpZy5wbHVnaW5zPVwiZGlhbG9ndWksZGlhbG9nLGExMXloZWxwLGFib3V0LGJhc2ljc3R5bGVzLGJsb2NrcXVvdGUsY2xpcGJvYXJkLHBhbmVsLGZsb2F0cGFuZWwsbWVudSxjb250ZXh0bWVudSxlbGVtZW50c3BhdGgsaW5kZW50LGluZGVudGxpc3QsbGlzdCxlbnRlcmtleSxlbnRpdGllcyxwb3B1cCxmaWxlYnJvd3NlcixmbG9hdGluZ3NwYWNlLGxpc3RibG9jayxidXR0b24scmljaGNvbWJvLGZvcm1hdCxob3Jpem9udGFscnVsZSxodG1sd3JpdGVyLGltYWdlLGZha2VvYmplY3RzLGxpbmssbWFnaWNsaW5lLG1heGltaXplLHBhc3RlZnJvbXdvcmQscGFzdGV0ZXh0LHJlbW92ZWZvcm1hdCxyZXNpemUsbWVudWJ1dHRvbixzY2F5dCxzaG93Ym9yZGVycyxzb3VyY2VhcmVhLHNwZWNpYWxjaGFyLHN0eWxlc2NvbWJvLHRhYix0YWJsZSx0YWJsZXRvb2xzLHRvb2xiYXIsdW5kbyx3c2Msd3lzaXd5Z2FyZWFcIixcbkNLRURJVE9SLmNvbmZpZy5za2luPVwibW9vbm8tbGlzYVwiLGZ1bmN0aW9uKCl7dmFyIGE9ZnVuY3Rpb24oYSxiKXt2YXIgYz1DS0VESVRPUi5nZXRVcmwoXCJwbHVnaW5zL1wiK2IpO2E9YS5zcGxpdChcIixcIik7Zm9yKHZhciBlPTA7ZTxhLmxlbmd0aDtlKyspQ0tFRElUT1Iuc2tpbi5pY29uc1thW2VdXT17cGF0aDpjLG9mZnNldDotYVsrK2VdLGJnc2l6ZTphWysrZV19fTtDS0VESVRPUi5lbnYuaGlkcGk/YShcImFib3V0LDAsLGJvbGQsMjQsLGl0YWxpYyw0OCwsc3RyaWtlLDcyLCxzdWJzY3JpcHQsOTYsLHN1cGVyc2NyaXB0LDEyMCwsdW5kZXJsaW5lLDE0NCwsYmlkaWx0ciwxNjgsLGJpZGlydGwsMTkyLCxibG9ja3F1b3RlLDIxNiwsY29weS1ydGwsMjQwLCxjb3B5LDI2NCwsY3V0LXJ0bCwyODgsLGN1dCwzMTIsLHBhc3RlLXJ0bCwzMzYsLHBhc3RlLDM2MCwsY29kZXNuaXBwZXQsMzg0LCxiZ2NvbG9yLDQwOCwsdGV4dGNvbG9yLDQzMiwsY29weWZvcm1hdHRpbmcsNDU2LCxjcmVhdGVkaXYsNDgwLCxkb2Nwcm9wcy1ydGwsNTA0LCxkb2Nwcm9wcyw1MjgsLGVtYmVkLDU1MiwsZW1iZWRzZW1hbnRpYyw1NzYsLGZpbmQtcnRsLDYwMCwsZmluZCw2MjQsLHJlcGxhY2UsNjQ4LCxmbGFzaCw2NzIsLGJ1dHRvbiw2OTYsLGNoZWNrYm94LDcyMCwsZm9ybSw3NDQsLGhpZGRlbmZpZWxkLDc2OCwsaW1hZ2VidXR0b24sNzkyLCxyYWRpbyw4MTYsLHNlbGVjdC1ydGwsODQwLCxzZWxlY3QsODY0LCx0ZXh0YXJlYS1ydGwsODg4LCx0ZXh0YXJlYSw5MTIsLHRleHRmaWVsZC1ydGwsOTM2LCx0ZXh0ZmllbGQsOTYwLCxob3Jpem9udGFscnVsZSw5ODQsLGlmcmFtZSwxMDA4LCxpbWFnZSwxMDMyLCxpbmRlbnQtcnRsLDEwNTYsLGluZGVudCwxMDgwLCxvdXRkZW50LXJ0bCwxMTA0LCxvdXRkZW50LDExMjgsLGp1c3RpZnlibG9jaywxMTUyLCxqdXN0aWZ5Y2VudGVyLDExNzYsLGp1c3RpZnlsZWZ0LDEyMDAsLGp1c3RpZnlyaWdodCwxMjI0LCxsYW5ndWFnZSwxMjQ4LCxhbmNob3ItcnRsLDEyNzIsLGFuY2hvciwxMjk2LCxsaW5rLDEzMjAsLHVubGluaywxMzQ0LCxidWxsZXRlZGxpc3QtcnRsLDEzNjgsLGJ1bGxldGVkbGlzdCwxMzkyLCxudW1iZXJlZGxpc3QtcnRsLDE0MTYsLG51bWJlcmVkbGlzdCwxNDQwLCxtYXRoamF4LDE0NjQsLG1heGltaXplLDE0ODgsLG5ld3BhZ2UtcnRsLDE1MTIsLG5ld3BhZ2UsMTUzNiwscGFnZWJyZWFrLXJ0bCwxNTYwLCxwYWdlYnJlYWssMTU4NCwscGFzdGVmcm9td29yZC1ydGwsMTYwOCwscGFzdGVmcm9td29yZCwxNjMyLCxwYXN0ZXRleHQtcnRsLDE2NTYsLHBhc3RldGV4dCwxNjgwLCxwbGFjZWhvbGRlciwxNzA0LCxwcmV2aWV3LXJ0bCwxNzI4LCxwcmV2aWV3LDE3NTIsLHByaW50LDE3NzYsLHJlbW92ZWZvcm1hdCwxODAwLCxzYXZlLDE4MjQsLHNjYXl0LDE4NDgsLHNlbGVjdGFsbCwxODcyLCxzaG93YmxvY2tzLXJ0bCwxODk2LCxzaG93YmxvY2tzLDE5MjAsLHNtaWxleSwxOTQ0LCxzb3VyY2UtcnRsLDE5NjgsLHNvdXJjZSwxOTkyLCxzb3VyY2VkaWFsb2ctcnRsLDIwMTYsLHNvdXJjZWRpYWxvZywyMDQwLCxzcGVjaWFsY2hhciwyMDY0LCx0YWJsZSwyMDg4LCx0ZW1wbGF0ZXMtcnRsLDIxMTIsLHRlbXBsYXRlcywyMTM2LCx1aWNvbG9yLDIxNjAsLHJlZG8tcnRsLDIxODQsLHJlZG8sMjIwOCwsdW5kby1ydGwsMjIzMiwsdW5kbywyMjU2LCxzaW1wbGVib3gsNDU2MCxhdXRvLHNwZWxsY2hlY2tlciwyMzA0LFwiLFxuXCJpY29uc19oaWRwaS5wbmdcIik6YShcImFib3V0LDAsYXV0byxib2xkLDI0LGF1dG8saXRhbGljLDQ4LGF1dG8sc3RyaWtlLDcyLGF1dG8sc3Vic2NyaXB0LDk2LGF1dG8sc3VwZXJzY3JpcHQsMTIwLGF1dG8sdW5kZXJsaW5lLDE0NCxhdXRvLGJpZGlsdHIsMTY4LGF1dG8sYmlkaXJ0bCwxOTIsYXV0byxibG9ja3F1b3RlLDIxNixhdXRvLGNvcHktcnRsLDI0MCxhdXRvLGNvcHksMjY0LGF1dG8sY3V0LXJ0bCwyODgsYXV0byxjdXQsMzEyLGF1dG8scGFzdGUtcnRsLDMzNixhdXRvLHBhc3RlLDM2MCxhdXRvLGNvZGVzbmlwcGV0LDM4NCxhdXRvLGJnY29sb3IsNDA4LGF1dG8sdGV4dGNvbG9yLDQzMixhdXRvLGNvcHlmb3JtYXR0aW5nLDQ1NixhdXRvLGNyZWF0ZWRpdiw0ODAsYXV0byxkb2Nwcm9wcy1ydGwsNTA0LGF1dG8sZG9jcHJvcHMsNTI4LGF1dG8sZW1iZWQsNTUyLGF1dG8sZW1iZWRzZW1hbnRpYyw1NzYsYXV0byxmaW5kLXJ0bCw2MDAsYXV0byxmaW5kLDYyNCxhdXRvLHJlcGxhY2UsNjQ4LGF1dG8sZmxhc2gsNjcyLGF1dG8sYnV0dG9uLDY5NixhdXRvLGNoZWNrYm94LDcyMCxhdXRvLGZvcm0sNzQ0LGF1dG8saGlkZGVuZmllbGQsNzY4LGF1dG8saW1hZ2VidXR0b24sNzkyLGF1dG8scmFkaW8sODE2LGF1dG8sc2VsZWN0LXJ0bCw4NDAsYXV0byxzZWxlY3QsODY0LGF1dG8sdGV4dGFyZWEtcnRsLDg4OCxhdXRvLHRleHRhcmVhLDkxMixhdXRvLHRleHRmaWVsZC1ydGwsOTM2LGF1dG8sdGV4dGZpZWxkLDk2MCxhdXRvLGhvcml6b250YWxydWxlLDk4NCxhdXRvLGlmcmFtZSwxMDA4LGF1dG8saW1hZ2UsMTAzMixhdXRvLGluZGVudC1ydGwsMTA1NixhdXRvLGluZGVudCwxMDgwLGF1dG8sb3V0ZGVudC1ydGwsMTEwNCxhdXRvLG91dGRlbnQsMTEyOCxhdXRvLGp1c3RpZnlibG9jaywxMTUyLGF1dG8sanVzdGlmeWNlbnRlciwxMTc2LGF1dG8sanVzdGlmeWxlZnQsMTIwMCxhdXRvLGp1c3RpZnlyaWdodCwxMjI0LGF1dG8sbGFuZ3VhZ2UsMTI0OCxhdXRvLGFuY2hvci1ydGwsMTI3MixhdXRvLGFuY2hvciwxMjk2LGF1dG8sbGluaywxMzIwLGF1dG8sdW5saW5rLDEzNDQsYXV0byxidWxsZXRlZGxpc3QtcnRsLDEzNjgsYXV0byxidWxsZXRlZGxpc3QsMTM5MixhdXRvLG51bWJlcmVkbGlzdC1ydGwsMTQxNixhdXRvLG51bWJlcmVkbGlzdCwxNDQwLGF1dG8sbWF0aGpheCwxNDY0LGF1dG8sbWF4aW1pemUsMTQ4OCxhdXRvLG5ld3BhZ2UtcnRsLDE1MTIsYXV0byxuZXdwYWdlLDE1MzYsYXV0byxwYWdlYnJlYWstcnRsLDE1NjAsYXV0byxwYWdlYnJlYWssMTU4NCxhdXRvLHBhc3RlZnJvbXdvcmQtcnRsLDE2MDgsYXV0byxwYXN0ZWZyb213b3JkLDE2MzIsYXV0byxwYXN0ZXRleHQtcnRsLDE2NTYsYXV0byxwYXN0ZXRleHQsMTY4MCxhdXRvLHBsYWNlaG9sZGVyLDE3MDQsYXV0byxwcmV2aWV3LXJ0bCwxNzI4LGF1dG8scHJldmlldywxNzUyLGF1dG8scHJpbnQsMTc3NixhdXRvLHJlbW92ZWZvcm1hdCwxODAwLGF1dG8sc2F2ZSwxODI0LGF1dG8sc2NheXQsMTg0OCxhdXRvLHNlbGVjdGFsbCwxODcyLGF1dG8sc2hvd2Jsb2Nrcy1ydGwsMTg5NixhdXRvLHNob3dibG9ja3MsMTkyMCxhdXRvLHNtaWxleSwxOTQ0LGF1dG8sc291cmNlLXJ0bCwxOTY4LGF1dG8sc291cmNlLDE5OTIsYXV0byxzb3VyY2VkaWFsb2ctcnRsLDIwMTYsYXV0byxzb3VyY2VkaWFsb2csMjA0MCxhdXRvLHNwZWNpYWxjaGFyLDIwNjQsYXV0byx0YWJsZSwyMDg4LGF1dG8sdGVtcGxhdGVzLXJ0bCwyMTEyLGF1dG8sdGVtcGxhdGVzLDIxMzYsYXV0byx1aWNvbG9yLDIxNjAsYXV0byxyZWRvLXJ0bCwyMTg0LGF1dG8scmVkbywyMjA4LGF1dG8sdW5kby1ydGwsMjIzMixhdXRvLHVuZG8sMjI1NixhdXRvLHNpbXBsZWJveCwyMjgwLGF1dG8sc3BlbGxjaGVja2VyLDIzMDQsYXV0b1wiLFxuXCJpY29ucy5wbmdcIil9KCkpfSkoKTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vY2tlZGl0b3IvY2tlZGl0b3IuanNcbi8vIG1vZHVsZSBpZCA9IDEzODJcbi8vIG1vZHVsZSBjaHVua3MgPSA2Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),

/***/ 1670:
/* unknown exports provided */
/* all exports used */
/*!****************************************!*\
  !*** ./~/ng2-ckeditor/lib/CKEditor.js ***!
  \****************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.CKEditorModule = exports.CKEditorComponent = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _class, _desc, _value, _class2, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _dec8, _class4; // Imports\n\n\nvar _core = __webpack_require__(/*! @angular/core */ 0);\n\nvar _forms = __webpack_require__(/*! @angular/forms */ 77);\n\nfunction _initDefineProp(target, property, descriptor, context) {\n  if (!descriptor) return;\n  Object.defineProperty(target, property, {\n    enumerable: descriptor.enumerable,\n    configurable: descriptor.configurable,\n    writable: descriptor.writable,\n    value: descriptor.initializer ? descriptor.initializer.call(context) : void 0\n  });\n}\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {\n  var desc = {};\n  Object['ke' + 'ys'](descriptor).forEach(function (key) {\n    desc[key] = descriptor[key];\n  });\n  desc.enumerable = !!desc.enumerable;\n  desc.configurable = !!desc.configurable;\n\n  if ('value' in desc || desc.initializer) {\n    desc.writable = true;\n  }\n\n  desc = decorators.slice().reverse().reduce(function (desc, decorator) {\n    return decorator(target, property, desc) || desc;\n  }, desc);\n\n  if (context && desc.initializer !== void 0) {\n    desc.value = desc.initializer ? desc.initializer.call(context) : void 0;\n    desc.initializer = undefined;\n  }\n\n  if (desc.initializer === void 0) {\n    Object['define' + 'Property'](target, property, desc);\n    desc = null;\n  }\n\n  return desc;\n}\n\nfunction _initializerWarningHelper(descriptor, context) {\n  throw new Error('Decorating class property failed. Please ensure that transform-class-properties is enabled.');\n}\n\n/**\n * CKEditor component\n * Usage :\n *  <ckeditor [(ngModel)]=\"data\" [config]=\"{...}\" debounce=\"500\"></ckeditor>\n */\nvar CKEditorComponent = exports.CKEditorComponent = (_dec = (0, _core.Component)({\n  selector: 'ckeditor',\n  providers: [{\n    provide: _forms.NG_VALUE_ACCESSOR,\n    useExisting: (0, _core.forwardRef)(function () {\n      return CKEditorComponent;\n    }),\n    multi: true\n  }],\n  template: '<textarea #host></textarea>'\n}), _dec2 = (0, _core.Input)(), _dec3 = (0, _core.Input)(), _dec4 = (0, _core.Output)(), _dec5 = (0, _core.Output)(), _dec6 = (0, _core.ViewChild)('host'), _dec7 = (0, _core.Input)(), _dec(_class = (_class2 = function () {\n\n  /**\n   * Constructor\n   */\n  function CKEditorComponent(zone) {\n    _classCallCheck(this, CKEditorComponent);\n\n    _initDefineProp(this, 'config', _descriptor, this);\n\n    _initDefineProp(this, 'debounce', _descriptor2, this);\n\n    _initDefineProp(this, 'change', _descriptor3, this);\n\n    _initDefineProp(this, 'ready', _descriptor4, this);\n\n    _initDefineProp(this, 'host', _descriptor5, this);\n\n    this._value = '';\n    this.instance = this.instance;\n    this.debounceTimeout = this.debounceTimeout;\n    this.zone = this.zone;\n\n    this.zone = zone;\n  }\n\n  _createClass(CKEditorComponent, [{\n    key: 'ngOnDestroy',\n\n\n    /**\n     * On component destroy\n     */\n    value: function ngOnDestroy() {\n      var _this = this;\n\n      if (this.instance) {\n        setTimeout(function () {\n          _this.instance.removeAllListeners();\n          _this.instance.destroy();\n          _this.instance = null;\n        });\n      }\n    }\n\n    /**\n     * On component view init\n     */\n\n  }, {\n    key: 'ngAfterViewInit',\n    value: function ngAfterViewInit() {\n      // Configuration\n      var config = this.config || {};\n      this.ckeditorInit(config);\n    }\n\n    /**\n     * Value update process\n     */\n\n  }, {\n    key: 'updateValue',\n    value: function updateValue(value) {\n      var _this2 = this;\n\n      this.zone.run(function () {\n        _this2.value = value;\n\n        _this2.onChange(value);\n\n        _this2.onTouched();\n        _this2.change.emit(value);\n      });\n    }\n\n    /**\n     * CKEditor init\n     */\n\n  }, {\n    key: 'ckeditorInit',\n    value: function ckeditorInit(config) {\n      var _this3 = this;\n\n      if (!CKEDITOR) {\n        console.error('Please include CKEditor in your page');\n        return;\n      }\n\n      // CKEditor replace textarea\n      this.instance = CKEDITOR.replace(this.host.nativeElement, config);\n\n      // Set initial value\n      this.instance.setData(this.value);\n\n      // listen for instanceReady event\n      this.instance.on('instanceReady', function (evt) {\n        // send the evt to the EventEmitter\n        _this3.ready.emit(evt);\n      });\n\n      // CKEditor change event\n      this.instance.on('change', function () {\n        _this3.onTouched();\n        var value = _this3.instance.getData();\n\n        // Debounce update\n        if (_this3.debounce) {\n          if (_this3.debounceTimeout) clearTimeout(_this3.debounceTimeout);\n          _this3.debounceTimeout = setTimeout(function () {\n            _this3.updateValue(value);\n            _this3.debounceTimeout = null;\n          }, parseInt(_this3.debounce));\n\n          // Live update\n        } else {\n          _this3.updateValue(value);\n        }\n      });\n    }\n\n    /**\n     * Implements ControlValueAccessor\n     */\n\n  }, {\n    key: 'writeValue',\n    value: function writeValue(value) {\n      this._value = value;\n      if (this.instance) this.instance.setData(value);\n    }\n  }, {\n    key: 'onChange',\n    value: function onChange(_) {}\n  }, {\n    key: 'onTouched',\n    value: function onTouched() {}\n  }, {\n    key: 'registerOnChange',\n    value: function registerOnChange(fn) {\n      this.onChange = fn;\n    }\n  }, {\n    key: 'registerOnTouched',\n    value: function registerOnTouched(fn) {\n      this.onTouched = fn;\n    }\n  }, {\n    key: 'value',\n    get: function get() {\n      return this._value;\n    },\n    set: function set(v) {\n      if (v !== this._value) {\n        this._value = v;\n        this.onChange(v);\n      }\n    }\n  }]);\n\n  return CKEditorComponent;\n}(), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, 'config', [_dec2], {\n  enumerable: true,\n  initializer: function initializer() {\n    return this.config;\n  }\n}), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, 'debounce', [_dec3], {\n  enumerable: true,\n  initializer: function initializer() {\n    return this.debounce;\n  }\n}), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, 'change', [_dec4], {\n  enumerable: true,\n  initializer: function initializer() {\n    return new _core.EventEmitter();\n  }\n}), _descriptor4 = _applyDecoratedDescriptor(_class2.prototype, 'ready', [_dec5], {\n  enumerable: true,\n  initializer: function initializer() {\n    return new _core.EventEmitter();\n  }\n}), _descriptor5 = _applyDecoratedDescriptor(_class2.prototype, 'host', [_dec6], {\n  enumerable: true,\n  initializer: function initializer() {\n    return this.host;\n  }\n}), _applyDecoratedDescriptor(_class2.prototype, 'value', [_dec7], Object.getOwnPropertyDescriptor(_class2.prototype, 'value'), _class2.prototype)), _class2)) || _class);\n\n/**\n * CKEditorModule\n */\n\nReflect.defineMetadata('design:paramtypes', [_core.NgZone], CKEditorComponent);\nvar CKEditorModule = exports.CKEditorModule = (_dec8 = (0, _core.NgModule)({\n  declarations: [CKEditorComponent],\n  exports: [CKEditorComponent]\n}), _dec8(_class4 = function CKEditorModule() {\n  _classCallCheck(this, CKEditorModule);\n}) || _class4);\n//# sourceMappingURL=CKEditor.js.map\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTY3MC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL34vbmcyLWNrZWRpdG9yL2xpYi9DS0VkaXRvci5qcz9mZmFkIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuQ0tFZGl0b3JNb2R1bGUgPSBleHBvcnRzLkNLRWRpdG9yQ29tcG9uZW50ID0gdW5kZWZpbmVkO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX2RlYywgX2RlYzIsIF9kZWMzLCBfZGVjNCwgX2RlYzUsIF9kZWM2LCBfZGVjNywgX2NsYXNzLCBfZGVzYywgX3ZhbHVlLCBfY2xhc3MyLCBfZGVzY3JpcHRvciwgX2Rlc2NyaXB0b3IyLCBfZGVzY3JpcHRvcjMsIF9kZXNjcmlwdG9yNCwgX2Rlc2NyaXB0b3I1LCBfZGVjOCwgX2NsYXNzNDsgLy8gSW1wb3J0c1xuXG5cbnZhciBfY29yZSA9IHJlcXVpcmUoJ0Bhbmd1bGFyL2NvcmUnKTtcblxudmFyIF9mb3JtcyA9IHJlcXVpcmUoJ0Bhbmd1bGFyL2Zvcm1zJyk7XG5cbmZ1bmN0aW9uIF9pbml0RGVmaW5lUHJvcCh0YXJnZXQsIHByb3BlcnR5LCBkZXNjcmlwdG9yLCBjb250ZXh0KSB7XG4gIGlmICghZGVzY3JpcHRvcikgcmV0dXJuO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBwcm9wZXJ0eSwge1xuICAgIGVudW1lcmFibGU6IGRlc2NyaXB0b3IuZW51bWVyYWJsZSxcbiAgICBjb25maWd1cmFibGU6IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlLFxuICAgIHdyaXRhYmxlOiBkZXNjcmlwdG9yLndyaXRhYmxlLFxuICAgIHZhbHVlOiBkZXNjcmlwdG9yLmluaXRpYWxpemVyID8gZGVzY3JpcHRvci5pbml0aWFsaXplci5jYWxsKGNvbnRleHQpIDogdm9pZCAwXG4gIH0pO1xufVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKHRhcmdldCwgcHJvcGVydHksIGRlY29yYXRvcnMsIGRlc2NyaXB0b3IsIGNvbnRleHQpIHtcbiAgdmFyIGRlc2MgPSB7fTtcbiAgT2JqZWN0WydrZScgKyAneXMnXShkZXNjcmlwdG9yKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICBkZXNjW2tleV0gPSBkZXNjcmlwdG9yW2tleV07XG4gIH0pO1xuICBkZXNjLmVudW1lcmFibGUgPSAhIWRlc2MuZW51bWVyYWJsZTtcbiAgZGVzYy5jb25maWd1cmFibGUgPSAhIWRlc2MuY29uZmlndXJhYmxlO1xuXG4gIGlmICgndmFsdWUnIGluIGRlc2MgfHwgZGVzYy5pbml0aWFsaXplcikge1xuICAgIGRlc2Mud3JpdGFibGUgPSB0cnVlO1xuICB9XG5cbiAgZGVzYyA9IGRlY29yYXRvcnMuc2xpY2UoKS5yZXZlcnNlKCkucmVkdWNlKGZ1bmN0aW9uIChkZXNjLCBkZWNvcmF0b3IpIHtcbiAgICByZXR1cm4gZGVjb3JhdG9yKHRhcmdldCwgcHJvcGVydHksIGRlc2MpIHx8IGRlc2M7XG4gIH0sIGRlc2MpO1xuXG4gIGlmIChjb250ZXh0ICYmIGRlc2MuaW5pdGlhbGl6ZXIgIT09IHZvaWQgMCkge1xuICAgIGRlc2MudmFsdWUgPSBkZXNjLmluaXRpYWxpemVyID8gZGVzYy5pbml0aWFsaXplci5jYWxsKGNvbnRleHQpIDogdm9pZCAwO1xuICAgIGRlc2MuaW5pdGlhbGl6ZXIgPSB1bmRlZmluZWQ7XG4gIH1cblxuICBpZiAoZGVzYy5pbml0aWFsaXplciA9PT0gdm9pZCAwKSB7XG4gICAgT2JqZWN0WydkZWZpbmUnICsgJ1Byb3BlcnR5J10odGFyZ2V0LCBwcm9wZXJ0eSwgZGVzYyk7XG4gICAgZGVzYyA9IG51bGw7XG4gIH1cblxuICByZXR1cm4gZGVzYztcbn1cblxuZnVuY3Rpb24gX2luaXRpYWxpemVyV2FybmluZ0hlbHBlcihkZXNjcmlwdG9yLCBjb250ZXh0KSB7XG4gIHRocm93IG5ldyBFcnJvcignRGVjb3JhdGluZyBjbGFzcyBwcm9wZXJ0eSBmYWlsZWQuIFBsZWFzZSBlbnN1cmUgdGhhdCB0cmFuc2Zvcm0tY2xhc3MtcHJvcGVydGllcyBpcyBlbmFibGVkLicpO1xufVxuXG4vKipcbiAqIENLRWRpdG9yIGNvbXBvbmVudFxuICogVXNhZ2UgOlxuICogIDxja2VkaXRvciBbKG5nTW9kZWwpXT1cImRhdGFcIiBbY29uZmlnXT1cInsuLi59XCIgZGVib3VuY2U9XCI1MDBcIj48L2NrZWRpdG9yPlxuICovXG52YXIgQ0tFZGl0b3JDb21wb25lbnQgPSBleHBvcnRzLkNLRWRpdG9yQ29tcG9uZW50ID0gKF9kZWMgPSAoMCwgX2NvcmUuQ29tcG9uZW50KSh7XG4gIHNlbGVjdG9yOiAnY2tlZGl0b3InLFxuICBwcm92aWRlcnM6IFt7XG4gICAgcHJvdmlkZTogX2Zvcm1zLk5HX1ZBTFVFX0FDQ0VTU09SLFxuICAgIHVzZUV4aXN0aW5nOiAoMCwgX2NvcmUuZm9yd2FyZFJlZikoZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIENLRWRpdG9yQ29tcG9uZW50O1xuICAgIH0pLFxuICAgIG11bHRpOiB0cnVlXG4gIH1dLFxuICB0ZW1wbGF0ZTogJzx0ZXh0YXJlYSAjaG9zdD48L3RleHRhcmVhPidcbn0pLCBfZGVjMiA9ICgwLCBfY29yZS5JbnB1dCkoKSwgX2RlYzMgPSAoMCwgX2NvcmUuSW5wdXQpKCksIF9kZWM0ID0gKDAsIF9jb3JlLk91dHB1dCkoKSwgX2RlYzUgPSAoMCwgX2NvcmUuT3V0cHV0KSgpLCBfZGVjNiA9ICgwLCBfY29yZS5WaWV3Q2hpbGQpKCdob3N0JyksIF9kZWM3ID0gKDAsIF9jb3JlLklucHV0KSgpLCBfZGVjKF9jbGFzcyA9IChfY2xhc3MyID0gZnVuY3Rpb24gKCkge1xuXG4gIC8qKlxuICAgKiBDb25zdHJ1Y3RvclxuICAgKi9cbiAgZnVuY3Rpb24gQ0tFZGl0b3JDb21wb25lbnQoem9uZSkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDS0VkaXRvckNvbXBvbmVudCk7XG5cbiAgICBfaW5pdERlZmluZVByb3AodGhpcywgJ2NvbmZpZycsIF9kZXNjcmlwdG9yLCB0aGlzKTtcblxuICAgIF9pbml0RGVmaW5lUHJvcCh0aGlzLCAnZGVib3VuY2UnLCBfZGVzY3JpcHRvcjIsIHRoaXMpO1xuXG4gICAgX2luaXREZWZpbmVQcm9wKHRoaXMsICdjaGFuZ2UnLCBfZGVzY3JpcHRvcjMsIHRoaXMpO1xuXG4gICAgX2luaXREZWZpbmVQcm9wKHRoaXMsICdyZWFkeScsIF9kZXNjcmlwdG9yNCwgdGhpcyk7XG5cbiAgICBfaW5pdERlZmluZVByb3AodGhpcywgJ2hvc3QnLCBfZGVzY3JpcHRvcjUsIHRoaXMpO1xuXG4gICAgdGhpcy5fdmFsdWUgPSAnJztcbiAgICB0aGlzLmluc3RhbmNlID0gdGhpcy5pbnN0YW5jZTtcbiAgICB0aGlzLmRlYm91bmNlVGltZW91dCA9IHRoaXMuZGVib3VuY2VUaW1lb3V0O1xuICAgIHRoaXMuem9uZSA9IHRoaXMuem9uZTtcblxuICAgIHRoaXMuem9uZSA9IHpvbmU7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoQ0tFZGl0b3JDb21wb25lbnQsIFt7XG4gICAga2V5OiAnbmdPbkRlc3Ryb3knLFxuXG5cbiAgICAvKipcbiAgICAgKiBPbiBjb21wb25lbnQgZGVzdHJveVxuICAgICAqL1xuICAgIHZhbHVlOiBmdW5jdGlvbiBuZ09uRGVzdHJveSgpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgIGlmICh0aGlzLmluc3RhbmNlKSB7XG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIF90aGlzLmluc3RhbmNlLnJlbW92ZUFsbExpc3RlbmVycygpO1xuICAgICAgICAgIF90aGlzLmluc3RhbmNlLmRlc3Ryb3koKTtcbiAgICAgICAgICBfdGhpcy5pbnN0YW5jZSA9IG51bGw7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE9uIGNvbXBvbmVudCB2aWV3IGluaXRcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnbmdBZnRlclZpZXdJbml0JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gbmdBZnRlclZpZXdJbml0KCkge1xuICAgICAgLy8gQ29uZmlndXJhdGlvblxuICAgICAgdmFyIGNvbmZpZyA9IHRoaXMuY29uZmlnIHx8IHt9O1xuICAgICAgdGhpcy5ja2VkaXRvckluaXQoY29uZmlnKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBWYWx1ZSB1cGRhdGUgcHJvY2Vzc1xuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICd1cGRhdGVWYWx1ZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHVwZGF0ZVZhbHVlKHZhbHVlKSB7XG4gICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgdGhpcy56b25lLnJ1bihmdW5jdGlvbiAoKSB7XG4gICAgICAgIF90aGlzMi52YWx1ZSA9IHZhbHVlO1xuXG4gICAgICAgIF90aGlzMi5vbkNoYW5nZSh2YWx1ZSk7XG5cbiAgICAgICAgX3RoaXMyLm9uVG91Y2hlZCgpO1xuICAgICAgICBfdGhpczIuY2hhbmdlLmVtaXQodmFsdWUpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ0tFZGl0b3IgaW5pdFxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdja2VkaXRvckluaXQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBja2VkaXRvckluaXQoY29uZmlnKSB7XG4gICAgICB2YXIgX3RoaXMzID0gdGhpcztcblxuICAgICAgaWYgKCFDS0VESVRPUikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdQbGVhc2UgaW5jbHVkZSBDS0VkaXRvciBpbiB5b3VyIHBhZ2UnKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyBDS0VkaXRvciByZXBsYWNlIHRleHRhcmVhXG4gICAgICB0aGlzLmluc3RhbmNlID0gQ0tFRElUT1IucmVwbGFjZSh0aGlzLmhvc3QubmF0aXZlRWxlbWVudCwgY29uZmlnKTtcblxuICAgICAgLy8gU2V0IGluaXRpYWwgdmFsdWVcbiAgICAgIHRoaXMuaW5zdGFuY2Uuc2V0RGF0YSh0aGlzLnZhbHVlKTtcblxuICAgICAgLy8gbGlzdGVuIGZvciBpbnN0YW5jZVJlYWR5IGV2ZW50XG4gICAgICB0aGlzLmluc3RhbmNlLm9uKCdpbnN0YW5jZVJlYWR5JywgZnVuY3Rpb24gKGV2dCkge1xuICAgICAgICAvLyBzZW5kIHRoZSBldnQgdG8gdGhlIEV2ZW50RW1pdHRlclxuICAgICAgICBfdGhpczMucmVhZHkuZW1pdChldnQpO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIENLRWRpdG9yIGNoYW5nZSBldmVudFxuICAgICAgdGhpcy5pbnN0YW5jZS5vbignY2hhbmdlJywgZnVuY3Rpb24gKCkge1xuICAgICAgICBfdGhpczMub25Ub3VjaGVkKCk7XG4gICAgICAgIHZhciB2YWx1ZSA9IF90aGlzMy5pbnN0YW5jZS5nZXREYXRhKCk7XG5cbiAgICAgICAgLy8gRGVib3VuY2UgdXBkYXRlXG4gICAgICAgIGlmIChfdGhpczMuZGVib3VuY2UpIHtcbiAgICAgICAgICBpZiAoX3RoaXMzLmRlYm91bmNlVGltZW91dCkgY2xlYXJUaW1lb3V0KF90aGlzMy5kZWJvdW5jZVRpbWVvdXQpO1xuICAgICAgICAgIF90aGlzMy5kZWJvdW5jZVRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIF90aGlzMy51cGRhdGVWYWx1ZSh2YWx1ZSk7XG4gICAgICAgICAgICBfdGhpczMuZGVib3VuY2VUaW1lb3V0ID0gbnVsbDtcbiAgICAgICAgICB9LCBwYXJzZUludChfdGhpczMuZGVib3VuY2UpKTtcblxuICAgICAgICAgIC8vIExpdmUgdXBkYXRlXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgX3RoaXMzLnVwZGF0ZVZhbHVlKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSW1wbGVtZW50cyBDb250cm9sVmFsdWVBY2Nlc3NvclxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICd3cml0ZVZhbHVlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gd3JpdGVWYWx1ZSh2YWx1ZSkge1xuICAgICAgdGhpcy5fdmFsdWUgPSB2YWx1ZTtcbiAgICAgIGlmICh0aGlzLmluc3RhbmNlKSB0aGlzLmluc3RhbmNlLnNldERhdGEodmFsdWUpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ29uQ2hhbmdlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25DaGFuZ2UoXykge31cbiAgfSwge1xuICAgIGtleTogJ29uVG91Y2hlZCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uVG91Y2hlZCgpIHt9XG4gIH0sIHtcbiAgICBrZXk6ICdyZWdpc3Rlck9uQ2hhbmdlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVnaXN0ZXJPbkNoYW5nZShmbikge1xuICAgICAgdGhpcy5vbkNoYW5nZSA9IGZuO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3JlZ2lzdGVyT25Ub3VjaGVkJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVnaXN0ZXJPblRvdWNoZWQoZm4pIHtcbiAgICAgIHRoaXMub25Ub3VjaGVkID0gZm47XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAndmFsdWUnLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuX3ZhbHVlO1xuICAgIH0sXG4gICAgc2V0OiBmdW5jdGlvbiBzZXQodikge1xuICAgICAgaWYgKHYgIT09IHRoaXMuX3ZhbHVlKSB7XG4gICAgICAgIHRoaXMuX3ZhbHVlID0gdjtcbiAgICAgICAgdGhpcy5vbkNoYW5nZSh2KTtcbiAgICAgIH1cbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gQ0tFZGl0b3JDb21wb25lbnQ7XG59KCksIChfZGVzY3JpcHRvciA9IF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzMi5wcm90b3R5cGUsICdjb25maWcnLCBbX2RlYzJdLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGluaXRpYWxpemVyOiBmdW5jdGlvbiBpbml0aWFsaXplcigpIHtcbiAgICByZXR1cm4gdGhpcy5jb25maWc7XG4gIH1cbn0pLCBfZGVzY3JpcHRvcjIgPSBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzczIucHJvdG90eXBlLCAnZGVib3VuY2UnLCBbX2RlYzNdLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGluaXRpYWxpemVyOiBmdW5jdGlvbiBpbml0aWFsaXplcigpIHtcbiAgICByZXR1cm4gdGhpcy5kZWJvdW5jZTtcbiAgfVxufSksIF9kZXNjcmlwdG9yMyA9IF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzMi5wcm90b3R5cGUsICdjaGFuZ2UnLCBbX2RlYzRdLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGluaXRpYWxpemVyOiBmdW5jdGlvbiBpbml0aWFsaXplcigpIHtcbiAgICByZXR1cm4gbmV3IF9jb3JlLkV2ZW50RW1pdHRlcigpO1xuICB9XG59KSwgX2Rlc2NyaXB0b3I0ID0gX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MyLnByb3RvdHlwZSwgJ3JlYWR5JywgW19kZWM1XSwge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBpbml0aWFsaXplcjogZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gICAgcmV0dXJuIG5ldyBfY29yZS5FdmVudEVtaXR0ZXIoKTtcbiAgfVxufSksIF9kZXNjcmlwdG9yNSA9IF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzMi5wcm90b3R5cGUsICdob3N0JywgW19kZWM2XSwge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBpbml0aWFsaXplcjogZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gICAgcmV0dXJuIHRoaXMuaG9zdDtcbiAgfVxufSksIF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzMi5wcm90b3R5cGUsICd2YWx1ZScsIFtfZGVjN10sIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX2NsYXNzMi5wcm90b3R5cGUsICd2YWx1ZScpLCBfY2xhc3MyLnByb3RvdHlwZSkpLCBfY2xhc3MyKSkgfHwgX2NsYXNzKTtcblxuLyoqXG4gKiBDS0VkaXRvck1vZHVsZVxuICovXG5cblJlZmxlY3QuZGVmaW5lTWV0YWRhdGEoJ2Rlc2lnbjpwYXJhbXR5cGVzJywgW19jb3JlLk5nWm9uZV0sIENLRWRpdG9yQ29tcG9uZW50KTtcbnZhciBDS0VkaXRvck1vZHVsZSA9IGV4cG9ydHMuQ0tFZGl0b3JNb2R1bGUgPSAoX2RlYzggPSAoMCwgX2NvcmUuTmdNb2R1bGUpKHtcbiAgZGVjbGFyYXRpb25zOiBbQ0tFZGl0b3JDb21wb25lbnRdLFxuICBleHBvcnRzOiBbQ0tFZGl0b3JDb21wb25lbnRdXG59KSwgX2RlYzgoX2NsYXNzNCA9IGZ1bmN0aW9uIENLRWRpdG9yTW9kdWxlKCkge1xuICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ0tFZGl0b3JNb2R1bGUpO1xufSkgfHwgX2NsYXNzNCk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1DS0VkaXRvci5qcy5tYXBcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9uZzItY2tlZGl0b3IvbGliL0NLRWRpdG9yLmpzXG4vLyBtb2R1bGUgaWQgPSAxNjcwXG4vLyBtb2R1bGUgY2h1bmtzID0gNiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9");

/***/ }),

/***/ 1699:
/* unknown exports provided */
/* all exports used */
/*!*****************************************************************!*\
  !*** ./src/app/pages/editors/components/ckeditor/ckeditor.scss ***!
  \*****************************************************************/
/***/ (function(module, exports) {

eval("module.exports = \".cke_source {\\n  color: #7d7d7d !important; }\\n\"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTY5OS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9hcHAvcGFnZXMvZWRpdG9ycy9jb21wb25lbnRzL2NrZWRpdG9yL2NrZWRpdG9yLnNjc3M/ZDliNSJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IFwiLmNrZV9zb3VyY2Uge1xcbiAgY29sb3I6ICM3ZDdkN2QgIWltcG9ydGFudDsgfVxcblwiXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvYXBwL3BhZ2VzL2VkaXRvcnMvY29tcG9uZW50cy9ja2VkaXRvci9ja2VkaXRvci5zY3NzXG4vLyBtb2R1bGUgaWQgPSAxNjk5XG4vLyBtb2R1bGUgY2h1bmtzID0gNiJdLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),

/***/ 1725:
/* unknown exports provided */
/* all exports used */
/*!*****************************************************************!*\
  !*** ./src/app/pages/editors/components/ckeditor/ckeditor.html ***!
  \*****************************************************************/
/***/ (function(module, exports) {

eval("module.exports = \"<div class=\\\"row\\\">\\r\\n  <div class=\\\"col-md-12\\\">\\r\\n    <ba-card title=\\\"ckeditor\\\" baCardClass=\\\"with-scroll\\\">\\r\\n      <ckeditor [(ngModel)]=\\\"ckeditorContent\\\" [config]=\\\"config\\\"></ckeditor>\\r\\n    </ba-card>\\r\\n  </div>\\r\\n</div>\\r\\n\"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTcyNS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9hcHAvcGFnZXMvZWRpdG9ycy9jb21wb25lbnRzL2NrZWRpdG9yL2NrZWRpdG9yLmh0bWw/MDY4YyJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IFwiPGRpdiBjbGFzcz1cXFwicm93XFxcIj5cXHJcXG4gIDxkaXYgY2xhc3M9XFxcImNvbC1tZC0xMlxcXCI+XFxyXFxuICAgIDxiYS1jYXJkIHRpdGxlPVxcXCJja2VkaXRvclxcXCIgYmFDYXJkQ2xhc3M9XFxcIndpdGgtc2Nyb2xsXFxcIj5cXHJcXG4gICAgICA8Y2tlZGl0b3IgWyhuZ01vZGVsKV09XFxcImNrZWRpdG9yQ29udGVudFxcXCIgW2NvbmZpZ109XFxcImNvbmZpZ1xcXCI+PC9ja2VkaXRvcj5cXHJcXG4gICAgPC9iYS1jYXJkPlxcclxcbiAgPC9kaXY+XFxyXFxuPC9kaXY+XFxyXFxuXCJcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9hcHAvcGFnZXMvZWRpdG9ycy9jb21wb25lbnRzL2NrZWRpdG9yL2NrZWRpdG9yLmh0bWxcbi8vIG1vZHVsZSBpZCA9IDE3MjVcbi8vIG1vZHVsZSBjaHVua3MgPSA2Il0sIm1hcHBpbmdzIjoiQUFBQSIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),

/***/ 934:
/* unknown exports provided */
/* all exports used */
/*!*************************************************!*\
  !*** ./src/app/pages/editors/editors.module.ts ***!
  \*************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar core_1 = __webpack_require__(/*! @angular/core */ 0);\r\nvar common_1 = __webpack_require__(/*! @angular/common */ 50);\r\nvar forms_1 = __webpack_require__(/*! @angular/forms */ 77);\r\nvar ng2_ckeditor_1 = __webpack_require__(/*! ng2-ckeditor */ 1670);\r\nvar nga_module_1 = __webpack_require__(/*! ../../theme/nga.module */ 258);\r\nvar editors_routing_1 = __webpack_require__(/*! ./editors.routing */ 1317);\r\nvar editors_component_1 = __webpack_require__(/*! ./editors.component */ 1170);\r\nvar ckeditor_component_1 = __webpack_require__(/*! ./components/ckeditor/ckeditor.component */ 1169);\r\nvar EditorsModule = (function () {\r\n    function EditorsModule() {\r\n    }\r\n    EditorsModule = __decorate([\r\n        core_1.NgModule({\r\n            imports: [\r\n                common_1.CommonModule,\r\n                forms_1.FormsModule,\r\n                nga_module_1.NgaModule,\r\n                ng2_ckeditor_1.CKEditorModule,\r\n                editors_routing_1.routing\r\n            ],\r\n            declarations: [\r\n                editors_component_1.Editors,\r\n                ckeditor_component_1.Ckeditor\r\n            ]\r\n        }), \r\n        __metadata('design:paramtypes', [])\r\n    ], EditorsModule);\r\n    return EditorsModule;\r\n}());\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.default = EditorsModule;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOTM0LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2FwcC9wYWdlcy9lZGl0b3JzL2VkaXRvcnMubW9kdWxlLnRzPzNhNzQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmdNb2R1bGUgfSAgICAgIGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5pbXBvcnQgeyBDb21tb25Nb2R1bGUgfSAgZnJvbSAnQGFuZ3VsYXIvY29tbW9uJztcclxuaW1wb3J0IHsgRm9ybXNNb2R1bGUgfSBmcm9tICdAYW5ndWxhci9mb3Jtcyc7XHJcbmltcG9ydCB7IENLRWRpdG9yTW9kdWxlIH0gZnJvbSAnbmcyLWNrZWRpdG9yJztcclxuaW1wb3J0IHsgTmdhTW9kdWxlIH0gZnJvbSAnLi4vLi4vdGhlbWUvbmdhLm1vZHVsZSc7XHJcblxyXG5pbXBvcnQgeyByb3V0aW5nIH0gICAgICAgZnJvbSAnLi9lZGl0b3JzLnJvdXRpbmcnO1xyXG5pbXBvcnQgeyBFZGl0b3JzIH0gZnJvbSAnLi9lZGl0b3JzLmNvbXBvbmVudCc7XHJcbmltcG9ydCB7IENrZWRpdG9yIH0gZnJvbSAnLi9jb21wb25lbnRzL2NrZWRpdG9yL2NrZWRpdG9yLmNvbXBvbmVudCc7XHJcblxyXG5cclxuQE5nTW9kdWxlKHtcclxuICBpbXBvcnRzOiBbXHJcbiAgICBDb21tb25Nb2R1bGUsXHJcbiAgICBGb3Jtc01vZHVsZSxcclxuICAgIE5nYU1vZHVsZSxcclxuICAgIENLRWRpdG9yTW9kdWxlLFxyXG4gICAgcm91dGluZ1xyXG4gIF0sXHJcbiAgZGVjbGFyYXRpb25zOiBbXHJcbiAgICBFZGl0b3JzLFxyXG4gICAgQ2tlZGl0b3JcclxuICBdXHJcbn0pXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEVkaXRvcnNNb2R1bGUge1xyXG59XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBub2RlX21vZHVsZXMvYW5ndWxhcjItdGVtcGxhdGUtbG9hZGVyIS4vfi9hbmd1bGFyMi1yb3V0ZXItbG9hZGVyL3NyYyEuL34vc3RyaW5nLXJlcGxhY2UtbG9hZGVyP3tcInNlYXJjaFwiOnt9LFwicmVwbGFjZVwiOlwiJDEuaW1wb3J0KCQzKS50aGVuKG1vZCA9PiAobW9kLl9fZXNNb2R1bGUgJiYgbW9kLmRlZmF1bHQpID8gbW9kLmRlZmF1bHQgOiBtb2QpXCJ9IS4vc3JjL2FwcC9wYWdlcy9lZGl0b3JzL2VkaXRvcnMubW9kdWxlLnRzIl0sIm1hcHBpbmdzIjoiO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQWdCQTtBQUFBO0FBQ0E7QUFkQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUFBO0FBRUE7QUFBQTtBQURBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9");

/***/ })

});